
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Network Error Logging - HTTP - W3cubDocs</title>
  
  <meta name="description" content=" Experimental&#58; This is an experimental technologyCheck the Browser compatibility table carefully before using this in production. ">
  <meta name="keywords" content="network, error, loggingnetwork, logging, http">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/http/network_error_logging.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/http.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/http/" class="_nav-link" title="" style="margin-left:0;">HTTP</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<h1>Network Error Logging</h1>
<h1>Network Error Logging</h1>
<div class="notecard experimental"><p><strong>Experimental:</strong> <strong>This is an <a href="https://developer.mozilla.org/en-US/docs/MDN/Guidelines/Conventions_definitions#experimental">experimental technology</a></strong><br>Check the <a href="#browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p></div> <p>Network Error Logging is a mechanism that can be configured via the <a href="headers/nel"><code>NEL</code></a> HTTP <em><a href="https://developer.mozilla.org/en-US/docs/Glossary/Response_header">response header</a></em>. This experimental header allows web sites and applications to opt-in to receive reports about failed (and, if desired, successful) network fetches from supporting browsers.</p> <p>Reports are sent to a reporting group defined within a <a href="headers/report-to" class="page-not-created"><code>Report-To</code></a> header.</p>
<h2 id="usage">Usage</h2>
<p>Web applications opt in to this behavior with the NEL header, which is a <em><a href="https://developer.mozilla.org/en-US/docs/Glossary/Response_header">JSON-encoded</a></em> object:</p> <pre class="notranslate">NEL: { "report_to": "nel",
       "max_age": 31556952 }
</pre> <p>An origin considered secure by the browser is required.</p> <p>The following object keys can be specified in the NEL header:</p> <dl> <dt>report_to</dt> <dd> <p>The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Reporting_API">reporting API</a> group to send network error reports to (see below).</p> </dd> <dt>max_age</dt> <dd> <p>Specifies the lifetime of the policy, in seconds (in a similar way to e.g. HSTS policies are time-restricted). The referenced reporting group should have a lifetime at least as long as the NEL policy.</p> </dd> <dt>include_subdomains</dt> <dd> <p>If true, the policy applies to all subdomains under the origin that the policy header is set. The reporting group should also be set to include subdomains, if this option is to be enabled.</p> </dd> <dt>success_fraction</dt> <dd> <p>Floating point value between 0 and 1 which specifies the proportion of <strong>successful</strong> network requests to report. Defaults to 0, so that no successful network requests will be reported if the key is not present in the JSON payload.</p> </dd> <dt>failure_fraction</dt> <dd> <p>Floating point value between 0 and 1 which specifies the proportion of <strong>failed</strong> network requests to report. Defaults to 1, so that all failed network requests will be reported if the key is not present in the JSON payload.</p> </dd> </dl> <p>The reporting group referenced above is defined in the usual manner within the <a href="headers/report-to" class="page-not-created"><code>Report-To</code></a> header, for example:</p> <pre class="notranslate">Report-To: { "group": "nel",
             "max_age": 31556952,
             "endpoints": [
              { "url": "https://example.com/csp-reports" }
             ]
           }
</pre>
<h2 id="error_reports">Error reports</h2>
<p>In these examples, the entire reporting API payload is shown. The top-level <code>"body"</code> key contains the network error report.</p>
<h3 id="http_400_bad_request_response">HTTP 400 (Bad Request) response</h3>
<div class="code-example"><pre data-language="js"><span class="token punctuation">{</span>
  <span class="token string">"age"</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
  <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"network-error"</span><span class="token punctuation">,</span>
  <span class="token string">"url"</span><span class="token operator">:</span> <span class="token string">"https://example.com/previous-page"</span><span class="token punctuation">,</span>
  <span class="token string">"body"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">"elapsed_time"</span><span class="token operator">:</span> <span class="token number">338</span><span class="token punctuation">,</span>
    <span class="token string">"method"</span><span class="token operator">:</span> <span class="token string">"POST"</span><span class="token punctuation">,</span>
    <span class="token string">"phase"</span><span class="token operator">:</span> <span class="token string">"application"</span><span class="token punctuation">,</span>
    <span class="token string">"protocol"</span><span class="token operator">:</span> <span class="token string">"http/1.1"</span><span class="token punctuation">,</span>
    <span class="token string">"referrer"</span><span class="token operator">:</span> <span class="token string">"https://example.com/previous-page"</span><span class="token punctuation">,</span>
    <span class="token string">"sampling_fraction"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">"server_ip"</span><span class="token operator">:</span> <span class="token string">"137.205.28.66"</span><span class="token punctuation">,</span>
    <span class="token string">"status_code"</span><span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span>
    <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"http.error"</span><span class="token punctuation">,</span>
    <span class="token string">"url"</span><span class="token operator">:</span> <span class="token string">"https://example.com/bad-request"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></div>
<h3 id="dns_name_not_resolved">DNS name not resolved</h3>
<p>Note that the phase is set to <code>dns</code> in this report and no <code>server_ip</code> is available to include.</p> <div class="code-example"><pre data-language="js"><span class="token punctuation">{</span>
  <span class="token string">"age"</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
  <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"network-error"</span><span class="token punctuation">,</span>
  <span class="token string">"url"</span><span class="token operator">:</span> <span class="token string">"https://example.com/previous-page"</span><span class="token punctuation">,</span>
  <span class="token string">"body"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">"elapsed_time"</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
    <span class="token string">"method"</span><span class="token operator">:</span> <span class="token string">"POST"</span><span class="token punctuation">,</span>
    <span class="token string">"phase"</span><span class="token operator">:</span> <span class="token string">"dns"</span><span class="token punctuation">,</span>
    <span class="token string">"protocol"</span><span class="token operator">:</span> <span class="token string">"http/1.1"</span><span class="token punctuation">,</span>
    <span class="token string">"referrer"</span><span class="token operator">:</span> <span class="token string">"https://example.com/previous-page"</span><span class="token punctuation">,</span>
    <span class="token string">"sampling_fraction"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">"server_ip"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token string">"status_code"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"dns.name_not_resolved"</span><span class="token punctuation">,</span>
    <span class="token string">"url"</span><span class="token operator">:</span> <span class="token string">"https://example-host.com/"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></div> <p>The type of the network error may be one of the following pre-defined values from the specification, but browsers can add and send their own error types:</p> <dl> <dt><code>dns.unreachable</code></dt> <dd> <p>The user's DNS server is unreachable</p> </dd> <dt><code>dns.name_not_resolved</code></dt> <dd> <p>The user's DNS server responded but was unable to resolve an IP address for the requested URI.</p> </dd> <dt><code>dns.failed</code></dt> <dd> <p>Request to the DNS server failed due to reasons not covered by previous errors (e.g. SERVFAIL)</p> </dd> <dt><code>dns.address_changed</code></dt> <dd> <p>For security reasons, if the server IP address that delivered the original report is different to the current server IP address at time of error generation, the report data will be downgraded to only include information about this problem and the type set to <code>dns.address_changed</code>.</p> </dd> <dt><code>tcp.timed_out</code></dt> <dd> <p>TCP connection to the server timed out</p> </dd> <dt><code>tcp.closed</code></dt> <dd> <p>The TCP connection was closed by the server</p> </dd> <dt><code>tcp.reset</code></dt> <dd> <p>The TCP connection was reset</p> </dd> <dt><code>tcp.refused</code></dt> <dd> <p>The TCP connection was refused by the server</p> </dd> <dt><code>tcp.aborted</code></dt> <dd> <p>The TCP connection was aborted</p> </dd> <dt><code>tcp.address_invalid</code></dt> <dd> <p>The IP address is invalid</p> </dd> <dt><code>tcp.address_unreachable</code></dt> <dd> <p>The IP address is unreachable</p> </dd> <dt><code>tcp.failed</code></dt> <dd> <p>The TCP connection failed due to reasons not covered by previous errors</p> </dd> <dt><code>http.error</code></dt> <dd> <p>The user agent successfully received a response, but it had a <a href="https://datatracker.ietf.org/doc/html/rfc7231#section-6.5" rel=" noopener">4xx</a> or <a href="https://datatracker.ietf.org/doc/html/rfc7231#section-6.6" rel=" noopener">5xx</a> status code</p> </dd> <dt><code>http.protocol.error</code></dt> <dd> <p>The connection was aborted due to an HTTP protocol error</p> </dd> <dt><code>http.response.invalid</code></dt> <dd> <p>Response is empty, has a content-length mismatch, has improper encoding, and/or other conditions that prevent user agent from processing the response</p> </dd> <dt><code>http.response.redirect_loop</code></dt> <dd> <p>The request was aborted due to a detected redirect loop</p> </dd> <dt><code>http.failed</code></dt> <dd> <p>The connection failed due to errors in HTTP protocol not covered by previous errors</p> </dd> </dl>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table> <thead> <tr> <th>Specification</th> </tr> </thead> <tbody> <tr> <td><a href="https://w3c.github.io/network-error-logging/#introduction" rel=" noopener">Network Error Logging</a></td> </tr> </tbody> </table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>Network_Error_Logging</code></th>
<td class="bc-supports-yes"><div>71</div></td>
<td class="bc-supports-yes"><div>79</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>58</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>71</div></td>
<td class="bc-supports-yes"><div>71</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>50</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>10.2</div></td>
</tr></tbody>
</table>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2021 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Network_Error_Logging" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/HTTP/Network_Error_Logging</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
