
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Cache-Control - HTTP - W3cubDocs</title>
  
  <meta name="description" content="The Cache-Control HTTP header holds directives (instructions) for caching in both requests and responses. If a given directive is in a request, it &hellip;">
  <meta name="keywords" content="cache-controlcache-control, cache-control, http">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/http/headers/cache-control.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/http.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/http/" class="_nav-link" title="" style="margin-left:0;">HTTP</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<h1>Cache-Control</h1>
<h1>Cache-Control</h1>
<p>The <code>Cache-Control</code> HTTP header holds <em>directives</em> (instructions) for <a href="../caching">caching</a> in both requests and responses. If a given directive is in a request, it does not mean this directive is in the response.</p> <div class="_table"><table class="properties"> <tbody> <tr> <th scope="row">Header type</th> <td> <a href="https://developer.mozilla.org/en-US/docs/Glossary/Request_header">Request header</a>, <a href="https://developer.mozilla.org/en-US/docs/Glossary/Response_header">Response header</a> </td> </tr> <tr> <th scope="row"><a href="https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name">Forbidden header name</a></th> <td>no</td> </tr> <tr> <th scope="row"><a href="https://developer.mozilla.org/en-US/docs/Glossary/CORS-safelisted_response_header">CORS-safelisted response header</a></th> <td>yes</td> </tr> </tbody> </table></div>
<h2 id="syntax">Syntax</h2>
<p>Caching directives follow the validation rules below:</p> <ul> <li>Case-insensitive, but lowercase is recommended.</li> <li>Multiple directives are comma-separated.</li> <li>Some directives have an optional argument, which can be either a <em>token</em> or a <em>quoted-string</em>. (See spec for definitions)</li> </ul>
<h3 id="cache_request_directives">Cache request directives</h3>
<p>Standard <code>Cache-Control</code> directives that the client can use in an HTTP request:</p> <pre class="notranslate">Cache-Control: max-age=&lt;seconds&gt;
Cache-Control: max-stale[=&lt;seconds&gt;]
Cache-Control: min-fresh=&lt;seconds&gt;
Cache-Control: no-cache
Cache-Control: no-store
Cache-Control: no-transform
Cache-Control: only-if-cached
</pre>
<h3 id="cache_response_directives">Cache response directives</h3>
<p>Standard <code>Cache-Control</code> directives that the server can use in an HTTP response:</p> <pre class="notranslate">Cache-Control: must-revalidate
Cache-Control: no-cache
Cache-Control: no-store
Cache-Control: no-transform
Cache-Control: public
Cache-Control: private
Cache-Control: proxy-revalidate
Cache-Control: max-age=&lt;seconds&gt;
Cache-Control: s-maxage=&lt;seconds&gt;
</pre>
<h3 id="extension_cache-control_directives">Extension Cache-Control directives</h3>
<p>Extension <code>Cache-Control</code> directives are not part of the core HTTP caching standards document. Check the <a href="#browser_compatibility">compatibility table</a> for their support; user-agents that don't recognize them should ignore them.</p> <pre class="notranslate">Cache-Control: immutable
Cache-Control: stale-while-revalidate=&lt;seconds&gt;
Cache-Control: stale-if-error=&lt;seconds&gt;
</pre>
<h2 id="directives">Directives</h2>
<h3 id="cacheability">Cacheability</h3>
<p>Directives that define:</p> <ul> <li>if a response/request can be cached (where it may be cached) and</li> <li>if a response/request should be validated with the origin server before caching.</li> </ul> <dl> <dt><code>public</code></dt> <dd> <p>The response may be stored by <em>any</em> cache, even if the response is normally non-cacheable.</p> </dd> <dt><code>private</code></dt> <dd> <p>The response may be stored only by a <em>browser's</em> cache, even if the response is normally non-cacheable. <code>no-store</code> <em>This directive is not effective in preventing caches from storing your response.</em></p> </dd> <dt><code>no-cache</code></dt> <dd> <p>The response may be stored by <em>any</em> cache, even if the response is normally non-cacheable. However, the stored response MUST <em>always</em> go through validation with the origin server first before using it, therefore, you cannot use <code>no-cache</code> in-conjunction with <code>immutable</code>. <code>no-store</code> <em>This directive is not effective in preventing caches from storing your response.</em></p> </dd> <dt><code>no-store</code></dt> <dd> <p>The response may <strong>not</strong> be stored in <em>any</em> cache. Note that this does not prevent a valid <em>pre-existing</em> cached response being returned. Clients can set <code>max-age=0</code> to also clear existing cache responses, as this forces the cache to revalidate with the server (no other directives have an effect when used with <code>no-store</code>).</p> </dd> </dl>
<h3 id="expiration">Expiration</h3>
<dl> <dt><code>max-age=&lt;seconds&gt;</code></dt> <dd> <p>The maximum amount of time a resource is considered fresh. Unlike <code>Expires</code>, this directive is relative to the time of the request.</p> </dd> <dt><code>s-maxage=&lt;seconds&gt;</code></dt> <dd> <p>Overrides <code>max-age</code> or the <code>Expires</code> header, but only for shared caches (e.g., proxies). Ignored by private caches.</p> </dd> <dt><code>max-stale[=&lt;seconds&gt;]</code></dt> <dd> <p>Indicates the client will accept a stale response. An optional value in seconds indicates the upper limit of staleness the client will accept.</p> </dd> <dt><code>min-fresh=&lt;seconds&gt;</code></dt> <dd> <p>Indicates the client wants a response that will still be fresh for <em>at least</em> the specified number of seconds.</p> </dd> <dt>
<code>stale-while-revalidate=&lt;seconds&gt;</code> 
</dt> <dd> <p>Indicates the client can accept a stale response, while asynchronously checking in the background for a fresh one. The <em>seconds</em> value indicates how long the client can accept a stale response. Note that the time does not start at the time of the request itself, but, for example, after <code>max-age</code> has elapsed. See "<a href="https://web.dev/stale-while-revalidate" rel=" noopener">Keeping things fresh with <code>stale-while-revalidate</code></a>" for more information.</p> </dd> <dt>
<code>stale-if-error=&lt;seconds&gt;</code> 
</dt> <dd> <p>Indicates the client can accept a stale response if the check for a fresh one fails. The <em>seconds</em> value indicates how long the client can accept the stale response after the initial expiration.</p> </dd> </dl>
<h3 id="revalidation_and_reloading">Revalidation and reloading</h3>
<dl> <dt><code>must-revalidate</code></dt> <dd> <p>Indicates that once a resource becomes stale, caches do not use their stale copy without successful <a href="../caching#cache_validation">validation</a> on the origin server.</p> </dd> <dt><code>proxy-revalidate</code></dt> <dd> <p>Like <code>must-revalidate</code>, but only for shared caches (e.g., proxies). Ignored by private caches.</p> </dd> <dt><code>immutable</code></dt> <dd> <p>Indicates that the response body <strong>will not change</strong> over time. The resource, if <em>unexpired</em>, is unchanged on the server and therefore the client should not send a conditional revalidation for it (e.g., <code>If-None-Match</code> or <code>If-Modified-Since</code>) to check for updates, even when the user explicitly refreshes the page. Clients that aren't aware of this extension should ignore them as per the HTTP specification. In Firefox, <code>immutable</code> is only honored on <code>https://</code> transactions. For more information, see this <a href="https://bitsup.blogspot.de/2016/05/cache-control-immutable.html" rel=" noopener">blog post</a>.</p> </dd> </dl>
<h3 id="other">Other</h3>
<dl> <dt><code>no-transform</code></dt> <dd> <p>An intermediate cache or proxy cannot edit the response body, <a href="content-encoding"><code>Content-Encoding</code></a>, <a href="content-range"><code>Content-Range</code></a>, or <a href="content-type"><code>Content-Type</code></a>. It therefore forbids a proxy or browser feature, such as <a href="https://support.google.com/webmasters/answer/6211428" rel=" noopener">Google’s Web Light</a>, from converting images to minimize data for a cache store or slow connection.</p> </dd> <dt><code>only-if-cached</code></dt> <dd> <p>Set by the <em>client</em> to indicate "do not use the network" for the response. The cache should either respond using a stored response, or respond with a <a href="../status/504"><code>504</code></a> status code. Conditional headers such as <code>If-None-Match</code> should not be set. There is no effect if <code>only-if-cached</code> is set by a server as part of a response.</p> </dd> </dl>
<h2 id="examples">Examples</h2>
<h3 id="preventing_caching">Preventing caching</h3>
<p>The following response header can be sent to disable caching of a resource:</p> <div class="code-example"><pre data-language="plain">Cache-Control: no-store
</pre></div> <div class="notecard note"> <p> <strong>Note:</strong> The <code>no-store</code> directive prevents a new resource being cached, but it does not prevent the cache from responding with a non-stale resource that was cached as the result of an earlier request. Setting <code>max-age=0</code> forces the cache to revalidate (clears the cache). </p> <p><code>Cache-Control: no-store, max-age=0</code></p> </div> <p>On the opposite, this is a bad way to achieve this:</p> <div class="code-example"><pre data-language="plain">Cache-Control: private,no-cache,no-store,max-age=0,must-revalidate,pre-check=0,post-check=0
</pre></div>
<h3 id="caching_static_assets">Caching static assets</h3>
<p>For the files in the application that do not change, you can usually add aggressive caching by sending the response header below. This includes static files that are served by the application such as images, CSS files and JavaScript files. In addition, see also the <code>Expires</code> header.</p> <pre class="notranslate">Cache-Control: public, max-age=604800, immutable
</pre>
<h3 id="requiring_revalidation">Requiring revalidation</h3>
<p> <code>no-cache</code> and <code>max-age=0, must-revalidate</code> have the same meaning. Clients can cache a resource but should revalidate each time before using it. This means HTTP request occurs each time though, it can skip downloading HTTP body if the content is valid. </p> <pre class="notranslate">Cache-Control: no-cache

Cache-Control: max-age=0, must-revalidate
</pre> <p><strong>Note</strong>: The following header may serve a stale resource, if server is down or loses connectivity.</p> <pre class="notranslate">Cache-Control: max-age=0
</pre>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody>
<tr><td><a href="https://httpwg.org/specs/rfc7234.html#header.cache-control">Hypertext Transfer Protocol (HTTP/1.1): Caching (HTTP/1.1)<br><small># header.cache-control</small></a></td></tr>
<tr><td><a href="https://httpwg.org/specs/rfc8246.html#the-immutable-cache-control-extension">HTTP Immutable Responses <br><small># the-immutable-cache-control-extension</small></a></td></tr>
</tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>Cache-Control</code></th>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>12</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
</tr>
<tr>
<th><code>immutable</code></th>
<td class="bc-supports-no">
<div>No</div>
<div>See Chromium <a href="https://crbug.com/611416">bug 611416</a>.</div>
</td>
<td class="bc-supports-no"><div>15-79</div></td>
<td class="bc-supports-yes"><div>49</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>11</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>11</div></td>
<td class="bc-supports-no"><div>No</div></td>
</tr>
<tr>
<th><code>stale-if-error</code></th>
<td class="bc-supports-no">
<div>No</div>
<div>See Chromium <a href="https://crbug.com/348877">bug 348877</a>.</div>
</td>
<td class="bc-supports-no">
<div>No</div>
<div>See Chromium <a href="https://crbug.com/348877">bug 348877</a>.</div>
</td>
<td class="bc-supports-no">
<div>No</div>
<div>See Bugzilla <a href="https://bugzil.la/995651">bug 995651</a> comment 7.</div>
</td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
</tr>
<tr>
<th><code>stale-while-revalidate</code></th>
<td class="bc-supports-yes"><div>75</div></td>
<td class="bc-supports-yes"><div>79</div></td>
<td class="bc-supports-yes"><div>68</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>75</div></td>
<td class="bc-supports-yes"><div>75</div></td>
<td class="bc-supports-yes"><div>68</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>11.0</div></td>
</tr>
</tbody>
</table>
<h2 id="see_also">See also</h2>
<ul> <li><a href="../caching">HTTP Caching FAQ</a></li> <li><a href="https://www.mnot.net/cache_docs/" rel=" noopener">Caching Tutorial for Web Authors and Webmasters</a></li> <li>Guide: <em><a href="https://csswizardry.com/2019/03/cache-control-for-civilians" rel=" noopener"><code>Cache-Control</code> for civilians</a></em>
</li> <li><a href="age"><code>Age</code></a></li> <li><a href="expires"><code>Expires</code></a></li> <li><a href="pragma"><code>Pragma</code></a></li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2021 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
