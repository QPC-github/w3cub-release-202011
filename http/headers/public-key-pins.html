
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Public-Key-Pins - HTTP - W3cubDocs</title>
  
  <meta name="description" content="Deprecated&#58; This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the &hellip;">
  <meta name="keywords" content="public-key-pinspublic-key-pins, public-key-pins, http">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/http/headers/public-key-pins.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/http.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/http/" class="_nav-link" title="" style="margin-left:0;">HTTP</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<h1>Public-Key-Pins</h1>
<h1>Public-Key-Pins</h1>
<div class="notecard deprecated"><p><strong>Deprecated:</strong> This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the <a href="#browser_compatibility">compatibility table</a> at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.</p></div> <div class="notecard note"> <p> <strong>Note:</strong> The Public Key Pinning mechanism was deprecated in favor of <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Certificate_Transparency">Certificate Transparency</a> and <a href="expect-ct"><code>Expect-CT</code></a> header. </p> </div> <p> The HTTP <code>Public-Key-Pins</code> response header used to associate a specific cryptographic public <a href="https://developer.mozilla.org/en-US/docs/Glossary/Key">key</a> with a certain web server to decrease the risk of <a href="https://developer.mozilla.org/en-US/docs/Glossary/MitM">MITM</a> attacks with forged certificates. However, it has been removed from modern browsers and is no longer supported. Use <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Certificate_Transparency">Certificate Transparency</a> and <a href="expect-ct"><code>Expect-CT</code></a> header instead. </p> <p>For more information, see the <a href="../public_key_pinning">HTTP Public Key Pinning</a> article.</p> <div class="_table"><table class="properties"> <tbody> <tr> <th scope="row">Header type</th> <td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Response_header">Response header</a></td> </tr> <tr> <th scope="row"><a href="https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name">Forbidden header name</a></th> <td>no</td> </tr> </tbody> </table></div>
<h2 id="syntax">Syntax</h2>
<pre class="notranslate">Public-Key-Pins: pin-sha256="&lt;pin-value&gt;";
                 max-age=&lt;expire-time&gt;;
                 includeSubDomains;
                 report-uri="&lt;uri&gt;"
</pre>
<h2 id="directives">Directives</h2>
<dl> <dt><code>pin-sha256="&lt;pin-value&gt;"</code></dt> <dd> <p> The quoted string is the Base64 encoded Subject Public Key Information (SPKI) fingerprint. It is possible to specify multiple pins for different public keys. Some browsers might allow other hashing algorithms than SHA-256 in the future. </p> </dd> <dt><code>max-age=&lt;expire-time&gt;</code></dt> <dd> <p> The time, in seconds, that the browser should remember that this site is only to be accessed using one of the defined keys. </p> </dd> <dt>
<code>includeSubDomains</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p> If this optional parameter is specified, this rule applies to all of the site's subdomains as well. </p> </dd> <dt>
<code>report-uri="&lt;uri&gt;"</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p> If this optional parameter is specified, pin validation failures are reported to the given URL. </p> </dd> </dl>
<h2 id="example">Example</h2>
<div class="notecard warning"> <p> <strong>Warning:</strong> HPKP has the potential to lock out users for a long time if used incorrectly! The use of backup certificates and/or pinning the CA certificate is recommended. </p> </div> <pre class="notranslate">Public-Key-Pins:
  pin-sha256="cUPcTAZWKaASuYWhhneDttWpY3oBAkE3h2+soZS7sWs=";
  pin-sha256="M8HztCzM3elUxkcjR2S5P4hhyBNf6lHkmjAHKhpGPWE=";
  max-age=5184000; includeSubDomains;
  report-uri="https://www.example.org/hpkp-report"
</pre> <p> In this example, <strong>pin-sha256="cUPcTAZWKaASuYWhhneDttWpY3oBAkE3h2+soZS7sWs="</strong> pins the server's public key used in production. The second pin declaration <strong>pin-sha256="M8HztCzM3elUxkcjR2S5P4hhyBNf6lHkmjAHKhpGPWE="</strong> also pins the backup key. <strong>max-age=5184000</strong> tells the client to store this information for two months, which is a reasonable time limit according to the IETF RFC. This key pinning is also valid for all subdomains, which is told by the <strong>includeSubDomains</strong> declaration. Finally, <strong>report-uri="https://www.example.org/hpkp-report"</strong> explains where to report pin validation failures. </p>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://www.rfc-editor.org/rfc/rfc7469#section-2.1">Public Key Pinning Extension for HTTP <br><small># section-2.1</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>Public-Key-Pins</code></th>
<td class="bc-supports-no"><div>Yes-72</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no">
<div>35-72</div>
<div>72</div>
</td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>Yes-60</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>Yes-72</div></td>
<td class="bc-supports-yes"><div>35</div></td>
<td class="bc-supports-no"><div>Yes-51</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>Yes-11.0</div></td>
</tr>
<tr>
<th><code>report-uri</code></th>
<td class="bc-supports-no"><div>46-72</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no">
<div>No</div>
<div>See <a href="https://bugzil.la/1091176">bug 1091176</a>.</div>
</td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>33-60</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>Yes-72</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>33-51</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>Yes-11.0</div></td>
</tr>
</tbody>
</table>
<h2 id="see_also">See also</h2>
<ul> <li><a href="public-key-pins-report-only"><code>Public-Key-Pins-Report-Only</code></a></li> <li><a href="expect-ct"><code>Expect-CT</code></a></li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2021 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Public-Key-Pins" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Public-Key-Pins</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
