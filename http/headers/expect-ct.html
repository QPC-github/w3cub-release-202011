
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Expect-CT - HTTP - W3cubDocs</title>
  
  <meta name="description" content="The Expect-CT header lets sites opt in to reporting and&#47;or enforcement of Certificate Transparency requirements, to prevent the use of misissued &hellip;">
  <meta name="keywords" content="expect-ctexpect-ct, expect-ct, http">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/http/headers/expect-ct.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/http.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/http/" class="_nav-link" title="" style="margin-left:0;">HTTP</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<h1>Expect-CT</h1>
<h1>Expect-CT</h1>
<p>The <code>Expect-CT</code> header lets sites opt in to reporting and/or enforcement of <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Certificate_Transparency">Certificate Transparency</a> requirements, to prevent the use of misissued certificates for that site from going unnoticed.</p> <p>CT requirements can be satisfied via any one of the following mechanisms:</p> <ul> <li>X.509v3 certificate extension to allow embedding of signed certificate timestamps issued by individual logs</li> <li>A TLS extension of type <code>signed_certificate_timestamp</code> sent during the handshake</li> <li>Supporting OCSP stapling (that is, the <code>status_request</code> TLS extension) and providing a <code>SignedCertificateTimestampList</code>
</li> </ul> <div class="notecard note"> <p><strong>Note:</strong> When a site enables the <code>Expect-CT</code> header, they are requesting that the browser check that any certificate for that site appears in <strong><a href="https://www.certificate-transparency.org/known-logs" rel=" noopener">public CT logs</a></strong>.</p> </div> <div class="notecard note"> <p><strong>Note:</strong> Browsers <strong>ignore</strong> the <code>Expect-CT</code> header over HTTP; the header only has effect on HTTPS connections.</p> </div> <div class="notecard note"> <p><strong>Note:</strong> The <code>Expect-CT</code> will likely become obsolete in June 2021. Since May 2018 new certificates are expected to support SCTs by default. Certificates before March 2018 were allowed to have a lifetime of 39 months, those will all be expired in June 2021.</p> </div> <div class="_table"><table class="properties"> <tbody> <tr> <th scope="row">Header type</th> <td><a href="https://developer.mozilla.org/en-US/docs/Glossary/Response_header">Response header</a></td> </tr> <tr> <th scope="row"><a href="https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name">Forbidden header name</a></th> <td>yes</td> </tr> </tbody> </table></div>
<h2 id="syntax">Syntax</h2>
<pre class="notranslate">Expect-CT: report-uri="&lt;uri&gt;",
           enforce,
           max-age=&lt;age&gt;
</pre>
<h2 id="directives"> Directives</h2>
<dl> <dt><code>max-age</code></dt> <dd> <p>The number of seconds after reception of the <code>Expect-CT</code> header field during which the user agent should regard the host of the received message as a known <code>Expect-CT</code> host.</p> <p>If a cache receives a value greater than it can represent, or if any of its subsequent calculations overflows, the cache will consider this value to be either 2,147,483,648 (2^31) or the greatest positive integer it can represent.</p> </dd> <dt>
<code>report-uri="&lt;uri&gt;"</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>The URI where the user agent should report <code>Expect-CT</code> failures.</p> <p>When present with the <code>enforce</code> directive, the configuration is referred to as an "enforce-and-report" configuration, signalling to the user agent both that compliance to the Certificate Transparency policy should be enforced <em>and</em> that violations should be reported.</p> </dd> <dt>
<code>enforce</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p>Signals to the user agent that compliance with the Certificate Transparency policy should be enforced (rather than only reporting compliance) and that the user agent should refuse future connections that violate its Certificate Transparency policy.</p> <p>When both the <code>enforce</code> directive and the <code>report-uri</code> directive are present, the configuration is referred to as an "enforce-and-report" configuration, signalling to the user agent both that compliance to the Certificate Transparency policy should be enforced and that violations should be reported.</p> </dd> </dl>
<h2 id="example">Example</h2>
<p>The following example specifies enforcement of Certificate Transparency for 24 hours and reports violations to <code>foo.example</code>.</p> <pre class="notranslate">Expect-CT: max-age=86400, enforce, report-uri="https://foo.example/report"
</pre>
<h2 id="notes">Notes</h2>
<p>Root CAs manually added to the trust store override and suppress <code>Expect-CT</code> reports/enforcement.</p> <p>Browsers will not remember an <code>Expect-CT</code> policy, unless the site has 'proven' it can serve a certificate satisfying the certificate transparency requirements. Browsers implement their own trust model regarding which CT logs are considered trusted for the certificate to have been logged to.</p> <p>Builds of Chrome are designed to stop enforcing the <code>Expect-CT</code> policy 10 weeks after the installation's build date.</p>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table> <thead> <tr> <th>Specification</th> <th>Title</th> </tr> </thead> <tbody> <tr> <td><a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-expect-ct-08" rel=" noopener">Internet Draft</a></td> <td>Expect-CT Extension for HTTP</td> </tr> </tbody> </table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>Expect-CT</code></th>
<td class="bc-supports-yes">
<div>61</div>
<div>Before later builds of Chrome 64, invalid Expect-CT reports would be sent. Newer versions do not send reports after 10 weeks from the build date. See <a href="https://crbug.com/786563">bug 786563</a>.</div>
</td>
<td class="bc-supports-yes"><div>≤79</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>48</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>61</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>45</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>8.0</div></td>
</tr></tbody>
</table>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2021 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Expect-CT" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Expect-CT</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
