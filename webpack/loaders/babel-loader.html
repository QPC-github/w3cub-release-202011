
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Babel-loader - Webpack - W3cubDocs</title>
  
  <meta name="description" content=" This package allows transpiling JavaScript files using Babel and webpack. ">
  <meta name="keywords" content="babel-loader, webpack">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/webpack/loaders/babel-loader.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/webpack.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/webpack/" class="_nav-link" title="" style="margin-left:0;">webpack</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _webpack">
				
				
<h1>babel-loader</h1>
<p>This package allows transpiling JavaScript files using <a href="https://github.com/babel/babel">Babel</a> and <a href="https://github.com/webpack/webpack">webpack</a>.</p> <p><strong>Notes:</strong> Issues with the output should be reported on the babel <a href="https://github.com/babel/babel/issues">issue tracker</a>.</p> <h2 class="header" id="install">  Install  </h2> <blockquote> <p>webpack 3.x | babel-loader 8.x | babel 7.x</p> </blockquote> <pre data-language="bash">npm install "babel-loader@^8.0.0-beta" @babel/core @babel/preset-env webpack
</pre> <blockquote> <p>webpack 3.x babel-loader 7.x | babel 6.x</p> </blockquote> <pre data-language="bash">npm install babel-loader babel-core babel-preset-env webpack
</pre> <h2 class="header" id="usage">  Usage  </h2> <p><a href="https://webpack.js.org/loaders/">Documentation: Using loaders</a></p> <p>Within your webpack configuration object, you'll need to add the babel-loader to the list of modules, like so:</p> <pre data-language="javascript">module: {
  rules: [
    {
      test: /\.js$/,
      exclude: /(node_modules|bower_components)/,
      use: {
        loader: 'babel-loader',
        options: {
          presets: ['@babel/preset-env']
        }
      }
    }
  ]
}
</pre> <p>##</p> <p>See the <code>babel</code> <a href="https://babeljs.io/docs/usage/api/#options">options</a>.</p> <p>You can pass options to the loader by using the <a href="../configuration/module#rule-options-rule-query">options property</a>:</p> <pre data-language="javascript">module: {
  rules: [
    {
      test: /\.js$/,
      exclude: /(node_modules|bower_components)/,
      use: {
        loader: 'babel-loader',
        options: {
          presets: ['@babel/preset-env'],
          plugins: [require('@babel/plugin-proposal-object-rest-spread')]
        }
      }
    }
  ]
}
</pre> <p>This loader also supports the following loader-specific option:</p> <ul> <li>
<p><code>cacheDirectory</code>: Default <code>false</code>. When set, the given directory will be used to cache the results of the loader. Future webpack builds will attempt to read from the cache to avoid needing to run the potentially expensive Babel recompilation process on each run. If the value is blank (<code>loader: 'babel-loader?cacheDirectory'</code>) or <code>true</code> (<code>loader: babel-loader?cacheDirectory=true</code>) the loader will use the default cache directory in <code>node_modules/.cache/babel-loader</code> or fallback to the default OS temporary file directory if no <code>node_modules</code> folder could be found in any root directory.</p> </li> <li>
<p><code>cacheIdentifier</code>: Default is a string composed by the babel-core's version, the babel-loader's version, the contents of .babelrc file if it exists and the value of the environment variable <code>BABEL_ENV</code> with a fallback to the <code>NODE_ENV</code> environment variable. This can be set to a custom value to force cache busting if the identifier changes.</p> </li> <li>
<p><code>babelrc</code>: Default <code>true</code>. When <code>false</code>, no options from <code>.babelrc</code> files will be used; only the options passed to <code>babel-loader</code> will be used.</p> </li> </ul> <p><strong>Note:</strong> The <code>sourceMap</code> option is ignored, instead sourceMaps are automatically enabled when webpack is configured to use them (via the <code>devtool</code> config option).</p> <h2 class="header" id="troubleshooting">  Troubleshooting  </h2> <h3 class="header" id="babel-loader-is-slow-">  babel-loader is slow!  </h3> <p>Make sure you are transforming as few files as possible. Because you are probably matching <code>/\.js$/</code>, you might be transforming the <code>node_modules</code> folder or other unwanted source.</p> <p>To exclude <code>node_modules</code>, see the <code>exclude</code> option in the <code>loaders</code> config as documented above.</p> <p>You can also speed up babel-loader by as much as 2x by using the <code>cacheDirectory</code> option. This will cache transformations to the filesystem.</p> <h3 class="header" id="babel-is-injecting-helpers-into-each-file-and-bloating-my-code-">  babel is injecting helpers into each file and bloating my code!  </h3> <p>babel uses very small helpers for common functions such as <code>_extend</code>. By default this will be added to every file that requires it.</p> <p>You can instead require the babel runtime as a separate module to avoid the duplication.</p> <p>The following configuration disables automatic per-file runtime injection in babel, instead requiring <code>babel-plugin-transform-runtime</code> and making all helper references use it.</p> <p>See the <a href="https://babeljs.io/docs/plugins/transform-runtime/">docs</a> for more information.</p> <p><strong>NOTE:</strong> You must run <code>npm install @babel/plugin-transform-runtime --save-dev</code> to include this in your project and <code>babel-runtime</code> itself as a dependency with <code>npm install @babel/runtime --save</code>.</p> <pre data-language="javascript">rules: [
  // the 'transform-runtime' plugin tells babel to require the runtime
  // instead of inlining it.
  {
    test: /\.js$/,
    exclude: /(node_modules|bower_components)/,
    use: {
      loader: 'babel-loader',
      options: {
        presets: ['@babel/preset-env'],
        plugins: ['@babel/plugin-transform-runtime']
      }
    }
  }
]
</pre> <h4 class="header" id="-note-transform-runtime-custom-polyfills-e-g-promise-library-">  <strong>NOTE:</strong> transform-runtime &amp; custom polyfills (e.g. Promise library)  </h4> <p>Since <a href="https://github.com/babel/babel/tree/master/packages/babel-plugin-transform-runtime">babel-plugin-transform-runtime</a> includes a polyfill that includes a custom <a href="https://github.com/facebook/regenerator/blob/master/packages/regenerator-runtime/runtime.js">regenerator runtime</a> and <a href="https://github.com/zloirock/core-js">core.js</a>, the following usual shimming method using <code>webpack.ProvidePlugin</code> will not work:</p> <pre data-language="javascript">// ...
        new webpack.ProvidePlugin({
            'Promise': 'bluebird'
        }),
// ...
</pre> <p>The following approach will not work either:</p> <pre data-language="javascript">require('@babel/runtime/core-js/promise').default = require('bluebird');

var promise = new Promise;
</pre> <p>which outputs to (using <code>runtime</code>):</p> <pre data-language="javascript">'use strict';

var _Promise = require('@babel/runtime/core-js/promise')['default'];

require('@babel/runtime/core-js/promise')['default'] = require('bluebird');

var promise = new _Promise();
</pre> <p>The previous <code>Promise</code> library is referenced and used before it is overridden.</p> <p>One approach is to have a "bootstrap" step in your application that would first override the default globals before your application:</p> <pre data-language="javascript">// bootstrap.js

require('@babel/runtime/core-js/promise').default = require('bluebird');

// ...

require('./app');
</pre> <h3 class="header" id="the-node-api-for-babel-has-been-moved-to-babel-core-">  The node API for <code>babel</code> has been moved to <code>babel-core</code>.  </h3> <p>If you receive this message it means that you have the npm package <code>babel</code> installed and use the short notation of the loader in the webpack config (which is not valid anymore as of webpack 2.x):</p> <pre data-language="js">  {
    test: /\.js$/,
    loader: 'babel',
  }
</pre> <p>Webpack then tries to load the <code>babel</code> package instead of the <code>babel-loader</code>.</p> <p>To fix this you should uninstall the npm package <code>babel</code> as it is deprecated in babel v6. (instead install <code>babel-cli</code> or <code>babel-core</code>) In the case one of your dependencies is installing <code>babel</code> and you cannot uninstall it yourself, use the complete name of the loader in the webpack config:</p> <pre data-language="js">  {
    test: /\.js$/,
    loader: 'babel-loader',
  }
</pre> <h2 class="header" id="customized-loader">  Customized Loader  </h2> <p><code>babel-loader</code> exposes a loader-builder utility that allows users to add custom handling of Babel's configuration for each file that it processes.</p> <p><code>.custom</code> accepts a callback that will be called with the loader's instance of <code>babel</code> so that tooling can ensure that it using exactly the same <code>@babel/core</code> instance as the loader itself.</p> <h3 class="header" id="example">  Example  </h3> <pre data-language="js">module.exports = require("babel-loader").custom(babel =&gt; {
  function myPlugin() {
    return {
      visitor: {},
    };
  }

  return {
    // Passed the loader options.
    customOptions({ opt1, opt2, ...loader }) {
      return {
        // Pull out any custom options that the loader might have.
        custom: { opt1, opt2 },

        // Pass the options back with the two custom options removed.
        loader,
      };
    },

    // Passed Babel's 'PartialConfig' object. 
    config(cfg) {
      if (cfg.hasFilesystemConfig()) {
        // Use the normal config
        return cfg.options;
      }

      return {
        ...cfg.options,
        plugins: [
          ...(cfg.options.plugins || []),

          // Include a custom plugin in the options.
          myPlugin,
        ],
      };
    },

    result(result) {
      return {
        ...result,
        code: result.code + "\n// Generated by some custom loader",
      };
    },
  };
});
</pre> <h3 class="header" id="customoptions-options-object-custom-object-loader-object-">  <code>customOptions(options: Object): { custom: Object, loader: Object }</code>  </h3> <p>Given the loader's options, split custom options out of <code>babel-loader</code>'s options.</p> <h3 class="header" id="config-cfg-partialconfig-object">  <code>config(cfg: PartialConfig): Object</code>  </h3> <p>Given Babel's <code>PartialConfig</code> object, return the <code>options</code> object that should be passed to <code>babel.transform</code>.</p> <h3 class="header" id="result-result-result-result">  <code>result(result: Result): Result</code>  </h3> <p>Given Babel's result object, allow loaders to make additional tweaks to it.</p> <h2 class="header" id="license">  <a href="https://couto.mit-license.org/">License</a> <a aria-label="&lt;a href=" https:="" couto.mit-license.org="">License</a>" class="icon-link" href="#license"&gt; </h2> <div class="_attribution">
  <p class="_attribution-p">
    © JS Foundation and other contributors<br>Licensed under the Creative Commons Attribution License 4.0.<br>
    <a href="https://webpack.js.org/loaders/babel-loader" class="_attribution-link">https://webpack.js.org/loaders/babel-loader</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
