
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>MariaDB ColumnStore Software Upgrade 1.1.4 GA to 1.1.5 GA - MariaDB - W3cubDocs</title>
  
  <meta name="description" content=" Additional Dependency Packages exist for 1.1.5, so make sure you install those based on the &#34;Preparing for ColumnStore Installation&#34; Guide. ">
  <meta name="keywords" content="mariadb, columnstore, software, upgrade, ga">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/mariadb/mariadb-columnstore-software-upgrade-114-ga-to-115-ga/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/mariadb.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/mariadb/" class="_nav-link" title="" style="margin-left:0;">MariaDB</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mariadb">
				
				
<h1>MariaDB ColumnStore software upgrade 1.1.4 GA to 1.1.5 GA</h1> <div> <div class="node creole"> <div class="answer formatted">  <h2 class="anchored_heading" id="mariadb-columnstore-software-upgrade-114-ga-to-115-ga">MariaDB ColumnStore software upgrade 1.1.4 GA to 1.1.5 GA</h2> <p>Additional Dependency Packages exist for 1.1.5, so make sure you install those based on the "Preparing for ColumnStore Installation" Guide.</p> <p>Note: Columnstore.xml modifications you manually made are not automatically carried forward on an upgrade. These modifications will need to be incorporated back into .XML once the upgrade has occurred.</p> <p>The previous configuration file will be saved as /usr/local/mariadb/columnstore/etc/Columnstore.xml.rpmsave.</p> <p>If you have specified a root database password (which is good practice), then you must configure a .my.cnf file with user credentials for the upgrade process to use. Create a .my.cnf file in the user home directory with 600 file permissions with the following content (updating PASSWORD as appropriate):</p> <pre class="fixed" data-language="sql">[mysqladmin] 
user = root
password = PASSWORD
</pre>
<h3 class="anchored_heading" id="choosing-the-type-of-upgrade">Choosing the type of upgrade</h3> <p>As noted on the Preparing guide, you can installing MariaDB ColumnStore with the use of soft-links. If you have the softlinks be setup at the Data Directory Levels, like mariadb/columnstore/data and mariadb/columnstore/dataX, then your upgrade will happen without any issues. In the case where you have a softlink at the top directory, like /usr/local/mariadb, you will need to upgrade using the binary package. If you updating using the rpm package and tool, this softlink will be deleted when you perform the upgrade process and the upgrade will fail.</p> <h4 class="anchored_heading" id="root-user-installs">Root User Installs</h4> <h4 class="anchored_heading" id="upgrading-mariadb-columnstore-using-rpms-tar-package">Upgrading MariaDB ColumnStore using RPMs tar package</h4> <p>Upgrade MariaDB ColumnStore as user root on the server designated as PM1:</p> <p><strong> Download the package mariadb-columnstore-1.1.5-1-centos#.x86_64.rpm.tar.gz to the PM1 server where you are installing MariaDB ColumnStore. </strong> Shutdown the MariaDB ColumnStore system: </p> <pre class="fixed" data-language="sql"># mcsadmin shutdownsystem y
</pre>
<ul><li>Unpack the tarball, which will generate a set of RPMs that will reside in the /root/ directory. </li></ul> <pre class="fixed" data-language="sql"># tar -zxf mariadb-columnstore-1.1.5-1-centos#.x86_64.rpm.tar.gz
</pre>
<ul start="1"><li>Upgrade the RPMs. The MariaDB ColumnStore software will be installed in /usr/local/. </li></ul> <pre class="fixed" data-language="sql"># rpm -e --nodeps $(rpm -qa | grep '^mariadb-columnstore')
# rpm -ivh mariadb-columnstore-*1.1.5*rpm
</pre>
<ul start="1"><li>Run postConfigure using the upgrade option, which will utilize the configuration from the Columnstore.xml.rpmsave </li></ul> <pre class="fixed" data-language="sql"># /usr/local/mariadb/columnstore/bin/postConfigure -u
</pre>
<p>For RPM Upgrade, the previous configuration file will be saved as:</p> <p>/usr/local/mariadb/columnstore/etc/Columnstore.xml.rpmsave</p> <h4 class="anchored_heading" id="upgrading-mariadb-columnstore-using-rpm-package-repositories">Upgrading MariaDB ColumnStore using RPM Package Repositories</h4> <p>The system can be upgrade when it was previously installed from the Package Repositories. This will need to be run on each module in the system</p> <p>Additional information can be found in this document on how to setup and install using the 'yum' package repo command:</p> <p><a href="../library/installing-mariadb-ax-from-the-package-repositories">https://mariadb.com/kb/en/library/installing-mariadb-ax-from-the-package-repositories</a></p> <p>Upgrade MariaDB ColumnStore as user root on the server designated as PM1:</p> <p><strong> Shutdown the MariaDB ColumnStore system: </strong></p> <pre class="fixed" data-language="sql"># mcsadmin shutdownsystem y
</pre>
<ul><li>Uninstall MariaDB ColumnStore Packages </li></ul> <pre class="fixed" data-language="sql"># yum remove mariadb-columnstore*
</pre>
<ul start="1"><li>Install MariaDB ColumnStore Packages </li></ul> <pre class="fixed" data-language="sql"># yum --enablerepo=mariadb-columnstore clean metadata
# yum install mariadb-columnstore*
</pre>
<p>NOTE: On the non-pm1 module, start the columnstore service</p> <pre class="fixed" data-language="sql"># /usr/local/mariadb/columnstore/bin/columnstore start
</pre>
<ul start="1"><li>Run postConfigure using the upgrade and non-distributed options, which will utilize the configuration from the Columnstore.xml.rpmsave </li></ul> <pre class="fixed" data-language="sql"># /usr/local/mariadb/columnstore/bin/postConfigure -u -n
</pre>
<p>For RPM Upgrade, the previous configuration file will be saved as:</p> <p>/usr/local/mariadb/columnstore/etc/Columnstore.xml.rpmsave</p> <h3 class="anchored_heading" id="initial-downloadinstall-of-mariadb-columnstore-binary-package">Initial download/install of MariaDB ColumnStore binary package</h3> <p>Upgrade MariaDB ColumnStore as user root on the server designated as PM1:</p> <ul start="1"><li>Download the package into the /usr/local directory -mariadb-columnstore-1.1.5-1.x86_64.bin.tar.gz (Binary 64-BIT)to the server where you are installing MariaDB ColumnStore. </li></ul> <ul start="1"><li>Shutdown the MariaDB ColumnStore system: </li></ul> <pre class="fixed" data-language="sql"># mcsadmin shutdownsystem y
</pre>
<ul start="1"><li>Run pre-uninstall script </li></ul> <pre class="fixed" data-language="sql"># /usr/local/mariadb/columnstore/bin/pre-uninstall
</pre>
<ul start="1"><li>Unpack the tarball, in the /usr/local/ directory. </li></ul> <pre class="fixed" data-language="sql"># tar -zxvf mariadb-columnstore-1.1.5-1.x86_64.bin.tar.gz
</pre>
<ul start="1"><li>Run post-install scripts </li></ul> <pre class="fixed" data-language="sql"># /usr/local/mariadb/columnstore/bin/post-install
</pre>
<ul start="1"><li>Run postConfigure using the upgrade option, which will utilize the configuration from the Columnstore.xml,rpmsave </li></ul> <pre class="fixed" data-language="sql"># /usr/local/mariadb/columnstore/bin/postConfigure -u
</pre>
<h3 class="anchored_heading" id="upgrading-mariadb-columnstore-using-the-deb-package">Upgrading MariaDB ColumnStore using the DEB package</h3> <p>A DEB upgrade would be done on a system that supports DEBs like Debian or Ubuntu systems.</p> <p>Upgrade MariaDB ColumnStore as user root on the server designated as PM1:</p> <ul start="1"><li>Download the package into the /root directory </li></ul> <p>mariadb-columnstore-1.1.5-1.amd64.deb.tar.gz</p> <p> (DEB 64-BIT) to the server where you are installing MariaDB ColumnStore.</p> <ul start="1"><li>Shutdown the MariaDB ColumnStore system: </li></ul> <pre class="fixed" data-language="sql"># mcsadmin shutdownsystem y
</pre>
<ul start="1"><li>Unpack the tarball, which will generate DEBs. </li></ul> <pre class="fixed" data-language="sql"># tar -zxf mariadb-columnstore-1.1.5-1.amd64.deb.tar.gz
</pre>
<ul start="1"><li>Remove, purge and install all MariaDB ColumnStore debs </li></ul> <pre class="fixed" data-language="sql"># cd /root/
# dpkg -r  $(dpkg --list | grep 'mariadb-columnstore' | awk '{print $2}')
# dpkg -P  $(dpkg --list | grep 'mariadb-columnstore' | awk '{print $2}')

# dpkg --install mariadb-columnstore-*1.1.5-1*deb
</pre>
<ul start="1"><li>Run postConfigure using the upgrade option, which will utilize the configuration from the Columnstore.xml,rpmsave </li></ul> <pre class="fixed" data-language="sql"># /usr/local/mariadb/columnstore/bin/postConfigure -u
</pre>
<h4 class="anchored_heading" id="upgrading-mariadb-columnstore-using-deb-package-repositories">Upgrading MariaDB ColumnStore using DEB Package Repositories</h4> <p>The system can be upgrade when it was previously installed from the Package Repositories. This will need to be run on each module in the system</p> <p>Additional information can be found in this document on how to setup and install using the 'apt-get' package repo command:</p> <p><a href="../library/installing-mariadb-ax-from-the-package-repositories">https://mariadb.com/kb/en/library/installing-mariadb-ax-from-the-package-repositories</a></p> <p>Upgrade MariaDB ColumnStore as user root on the server designated as PM1:</p> <p><strong> Shutdown the MariaDB ColumnStore system: </strong></p> <pre class="fixed" data-language="sql"># mcsadmin shutdownsystem y
</pre>
<ul><li>Uninstall MariaDB ColumnStore Packages </li></ul> <pre class="fixed" data-language="sql"># apt-get remove mariadb-columnstore*
</pre>
<ul start="1"><li>Install MariaDB ColumnStore Packages </li></ul> <pre class="fixed" data-language="sql"># apt-get update
# sudo apt-get install mariadb-columnstore*
</pre>
<p>NOTE: On the non-pm1 module, start the columnstore service</p> <pre class="fixed" data-language="sql"># /usr/local/mariadb/columnstore/bin/columnstore start
</pre>
<ul start="1"><li>Run postConfigure using the upgrade and non-distributed options, which will utilize the configuration from the Columnstore.xml.rpmsave </li></ul> <pre class="fixed" data-language="sql"># /usr/local/mariadb/columnstore/bin/postConfigure -u -n
</pre>
<p>For RPM Upgrade, the previous configuration file will be saved as:</p> <p>/usr/local/mariadb/columnstore/etc/Columnstore.xml.rpmsave</p> <h4 class="anchored_heading" id="non-root-user-installs">Non-Root User Installs</h4> <h3 class="anchored_heading" id="initial-downloadinstall-of-mariadb-columnstore-binary-package">Initial download/install of MariaDB ColumnStore binary package</h3> <p>Upgrade MariaDB ColumnStore as user root on the server designated as PM1:</p> <ul start="1"><li>Download the package into the /home/'non-root-user" directory </li></ul> <p>mariadb-columnstore-1.1.5-1.x86_64.bin.tar.gz (Binary 64-BIT)to the server where you are installing MariaDB ColumnStore.</p> <ul start="1"><li>Shutdown the MariaDB ColumnStore system: </li></ul> <pre class="fixed" data-language="sql"># mcsadmin shutdownsystem y
</pre>
<ul start="1"><li>Run pre-uninstall script </li></ul> <pre class="fixed" data-language="sql"># $HOME/mariadb/columnstore/bin/pre-uninstall --installdir=/home/guest/mariadb/columnstore
</pre>
<ul start="1"><li>Unpack the tarball, which will generate the $HOME/ directory. </li></ul> <pre class="fixed" data-language="sql"># tar -zxvf mariadb-columnstore-1.1.5-1.x86_64.bin.tar.gz
</pre>
<ul start="1"><li>Run post-install scripts </li></ul> <pre class="fixed" data-language="sql"># $HOME/mariadb/columnstore/bin/post-install --installdir=/home/guest/mariadb/columnstore
</pre>
<ul start="1"><li>Run postConfigure using the upgrade option, which will utilize the configuration from the Columnstore.xml,rpmsave </li></ul> <pre class="fixed" data-language="sql"># $HOME/mariadb/columnstore/bin/postConfigure -u -i /home/guest/mariadb/columnstore
</pre> </div>     </div> <div id="content_disclaimer" class="graybox"> Content reproduced on this site is the property of its respective owners, and this content is not reviewed in advance by MariaDB. The views, information and opinions expressed by this content do not necessarily represent those of MariaDB or any other party. </div> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2019 MariaDB<br>Licensed under the Creative Commons Attribution 3.0 Unported License and the GNU Free Documentation License.<br>
    <a href="https://mariadb.com/kb/en/mariadb-columnstore-software-upgrade-114-ga-to-115-ga/" class="_attribution-link">https://mariadb.com/kb/en/mariadb-columnstore-software-upgrade-114-ga-to-115-ga/</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
