
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Storage-Engine Independent Column Compression - MariaDB - W3cubDocs</title>
  
  <meta name="description" content=" Storage-engine independent support for column compression was introduced in MariaDB 10.3.2 ">
  <meta name="keywords" content="storage-engine, independent, column, compression, mariadb">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/mariadb/storage-engine-independent-column-compression/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/mariadb.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/mariadb/" class="_nav-link" title="" style="margin-left:0;">MariaDB</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mariadb">
				
				
<h1>Storage-Engine Independent Column Compression</h1> <div> <div class="node creole"> <div class="answer formatted"> <div class="mariadb_from_10_3_2 mariadb from_10_3_2 product">
<strong class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1032-release-notes/">10.3.2</a></strong><p>Storage-engine independent support for column compression was introduced in <a href="https://mariadb.com/kb/en/mariadb-1032-release-notes/">MariaDB 10.3.2</a></p> </div> <p>Storage-engine independent column compression enables <a href="../tinyblob/index">TINYBLOB</a>, <a href="../blob/index">BLOB</a>, <a href="../mediumblob/index">MEDIUMBLOB</a>, <a href="../longblob/index">LONGBLOB</a>, <a href="../tinytext/index">TINYTEXT</a>, <a href="../text/index">TEXT</a>, <a href="../mediumtext/index">MEDIUMTEXT</a>, <a href="../longtext/index">LONGTEXT</a>, <a href="../varchar/index">VARCHAR</a> and <a href="../varbinary/index">VARBINARY</a> columns to be compressed.</p> <p>This is performed by means of a new COMPRESSED <a href="../create-table/index#column-and-index-definitions">column attribute</a>: <code>COMPRESSED[=&lt;compression_method&gt;]</code></p> <h3 class="anchored_heading" id="field-length-compatibility">Field Length Compatibility</h3> <p>When using the <code>COMPRESSED</code> attribute, note that FIELD LENGTH is reduced by 1; for example, a BLOB has a length of 65535, while BLOB COMPRESSED has 65535-1. See <a href="https://jira.mariadb.org/browse/MDEV-15592">MDEV-15592</a>.</p> <h3 class="anchored_heading" id="new-system-variables">New System Variables</h3> <h4 class="anchored_heading" id="column_compression_threshold"><code>column_compression_threshold</code></h4> <ul start="1">
<li>
<strong>Description:</strong> Minimum column data length eligible for compression. </li>
<li>
<strong>Commandline:</strong> <code class="fixed" style="white-space:pre-wrap">--column-compression-threshold=#</code> </li>
<li>
<strong>Scope:</strong> Global, Session </li>
<li>
<strong>Dynamic:</strong> Yes </li>
<li>
<strong>Data Type:</strong> <code>numeric</code> </li>
<li>
<strong>Default Value:</strong> <code>100</code> </li>
<li>
<strong>Range:</strong> <code>0</code> to <code>4294967295</code> </li>
</ul> <hr> <h4 class="anchored_heading" id="column_compression_zlib_level"><code>column_compression_zlib_level</code></h4> <ul start="1">
<li>
<strong>Description:</strong> zlib compression level (1 gives best speed, 9 gives best compression). </li>
<li>
<strong>Commandline:</strong> <code class="fixed" style="white-space:pre-wrap">--column-compression-threshold=#</code> </li>
<li>
<strong>Scope:</strong> Global, Session </li>
<li>
<strong>Dynamic:</strong> Yes </li>
<li>
<strong>Data Type:</strong> <code>numeric</code> </li>
<li>
<strong>Default Value:</strong> <code>6</code> </li>
<li>
<strong>Range:</strong> <code>1</code> to <code>9</code> </li>
</ul> <hr> <h4 class="anchored_heading" id="column_compression_zlib_strategy"><code>column_compression_zlib_strategy</code></h4> <ul start="1">
<li>
<strong>Description:</strong> The strategy parameter is used to tune the compression algorithm. Use the value <code>DEFAULT_STRATEGY</code> for normal data, <code>FILTERED</code> for data produced by a filter (or predictor), <code>HUFFMAN_ONLY</code> to force Huffman encoding only (no string match), or <code>RLE</code> to limit match distances to one (run-length encoding). Filtered data consists mostly of small values with a somewhat random distribution. In this case, the compression algorithm is tuned to compress them better. The effect of <code>FILTERED</code> is to force more Huffman coding and less string matching; it is somewhat intermediate between <code>DEFAULT_STRATEGY</code> and <code>HUFFMAN_ONLY</code>. <code>RLE</code> is designed to be almost as fast as <code>HUFFMAN_ONLY</code>, but give better compression for PNG image data. The strategy parameter only affects the compression ratio but not the correctness of the compressed output even if it is not set appropriately. <code>FIXED</code> prevents the use of dynamic Huffman codes, allowing for a simpler decoder for special applications. </li>
<li>
<strong>Commandline:</strong> <code class="fixed" style="white-space:pre-wrap">--column-compression-zlib_strategy=#</code> </li>
<li>
<strong>Scope:</strong> Global, Session </li>
<li>
<strong>Dynamic:</strong> Yes </li>
<li>
<strong>Data Type:</strong> <code>enum</code> </li>
<li>
<strong>Default Value:</strong> <code>DEFAULT_STRATEGY</code> </li>
<li>
<strong>Valid Values:</strong> <code>DEFAULT_STRATEGY</code>, <code>FILTERED</code>, <code>HUFFMAN_ONLY</code>, <code>RLE</code>, <code>FIXED</code> </li>
</ul> <hr> <h4 class="anchored_heading" id="column_compression_zlib_wrap"><code>column_compression_zlib_wrap</code></h4> <ul start="1">
<li>
<strong>Description:</strong> If set to <code>1</code> (<code>0</code> is default), generate zlib header and trailer and compute adler32 check value. It can be used with storage engines that don't provide data integrity verification to detect data corruption. </li>
<li>
<strong>Commandline:</strong> <code class="fixed" style="white-space:pre-wrap">--column-compression-zlib-wrap{=0|1}</code> </li>
<li>
<strong>Scope:</strong> Global, Session </li>
<li>
<strong>Dynamic:</strong> Yes </li>
<li>
<strong>Data Type:</strong> <code>boolean</code> </li>
<li>
<strong>Default Value:</strong> <code>OFF</code> </li>
</ul> <hr> <h3 class="anchored_heading" id="new-status-variables">New Status Variables</h3> <h4 class="anchored_heading" id="column_compressions"><code>Column_compressions</code></h4> <ul start="1">
<li>
<strong>Description:</strong> Incremented each time field data is compressed. </li>
<li>
<strong>Scope:</strong> Global, Session </li>
<li>
<strong>Data Type:</strong> <code>numeric</code> </li>
</ul> <hr> <h4 class="anchored_heading" id="column_decompressions"><code>Column_decompressions</code></h4> <ul start="1">
<li>
<strong>Description:</strong> Incremented each time field data is decompressed. </li>
<li>
<strong>Scope:</strong> Global, Session </li>
<li>
<strong>Data Type:</strong> <code>numeric</code> </li>
</ul> <hr> <h3 class="anchored_heading" id="limitations">Limitations</h3> <ul start="1">
<li>The only supported method currently is zlib. </li>
<li>The <a href="../csv/index">CSV</a> storage engine stores data uncompressed on-disk even if the COMPRESSED attribute is present. </li>
<li>It is not possible to create indexes over compressed columns. </li>
</ul> <h3 class="anchored_heading" id="examples">Examples</h3> <pre class="fixed" data-language="sql">CREATE TABLE cmp (i TEXT COMPRESSED);

CREATE TABLE cmp2 (i TEXT COMPRESSED=zlib);
</pre> </div>     </div> <div id="content_disclaimer" class="graybox"> Content reproduced on this site is the property of its respective owners, and this content is not reviewed in advance by MariaDB. The views, information and opinions expressed by this content do not necessarily represent those of MariaDB or any other party. </div> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2019 MariaDB<br>Licensed under the Creative Commons Attribution 3.0 Unported License and the GNU Free Documentation License.<br>
    <a href="https://mariadb.com/kb/en/storage-engine-independent-column-compression/" class="_attribution-link">https://mariadb.com/kb/en/storage-engine-independent-column-compression/</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
