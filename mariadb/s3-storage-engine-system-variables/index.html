
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>S3 Storage Engine System Variables - MariaDB - W3cubDocs</title>
  
  <meta name="description" content=" S3 is introduced in MariaDB 10.5. ">
  <meta name="keywords" content="s, storage, engine, system, variables, mariadb">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/mariadb/s3-storage-engine-system-variables/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/mariadb.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/mariadb/" class="_nav-link" title="" style="margin-left:0;">MariaDB</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mariadb">
				
				
<h1>S3 Storage Engine System Variables</h1> <div> <div class="node creole"> <div class="answer formatted"> <div class="mariadb_from_10_5 mariadb from_10_5 product">
<strong class="product_title">MariaDB starting with <a href="../what-is-mariadb-105/index">10.5</a></strong><p>S3 is introduced in <a href="../what-is-mariadb-105/index">MariaDB 10.5</a>.</p> </div>
<p> This page documents system variables related to the <a href="../s3-storage-engine/index">S3 storage engine</a>.</p> <p>See <a href="../server-system-variables/index">Server System Variables</a> for a complete list of system variables and instructions on setting system variables.</p> <p>Also see the <a href="../full-list-of-mariadb-options-system-and-status-variables/index">Full list of MariaDB options, system and status variables</a></p> <h4 class="anchored_heading" id="s3_access_key"><code>s3_access_key</code></h4> <ul start="1">
<li>
<strong>Description:</strong> The AWS access key to access your data. See <a href="../using-the-s3-storage-engine/index#mysqld-startup-options-for-s3">mysqld startup options for S3</a>. </li>
<li>
<strong>Commandline:</strong> <code class="fixed" style="white-space:pre-wrap">--s3-access-key=val</code> </li>
<li>
<strong>Scope:</strong> </li>
<li>
<strong>Dynamic:</strong> </li>
<li>
<strong>Data Type:</strong> </li>
<li>
<strong>Default Value:</strong> </li>
<li>
<strong>Introduced:</strong> <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a> </li>
</ul> <hr> <h4 class="anchored_heading" id="s3_block_size"><code>s3_block_size</code></h4> <ul start="1">
<li>
<strong>Description:</strong> The default block size for a table, if not specified in <a href="../create-table/index">CREATE TABLE</a>. Set to 4M as default. See <a href="../using-the-s3-storage-engine/index#mysqld-startup-options-for-s3">mysqld startup options for S3</a>. </li>
<li>
<strong>Commandline:</strong> <code class="fixed" style="white-space:pre-wrap">--s3-block-size=#</code> </li>
<li>
<strong>Scope:</strong> </li>
<li>
<strong>Dynamic:</strong> </li>
<li>
<strong>Data Type:</strong> Numeric </li>
<li>
<strong>Default Value:</strong> </li>
<li>
<strong>Introduced:</strong> <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a> </li>
</ul> <hr> <h4 class="anchored_heading" id="s3_bucket"><code>s3_bucket</code></h4> <ul start="1">
<li>
<strong>Description:</strong> The AWS bucket where your data should be stored. All MariaDB table data is stored in this bucket. See <a href="../using-the-s3-storage-engine/index#mysqld-startup-options-for-s3">mysqld startup options for S3</a>. </li>
<li>
<strong>Commandline:</strong> <code class="fixed" style="white-space:pre-wrap">--s3-bucket=val</code> </li>
<li>
<strong>Scope:</strong> </li>
<li>
<strong>Dynamic:</strong> </li>
<li>
<strong>Data Type:</strong> </li>
<li>
<strong>Default Value:</strong> </li>
<li>
<strong>Introduced:</strong> <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a> </li>
</ul> <hr> <h4 class="anchored_heading" id="s3_debug"><code>s3_debug</code></h4> <ul start="1">
<li>
<strong>Description:</strong> Generates a trace file from libmarias3 on stderr (mysqld.err) for debugging the S3 protocol. </li>
<li>
<strong>Commandline:</strong> <code class="fixed" style="white-space:pre-wrap">--s3-debug{=0|1}</code> </li>
<li>
<strong>Scope:</strong> </li>
<li>
<strong>Dynamic:</strong> No </li>
<li>
<strong>Data Type:</strong> Boolean </li>
<li>
<strong>Valid Values:</strong> 0 or 1 </li>
<li>
<strong>Default Value:</strong> 0 </li>
<li>
<strong>Introduced:</strong> <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a> </li>
</ul> <hr> <h4 class="anchored_heading" id="s3_host_name"><code>s3_host_name</code></h4> <ul start="1">
<li>
<strong>Description:</strong> Hostname for the S3 service. "s3.amazonaws.com", Amazon S3 service, by default </li>
<li>
<strong>Commandline:</strong> <code class="fixed" style="white-space:pre-wrap">--s3-host-name=val</code> </li>
<li>
<strong>Scope:</strong> </li>
<li>
<strong>Dynamic:</strong> </li>
<li>
<strong>Data Type:</strong> </li>
<li>
<strong>Default Value:</strong> "s3.amazonaws.com" </li>
<li>
<strong>Introduced:</strong> <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a> </li>
</ul> <hr> <h4 class="anchored_heading" id="s3_pagecache_age_threshold"><code>s3_pagecache_age_threshold</code></h4> <ul start="1">
<li>
<strong>Description:</strong> This characterizes the number of hits a hot block has to be untouched until it is considered aged enough to be downgraded to a warm block. This specifies the percentage ratio of that number of hits to the total number of blocks in the page cache. </li>
<li>
<strong>Commandline:</strong> <code class="fixed" style="white-space:pre-wrap">--s3-pagecache-age-threshold=val</code> </li>
<li>
<strong>Scope:</strong> </li>
<li>
<strong>Dynamic:</strong> Yes </li>
<li>
<strong>Data Type:</strong> Numeric </li>
<li>
<strong>Default Value:</strong> 300 </li>
<li>
<strong>Introduced:</strong> <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a> </li>
</ul> <hr> <h4 class="anchored_heading" id="s3_pagecache_buffer_size"><code>s3_pagecache_buffer_size</code></h4> <ul start="1">
<li>
<strong>Description:</strong> The size of the buffer used for index blocks for S3 tables. Increase this to get better index handling (for all reads and multiple writes) to as much as you can afford. </li>
<li>
<strong>Commandline:</strong> <code class="fixed" style="white-space:pre-wrap">--s3-pagecache-buffer-size=val</code> </li>
<li>
<strong>Scope:</strong> </li>
<li>
<strong>Dynamic:</strong> No </li>
<li>
<strong>Data Type:</strong> Numeric </li>
<li>
<strong>Default Value:</strong> 128M </li>
<li>
<strong>Introduced:</strong> <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a> </li>
</ul> <hr> <h4 class="anchored_heading" id="s3_pagecache_division_limit"><code>s3_pagecache_division_limit</code></h4> <ul start="1">
<li>
<strong>Description:</strong> The minimum percentage of warm blocks in key cache. </li>
<li>
<strong>Commandline:</strong> <code class="fixed" style="white-space:pre-wrap">--s3-pagecache-division-limit=val</code> </li>
<li>
<strong>Scope:</strong> </li>
<li>
<strong>Dynamic:</strong> </li>
<li>
<strong>Data Type:</strong> Numeric </li>
<li>
<strong>Default Value:</strong> 100 </li>
<li>
<strong>Introduced:</strong> <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a> </li>
</ul> <hr> <h4 class="anchored_heading" id="s3_pagecache_file_hash_size"><code>s3_pagecache_file_hash_size</code></h4> <ul start="1">
<li>
<strong>Description:</strong> Number of hash buckets for open files. Default 512. If you have a lot of S3 files open you should increase this for faster flush of changes. A good value is probably 1/10 of number of possible open S3 files. </li>
<li>
<strong>Commandline:</strong> <code class="fixed" style="white-space:pre-wrap">--s3-pagecache-file-hash-size=#</code> </li>
<li>
<strong>Scope:</strong> </li>
<li>
<strong>Dynamic:</strong> </li>
<li>
<strong>Data Type:</strong> Numeric </li>
<li>
<strong>Default Value:</strong> 512 </li>
<li>
<strong>Introduced:</strong> <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a> </li>
</ul> <hr> <h4 class="anchored_heading" id="s3_protocol_version"><code>s3_protocol_version</code></h4> <ul start="1">
<li>
<strong>Description:</strong> Protocol used to communication with S3. One of "Auto", "Amazon" or "Original" where "Auto" is the default. If you get errors like "8 Access Denied" when you are connecting to another service provider, then try to change this option. The reason for this variable is that Amazon has changed some parts of the S3 protocol since they originally introduced it but other service providers are still using the original protocol. </li>
<li>
<strong>Commandline:</strong> <code class="fixed" style="white-space:pre-wrap">--s3-protocol-version=val</code> </li>
<li>
<strong>Scope:</strong> </li>
<li>
<strong>Dynamic:</strong> </li>
<li>
<strong>Data Type:</strong> Enum </li>
<li>
<strong>Valid Values:</strong> <code>Auto</code>, <code>Amazon</code> or <code>Original</code> </li>
<li>
<strong>Default Value:</strong> "Amazon" </li>
<li>
<strong>Introduced:</strong> <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a> </li>
</ul> <hr> <h4 class="anchored_heading" id="s3_region"><code>s3_region</code></h4> <ul start="1">
<li>
<strong>Description:</strong> The AWS region where your data should be stored. See <a href="../using-the-s3-storage-engine/index#mysqld-startup-options-for-s3">mysqld startup options for S3</a>. </li>
<li>
<strong>Commandline:</strong> <code class="fixed" style="white-space:pre-wrap">--s3-region=val</code> </li>
<li>
<strong>Scope:</strong> </li>
<li>
<strong>Dynamic:</strong> </li>
<li>
<strong>Data Type:</strong> </li>
<li>
<strong>Default Value:</strong> </li>
<li>
<strong>Introduced:</strong> <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a> </li>
</ul> <hr> <h4 class="anchored_heading" id="s3_secret_key"><code>s3_secret_key</code></h4> <ul start="1">
<li>
<strong>Description:</strong> The AWS secret key to access your data. See <a href="../using-the-s3-storage-engine/index#mysqld-startup-options-for-s3">mysqld startup options for S3</a>. </li>
<li>
<strong>Commandline:</strong> <code class="fixed" style="white-space:pre-wrap">--s3-secret-key=val</code> </li>
<li>
<strong>Scope:</strong> </li>
<li>
<strong>Dynamic:</strong> </li>
<li>
<strong>Data Type:</strong> </li>
<li>
<strong>Default Value:</strong> </li>
<li>
<strong>Introduced:</strong> <a href="https://mariadb.com/kb/en/mariadb-1050-release-notes/">MariaDB 10.5.0</a> </li>
</ul> <hr> </div>     </div> <div id="content_disclaimer" class="graybox"> Content reproduced on this site is the property of its respective owners, and this content is not reviewed in advance by MariaDB. The views, information and opinions expressed by this content do not necessarily represent those of MariaDB or any other party. </div> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2019 MariaDB<br>Licensed under the Creative Commons Attribution 3.0 Unported License and the GNU Free Documentation License.<br>
    <a href="https://mariadb.com/kb/en/s3-storage-engine-system-variables/" class="_attribution-link">https://mariadb.com/kb/en/s3-storage-engine-system-variables/</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
