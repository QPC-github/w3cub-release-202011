
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>ActiveSupport&#58;&#58;Deprecation&#58;&#58;Reporting - Ruby on Rails 7.0 - W3cubDocs</title>
  
  <meta name="description" content=" Name of gem where method is deprecated ">
  <meta name="keywords" content="module, activesupport, deprecation, reporting, ruby, on, rails, rails~7.0">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/rails~7.0/activesupport/deprecation/reporting.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/rails~7.0.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/rails~7.0/" class="_nav-link" title="" style="margin-left:0;">Ruby on Rails 7.0</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _rdoc">
				
				
<h1 id="module-ActiveSupport::Deprecation::Reporting" class="module"> module ActiveSupport::Deprecation::Reporting </h1>  <section id="5Buntitled-5D" class="documentation-section"> <section class="constants-list"> <header> <h3>Constants</h3> </header> <dl> <dt id="RAILS_GEM_ROOT">RAILS_GEM_ROOT </dt>

</dl> </section> <section class="attribute-method-details"> <header> <h3>Attributes</h3> </header> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-gem_name"> <span class="method-name">gem_name</span><span class="attribute-access-type">[RW]</span> </div> <div class="method-description"> <p>Name of gem where method is deprecated</p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-silenced"> <span class="method-name">silenced</span><span class="attribute-access-type">[W]</span> </div> <div class="method-description"> <p>Whether to print a message (silent mode)</p> </div> </div> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-i-allow"> <span class="method-name">allow</span><span class="method-args">(allowed_warnings = :all, if: true) { || ... }</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="allow-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/deprecation/reporting.rb, line 72
def allow(allowed_warnings = :all, if: true, &amp;block)
  conditional = binding.local_variable_get(:if)
  conditional = conditional.call if conditional.respond_to?(:call)
  if conditional
    @explicitly_allowed_warnings.bind(allowed_warnings, &amp;block)
  else
    yield
  end
end</pre> </div> <p>Allow previously disallowed deprecation warnings within the block. <code>allowed_warnings</code> can be an array containing strings, symbols, or regular expressions. (Symbols are treated as strings). These are compared against the text of deprecation warning messages generated within the block. Matching warnings will be exempt from the rules set by <code>ActiveSupport::Deprecation.disallowed_warnings</code></p> <p>The optional <code>if:</code> argument accepts a truthy/falsy value or an object that responds to <code>.call</code>. If truthy, then matching warnings will be allowed. If falsey then the method yields to the block without allowing the warning.</p> <pre class="ruby" data-language="ruby">ActiveSupport::Deprecation.disallowed_behavior = :raise
ActiveSupport::Deprecation.disallowed_warnings = [
  "something broke"
]

ActiveSupport::Deprecation.warn('something broke!')
# =&gt; ActiveSupport::DeprecationException

ActiveSupport::Deprecation.allow ['something broke'] do
  ActiveSupport::Deprecation.warn('something broke!')
end
# =&gt; nil

ActiveSupport::Deprecation.allow ['something broke'], if: Rails.env.production? do
  ActiveSupport::Deprecation.warn('something broke!')
end
# =&gt; ActiveSupport::DeprecationException for dev/test, nil for production
</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-deprecation_warning"> <span class="method-name">deprecation_warning</span><span class="method-args">(deprecated_method_name, message = nil, caller_backtrace = nil)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="deprecation_warning-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/deprecation/reporting.rb, line 86
def deprecation_warning(deprecated_method_name, message = nil, caller_backtrace = nil)
  caller_backtrace ||= caller_locations(2)
  deprecated_method_warning(deprecated_method_name, message).tap do |msg|
    warn(msg, caller_backtrace)
  end
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-silence"> <span class="method-name">silence</span><span class="method-args">(&amp;block)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="silence-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/deprecation/reporting.rb, line 40
def silence(&amp;block)
  @silenced_thread.bind(true, &amp;block)
end</pre> </div> <p>Silence deprecation warnings within the block.</p> <pre class="ruby" data-language="ruby">ActiveSupport::Deprecation.warn('something broke!')
# =&gt; "DEPRECATION WARNING: something broke! (called from your_code.rb:1)"

ActiveSupport::Deprecation.silence do
  ActiveSupport::Deprecation.warn('something broke!')
end
# =&gt; nil
</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-silenced"> <span class="method-name">silenced</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="silenced-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/deprecation/reporting.rb, line 82
def silenced
  @silenced || @silenced_thread.value
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-warn"> <span class="method-name">warn</span><span class="method-args">(message = nil, callstack = nil)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="warn-source"> <pre class="ruby" data-language="ruby"># File activesupport/lib/active_support/deprecation/reporting.rb, line 18
def warn(message = nil, callstack = nil)
  return if silenced

  callstack ||= caller_locations(2)
  deprecation_message(callstack, message).tap do |m|
    if deprecation_disallowed?(message)
      disallowed_behavior.each { |b| b.call(m, callstack, deprecation_horizon, gem_name) }
    else
      behavior.each { |b| b.call(m, callstack, deprecation_horizon, gem_name) }
    end
  end
end</pre> </div> <p>Outputs a deprecation warning to the output configured by <code>ActiveSupport::Deprecation.behavior</code>.</p> <pre class="ruby" data-language="ruby">ActiveSupport::Deprecation.warn('something broke!')
# =&gt; "DEPRECATION WARNING: something broke! (called from your_code.rb:1)"
</pre>  </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    © 2004–2021 David Heinemeier Hansson<br>Licensed under the MIT License.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
