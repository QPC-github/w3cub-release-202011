
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>ActionDispatch&#58;&#58;SystemTesting&#58;&#58;TestHelpers&#58;&#58;ScreenshotHelper - Ruby on Rails 7.0 - W3cubDocs</title>
  
  <meta name="description" content=" Screenshot helper for system testing. ">
  <meta name="keywords" content="module, actiondispatch, systemtesting, testhelpers, screenshothelper, ruby, on, rails, rails~7.0">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/rails~7.0/actiondispatch/systemtesting/testhelpers/screenshothelper.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/rails~7.0.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/rails~7.0/" class="_nav-link" title="" style="margin-left:0;">Ruby on Rails 7.0</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _rdoc">
				
				
<h1 id="module-ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper" class="module"> module ActionDispatch::SystemTesting::TestHelpers::ScreenshotHelper </h1> <section class="description"> <p>Screenshot helper for system testing.</p> </section> <section id="5Buntitled-5D" class="documentation-section"> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-i-take_failed_screenshot"> <span class="method-name">take_failed_screenshot</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="take_failed_screenshot-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb, line 44
def take_failed_screenshot
  take_screenshot if failed? &amp;&amp; supports_screenshot? &amp;&amp; Capybara::Session.instance_created?
end</pre> </div> <p>Takes a screenshot of the current page in the browser if the test failed.</p> <p><code>take_failed_screenshot</code> is called during system test teardown.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-take_screenshot"> <span class="method-name">take_screenshot</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="take_screenshot-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb, line 33
def take_screenshot
  increment_unique
  save_html if save_html?
  save_image
  puts display_image
end</pre> </div> <p>Takes a screenshot of the current page in the browser.</p> <p><code>take_screenshot</code> can be used at any point in your system tests to take a screenshot of the current state. This can be useful for debugging or automating visual testing. You can take multiple screenshots per test to investigate changes at different points during your test. These will be named with a sequential prefix (or 'failed' for failing tests)</p> <p>The screenshot will be displayed in your console, if supported.</p> <p>The default screenshots directory is <code>tmp/screenshots</code> but you can set a different one with <code>Capybara.save_path</code></p> <p>You can set the <code>RAILS_SYSTEM_TESTING_SCREENSHOT_HTML</code> environment variable to save the HTML from the page that is being screenshotted so you can investigate the elements on the page at the time of the screenshot</p> <p>You can set the <code>RAILS_SYSTEM_TESTING_SCREENSHOT</code> environment variable to control the output. Possible values are:</p> <ul>
<li>
<dl class="rdoc-list label-list">
<dt>
<code>simple</code> (default) </dt>
<dd> <p>Only displays the screenshot path. This is the default value.</p> </dd>
</dl> </li>
<li>
<dl class="rdoc-list label-list">
<dt>
<code>inline</code> </dt>
<dd> <p>Display the screenshot in the terminal using the iTerm image protocol (<a href="https://iterm2.com/documentation-images.html">iterm2.com/documentation-images.html</a>).</p> </dd>
</dl> </li>
<li>
<dl class="rdoc-list label-list">
<dt>
<code>artifact</code> </dt>
<dd> <p>Display the screenshot in the terminal, using the terminal artifact format (<a href="https://buildkite.github.io/terminal-to-html/inline-images">buildkite.github.io/terminal-to-html/inline-images</a>/).</p> </dd>
</dl> </li>
</ul>  </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    © 2004–2021 David Heinemeier Hansson<br>Licensed under the MIT License.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
