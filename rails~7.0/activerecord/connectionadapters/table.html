
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>ActiveRecord&#58;&#58;ConnectionAdapters&#58;&#58;Table - Ruby on Rails 7.0 - W3cubDocs</title>
  
  <meta name="description" content=" Represents an SQL table in an abstract way for updating a table. Also see TableDefinition and connection.create_table ">
  <meta name="keywords" content="class, activerecord, connectionadapters, table, ruby, on, rails, rails~7.0">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/rails~7.0/activerecord/connectionadapters/table.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-60a6449bb52e9968d95c133a29f066ffcb8dbe4f077d4022e51c991ce30bf256c8e19c508207a4193c414ffd0414826564317669b0f27f9f85c1cb21b84e097e.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/rails~7.0.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/rails~7.0/" class="_nav-link" title="" style="margin-left:0;">Ruby on Rails 7.0</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _rdoc">
				
				
<h1 id="class-ActiveRecord::ConnectionAdapters::Table" class="class"> class ActiveRecord::ConnectionAdapters::Table </h1>
<dl class="meta">
<dt>Parent:</dt>
<dd class="meta-parent"><a href="../../object">Object</a></dd>
<dt>Included modules:</dt>
<dd class="meta-includes"><a class="include" href="columnmethods">ActiveRecord::ConnectionAdapters::ColumnMethods</a></dd>
</dl> <section class="description"> <p>Represents an SQL table in an abstract way for updating a table. Also see <a href="tabledefinition"><code>TableDefinition</code></a> and <a href="schemastatements#method-i-create_table">connection.create_table</a></p> <p>Available transformations are:</p> <pre class="ruby" data-language="ruby">change_table :table do |t|
  t.primary_key
  t.column
  t.index
  t.rename_index
  t.timestamps
  t.change
  t.change_default
  t.change_null
  t.rename
  t.references
  t.belongs_to
  t.check_constraint
  t.string
  t.text
  t.integer
  t.bigint
  t.float
  t.decimal
  t.numeric
  t.datetime
  t.timestamp
  t.time
  t.date
  t.binary
  t.blob
  t.boolean
  t.foreign_key
  t.json
  t.virtual
  t.remove
  t.remove_foreign_key
  t.remove_references
  t.remove_belongs_to
  t.remove_index
  t.remove_check_constraint
  t.remove_timestamps
end
</pre> </section> <section id="5Buntitled-5D" class="documentation-section"> <section class="attribute-method-details"> <header> <h3>Attributes</h3> </header> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-name"> <span class="method-name">name</span><span class="attribute-access-type">[R]</span> </div>  </div> </section> <section id="public-class-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Class Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-c-new"> <span class="method-name">new</span><span class="method-args">(table_name, base)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="new-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 614
def initialize(table_name, base)
  @name = table_name
  @base = base
end</pre> </div>  </div> </div> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-belongs_to"> <span class="method-name">belongs_to</span><span class="method-args">(*args, **options)</span> </div>  <div class="aliases"> Alias for: <a href="table#method-i-references">references</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-change"> <span class="method-name">change</span><span class="method-args">(column_name, type, **options)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="change-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 688
def change(column_name, type, **options)
  @base.change_column(name, column_name, type, **options)
end</pre> </div> <p>Changes the column's definition according to the new options.</p> <pre class="ruby" data-language="ruby">t.change(:name, :string, limit: 80)
t.change(:description, :text)
</pre> <p>See <a href="tabledefinition#method-i-column"><code>TableDefinition#column</code></a> for details of the options you can use.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-change_default"> <span class="method-name">change_default</span><span class="method-args">(column_name, default_or_changes)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="change_default-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 699
def change_default(column_name, default_or_changes)
  @base.change_column_default(name, column_name, default_or_changes)
end</pre> </div> <p>Sets a new default value for a column.</p> <pre class="ruby" data-language="ruby">t.change_default(:qualification, 'new')
t.change_default(:authorized, 1)
t.change_default(:status, from: nil, to: "draft")
</pre> <p>See <a href="schemastatements#method-i-change_column_default">connection.change_column_default</a></p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-change_null"> <span class="method-name">change_null</span><span class="method-args">(column_name, null, default = nil)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="change_null-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 709
def change_null(column_name, null, default = nil)
  @base.change_column_null(name, column_name, null, default)
end</pre> </div> <p>Sets or removes a NOT NULL constraint on a column.</p> <pre class="ruby" data-language="ruby">t.change_null(:qualification, true)
t.change_null(:qualification, false, 0)
</pre> <p>See <a href="schemastatements#method-i-change_column_null">connection.change_column_null</a></p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-check_constraint"> <span class="method-name">check_constraint</span><span class="method-args">(*args)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="check_constraint-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 813
def check_constraint(*args)
  @base.add_check_constraint(name, *args)
end</pre> </div> <p>Adds a check constraint.</p> <pre class="ruby" data-language="ruby">t.check_constraint("price &gt; 0", name: "price_check")
</pre> <p>See <a href="schemastatements#method-i-add_check_constraint">connection.add_check_constraint</a></p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-column"> <span class="method-name">column</span><span class="method-args">(column_name, type, index: nil, **options)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="column-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 624
def column(column_name, type, index: nil, **options)
  @base.add_column(name, column_name, type, **options)
  if index
    index_options = index.is_a?(Hash) ? index : {}
    index(column_name, **index_options)
  end
end</pre> </div> <p>Adds a new column to the named table.</p> <pre class="ruby" data-language="ruby">t.column(:name, :string)
</pre> <p>See <a href="tabledefinition#method-i-column"><code>TableDefinition#column</code></a> for details of the options you can use.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-column_exists-3F"> <span class="method-name">column_exists?</span><span class="method-args">(column_name, type = nil, **options)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="column_exists-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 637
def column_exists?(column_name, type = nil, **options)
  @base.column_exists?(name, column_name, type, **options)
end</pre> </div> <p>Checks to see if a column exists.</p> <pre class="ruby" data-language="ruby">t.string(:name) unless t.column_exists?(:name, :string)
</pre> <p>See <a href="schemastatements#method-i-column_exists-3F">connection.column_exists?</a></p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-foreign_key"> <span class="method-name">foreign_key</span><span class="method-args">(*args, **options)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="foreign_key-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 785
def foreign_key(*args, **options)
  @base.add_foreign_key(name, *args, **options)
end</pre> </div> <p>Adds a foreign key to the table using a supplied table name.</p> <pre class="ruby" data-language="ruby">t.foreign_key(:authors)
t.foreign_key(:authors, column: :author_id, primary_key: "id")
</pre> <p>See <a href="schemastatements#method-i-add_foreign_key">connection.add_foreign_key</a></p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-foreign_key_exists-3F"> <span class="method-name">foreign_key_exists?</span><span class="method-args">(*args, **options)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="foreign_key_exists-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 804
def foreign_key_exists?(*args, **options)
  @base.foreign_key_exists?(name, *args, **options)
end</pre> </div> <p>Checks to see if a foreign key exists.</p> <pre class="ruby" data-language="ruby">t.foreign_key(:authors) unless t.foreign_key_exists?(:authors)
</pre> <p>See <a href="schemastatements#method-i-foreign_key_exists-3F">connection.foreign_key_exists?</a></p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-index"> <span class="method-name">index</span><span class="method-args">(column_name, **options)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="index-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 649
def index(column_name, **options)
  @base.add_index(name, column_name, **options)
end</pre> </div> <p>Adds a new index to the table. <code>column_name</code> can be a single <span><code>Symbol</code></span>, or an <a href="../../array"><code>Array</code></a> of Symbols.</p> <pre class="ruby" data-language="ruby">t.index(:name)
t.index([:branch_id, :party_id], unique: true)
t.index([:branch_id, :party_id], unique: true, name: 'by_branch_party')
</pre> <p>See <a href="schemastatements#method-i-add_index">connection.add_index</a> for details of the options you can use.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-index_exists-3F"> <span class="method-name">index_exists?</span><span class="method-args">(column_name, options = {})</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="index_exists-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 660
def index_exists?(column_name, options = {})
  @base.index_exists?(name, column_name, options)
end</pre> </div> <p>Checks to see if an index exists.</p> <pre class="ruby" data-language="ruby">unless t.index_exists?(:branch_id)
  t.index(:branch_id)
end
</pre> <p>See <a href="schemastatements#method-i-index_exists-3F">connection.index_exists?</a></p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-references"> <span class="method-name">references</span><span class="method-args">(*args, **options)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="references-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 759
def references(*args, **options)
  args.each do |ref_name|
    @base.add_reference(name, ref_name, **options)
  end
end</pre> </div> <p>Adds a reference.</p> <pre class="ruby" data-language="ruby">t.references(:user)
t.belongs_to(:supplier, foreign_key: true)
</pre> <p>See <a href="schemastatements#method-i-add_reference">connection.add_reference</a> for details of the options you can use.</p>  </div> <div class="aliases"> Also aliased as: <a href="table#method-i-belongs_to">belongs_to</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-remove"> <span class="method-name">remove</span><span class="method-args">(*column_names, **options)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="remove-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 719
def remove(*column_names, **options)
  @base.remove_columns(name, *column_names, **options)
end</pre> </div> <p>Removes the column(s) from the table definition.</p> <pre class="ruby" data-language="ruby">t.remove(:qualification)
t.remove(:qualification, :experience)
</pre> <p>See <a href="schemastatements#method-i-remove_columns">connection.remove_columns</a></p>  </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-remove_belongs_to"> <span class="method-name">remove_belongs_to</span><span class="method-args">(*args, **options)</span> </div>  <div class="aliases"> Alias for: <a href="table#method-i-remove_references">remove_references</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-remove_check_constraint"> <span class="method-name">remove_check_constraint</span><span class="method-args">(*args)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="remove_check_constraint-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 822
def remove_check_constraint(*args)
  @base.remove_check_constraint(name, *args)
end</pre> </div> <p>Removes the given check constraint from the table.</p> <pre class="ruby" data-language="ruby">t.remove_check_constraint(name: "price_check")
</pre> <p>See <a href="schemastatements#method-i-remove_check_constraint">connection.remove_check_constraint</a></p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-remove_foreign_key"> <span class="method-name">remove_foreign_key</span><span class="method-args">(*args, **options)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="remove_foreign_key-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 795
def remove_foreign_key(*args, **options)
  @base.remove_foreign_key(name, *args, **options)
end</pre> </div> <p>Removes the given foreign key from the table.</p> <pre class="ruby" data-language="ruby">t.remove_foreign_key(:authors)
t.remove_foreign_key(column: :author_id)
</pre> <p>See <a href="schemastatements#method-i-remove_foreign_key">connection.remove_foreign_key</a></p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-remove_index"> <span class="method-name">remove_index</span><span class="method-args">(column_name = nil, **options)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="remove_index-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 731
def remove_index(column_name = nil, **options)
  @base.remove_index(name, column_name, **options)
end</pre> </div> <p>Removes the given index from the table.</p> <pre class="ruby" data-language="ruby">t.remove_index(:branch_id)
t.remove_index(column: [:branch_id, :party_id])
t.remove_index(name: :by_branch_party)
t.remove_index(:branch_id, name: :by_branch_party)
</pre> <p>See <a href="schemastatements#method-i-remove_index">connection.remove_index</a></p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-remove_references"> <span class="method-name">remove_references</span><span class="method-args">(*args, **options)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="remove_references-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 772
def remove_references(*args, **options)
  args.each do |ref_name|
    @base.remove_reference(name, ref_name, **options)
  end
end</pre> </div> <p>Removes a reference. Optionally removes a <code>type</code> column.</p> <pre class="ruby" data-language="ruby">t.remove_references(:user)
t.remove_belongs_to(:supplier, polymorphic: true)
</pre> <p>See <a href="schemastatements#method-i-remove_reference">connection.remove_reference</a></p>  </div> <div class="aliases"> Also aliased as: <a href="table#method-i-remove_belongs_to">remove_belongs_to</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-remove_timestamps"> <span class="method-name">remove_timestamps</span><span class="method-args">(**options)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="remove_timestamps-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 740
def remove_timestamps(**options)
  @base.remove_timestamps(name, **options)
end</pre> </div> <p>Removes the timestamp columns (<code>created_at</code> and <code>updated_at</code>) from the table.</p> <pre class="ruby" data-language="ruby">t.remove_timestamps
</pre> <p>See <a href="schemastatements#method-i-remove_timestamps">connection.remove_timestamps</a></p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-rename"> <span class="method-name">rename</span><span class="method-args">(column_name, new_column_name)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="rename-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 749
def rename(column_name, new_column_name)
  @base.rename_column(name, column_name, new_column_name)
end</pre> </div> <p>Renames a column.</p> <pre class="ruby" data-language="ruby">t.rename(:description, :name)
</pre> <p>See <a href="schemastatements#method-i-rename_column">connection.rename_column</a></p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-rename_index"> <span class="method-name">rename_index</span><span class="method-args">(index_name, new_index_name)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="rename_index-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 669
def rename_index(index_name, new_index_name)
  @base.rename_index(name, index_name, new_index_name)
end</pre> </div> <p>Renames the given index on the table.</p> <pre class="ruby" data-language="ruby">t.rename_index(:user_id, :account_id)
</pre> <p>See <a href="schemastatements#method-i-rename_index">connection.rename_index</a></p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-timestamps"> <span class="method-name">timestamps</span><span class="method-args">(**options)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="timestamps-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/connection_adapters/abstract/schema_definitions.rb, line 678
def timestamps(**options)
  @base.add_timestamps(name, **options)
end</pre> </div> <p>Adds timestamps (<code>created_at</code> and <code>updated_at</code>) columns to the table.</p> <pre class="ruby" data-language="ruby">t.timestamps(null: false)
</pre> <p>See <a href="schemastatements#method-i-add_timestamps">connection.add_timestamps</a></p>  </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    © 2004–2021 David Heinemeier Hansson<br>Licensed under the MIT License.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
