
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>ActiveRecord&#58;&#58;Core - Ruby on Rails 7.0 - W3cubDocs</title>
  
  <meta name="description" content=" Returns fully resolved ActiveRecord&#58;&#58;DatabaseConfigurations object ">
  <meta name="keywords" content="module, activerecord, core, ruby, on, rails, rails~7.0">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/rails~7.0/activerecord/core.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-60a6449bb52e9968d95c133a29f066ffcb8dbe4f077d4022e51c991ce30bf256c8e19c508207a4193c414ffd0414826564317669b0f27f9f85c1cb21b84e097e.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/rails~7.0.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/rails~7.0/" class="_nav-link" title="" style="margin-left:0;">Ruby on Rails 7.0</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _rdoc">
				
				
<h1 id="module-ActiveRecord::Core" class="module"> module ActiveRecord::Core </h1>  <section id="5Buntitled-5D" class="documentation-section"> <section class="attribute-method-details"> <header> <h3>Attributes</h3> </header> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-strict_loading_mode"> <span class="method-name">strict_loading_mode</span><span class="attribute-access-type">[R]</span> </div>  </div> </section> <section id="public-class-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Class Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-c-configurations"> <span class="method-name">configurations</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="configurations-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 56
def self.configurations
  @@configurations
end</pre> </div> <p>Returns fully resolved <a href="databaseconfigurations"><code>ActiveRecord::DatabaseConfigurations</code></a> object</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-configurations-3D"> <span class="method-name">configurations=</span><span class="method-args">(config)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="configurations-3D-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 50
def self.configurations=(config)
  @@configurations = ActiveRecord::DatabaseConfigurations.new(config)
end</pre> </div> <p>Contains the database configuration - as is typically stored in config/database.yml - as an <a href="databaseconfigurations"><code>ActiveRecord::DatabaseConfigurations</code></a> object.</p> <p>For example, the following database.yml…</p> <pre>development:
  adapter: sqlite3
  database: db/development.sqlite3

production:
  adapter: sqlite3
  database: db/production.sqlite3</pre> <p>…would result in <a href="core#method-c-configurations"><code>ActiveRecord::Base.configurations</code></a> to look like this:</p> <pre>#&lt;ActiveRecord::DatabaseConfigurations:0x00007fd1acbdf800 @configurations=[
  #&lt;ActiveRecord::DatabaseConfigurations::HashConfig:0x00007fd1acbded10 @env_name="development",
    @name="primary", @config={adapter: "sqlite3", database: "db/development.sqlite3"}&gt;,
  #&lt;ActiveRecord::DatabaseConfigurations::HashConfig:0x00007fd1acbdea90 @env_name="production",
    @name="primary", @config={adapter: "sqlite3", database: "db/production.sqlite3"}&gt;
]&gt;</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-connection_handler"> <span class="method-name">connection_handler</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="connection_handler-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 94
def self.connection_handler
  ActiveSupport::IsolatedExecutionState[:active_record_connection_handler] || default_connection_handler
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-connection_handler-3D"> <span class="method-name">connection_handler=</span><span class="method-args">(handler)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="connection_handler-3D-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 98
def self.connection_handler=(handler)
  ActiveSupport::IsolatedExecutionState[:active_record_connection_handler] = handler
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-connection_handlers"> <span class="method-name">connection_handlers</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="connection_handlers-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 102
def self.connection_handlers
  if ActiveRecord.legacy_connection_handling
  else
    raise NotImplementedError, "The new connection handling does not support accessing multiple connection handlers."
  end

  @@connection_handlers ||= {}
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-connection_handlers-3D"> <span class="method-name">connection_handlers=</span><span class="method-args">(handlers)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="connection_handlers-3D-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 111
      def self.connection_handlers=(handlers)
        if ActiveRecord.legacy_connection_handling
          ActiveSupport::Deprecation.warn(&lt;&lt;~MSG)
            Using legacy connection handling is deprecated. Please set
            `legacy_connection_handling` to `false` in your application.

            The new connection handling does not support `connection_handlers`
            getter and setter.

            Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
          MSG
        else
          raise NotImplementedError, "The new connection handling does not support multiple connection handlers."
        end

        @@connection_handlers = handlers
      end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-current_preventing_writes"> <span class="method-name">current_preventing_writes</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="current_preventing_writes-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 188
def self.current_preventing_writes
  if ActiveRecord.legacy_connection_handling
    connection_handler.prevent_writes
  else
    connected_to_stack.reverse_each do |hash|
      return hash[:prevent_writes] if !hash[:prevent_writes].nil? &amp;&amp; hash[:klasses].include?(Base)
      return hash[:prevent_writes] if !hash[:prevent_writes].nil? &amp;&amp; hash[:klasses].include?(connection_class_for_self)
    end

    false
  end
end</pre> </div> <p>Returns the symbol representing the current setting for preventing writes.</p> <pre class="ruby" data-language="ruby">ActiveRecord::Base.connected_to(role: :reading) do
  ActiveRecord::Base.current_preventing_writes #=&gt; true
end

ActiveRecord::Base.connected_to(role: :writing) do
  ActiveRecord::Base.current_preventing_writes #=&gt; false
end
</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-current_role"> <span class="method-name">current_role</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="current_role-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 147
def self.current_role
  if ActiveRecord.legacy_connection_handling
    connection_handlers.key(connection_handler) || default_role
  else
    connected_to_stack.reverse_each do |hash|
      return hash[:role] if hash[:role] &amp;&amp; hash[:klasses].include?(Base)
      return hash[:role] if hash[:role] &amp;&amp; hash[:klasses].include?(connection_class_for_self)
    end

    default_role
  end
end</pre> </div> <p>Returns the symbol representing the current connected role.</p> <pre class="ruby" data-language="ruby">ActiveRecord::Base.connected_to(role: :writing) do
  ActiveRecord::Base.current_role #=&gt; :writing
end

ActiveRecord::Base.connected_to(role: :reading) do
  ActiveRecord::Base.current_role #=&gt; :reading
end
</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-current_shard"> <span class="method-name">current_shard</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="current_shard-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 169
def self.current_shard
  connected_to_stack.reverse_each do |hash|
    return hash[:shard] if hash[:shard] &amp;&amp; hash[:klasses].include?(Base)
    return hash[:shard] if hash[:shard] &amp;&amp; hash[:klasses].include?(connection_class_for_self)
  end

  default_shard
end</pre> </div> <p>Returns the symbol representing the current connected shard.</p> <pre class="ruby" data-language="ruby">ActiveRecord::Base.connected_to(role: :reading) do
  ActiveRecord::Base.current_shard #=&gt; :default
end

ActiveRecord::Base.connected_to(role: :writing, shard: :one) do
  ActiveRecord::Base.current_shard #=&gt; :one
end
</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-new"> <span class="method-name">new</span><span class="method-args">(attributes = nil) { |self| ... }</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="new-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 461
def initialize(attributes = nil)
  @new_record = true
  @attributes = self.class._default_attributes.deep_dup

  init_internals
  initialize_internals_callback

  assign_attributes(attributes) if attributes

  yield self if block_given?
  _run_initialize_callbacks
end</pre> </div> <p>New objects can be instantiated as either empty (pass no construction parameter) or pre-set with attributes but not yet saved (pass a hash with key names matching the associated table column names). In both instances, valid attribute keys are determined by the column names of the associated table – hence you can't have attributes that aren't part of the table columns.</p> <h4 id="method-c-new-label-Example-3A">Example:</h4> <pre class="ruby" data-language="ruby"># Instantiates a single new object
User.new(first_name: 'Jamie')
</pre>  </div> </div> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-i-3C-3D-3E"> <span class="method-name">&lt;=&gt;</span><span class="method-args">(other_object)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="3C-3D-3E-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 614
def &lt;=&gt;(other_object)
  if other_object.is_a?(self.class)
    to_key &lt;=&gt; other_object.to_key
  else
    super
  end
end</pre> </div> <p>Allows sort on objects</p> <div class="method-calls-super"> Calls superclass method </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-3D-3D"> <span class="method-name">==</span><span class="method-args">(comparison_object)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="3D-3D-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 580
def ==(comparison_object)
  super ||
    comparison_object.instance_of?(self.class) &amp;&amp;
    !id.nil? &amp;&amp;
    comparison_object.id == id
end</pre> </div> <p>Returns true if <code>comparison_object</code> is the same exact object, or <code>comparison_object</code> is of the same type and <code>self</code> has an ID and it is equal to <code>comparison_object.id</code>.</p> <p>Note that new records are different from any other record by definition, unless the other record is the receiver itself. Besides, if you fetch existing records with <code>select</code> and leave the ID out, you're on your own, this predicate will return false.</p> <p>Note also that destroying a record preserves its ID in the model instance, so deleted models are still comparable.</p> <div class="method-calls-super"> Calls superclass method </div>  </div> <div class="aliases"> Also aliased as: <a href="core#method-i-eql-3F">eql?</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-clone"> <span class="method-name">clone</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="clone-source"> <pre class="c" data-language="c"># File activerecord/lib/active_record/core.rb, line 513
    </pre> </div> <p>Identical to Ruby's clone method. This is a “shallow” copy. Be warned that your attributes are not copied. That means that modifying attributes of the clone will modify the original, since they will both point to the same attributes hash. If you need a copy of your attributes hash, please use the <a href="core#method-i-dup"><code>dup</code></a> method.</p> <pre class="ruby" data-language="ruby">user = User.first
new_user = user.clone
user.name               # =&gt; "Bob"
new_user.name = "Joe"
user.name               # =&gt; "Joe"

user.object_id == new_user.object_id            # =&gt; false
user.name.object_id == new_user.name.object_id  # =&gt; true

user.name.object_id == user.dup.name.object_id  # =&gt; false
</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-connection_handler"> <span class="method-name">connection_handler</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="connection_handler-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 682
def connection_handler
  self.class.connection_handler
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-dup"> <span class="method-name">dup</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="dup-source"> <pre class="c" data-language="c"># File activerecord/lib/active_record/core.rb, line 530
    </pre> </div> <p>Duped objects have no id assigned and are treated as new records. Note that this is a “shallow” copy as it copies the object's attributes only, not its associations. The extent of a “deep” copy is application specific and is therefore left to the application to implement according to its need. The dup method does not preserve the timestamps (created|updated)_(at|on).</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-encode_with"> <span class="method-name">encode_with</span><span class="method-args">(coder)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="encode_with-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 565
def encode_with(coder)
  self.class.yaml_encoder.encode(@attributes, coder)
  coder["new_record"] = new_record?
  coder["active_record_yaml_version"] = 2
end</pre> </div> <p>Populate <code>coder</code> with attributes about this record that should be serialized. The structure of <code>coder</code> defined in this method is guaranteed to match the structure of <code>coder</code> passed to the <a href="core#method-i-init_with"><code>init_with</code></a> method.</p> <p>Example:</p> <pre class="ruby" data-language="ruby">class Post &lt; ActiveRecord::Base
end
coder = {}
Post.new.encode_with(coder)
coder # =&gt; {"attributes" =&gt; {"id" =&gt; nil, ... }}
</pre>  </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-eql-3F"> <span class="method-name">eql?</span><span class="method-args">(comparison_object)</span> </div>  <div class="aliases"> Alias for: <a href="core#method-i-3D-3D">==</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-freeze"> <span class="method-name">freeze</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="freeze-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 603
def freeze
  @attributes = @attributes.clone.freeze
  self
end</pre> </div> <p>Clone and freeze the attributes hash such that associations are still accessible, even on destroyed records, but cloned models will not be frozen.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-frozen-3F"> <span class="method-name">frozen?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="frozen-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 609
def frozen?
  @attributes.frozen?
end</pre> </div> <p>Returns <code>true</code> if the attributes hash has been frozen.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-hash"> <span class="method-name">hash</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="hash-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 590
def hash
  id = self.id

  if id
    self.class.hash ^ id.hash
  else
    super
  end
end</pre> </div> <p>Delegates to id in order to allow two records of the same type and id to work with something like:</p> <pre class="ruby" data-language="ruby">[ Person.find(1), Person.find(2), Person.find(3) ] &amp; [ Person.find(1), Person.find(4) ] # =&gt; [ Person.find(1) ]
</pre> <div class="method-calls-super"> Calls superclass method </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-init_with"> <span class="method-name">init_with</span><span class="method-args">(coder, &amp;block)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="init_with-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 488
def init_with(coder, &amp;block)
  coder = LegacyYamlAdapter.convert(coder)
  attributes = self.class.yaml_encoder.decode(coder)
  init_with_attributes(attributes, coder["new_record"], &amp;block)
end</pre> </div> <p>Initialize an empty model object from <code>coder</code>. <code>coder</code> should be the result of previously encoding an Active Record model, using <a href="core#method-i-encode_with"><code>encode_with</code></a>.</p> <pre class="ruby" data-language="ruby">class Post &lt; ActiveRecord::Base
end

old_post = Post.new(title: "hello world")
coder = {}
old_post.encode_with(coder)

post = Post.allocate
post.init_with(coder)
post.title # =&gt; 'hello world'
</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-inspect"> <span class="method-name">inspect</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="inspect-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 687
def inspect
  # We check defined?(@attributes) not to issue warnings if the object is
  # allocated but not initialized.
  inspection = if defined?(@attributes) &amp;&amp; @attributes
    self.class.attribute_names.filter_map do |name|
      if _has_attribute?(name)
        "#{name}: #{attribute_for_inspect(name)}"
      end
    end.join(", ")
  else
    "not initialized"
  end

  "#&lt;#{self.class} #{inspection}&gt;"
end</pre> </div> <p>Returns the contents of the record as a nicely formatted string.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-pretty_print"> <span class="method-name">pretty_print</span><span class="method-args">(pp)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="pretty_print-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 705
def pretty_print(pp)
  return super if custom_inspect_method_defined?
  pp.object_address_group(self) do
    if defined?(@attributes) &amp;&amp; @attributes
      attr_names = self.class.attribute_names.select { |name| _has_attribute?(name) }
      pp.seplist(attr_names, proc { pp.text "," }) do |attr_name|
        pp.breakable " "
        pp.group(1) do
          pp.text attr_name
          pp.text ":"
          pp.breakable
          value = _read_attribute(attr_name)
          value = inspection_filter.filter_param(attr_name, value) unless value.nil?
          pp.pp value
        end
      end
    else
      pp.breakable " "
      pp.text "not initialized"
    end
  end
end</pre> </div> <p>Takes a PP and prettily prints this record to it, allowing you to get a nice result from <code>pp record</code> when pp is required.</p> <div class="method-calls-super"> Calls superclass method </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-readonly-21"> <span class="method-name">readonly!</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="readonly-21-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 678
def readonly!
  @readonly = true
end</pre> </div> <p>Marks this record as read only.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-readonly-3F"> <span class="method-name">readonly?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="readonly-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 631
def readonly?
  @readonly
end</pre> </div> <p>Returns <code>true</code> if the record is read only.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-slice"> <span class="method-name">slice</span><span class="method-args">(*methods)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="slice-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 729
def slice(*methods)
  methods.flatten.index_with { |method| public_send(method) }.with_indifferent_access
end</pre> </div> <p>Returns a hash of the given methods with their names as keys and returned values as values.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-strict_loading-21"> <span class="method-name">strict_loading!</span><span class="method-args">(value = true, mode: :all)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="strict_loading-21-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 661
def strict_loading!(value = true, mode: :all)
  unless [:all, :n_plus_one_only].include?(mode)
    raise ArgumentError, "The :mode option must be one of [:all, :n_plus_one_only]."
  end

  @strict_loading_mode = mode
  @strict_loading = value
end</pre> </div> <p>Sets the record to strict_loading mode. This will raise an error if the record tries to lazily load an association.</p> <pre>user = User.first
user.strict_loading! # =&gt; true
user.comments
=&gt; ActiveRecord::StrictLoadingViolationError</pre> <h3 id="method-i-strict_loading-21-label-Parameters-3A">Parameters:</h3> <ul>
<li> <p>value - Boolean specifying whether to enable or disable strict loading.</p> </li>
<li> <p>mode - <span><code>Symbol</code></span> specifying strict loading mode. Defaults to :all. Using</p> <pre>:n_plus_one_only mode will only raise an error if an association
that will lead to an n plus one query is lazily loaded.</pre> </li>
</ul> <h3 id="method-i-strict_loading-21-label-Example-3A">Example:</h3> <pre>user = User.first
user.strict_loading!(false) # =&gt; false
user.comments
=&gt; #&lt;ActiveRecord::Associations::CollectionProxy&gt;</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-strict_loading-3F"> <span class="method-name">strict_loading?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="strict_loading-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 636
def strict_loading?
  @strict_loading
end</pre> </div> <p>Returns <code>true</code> if the record is in strict_loading mode.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-strict_loading_n_plus_one_only-3F"> <span class="method-name">strict_loading_n_plus_one_only?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="strict_loading_n_plus_one_only-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 673
def strict_loading_n_plus_one_only?
  @strict_loading_mode == :n_plus_one_only
end</pre> </div> <p>Returns <code>true</code> if the record uses strict_loading with <code>:n_plus_one_only</code> mode enabled.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-values_at"> <span class="method-name">values_at</span><span class="method-args">(*methods)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="values_at-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 734
def values_at(*methods)
  methods.flatten.map! { |method| public_send(method) }
end</pre> </div> <p>Returns an array of the values returned by the given methods.</p>  </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    © 2004–2021 David Heinemeier Hansson<br>Licensed under the MIT License.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
