
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Configuration Reference - Astro - W3cubDocs</title>
  
  <meta name="description" content="The following reference covers all supported configuration options in Astro. To learn more about configuring Astro, read our guide on Configuring &hellip;">
  <meta name="keywords" content="configuration, reference, astro">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/astro/reference/configuration-reference/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-f16eecbe420d8b2925d31ffbb21d05646497ecbd9515f08ffe69e9bba7332f5657accc7003c7f6c72cb4a132171acf171b359ae3bae4ae5660ddfb1718f88c67.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/astro.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/astro/" class="_nav-link" title="" style="margin-left:0;">Astro</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1 class="content-title astro-NDOP6O4T" id="overview">Configuration Reference</h1> <p>The following reference covers all supported configuration options in Astro. To learn more about configuring Astro, read our guide on <a href="../../guides/configuring-astro/index">Configuring Astro</a>.</p>  <div class="_pre-heading"><span class="title">astro.config.mjs</span></div> <pre class="astro-code" data-language="js">import { defineConfig } from 'astro/config'

export default defineConfig({
  // your configuration options here...
})</pre> <div class="heading-wrapper level-h2" tabindex="-1"><h2 id="top-level-options">Top-Level Options</h2></div>
<div class="heading-wrapper level-h3" tabindex="-1"><h3 id="root">root</h3></div>

<p><strong>Type:</strong> <code>string</code><br> <strong>CLI:</strong> <code>--root</code><br> <strong>Default:</strong> <code>"."</code> (current working directory)</p>
<p>You should only provide this option if you run the <code>astro</code> CLI commands in a directory other than the project root directory. Usually, this option is provided via the CLI instead of the <a href="../../guides/configuring-astro/index#supported-config-file-types">Astro config file</a>, since Astro needs to know your project root before it can locate your config file.</p>
<p>If you provide a relative path (ex: <code>--root: './my-project'</code>) Astro will resolve it against your current working directory.</p>
<div class="heading-wrapper level-h4" tabindex="-1"><h4 id="examples">Examples</h4></div>   <pre class="astro-code" data-language="js">{
  root: './my-project-directory'
}</pre>    <pre class="astro-code" data-language="bash">$ astro build --root ./my-project-directory</pre> <div class="heading-wrapper level-h3" tabindex="-1"><h3 id="srcdir">srcDir</h3></div>

<p><strong>Type:</strong> <code>string</code><br> <strong>Default:</strong> <code>"./src"</code></p>
<p>Set the directory that Astro will read your site from.</p>
<p>The value can be either an absolute file system path or a path relative to the project root.</p>   <pre class="astro-code" data-language="js">{
  srcDir: './www'
}</pre> <div class="heading-wrapper level-h3" tabindex="-1"><h3 id="publicdir">publicDir</h3></div>

<p><strong>Type:</strong> <code>string</code><br> <strong>Default:</strong> <code>"./public"</code></p>
<p>Set the directory for your static assets. Files in this directory are served at <code>/</code> during dev and copied to your build directory during build. These files are always served or copied as-is, without transform or bundling.</p>
<p>The value can be either an absolute file system path or a path relative to the project root.</p>   <pre class="astro-code" data-language="js">{
  publicDir: './my-custom-publicDir-directory'
}</pre> <div class="heading-wrapper level-h3" tabindex="-1"><h3 id="outdir">outDir</h3></div>

<p><strong>Type:</strong> <code>string</code><br> <strong>Default:</strong> <code>"./dist"</code></p>
<p>Set the directory that <code>astro build</code> writes your final build to.</p>
<p>The value can be either an absolute file system path or a path relative to the project root.</p>   <pre class="astro-code" data-language="js">{
  outDir: './my-custom-build-directory'
}</pre> <div class="heading-wrapper level-h3" tabindex="-1"><h3 id="site">site</h3></div>

<p><strong>Type:</strong> <code>string</code></p>
<p>Your final, deployed URL. Astro uses this full URL to generate your sitemap and canonical URLs in your final build. It is strongly recommended that you set this configuration to get the most out of Astro.</p>   <pre class="astro-code" data-language="js">{
  site: 'https://www.my-site.dev'
}</pre> <div class="heading-wrapper level-h3" tabindex="-1"><h3 id="base">base</h3></div>

<p><strong>Type:</strong> <code>string</code></p>
<p>The base path to deploy to. Astro will build your pages and assets using this path as the root. Currently, this has no effect during development.</p>   <pre class="astro-code" data-language="js">{
  base: '/docs'
}</pre> <div class="heading-wrapper level-h3" tabindex="-1"><h3 id="trailingslash">trailingSlash</h3></div>

<p><strong>Type:</strong> <code>'always' | 'never' | 'ignore'</code><br> <strong>Default:</strong> <code>'ignore'</code></p>
<p>Set the route matching behavior of the dev server. Choose from the following options:</p>
<ul> <li>
<code>'always'</code> - Only match URLs that include a trailing slash (ex: “/foo/“)</li> <li>
<code>'never'</code> - Never match URLs that include a trailing slash (ex: “/foo”)</li> <li>
<code>'ignore'</code> - Match URLs regardless of whether a trailing ”/” exists</li> </ul>
<p>Use this configuration option if your production host has strict handling of how trailing slashes work or do not work.</p>
<p>You can also set this if you prefer to be more strict yourself, so that URLs with or without trailing slashes won’t work during development.</p>   <pre class="astro-code" data-language="js">{
  // Example: Require a trailing slash during development
  trailingSlash: 'always'
}</pre> <p><strong>See Also:</strong></p>
<ul> <li>build.format</li> </ul>
<div class="heading-wrapper level-h3" tabindex="-1"><h3 id="adapter">adapter</h3></div>

<p><strong>Type:</strong> <code>AstroIntegration</code></p>
<p>Deploy to your favorite server, serverless, or edge host with build adapters. Import one of our first-party adapters for <a href="../../guides/deploy/netlify/index#adapter-for-ssredge">Netlify</a>, <a href="../../guides/deploy/vercel/index#adapter-for-ssr">Vercel</a>, and more to engage Astro SSR.</p>
<p><a href="../../guides/server-side-rendering/index">See our Server-side Rendering guide</a> for more on SSR, and <a href="../../guides/deploy/index">our deployment guides</a> for a complete list of hosts.</p>   <pre class="astro-code" data-language="js">import netlify from '@astrojs/netlify/functions';
{
  // Example: Build for Netlify serverless deployment
   adapter: netlify(),
}</pre> <p><strong>See Also:</strong></p>
<ul> <li>output</li> </ul>
<div class="heading-wrapper level-h3" tabindex="-1"><h3 id="output">output</h3></div>

<p><strong>Type:</strong> <code>'static' | 'server'</code><br> <strong>Default:</strong> <code>'static'</code></p>
<p>Specifies the output target for builds.</p>
<ul> <li>‘static’ - Building a static site to be deploy to any static host.</li> <li>‘server’ - Building an app to be deployed to a host supporting SSR (server-side rendering).</li> </ul>   <pre class="astro-code" data-language="js">import { defineConfig } from 'astro/config';

export default defineConfig({
  output: 'static'
})</pre> <p><strong>See Also:</strong></p>
<ul> <li>adapter</li> </ul>
<div class="heading-wrapper level-h2" tabindex="-1"><h2 id="build-options">Build Options</h2></div>
<div class="heading-wrapper level-h3" tabindex="-1"><h3 id="buildformat">build.format</h3></div>

<p><strong>Type:</strong> <code>('file' | 'directory')</code><br> <strong>Default:</strong> <code>'directory'</code></p>
<p>Control the output file format of each page.</p>
<ul> <li>If ‘file’, Astro will generate an HTML file (ex: “/foo.html”) for each page.</li> <li>If ‘directory’, Astro will generate a directory with a nested <code>index.html</code> file (ex: “/foo/index.html”) for each page.</li> </ul>   <pre class="astro-code" data-language="js">{
  build: {
    // Example: Generate `page.html` instead of `page/index.html` during build.
    format: 'file'
  }
}</pre> <div class="heading-wrapper level-h4" tabindex="-1"><h4 id="effect-on-astrourl">Effect on Astro.url</h4></div>
<p>Setting <code>build.format</code> controls what <code>Astro.url</code> is set to during the build. When it is:</p>
<ul> <li>
<code>directory</code> - The <code>Astro.url.pathname</code> will include a trailing slash to mimic folder behavior; ie <code>/foo/</code>.</li> <li>
<code>file</code> - The <code>Astro.url.pathname</code> will include <code>.html</code>; ie <code>/foo.html</code>.</li> </ul>
<p>This means that when you create relative URLs using <code>new URL('./relative', Astro.url)</code>, you will get consistent behavior between dev and build.</p>
<div class="heading-wrapper level-h2" tabindex="-1"><h2 id="server-options">Server Options</h2></div>
<p>Customize the Astro dev server, used by both <code>astro dev</code> and <code>astro preview</code>.</p>   <pre class="astro-code" data-language="js">{
  server: { port: 1234, host: true}
}</pre> <p>To set different configuration based on the command run (“dev”, “preview”) a function can also be passed to this configuration option.</p>   <pre class="astro-code" data-language="js">{
  // Example: Use the function syntax to customize based on command
  server: (command) =&gt; ({ port: command === 'dev' ? 3000 : 4000 })
}</pre> <div class="heading-wrapper level-h3" tabindex="-1"><h3 id="serverhost">server.host</h3></div>

<p><strong>Type:</strong> <code>string | boolean</code><br> <strong>Default:</strong> <code>false</code><br></p>
<span> <strong>Added in: </strong> v0.24.0 </span><p>Set which network IP addresses the server should listen on (i.e. non-localhost IPs).</p>
<ul> <li>
<code>false</code> - do not expose on a network IP address</li> <li>
<code>true</code> - listen on all addresses, including LAN and public addresses</li> <li>
<code>[custom-address]</code> - expose on a network IP address at <code>[custom-address]</code> (ex: <code>192.168.0.1</code>)</li> </ul>
<div class="heading-wrapper level-h3" tabindex="-1"><h3 id="serverport">server.port</h3></div>

<p><strong>Type:</strong> <code>number</code><br> <strong>Default:</strong> <code>3000</code></p>
<p>Set which port the server should listen on.</p>
<p>If the given port is already in use, Astro will automatically try the next available port.</p>   <pre class="astro-code" data-language="js">{
  server: { port: 8080 }
}</pre> <div class="heading-wrapper level-h2" tabindex="-1"><h2 id="markdown-options">Markdown Options</h2></div>
<div class="heading-wrapper level-h3" tabindex="-1"><h3 id="markdowndrafts">markdown.drafts</h3></div>

<p><strong>Type:</strong> <code>boolean</code><br> <strong>Default:</strong> <code>false</code></p>
<p>Control whether Markdown draft pages should be included in the build.</p>
<p>A Markdown page is considered a draft if it includes <code>draft: true</code> in its frontmatter. Draft pages are always included &amp; visible during development (<code>astro dev</code>) but by default they will not be included in your final build.</p>   <pre class="astro-code" data-language="js">{
  markdown: {
    // Example: Include all drafts in your final build
    drafts: true,
  }
}</pre> <div class="heading-wrapper level-h3" tabindex="-1"><h3 id="markdownshikiconfig">markdown.shikiConfig</h3></div>

<p><strong>Type:</strong> <code>Partial&lt;ShikiConfig&gt;</code></p>
<p>Shiki configuration options. See <a href="../../guides/markdown-content/index#shiki-configuration">the Markdown configuration docs</a> for usage.</p>
<div class="heading-wrapper level-h3" tabindex="-1"><h3 id="markdownsyntaxhighlight">markdown.syntaxHighlight</h3></div>

<p><strong>Type:</strong> <code>'shiki' | 'prism' | false</code><br> <strong>Default:</strong> <code>shiki</code></p>
<p>Which syntax highlighter to use, if any.</p>
<ul> <li>
<code>shiki</code> - use the <a href="https://github.com/shikijs/shiki">Shiki</a> highlighter</li> <li>
<code>prism</code> - use the <a href="https://prismjs.com/">Prism</a> highlighter</li> <li>
<code>false</code> - do not apply syntax highlighting.</li> </ul>   <pre class="astro-code" data-language="js">{
  markdown: {
    // Example: Switch to use prism for syntax highlighting in Markdown
    syntaxHighlight: 'prism',
  }
}</pre> <div class="heading-wrapper level-h3" tabindex="-1"><h3 id="markdownremarkplugins">markdown.remarkPlugins</h3></div>

<p><strong>Type:</strong> <code>RemarkPlugins</code></p>
<p>Pass <a href="https://github.com/remarkjs/remark">remark plugins</a> to customize how your Markdown is built. You can import and apply the plugin function (recommended), or pass the plugin name as a string.</p>
<aside class="content caution astro-J4JMU3BW" aria-label="Caution"> <p class="title astro-J4JMU3BW" aria-hidden="true">  Caution </p> <section class="astro-J4JMU3BW"> <p>Providing a list of plugins will <strong>remove</strong> our default plugins. To preserve these defaults, see the <code>extendDefaultPlugins</code> flag.</p> </section> </aside>   <pre class="astro-code" data-language="js">import remarkToc from 'remark-toc';
{
  markdown: {
    remarkPlugins: [remarkToc]
  }
}</pre> <div class="heading-wrapper level-h3" tabindex="-1"><h3 id="markdownrehypeplugins">markdown.rehypePlugins</h3></div>

<p><strong>Type:</strong> <code>RehypePlugins</code></p>
<p>Pass <a href="https://github.com/remarkjs/remark-rehype">rehype plugins</a> to customize how your Markdown’s output HTML is processed. You can import and apply the plugin function (recommended), or pass the plugin name as a string.</p>
<aside class="content caution astro-J4JMU3BW" aria-label="Caution"> <p class="title astro-J4JMU3BW" aria-hidden="true">  Caution </p> <section class="astro-J4JMU3BW"> <p>Providing a list of plugins will <strong>remove</strong> our default plugins. To preserve these defaults, see the <code>extendDefaultPlugins</code> flag.</p> </section> </aside>   <pre class="astro-code" data-language="js">import rehypeMinifyHtml from 'rehype-minify';
{
  markdown: {
    rehypePlugins: [rehypeMinifyHtml]
  }
}</pre> <div class="heading-wrapper level-h3" tabindex="-1"><h3 id="markdownextenddefaultplugins">markdown.extendDefaultPlugins</h3></div>

<p><strong>Type:</strong> <code>boolean</code><br> <strong>Default:</strong> <code>false</code></p>
<p>Astro applies the <a href="https://github.com/remarkjs/remark-gfm">GitHub-flavored Markdown</a> and <a href="https://github.com/silvenon/remark-smartypants">Smartypants</a> plugins by default. When adding your own remark or rehype plugins, you can preserve these defaults by setting the <code>extendDefaultPlugins</code> flag to <code>true</code>:</p>   <pre class="astro-code" data-language="js">{
  markdown: {
    extendDefaultPlugins: true,
     remarkPlugins: [exampleRemarkPlugin],
    rehypePlugins: [exampleRehypePlugin],
  }
}</pre> <div class="heading-wrapper level-h3" tabindex="-1"><h3 id="markdownremarkrehype">markdown.remarkRehype</h3></div>

<p><strong>Type:</strong> <code>RemarkRehype</code></p>
<p>Pass options to <a href="https://github.com/remarkjs/remark-rehype#api">remark-rehype</a>.</p>   <pre class="astro-code" data-language="js">{
  markdown: {
    // Example: Translate the footnotes text to another language, here are the default English values
    remarkRehype: { footnoteLabel: "Footnotes", footnoteBackLabel: "Back to content"},
  },
};</pre> <div class="heading-wrapper level-h2" tabindex="-1"><h2 id="integrations">Integrations</h2></div>
<p>Extend Astro with custom integrations. Integrations are your one-stop-shop for adding framework support (like Solid.js), new features (like sitemaps), and new libraries (like Partytown and Turbolinks).</p>
<p>Read our <a href="../../guides/integrations-guide/index">Integrations Guide</a> for help getting started with Astro Integrations.</p>   <pre class="astro-code" data-language="js">import react from '@astrojs/react';
import tailwind from '@astrojs/tailwind';
{
  // Example: Add React + Tailwind support to Astro
  integrations: [react(), tailwind()]
}</pre> <div class="heading-wrapper level-h2" tabindex="-1"><h2 id="vite">Vite</h2></div>
<p>Pass additional configuration options to Vite. Useful when Astro doesn’t support some advanced configuration that you may need.</p>
<p>View the full <code>vite</code> configuration object documentation on <a href="https://vitejs.dev/config/">vitejs.dev</a>.</p>
<div class="heading-wrapper level-h4" tabindex="-1"><h4 id="examples-1">Examples</h4></div>   <pre class="astro-code" data-language="js">{
  vite: {
    ssr: {
      // Example: Force a broken package to skip SSR processing, if needed
      external: ['broken-npm-package'],
    }
  }
}</pre>    <pre class="astro-code" data-language="js">{
  vite: {
    // Example: Add custom vite plugins directly to your Astro project
    plugins: [myPlugin()],
  }
}</pre> <div class="heading-wrapper level-h2" tabindex="-1"><h2 id="legacy-flags">Legacy Flags</h2></div>
<p>To help some users migrate between versions of Astro, we occasionally introduce <code>legacy</code> flags. These flags allow you to opt in to some deprecated or otherwise outdated behavior of Astro in the latest version, so that you can continue to upgrade and take advantage of new Astro releases.</p>
<div class="heading-wrapper level-h3" tabindex="-1"><h3 id="legacyastroflavoredmarkdown">legacy.astroFlavoredMarkdown</h3></div>

<p><strong>Type:</strong> <code>boolean</code><br> <strong>Default:</strong> <code>false</code><br></p>
<span> <strong>Added in: </strong> v1.0.0-rc.1 </span><p>Enable Astro’s pre-v1.0 support for components and JSX expressions in <code>.md</code> Markdown files. In Astro <code>1.0.0-rc</code>, this original behavior was removed as the default, in favor of our new <a href="../../guides/integrations-guide/mdx/index">MDX integration</a>.</p>
<p>To enable this behavior, set <code>legacy.astroFlavoredMarkdown</code> to <code>true</code> in your <a href="../../guides/configuring-astro/index#the-astro-config-file"><code>astro.config.mjs</code> configuration file</a>.</p>   <pre class="astro-code" data-language="js">{
  legacy: {
    // Example: Add support for legacy Markdown features
    astroFlavoredMarkdown: true,
  },
}</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © 2021 Fred K. Schott<br>Licensed under the MIT License.<br>
    <a href="https://docs.astro.build/en/reference/configuration-reference/" class="_attribution-link">https://docs.astro.build/en/reference/configuration-reference/</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
