
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>TypeScript - Astro - W3cubDocs</title>
  
  <meta name="description" content="Astro ships with built-in support for TypeScript. You can import .ts and .tsx files in your Astro project, write TypeScript code directly inside &hellip;">
  <meta name="keywords" content="typescript, astro">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/astro/guides/typescript/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-1810d67ab7e57be09d8247710d2feb6954566959eb82322d1fee3a0c9156f56974b78ebaa9928774f00767342bbe58b0799d91fcc336b92b319170b196f9b64b.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/astro.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/astro/" class="_nav-link" title="" style="margin-left:0;">Astro</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1 class="content-title astro-NDOP6O4T" id="overview">TypeScript</h1> <p>Astro ships with built-in support for <a href="https://www.typescriptlang.org/">TypeScript</a>. You can import <code>.ts</code> and <code>.tsx</code> files in your Astro project, write TypeScript code directly inside your <a href="../../core-concepts/astro-components/index#the-component-script">Astro component</a>, and even use an <a href="../configuring-astro/index#the-astro-config-file"><code>astro.config.ts</code></a> file if you like.</p>
<p>Using TypeScript, you can prevent errors at runtime by defining the shapes of objects and components in your code. For example, if you use TypeScript to <a href="#component-props">type your component’s props</a>, you’ll get an error in your editor if you set a prop that your component doesn’t accept.</p>
<p>You don’t need to write TypeScript code in your Astro projects to benefit from it. Astro always treats your component code as TypeScript, and the <a href="../../editor-setup/index">Astro VSCode Extension</a> will infer as much as it can to provide autocompletion, hints, and errors in your editor.</p>
<p>The Astro dev server won’t perform any type checking, but you can use a <a href="#type-checking">separate script</a> to check for type errors from the command line.</p>
<div class="heading-wrapper level-h2" tabindex="-1"><h2 id="setup">Setup</h2></div>
<p>Astro starter projects include a <code>tsconfig.json</code> file in your project. Even if you don’t write TypeScript code, this file is important so that tools like Astro and VS Code know how to understand your project. Some features (like npm package imports) aren’t fully supported in the editor without a <code>tsconfig.json</code> file. If you install Astro manually, be sure to create this file yourself.</p>
<p>Three extensible <code>tsconfig.json</code> templates are included in Astro: <code>base</code>, <code>strict</code>, and <code>strictest</code>. The <code>base</code> template enables support for modern JavaScript features and is also used as a basis for the other templates. We recommend using <code>strict</code> or <code>strictest</code> if you plan to write TypeScript in your project. You can view and compare the three template configurations at <a href="https://github.com/withastro/astro/blob/main/packages/astro/tsconfigs/">astro/tsconfigs/</a>.</p>
<p>To inherit from one of the templates, use <a href="https://www.typescriptlang.org/tsconfig#extends">the <code>extends</code> setting</a>:</p>  <div class="_pre-heading"><span class="title">tsconfig.json</span></div> <pre class="astro-code" data-language="json">{
  "extends": "astro/tsconfigs/base"
}</pre> <p>Additionally, our templates include an <code>env.d.ts</code> file inside the <code>src</code> folder to provide <a href="https://vitejs.dev/guide/features.html#client-types">Vite’s client types</a> to your project:</p>  <div class="_pre-heading"><span class="title">env.d.ts</span></div> <pre class="astro-code" data-language="typescript">/// &lt;reference types="astro/client" /&gt;</pre> <p>Optionally, you can delete this file and instead add the <a href="https://www.typescriptlang.org/tsconfig#types"><code>types</code> setting</a> to your <code>tsconfig.json</code>:</p>  <div class="_pre-heading"><span class="title">tsconfig.json</span></div> <pre class="astro-code" data-language="json">{
  "compilerOptions": {
    "types": ["astro/client"]
  }
}</pre> <div class="heading-wrapper level-h3" tabindex="-1"><h3 id="ui-frameworks">UI Frameworks</h3></div>
<p>If your project uses a <a href="../../core-concepts/framework-components/index">UI framework</a>, additional settings depending on the framework might be needed. Please see your framework’s TypeScript documentation for more information. (<a href="https://vuejs.org/guide/typescript/overview.html#using-vue-with-typescript">Vue</a>, <a href="https://reactjs.org/docs/static-type-checking.html">React</a>, <a href="https://preactjs.com/guide/v10/typescript">Preact</a>, <a href="https://www.solidjs.com/guides/typescript">Solid</a>)</p>
<div class="heading-wrapper level-h2" tabindex="-1"><h2 id="type-imports">Type Imports</h2></div>
<p>Use explicit type imports and exports whenever possible.</p>   <pre class="astro-code" data-language="js">import { SomeType } from './script';
import type { SomeType } from './script';</pre> <p>This way, you avoid edge cases where Astro’s bundler may try to incorrectly bundle your imported types as if they were JavaScript.</p>
<p>In your <code>.tsconfig</code> file, you can instruct TypeScript to help with this. The <a href="https://www.typescriptlang.org/tsconfig#importsNotUsedAsValues"><code>importsNotUsedAsValues</code> setting</a> can be set to <code>error</code>. Then, TypeScript will check your imports and tell you when <code>import type</code> should be used. This setting is included by default in our <code>strict</code> and <code>strictest</code> templates.</p>  <div class="_pre-heading"><span class="title">tsconfig.json</span></div> <pre class="astro-code" data-language="json">{
  "compilerOptions": {
    "importsNotUsedAsValues": "error",
  }
}</pre> <div class="heading-wrapper level-h2" tabindex="-1"><h2 id="import-aliases">Import Aliases</h2></div>
<p>Astro supports <a href="../aliases/index">import aliases</a> that you define in your <code>tsconfig.json</code> &amp; <code>jsconfig.json</code> <code>paths</code> configuration. <a href="../aliases/index">Read our guide</a> to learn more.</p>  <div class="_pre-heading"><span class="title">src/pages/about/nate.astro</span></div> <pre class="astro-code" data-language="astro">---
import HelloWorld from '@components/HelloWorld.astro';
import Layout from '@layouts/Layout.astro';
---</pre>   <div class="_pre-heading"><span class="title">tsconfig.json</span></div> <pre class="astro-code" data-language="json">{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@components/*": ["src/components/*"],
      "@layouts/*": ["src/layouts/*"]
    }
  }
}</pre> <div class="heading-wrapper level-h2" tabindex="-1"><h2 id="component-props">Component Props</h2></div>
<p>Astro supports typing your component props via TypeScript. To enable, add a TypeScript <code>Props</code> interface to your component frontmatter. The <a href="../../editor-setup/index">Astro VSCode Extension</a> will automatically look for the <code>Props</code> interface and give you proper TS support when you use that component inside another template.</p>  <div class="_pre-heading"><span class="title">src/components/HelloProps.astro</span></div> <pre class="astro-code" data-language="astro">---
interface Props {
  name: string;
  greeting?: string;
}
const { greeting = 'Hello', name } = Astro.props;
---
&lt;h2&gt;{greeting}, {name}!&lt;/h2&gt;</pre> <div class="heading-wrapper level-h3" tabindex="-1"><h3 id="common-prop-type-patterns">Common prop type patterns</h3></div>
<ul> <li> <p>If your component takes no props or slotted content, you can use <code>type Props = Record&lt;string, never&gt;</code>.</p> </li> <li> <p>If your component must be passed children to its default slot, you can enforce this by using <code>type Props = { children: any; };</code>.</p> </li> </ul>
<div class="heading-wrapper level-h3" tabindex="-1"><h3 id="built-in-attribute-types">Built-in attribute types</h3></div>
<p>Astro provides JSX type definitions to check that your markup is using valid HTML attributes. You can use these types to help build component props. For example, if you were building a <code>&lt;Link&gt;</code> component, you could do the following to mirror the default HTML attributes in your component’s prop types.</p>  <div class="_pre-heading"><span class="title">src/components/Link.astro</span></div> <pre class="astro-code" data-language="astro">---
type Props = astroHTML.JSX.AnchorHTMLAttributes;
const { href, ...attrs } = Astro.props;
---
&lt;a {href} {...attrs}&gt;
  &lt;slot /&gt;
&lt;/a&gt;</pre> <p>It is also possible to extend the default JSX definitions to add non-standard attributes by redeclaring the <code>astroHTML.JSX</code> namespace in a <code>.d.ts</code> file.</p>  <div class="_pre-heading"><span class="title">src/custom-attributes.d.ts</span></div> <pre class="astro-code" data-language="ts">declare namespace astroHTML.JSX {
  interface HTMLAttributes {
    'data-count'?: number;
    'data-label'?: string;
  }
}</pre> <aside class="content note astro-J4JMU3BW" aria-label="Note"> <p class="title astro-J4JMU3BW" aria-hidden="true">  Note </p> <section class="astro-J4JMU3BW"> <p><code>astroHTML</code> is injected globally inside <code>.astro</code> components. To use it in TypeScript files, use a <a href="https://www.typescriptlang.org/docs/handbook/triple-slash-directives.html">triple-slash directive</a>:</p>   <pre class="astro-code" data-language="ts">/// &lt;reference types="astro/astro-jsx" /&gt;

type MyAttributes = astroHTML.JSX.ImgHTMLAttributes;</pre>  </section> </aside> <div class="heading-wrapper level-h2" tabindex="-1"><h2 id="type-checking">Type checking</h2></div>
<p>To see type errors in your editor, please make sure that you have the <a href="../../editor-setup/index">Astro VS Code extension</a> installed. Please note that the <code>astro start</code> and <code>astro build</code> commands will transpile the code with esbuild, but will not run any type checking. To prevent your code from building if it contains TypeScript errors, change your “build” script in <code>package.json</code> to the following:</p>  <div class="_pre-heading"><span class="title">package.json</span></div> <pre class="astro-code" data-language="json">  "scripts": {
    "build": "astro build",
    "build": "astro check &amp;&amp; tsc --noEmit &amp;&amp; astro build",
  },</pre> <aside class="content note astro-J4JMU3BW" aria-label="Note"> <p class="title astro-J4JMU3BW" aria-hidden="true">  Note </p> <section class="astro-J4JMU3BW"> <p><code>astro check</code> only checks types within <code>.astro</code> files, and <code>tsc --noEmit</code> only checks types within <code>.ts</code> and <code>.tsx</code> files. To check types within Svelte and Vue files, you can use the <a href="https://www.npmjs.com/package/svelte-check"><code>svelte-check</code></a> and the <a href="https://www.npmjs.com/package/vue-tsc"><code>vue-tsc</code></a> packages respectively.</p> </section> </aside> <p>📚 Read more about <a href="../imports/index#typescript"><code>.ts</code> file imports</a> in Astro. 📚 Read more about <a href="https://www.typescriptlang.org/tsconfig/">TypeScript Configuration</a>.</p>
<div class="heading-wrapper level-h2" tabindex="-1"><h2 id="troubleshooting">Troubleshooting</h2></div>
<div class="heading-wrapper level-h3" tabindex="-1"><h3 id="errors-typing-multiple-jsx-frameworks-at-the-same-time">Errors Typing multiple JSX frameworks at the same time</h3></div>
<p>An issue may arise when using multiple JSX frameworks in the same project, as each framework requires different, sometimes conflicting, settings inside <code>tsconfig.json</code>.</p>
<p><strong>Solution</strong>: Set the <a href="https://www.typescriptlang.org/tsconfig#jsxImportSource"><code>jsxImportSource</code> setting</a> to <code>react</code> (default), <code>preact</code> or <code>solid-js</code> depending on your most-used framework. Then, use a <a href="https://www.typescriptlang.org/docs/handbook/jsx.html#configuring-jsx">pragma comment</a> inside any conflicting file from a different framework.</p>
<p>For the default setting of <code>jsxImportSource: react</code>, you would use:</p>   <pre class="astro-code" data-language="jsx">// For Preact
/** @jsxImportSource preact */

// For Solid
/** @jsxImportSource solid-js */</pre> <div class="heading-wrapper level-h3" tabindex="-1"><h3 id="vue-components-are-mistakenly-typed-by-the-typesreact-package-when-installed">Vue components are mistakenly typed by the <code>@types/react</code> package when installed</h3></div>
<p>The types definitions from the <code>@types/react</code> package are declared globally and therefore will be mistakenly used to typecheck <code>.vue</code> files when using <a href="https://github.com/johnsoncodehk/volar">Volar</a>.</p>
<p><strong>Status</strong>: Expected behavior.</p>
<p><strong>Solution</strong>: There’s currently no reliable way to fix this, however a few solutions and more discussion can be found in <a href="https://github.com/johnsoncodehk/volar/discussions/592">this GitHub discussion</a>.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2021 Fred K. Schott<br>Licensed under the MIT License.<br>
    <a href="https://docs.astro.build/en/guides/typescript/" class="_attribution-link">https://docs.astro.build/en/guides/typescript/</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
