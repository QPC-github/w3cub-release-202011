
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Publish to NPM - Astro - W3cubDocs</title>
  
  <meta name="description" content=" Building a new Astro component? Publish it to npm! ">
  <meta name="keywords" content="publish, npm, astro">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/astro/guides/publish-to-npm/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-f16eecbe420d8b2925d31ffbb21d05646497ecbd9515f08ffe69e9bba7332f5657accc7003c7f6c72cb4a132171acf171b359ae3bae4ae5660ddfb1718f88c67.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/astro.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/astro/" class="_nav-link" title="" style="margin-left:0;">Astro</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1 class="content-title astro-NDOP6O4T" id="overview">Publish to NPM</h1> <p>Building a new Astro component? <strong>Publish it to <a href="https://npmjs.com/">npm!</a></strong></p>
<p>Publishing an Astro component is a great way to reuse your existing work across your projects, and to share with the wider Astro community at large. Astro components can be published directly to and installed from NPM, just like any other JavaScript package.</p>
<p>Looking for inspiration? Check out some of our favorite <a href="https://astro.build/themes/">themes</a> and <a href="https://astro.build/integrations/">components</a> from the Astro community. You can also <a href="https://www.npmjs.com/search?q=keywords:astro-component,withastro">search npm</a> to see the entire public catalog.</p>
<aside class="content tip astro-J4JMU3BW" aria-label="Don’t want to go it alone?"> <p class="title astro-J4JMU3BW" aria-hidden="true">  Don’t want to go it alone? </p> <section class="astro-J4JMU3BW"> <p>Check out <a href="https://github.com/astro-community/component-template">Astro Community’s component template</a> for a community-supported, out-of-the-box template!</p> </section> </aside> <div class="heading-wrapper level-h2" tabindex="-1"><h2 id="quick-start">Quick Start</h2></div>
<p>To get started developing your component quickly, we have a template already setup for you.</p>   <pre class="astro-code" data-language="bash"># Initialize the Astro Component template in a new directory
npm create astro@latest my-new-component-directory -- --template component
# yarn
yarn create astro my-new-component-directory --template component
# pnpm
pnpm create astro@latest my-new-component-directory -- --template component</pre> <div class="heading-wrapper level-h2" tabindex="-1"><h2 id="creating-a-package">Creating a package</h2></div>
<aside class="content note astro-J4JMU3BW" aria-label="Prerequisites"> <p class="title astro-J4JMU3BW" aria-hidden="true">  Prerequisites </p> <section class="astro-J4JMU3BW"> <p>Before diving in, it will help to have a basic understanding of:</p>
<ul> <li><a href="https://docs.npmjs.com/creating-node-js-modules">Node Modules</a></li> <li><a href="https://docs.npmjs.com/creating-a-package-json-file">Package Manifest (<code>package.json</code>)</a></li> <li><a href="https://docs.npmjs.com/cli/v7/configuring-npm/package-json#workspaces">Workspaces</a></li> </ul> </section> </aside> <p>To create a new package we strongly recommend configuring your development enviroment to use <strong>workspaces</strong> within your project. This will allow you to develop your component alongside a working copy of Astro.</p>   <pre class="astro-code" data-language="">my-new-component-directory/
├─ demo/
| └─ ... for testing and demonstration
├─ package.json
└─ packages/
  └─ my-component/
      ├─ index.js
      ├─ package.json
      └─ ... additional files used by the package</pre> <p>In this example, named <code>my-project</code>, we create a project with a single package, named <code>my-component</code>, and a <code>demo/</code> directory for testing and demonstrating the component.</p>
<p>This is configured in the project root’s <code>package.json</code> file.</p>   <pre class="astro-code" data-language="json">{
  "name": "my-project",
  "workspaces": ["demo", "packages/*"]
}</pre> <p>In this example, multiple packages can be developed together from the <code>packages</code> directory. These packages can also be referenced from <code>demo</code>, where you can install a working copy of Astro.</p>   <pre class="astro-code" data-language="shell">npm create astro@latest demo -- --template minimal
# yarn
yarn create astro demo --template minimal
# pnpm
pnpm create astro@latest demo -- --template minimal</pre> <p>There are two initial files that will make up your individual package: <code>package.json</code> and <code>index.js</code>.</p>
<div class="heading-wrapper level-h3" tabindex="-1"><h3 id="packagejson"><code>package.json</code></h3></div>
<p>The <code>package.json</code> in the package directory includes all of the information related to your package, including its description, dependencies, and any other package metadata.</p>   <pre class="astro-code" data-language="json">{
  "name": "my-component",
  "description": "Component description",
  "version": "1.0.0",
  "homepage": "https://github.com/owner/project#readme",
  "type": "module",
  "exports": {
    ".": "./index.js",
    "./astro": "./MyAstroComponent.astro",
    "./react": "./MyReactComponent.jsx"
  },
  "files": ["index.js", "MyAstroComponent.astro", "MyReactComponent.jsx"],
  "keywords": ["astro", "withastro", "astro-component", "...", "..."]
}</pre> <div class="heading-wrapper level-h4" tabindex="-1"><h4 id="description"><code>description</code></h4></div>
<p>A short description of your component used to help others know what it does.</p>   <pre class="astro-code" data-language="json">{
  "description": "An Astro Element Generator"
}</pre> <div class="heading-wrapper level-h4" tabindex="-1"><h4 id="type"><code>type</code></h4></div>
<p>The module format used by Node.js and Astro to interpret your <code>index.js</code> files.</p>   <pre class="astro-code" data-language="json">{
  "type": "module"
}</pre> <p>We recommend using <code>"type": "module"</code> so that your <code>index.js</code> can be used as an entrypoint with <code>import</code> and <code>export</code>.</p>
<div class="heading-wrapper level-h3" tabindex="-1"><h3 id="packagejsonhomepage"><code>package.json#homepage</code></h3></div>
<p>The url to the project homepage.</p>   <pre class="astro-code" data-language="json">{
  "homepage": "https://github.com/owner/project#readme"
}</pre> <p>This is a great way to direct users to an online demo, documentation, or homepage for your project.</p>
<div class="heading-wrapper level-h4" tabindex="-1"><h4 id="packagejsonexports"><code>package.json#exports</code></h4></div>
<p>The entry points of a package when imported by name.</p>   <pre class="astro-code" data-language="json">{
  "exports": {
    ".": "./index.js",
    "./astro": "./MyAstroComponent.astro",
    "./react": "./MyReactComponent.jsx"
  }
}</pre> <p>In this example, importing <code>my-component</code> would use <code>index.js</code>, while importing <code>my-component/astro</code> or <code>my-component/react</code> would use <code>MyAstroComponent.astro</code> or <code>MyReactComponent.jsx</code> respectively.</p>
<div class="heading-wrapper level-h4" tabindex="-1"><h4 id="files"><code>files</code></h4></div>
<p>This is an optional optimization to exclude unnecessary files from the bundle shipped to users via npm. Note that <strong>only files listed here will be included in your package</strong>, so if you add or change files necessary for your package to work, you must update this list accordingly.</p>   <pre class="astro-code" data-language="json">{
  "files": ["index.js", "MyAstroComponent.astro", "MyReactComponent.jsx"]
}</pre> <div class="heading-wrapper level-h4" tabindex="-1"><h4 id="keywords"><code>keywords</code></h4></div>
<p>An array of keywords relevant to your component that are used to help others <a href="https://www.npmjs.com/search?q=keywords:astro-component,withastro">find your component on npm</a> and in any other search catalogs.</p>
<p>We recommend adding <code>astro-component</code> or <code>withastro</code> as a special keyword to maximize its discoverability in the Astro ecosystem.</p>   <pre class="astro-code" data-language="json">{
  "keywords": ["astro-component", "withastro", "... etc", "... etc"]
}</pre> <aside class="content tip astro-J4JMU3BW" aria-label="Tip"> <p class="title astro-J4JMU3BW" aria-hidden="true">  Tip </p> <section class="astro-J4JMU3BW"> <p>Keywords are also used by our <a href="https://astro.build/integrations/">integrations library</a>! <a href="#integrations-library">See below</a> for a full list of keywords we look for in NPM.</p> </section> </aside> <hr>
<div class="heading-wrapper level-h3" tabindex="-1"><h3 id="indexjs"><code>index.js</code></h3></div>
<p>The main <strong>package entrypoint</strong> used whenever your package is imported.</p>   <pre class="astro-code" data-language="js">export { default as MyAstroComponent } from './MyAstroComponent.astro';

export { default as MyReactComponent } from './MyReactComponent.jsx';</pre> <p>This allows you to package multiple components together into a single interface.</p>
<div class="heading-wrapper level-h4" tabindex="-1"><h4 id="example-using-named-imports">Example: Using Named Imports</h4></div>   <pre class="astro-code" data-language="astro">---
import { MyAstroComponent } from 'my-component';
import { MyReactComponent } from 'my-component';
---
&lt;MyAstroComponent /&gt;
&lt;MyReactComponent /&gt;</pre> <div class="heading-wrapper level-h4" tabindex="-1"><h4 id="example-using-namespace-imports">Example: Using Namespace Imports</h4></div>   <pre class="astro-code" data-language="astro">---
import * as Example from 'example-astro-component';
---
&lt;Example.MyAstroComponent /&gt;
&lt;Example.MyReactComponent /&gt;</pre> <div class="heading-wrapper level-h4" tabindex="-1"><h4 id="example-using-individual-imports">Example: Using Individual Imports</h4></div>   <pre class="astro-code" data-language="astro">---
import MyAstroComponent from 'example-astro-component/astro';
import MyReactComponent from 'example-astro-component/react';
---
&lt;MyAstroComponent /&gt;
&lt;MyReactComponent /&gt;</pre> <hr>
<div class="heading-wrapper level-h2" tabindex="-1"><h2 id="developing-your-package">Developing your package</h2></div>
<p>Astro does not have a dedicated “package mode” for development. Instead, you should use a demo project to develop and test your package inside of your project. This can be a private website only used for development, or a public demo/documentation website for your package.</p>
<p>If you are extracting components from an existing project, you can even continue to use that project to develop your now-extracted components.</p>
<div class="heading-wrapper level-h2" tabindex="-1"><h2 id="testing-your-component">Testing your component</h2></div>
<p>Astro does not currently ship a test runner. This is something that we would like to tackle. <em>(If you are interested in helping out, <a href="https://astro.build/chat/">join us on Discord!</a>)</em></p>
<p>In the meantime, our current recommendation for testing is:</p>
<ol> <li>Add a test <code>fixtures</code> directory to your <code>demo/src/pages</code> directory.</li> <li>Add a new page for every test that you’d like to run.</li> <li>Each page should include some different component usage that you’d like to test.</li> <li>Run <code>astro build</code> to build your fixtures, then compare the output of the <code>dist/__fixtures__/</code> directory to what you expected.</li> </ol>   <pre class="astro-code" data-language="bash">my-project/demo/src/pages/__fixtures__/
  ├─ test-name-01.astro
  ├─ test-name-02.astro
  └─ test-name-03.astro</pre> <div class="heading-wrapper level-h2" tabindex="-1"><h2 id="publishing-your-component">Publishing your component</h2></div>
<p>Once you have your package ready, you can publish it to npm!</p>
<p>To publish a package to npm, use the <code>npm publish</code> command. If that fails, make sure that you have logged in via <code>npm login</code> and that your <code>package.json</code> is correct. If it succeeds, you’re done!</p>
<p>Notice that there was no <code>build</code> step for Astro packages. Any file type that Astro supports can be published directly without a build step, because we know that Astro already supports them natively. This includes all files with extensions like <code>.astro</code>, <code>.ts</code>, <code>.jsx</code>, and <code>.css</code>.</p>
<p>If you need some other file type that isn’t natively supported by Astro, you are welcome to add a build step to your package. This advanced exercise is left up to you.</p>
<div class="heading-wrapper level-h2" tabindex="-1"><h2 id="integrations-library">Integrations Library</h2></div>
<p>Share your hard work by adding your integration to our <a href="https://astro.build/integrations/">integrations library</a>!</p>
<div class="heading-wrapper level-h3" tabindex="-1"><h3 id="packagejson-data">
<code>package.json</code> data</h3></div>
<p>The library is automatically updated nightly, pulling in every package published to NPM with the <code>astro-component</code> keyword.</p>
<p>The integrations library reads the <code>name</code>, <code>description</code>, <code>repository</code>, and <code>homepage</code> data from your <code>package.json</code>.</p>
<p>Avatars are a great way to highlight your brand in the library! Once your package is published you can <a href="https://github.com/withastro/astro.build/issues/new/choose">file a GitHub issue</a> with your avatar attached and we will add it to your listing.</p>
<aside class="content tip astro-J4JMU3BW" aria-label="Tip"> <p class="title astro-J4JMU3BW" aria-hidden="true">  Tip </p> <section class="astro-J4JMU3BW"> <p>Need to override the information our library reads from NPM? No problem! <a href="https://github.com/withastro/astro.build/issues/new/choose">File an issue</a> with the updated information and we’ll make sure the custom <code>name</code>, <code>description</code>, or <code>homepage</code> is used instead.</p> </section> </aside> <div class="heading-wrapper level-h3" tabindex="-1"><h3 id="collections">Collections</h3></div>
<p>In addition to the required <code>astro-component</code> or <code>withastro</code> keyword, special keywords are also used to automatically organize packages. Including any of the keywords below will add your integration to the collection in our integrations library.</p>
<table> <thead> <tr> <th>collection</th> <th>keywords</th> </tr> </thead> <tbody> <tr> <td>Accessibility</td> <td>
<code>a11y</code>, <code>accessibility</code>
</td> </tr> <tr> <td>Adapters</td> <td><code>astro-adapter</code></td> </tr> <tr> <td>Analytics</td> <td><code>analytics</code></td> </tr> <tr> <td>CSS + UI</td> <td>
<code>css</code>, <code>ui</code>, <code>icon</code>, <code>icons</code>, <code>renderer</code>
</td> </tr> <tr> <td>Frameworks</td> <td><code>renderer</code></td> </tr> <tr> <td>Performance + SEO</td> <td>
<code>performance</code>, <code>perf</code>, <code>seo</code>, <code>optimization</code>
</td> </tr> </tbody> </table>
<div class="heading-wrapper level-h2" tabindex="-1"><h2 id="share">Share</h2></div>
<p>We encourage you to share your work, and we really do love seeing what our talented Astronauts create. Come and share what you create with us in our <a href="https://astro.build/chat/">Discord</a> or mention <a href="https://twitter.com/astrodotbuild">@astrodotbuild</a> in a Tweet!</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2021 Fred K. Schott<br>Licensed under the MIT License.<br>
    <a href="https://docs.astro.build/en/guides/publish-to-npm/" class="_attribution-link">https://docs.astro.build/en/guides/publish-to-npm/</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
