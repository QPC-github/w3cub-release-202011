
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Troubleshooting - Astro - W3cubDocs</title>
  
  <meta name="description" content=" Astro provides several different tools to help you troubleshoot and debug your code. ">
  <meta name="keywords" content="troubleshooting, astro">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/astro/guides/troubleshooting/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-1810d67ab7e57be09d8247710d2feb6954566959eb82322d1fee3a0c9156f56974b78ebaa9928774f00767342bbe58b0799d91fcc336b92b319170b196f9b64b.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/astro.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/astro/" class="_nav-link" title="" style="margin-left:0;">Astro</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1 class="content-title astro-NDOP6O4T" id="overview">Troubleshooting</h1> <p>Astro provides several different tools to help you troubleshoot and debug your code.</p>
<div class="heading-wrapper level-h2" tabindex="-1"><h2 id="common-error-messages">Common Error Messages</h2></div>
<p>Here are some common error messages you might see in the terminal, what they might mean, and what to do about them.</p>
<div class="heading-wrapper level-h3" tabindex="-1"><h3 id="cannot-use-import-statement-outside-a-module">Cannot use import statement outside a module</h3></div>
<p>In Astro components, <code>&lt;script&gt;</code> tags are hoisted and loaded as <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules">JS modules</a> by default. If you have included the <a href="../../reference/directives-reference/index#isinline"><code>is:inline</code> directive</a> or any other attribute in your tag, this default behavior is removed.</p>
<p><strong>Solution</strong>: If you have added any attributes to your <code>&lt;script&gt;</code> tag, you must also add the <code>type="module"</code> attribute to be able to use import statements.</p>
<p><strong>Status</strong>: Expected Astro behavior, as intended.</p>
<p><strong>Not sure that this is your problem?</strong><br> Check to see if anyone else has reported <a href="https://github.com/withastro/astro/issues?q=is%3Aissue+is%3Aopen+Cannot+use+import+statement">this issue</a>!</p>
<div class="heading-wrapper level-h3" tabindex="-1"><h3 id="unable-to-render-component">Unable to render component</h3></div>
<p>This indicates an error in a component you have imported and are using in your Astro template.</p>
<div class="heading-wrapper level-h4" tabindex="-1"><h4 id="common-cause">Common cause</h4></div>
<p>This can be caused by attempting to access the <code>window</code> or <code>document</code> object at render time. By default, Astro will render your component <a href="https://en.wikipedia.org/wiki/Isomorphic_JavaScript">isomorphically</a>, meaning it runs on the server where the browser runtime is not available. You can disable this pre-render step using <a href="../../reference/directives-reference/index#clientonly">the <code>client:only</code> directive</a>.</p>
<p><strong>Solution</strong>: Try to access those objects after rendering (ex: <a href="https://reactjs.org/docs/hooks-reference.html#useeffect"><code>useEffect()</code></a> in React or <a href="https://vuejs.org/api/composition-api-lifecycle.html#onmounted"><code>onMounted()</code></a> in Vue and <a href="https://svelte.dev/docs#run-time-svelte-onmount"><code>onMount()</code></a> in Svelte).</p>
<p><strong>Status</strong>: Expected Astro behavior, as intended.</p>
<div class="heading-wrapper level-h4" tabindex="-1"><h4 id="not-that">Not that?</h4></div>
<p><strong>Solution</strong>: Check the appropriate documentation for your <a href="../../core-concepts/astro-components/index">Astro</a> or <a href="../../core-concepts/framework-components/index">UI framework</a> component. Consider opening an Astro starter template from <a href="https://astro.new">astro.new</a> and troubleshooting just your component in a minimal Astro project.</p>
<p><strong>Not sure that this is your problem?</strong><br> Check to see if anyone else has reported <a href="https://github.com/withastro/astro/issues?q=is%3Aissue+is%3Aopen+Unable+to+render+Component">this issue</a>!</p>
<div class="heading-wrapper level-h3" tabindex="-1"><h3 id="expected-a-default-export">Expected a default export</h3></div>
<p>This error can be thrown when trying to import or render an invalid component, or one that is not working properly. (This particular message occurs because of the way importing a UI component works in Astro.)</p>
<p><strong>Solution</strong>: Try looking for errors in any component you are importing and rendering, and make sure it’s working correctly. Consider opening an Astro starter template from <a href="https://astro.new">astro.new</a> and troubleshooting just your component in a minimal Astro project.</p>
<p><strong>Status</strong>: Expected Astro behavior, as intended.</p>
<div class="heading-wrapper level-h2" tabindex="-1"><h2 id="common-gotchas">Common gotchas</h2></div>
<div class="heading-wrapper level-h3" tabindex="-1"><h3 id="my-component-is-not-rendering">My component is not rendering</h3></div>
<p>First, check to see that you have <strong>imported the component</strong> in your <a href="../../core-concepts/astro-components/index#the-component-script"><code>.astro</code> component script</a> or <a href="../markdown-content/index#using-components-in-mdx"><code>.mdx</code> file</a>.</p>
<p>Then check your import statement:</p>
<ul> <li> <p>Is your import linking to the wrong place? (Check your import path.)</p> </li> <li> <p>Does your import have the same name as the imported component? (Check your component name and that it <a href="../../core-concepts/astro-components/index#differences-between-astro-and-jsx">follows the <code>.astro</code> syntax</a>.)</p> </li> <li> <p>Have you included the extension in the import? (Check that your imported file contains an extension. e.g. <code>.astro</code>, <code>.md</code>, <code>.vue</code>, <code>.svelte</code>. Note: File extensions are <strong>not</strong> required for <code>.js(x)</code> and <code>.ts(x)</code> files only.)</p> </li> </ul>
<div class="heading-wrapper level-h3" tabindex="-1"><h3 id="my-component-is-not-interactive">My component is not interactive</h3></div>
<p>If your component is rendering (see above) but is not responding to user interaction, then you may be missing a <a href="../../reference/directives-reference/index#client-directives"><code>client:*</code> directive</a> to hydrate your component.</p>
<p>By default, a <a href="../../core-concepts/framework-components/index#hydrating-interactive-components">UI Framework component is not hydrated in the client</a>. If no <code>client:*</code> directive is provided, its HTML is rendered onto the page without JavaScript.</p>
<aside class="content tip astro-J4JMU3BW" aria-label="Tip"> <p class="title astro-J4JMU3BW" aria-hidden="true">  Tip </p> <section class="astro-J4JMU3BW"> <p><a href="../../core-concepts/astro-components/index">Astro components</a> are HTML-only templating components with no client-side runtime. But, you can use a <code>&lt;script&gt;</code> tag in your Astro component template to send JavaScript to the browser that executes in the global scope.</p> </section> </aside> <div class="heading-wrapper level-h3" tabindex="-1"><h3 id="cannot-find-package-x">Cannot find package ‘X’</h3></div>
<p>If you see a <code>"Cannot find package 'react'"</code> (or similar) warning when you start up Astro, that means that you need to install that package into your project. Not all package managers will install peer dependencies for you automatically. If you are on Node v16+ and using npm, you should not need to worry about this section.</p>
<p>React, for example, is a peer dependency of the <code>@astrojs/react</code> integration. That means that you should install the official <code>react</code> and <code>react-dom</code> packages alongside your integration. The integration will then pull from these packages automatically.</p>   <pre class="astro-code" data-language="shell"># Example: Install integrations and frameworks together
npm install @astrojs/react react react-dom</pre> <p>See <a href="../integrations-guide/index">Astro’s integration guide</a> for instructions on adding framework renderers, CSS tools and other packages to Astro.</p>
<div class="heading-wrapper level-h3" tabindex="-1"><h3 id="astroglob---no-matches-found">
<code>Astro.glob()</code> - no matches found</h3></div>
<p>When using <code>Astro.glob()</code> to import files, be sure to use the correct glob syntax that will match all the files you need.</p>
<div class="heading-wrapper level-h4" tabindex="-1"><h4 id="filepaths">Filepaths</h4></div>
<p>For example, use <code>../components/**/*.js</code> in <code>src/pages/index.astro</code> to import both of the following files:</p>
<ul> <li><code>src/components/MyComponent.js</code></li> <li><code>src/components/includes/MyOtherComponent.js</code></li> </ul>
<div class="heading-wrapper level-h4" tabindex="-1"><h4 id="supported-values">Supported Values</h4></div>
<p><code>Astro.glob()</code> does not support dynamic variables and string interpolation.</p>
<p>This is not a bug in Astro. It is due to a limitation of <a href="https://vitejs.dev/guide/features.html#glob-import">Vite’s <code>import.meta.glob()</code> function</a> which only supports static string literals.</p>
<p>A common workaround is to instead import a larger set of files that includes all the files you need using <code>Astro.glob()</code>, then filter them:</p>  <div class="_pre-heading"><span class="title">src/components/featured.astro</span></div> <pre class="astro-code" data-language="astro">---
const { postSlug } = Astro.props;
const pathToMyFeaturedPost = `src/pages/blog/${postSlug}.md`;

const posts = await Astro.glob('../pages/blog/*.md');
const myFeaturedPost = posts.find(post =&gt; post.file.includes(pathToMyFeaturedPost));
---

&lt;p&gt;
  Take a look at my favorite post, &lt;a href={myFeaturedPost.url}&gt;{myFeaturedPost.frontmatter.title}&lt;/a&gt;!
&lt;/p&gt;</pre> <div class="heading-wrapper level-h3" tabindex="-1"><h3 id="using-astro-with-yarn-2-berry">Using Astro with Yarn 2+ (Berry)</h3></div>
<p>Yarn 2+, a.k.a. Berry, uses a technique called <a href="https://yarnpkg.com/features/pnp">Plug’n’Play (PnP)</a> to store and manage Node modules, which can <a href="https://github.com/withastro/astro/issues/3450">cause problems</a> while initializing a new Astro project using <code>create-astro</code> or while working with Astro. A workaround is to set the <a href="https://yarnpkg.com/configuration/yarnrc#nodeLinker"><code>nodeLinker</code> property</a> in <code>.yarnrc.yml</code> to <code>node-modules</code>:</p>  <div class="_pre-heading"><span class="title">.yarnrc.yml</span></div> <pre class="astro-code" data-language="yaml">nodeLinker: "node-modules"</pre> <div class="heading-wrapper level-h3" tabindex="-1"><h3 id="using-head-in-a-component">Using <code>&lt;head&gt;</code> in a component</h3></div>
<p>In Astro, using a <code>&lt;head&gt;</code> tag works like any other HTML tag: it does not get moved to the top of the page or merged with the existing <code>&lt;head&gt;</code>. Because of this, you usually only want to include one <code>&lt;head&gt;</code> tag throughout a page. We recommend writing that single <code>&lt;head&gt;</code> and its contents in a <a href="../../core-concepts/layouts/index">layout component</a>.</p>
<div class="heading-wrapper level-h2" tabindex="-1"><h2 id="tips-and-tricks">Tips and tricks</h2></div>
<div class="heading-wrapper level-h3" tabindex="-1"><h3 id="debugging-with-consolelog">Debugging with <code>console.log()</code>
</h3></div>
<p><code>console.log()</code> is a simple-but-popular method of debugging your Astro code. Where you write your <code>console.log</code> statment will determine where your debugging output is printed.</p>
<div class="heading-wrapper level-h4" tabindex="-1"><h4 id="frontmatter">Frontmatter</h4></div>
<p>A <code>console.log()</code> statement in Astro frontmatter will always output to the <strong>terminal</strong> running the Astro CLI. This is because Astro runs on the server, and never in the browser.</p>   <pre class="astro-code" data-language="astro">---
const sum = (a, b) =&gt; a + b;

// Example: Outputs "4" to the CLI terminal
console.log(sum(2, 2));
---</pre> <div class="heading-wrapper level-h4" tabindex="-1"><h4 id="js-scripts">JS scripts</h4></div>
<p>Code that is written or imported inside of an Astro <code>&lt;script&gt;</code> tag is run in the browser. Any <code>console.log()</code> statements or other debug output will be printed to the console in your browser.</p>
<div class="heading-wrapper level-h3" tabindex="-1"><h3 id="debugging-framework-components">Debugging framework components</h3></div>
<p><a href="../../core-concepts/framework-components/index">Framework components</a> (like React and Svelte) are unique: They render server-side by default, meaning that <code>console.log()</code> debug output will be visible in the terminal. However, they can also be hydrated for the browser, which may cause your debug logs to also appear in the browser.</p>
<p>This can be useful for debugging differences between the SSR output and the hydrated components in the browser.</p>
<div class="heading-wrapper level-h3" tabindex="-1"><h3 id="astro-debug--component">Astro <code>&lt;Debug /&gt;</code> component</h3></div>
<p>To help you debug your Astro components, Astro provides a built-in <a href="../../reference/api-reference/index#debug-"><code>&lt;Debug /&gt;</code></a> component which renders any value directly into your component HTML template. This is useful for quick debugging in the browser without having to flip back-and-forth between your terminal and your browser.</p>   <pre class="astro-code" data-language="astro">---
import { Debug } from 'astro/components';
const sum = (a, b) =&gt; a + b;
---

&lt;!-- Example: Outputs {answer: 6} to the browser --&gt;
&lt;Debug answer={sum(2, 4)} /&gt;</pre> <p>The Debug component supports a variety of syntax options for even more flexible and concise debugging:</p>   <pre class="astro-code" data-language="astro">---
import { Debug } from 'astro/components';
const sum = (a, b) =&gt; a + b;
const answer = sum(2, 4);
---
&lt;!-- Example: All three examples are equivalent. --&gt;
&lt;Debug answer={sum(2, 4)} /&gt;
&lt;Debug {{answer: sum(2, 4)}} /&gt;
&lt;Debug {answer} /&gt;</pre> <div class="heading-wrapper level-h2" tabindex="-1"><h2 id="need-more">Need more?</h2></div>
<p>Come and chat with us on <a href="https://astro.build/chat">Discord</a> and explain your issue in the <code>#support-threads</code> channel. We’re always happy to help!</p>
<p>Visit the current <a href="https://github.com/withastro/astro/issues/">open Issues in Astro</a> to see if you are encountering a known problem or file a bug report.</p>
<p>You can also visit <a href="https://github.com/withastro/rfcs/discussions/">RFC Discussions</a> to see whether you’ve found a known limitation of Astro, and check to see whether there are current proposals related to your use case.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2021 Fred K. Schott<br>Licensed under the MIT License.<br>
    <a href="https://docs.astro.build/en/guides/troubleshooting/" class="_attribution-link">https://docs.astro.build/en/guides/troubleshooting/</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
