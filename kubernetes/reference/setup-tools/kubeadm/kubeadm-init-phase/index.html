
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Kubeadm Init Phase - Kubernetes - W3cubDocs</title>
  
  <meta name="description" content="kubeadm init phase enables you to invoke atomic steps of the bootstrap process. Hence, you can let kubeadm do some of the work and you can fill in &hellip;">
  <meta name="keywords" content="kubeadm, init, phase, kubernetes">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/kubernetes/reference/setup-tools/kubeadm/kubeadm-init-phase/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-60a6449bb52e9968d95c133a29f066ffcb8dbe4f077d4022e51c991ce30bf256c8e19c508207a4193c414ffd0414826564317669b0f27f9f85c1cb21b84e097e.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/kubernetes.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/kubernetes/" class="_nav-link" title="" style="margin-left:0;">Kubernetes</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _kubernetes">
				
				
<h1>kubeadm init phase</h1> <p><code>kubeadm init phase</code> enables you to invoke atomic steps of the bootstrap process. Hence, you can let kubeadm do some of the work and you can fill in the gaps if you wish to apply customization.</p> <p><code>kubeadm init phase</code> is consistent with the <a href="../kubeadm-init/index#init-workflow">kubeadm init workflow</a>, and behind the scene both use the same code.</p> <h2 id="cmd-phase-preflight">kubeadm init phase preflight</h2> <p>Using this command you can execute preflight checks on a control-plane node.</p> <ul class="nav nav-tabs" id="tab-preflight" role="tablist">
<li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#tab-preflight-0" role="tab" aria-controls="tab-preflight-0" aria-selected="true">preflight</a></li> </ul> <div class="tab-content" id="tab-preflight"><div id="tab-preflight-0" class="tab-pane show active" role="tabpanel" aria-labelledby="tab-preflight-0"> 
<p>Run pre-flight checks</p> <h3 id="synopsis">Synopsis</h3> <p>Run pre-flight checks for kubeadm init.</p> <pre><code>kubeadm init phase preflight [flags]
</code></pre>
<h3 id="examples">Examples</h3> <pre><code>  # Run pre-flight checks for kubeadm init using a config file.
  kubeadm init phase preflight --config kubeadm-config.yaml
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for preflight</p></td> </tr> <tr> <td colspan="2">--ignore-preflight-errors strings</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div></div> <h2 id="cmd-phase-kubelet-start">kubeadm init phase kubelet-start</h2> <p>This phase will write the kubelet configuration file and environment file and then start the kubelet.</p> <ul class="nav nav-tabs" id="tab-kubelet-start" role="tablist">
<li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#tab-kubelet-start-0" role="tab" aria-controls="tab-kubelet-start-0" aria-selected="true">kubelet-start</a></li> </ul> <div class="tab-content" id="tab-kubelet-start"><div id="tab-kubelet-start-0" class="tab-pane show active" role="tabpanel" aria-labelledby="tab-kubelet-start-0"> 
<p>Write kubelet settings and (re)start the kubelet</p> <h3 id="synopsis">Synopsis</h3> <p>Write a file with KubeletConfiguration and an environment file with node specific kubelet settings, and then (re)start kubelet.</p> <pre><code>kubeadm init phase kubelet-start [flags]
</code></pre>
<h3 id="examples">Examples</h3> <pre><code>  # Writes a dynamic environment file with kubelet flags from a InitConfiguration file.
  kubeadm init phase kubelet-start --config config.yaml
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">--cri-socket string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to the CRI socket to connect. If empty kubeadm will try to auto-detect this value; use this option only if you have more than one CRI installed or if you have non-standard CRI socket.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for kubelet-start</p></td> </tr> <tr> <td colspan="2">--node-name string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Specify the node name.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div></div> <h2 id="cmd-phase-certs">kubeadm init phase certs</h2> <p>Can be used to create all required certificates by kubeadm.</p> <ul class="nav nav-tabs" id="tab-certs" role="tablist">
<li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#tab-certs-0" role="tab" aria-controls="tab-certs-0" aria-selected="true">certs</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-certs-1" role="tab" aria-controls="tab-certs-1">all</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-certs-2" role="tab" aria-controls="tab-certs-2">ca</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-certs-3" role="tab" aria-controls="tab-certs-3">apiserver</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-certs-4" role="tab" aria-controls="tab-certs-4">apiserver-kubelet-client</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-certs-5" role="tab" aria-controls="tab-certs-5">front-proxy-ca</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-certs-6" role="tab" aria-controls="tab-certs-6">front-proxy-client</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-certs-7" role="tab" aria-controls="tab-certs-7">etcd-ca</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-certs-8" role="tab" aria-controls="tab-certs-8">etcd-server</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-certs-9" role="tab" aria-controls="tab-certs-9">etcd-peer</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-certs-10" role="tab" aria-controls="tab-certs-10">healthcheck-client</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-certs-11" role="tab" aria-controls="tab-certs-11">apiserver-etcd-client</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-certs-12" role="tab" aria-controls="tab-certs-12">sa</a></li>
</ul> <div class="tab-content" id="tab-certs">
<div id="tab-certs-0" class="tab-pane show active" role="tabpanel" aria-labelledby="tab-certs-0"> 
<p>Certificate generation</p> <h3 id="synopsis">Synopsis</h3> <p>This command is not meant to be run on its own. See list of available subcommands.</p> <pre><code>kubeadm init phase certs [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for certs</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-certs-1" class="tab-pane" role="tabpanel" aria-labelledby="tab-certs-1"> 
<p>Generate all certificates</p> <h3 id="synopsis">Synopsis</h3> <p>Generate all certificates</p> <pre><code>kubeadm init phase certs all [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--apiserver-advertise-address string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td> </tr> <tr> <td colspan="2">--apiserver-cert-extra-sans strings</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Optional extra Subject Alternative Names (SANs) to use for the API Server serving certificate. Can be both IP addresses and DNS names.</p></td> </tr> <tr> <td colspan="2">--cert-dir string Default: "/etc/kubernetes/pki"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save and store the certificates.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">--control-plane-endpoint string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Specify a stable IP address or DNS name for the control plane.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for all</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> <tr> <td colspan="2">--service-cidr string Default: "10.96.0.0/12"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Use alternative range of IP address for service VIPs.</p></td> </tr> <tr> <td colspan="2">--service-dns-domain string Default: "cluster.local"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Use alternative domain for services, e.g. "myorg.internal".</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-certs-2" class="tab-pane" role="tabpanel" aria-labelledby="tab-certs-2"> 
<p>Generate the self-signed Kubernetes CA to provision identities for other Kubernetes components</p> <h3 id="synopsis">Synopsis</h3> <p>Generate the self-signed Kubernetes CA to provision identities for other Kubernetes components, and save them into ca.crt and ca.key files.</p> <p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p> <p>Alpha Disclaimer: this command is currently alpha.</p> <pre><code>kubeadm init phase certs ca [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--cert-dir string Default: "/etc/kubernetes/pki"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save and store the certificates.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for ca</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-certs-3" class="tab-pane" role="tabpanel" aria-labelledby="tab-certs-3"> 
<p>Generate the certificate for serving the Kubernetes API</p> <h3 id="synopsis">Synopsis</h3> <p>Generate the certificate for serving the Kubernetes API, and save them into apiserver.crt and apiserver.key files.</p> <p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p> <p>Alpha Disclaimer: this command is currently alpha.</p> <pre><code>kubeadm init phase certs apiserver [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--apiserver-advertise-address string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td> </tr> <tr> <td colspan="2">--apiserver-cert-extra-sans strings</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Optional extra Subject Alternative Names (SANs) to use for the API Server serving certificate. Can be both IP addresses and DNS names.</p></td> </tr> <tr> <td colspan="2">--cert-dir string Default: "/etc/kubernetes/pki"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save and store the certificates.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">--control-plane-endpoint string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Specify a stable IP address or DNS name for the control plane.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for apiserver</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> <tr> <td colspan="2">--service-cidr string Default: "10.96.0.0/12"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Use alternative range of IP address for service VIPs.</p></td> </tr> <tr> <td colspan="2">--service-dns-domain string Default: "cluster.local"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Use alternative domain for services, e.g. "myorg.internal".</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-certs-4" class="tab-pane" role="tabpanel" aria-labelledby="tab-certs-4"> 
<p>Generate the certificate for the API server to connect to kubelet</p> <h3 id="synopsis">Synopsis</h3> <p>Generate the certificate for the API server to connect to kubelet, and save them into apiserver-kubelet-client.crt and apiserver-kubelet-client.key files.</p> <p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p> <p>Alpha Disclaimer: this command is currently alpha.</p> <pre><code>kubeadm init phase certs apiserver-kubelet-client [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--cert-dir string Default: "/etc/kubernetes/pki"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save and store the certificates.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for apiserver-kubelet-client</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-certs-5" class="tab-pane" role="tabpanel" aria-labelledby="tab-certs-5"> 
<p>Generate the self-signed CA to provision identities for front proxy</p> <h3 id="synopsis">Synopsis</h3> <p>Generate the self-signed CA to provision identities for front proxy, and save them into front-proxy-ca.crt and front-proxy-ca.key files.</p> <p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p> <p>Alpha Disclaimer: this command is currently alpha.</p> <pre><code>kubeadm init phase certs front-proxy-ca [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--cert-dir string Default: "/etc/kubernetes/pki"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save and store the certificates.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for front-proxy-ca</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-certs-6" class="tab-pane" role="tabpanel" aria-labelledby="tab-certs-6"> 
<p>Generate the certificate for the front proxy client</p> <h3 id="synopsis">Synopsis</h3> <p>Generate the certificate for the front proxy client, and save them into front-proxy-client.crt and front-proxy-client.key files.</p> <p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p> <p>Alpha Disclaimer: this command is currently alpha.</p> <pre><code>kubeadm init phase certs front-proxy-client [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--cert-dir string Default: "/etc/kubernetes/pki"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save and store the certificates.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for front-proxy-client</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-certs-7" class="tab-pane" role="tabpanel" aria-labelledby="tab-certs-7"> 
<p>Generate the self-signed CA to provision identities for etcd</p> <h3 id="synopsis">Synopsis</h3> <p>Generate the self-signed CA to provision identities for etcd, and save them into etcd/ca.crt and etcd/ca.key files.</p> <p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p> <p>Alpha Disclaimer: this command is currently alpha.</p> <pre><code>kubeadm init phase certs etcd-ca [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--cert-dir string Default: "/etc/kubernetes/pki"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save and store the certificates.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for etcd-ca</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-certs-8" class="tab-pane" role="tabpanel" aria-labelledby="tab-certs-8"> 
<p>Generate the certificate for serving etcd</p> <h3 id="synopsis">Synopsis</h3> <p>Generate the certificate for serving etcd, and save them into etcd/server.crt and etcd/server.key files.</p> <p>Default SANs are localhost, 127.0.0.1, 127.0.0.1, ::1</p> <p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p> <p>Alpha Disclaimer: this command is currently alpha.</p> <pre><code>kubeadm init phase certs etcd-server [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--cert-dir string Default: "/etc/kubernetes/pki"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save and store the certificates.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for etcd-server</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-certs-9" class="tab-pane" role="tabpanel" aria-labelledby="tab-certs-9"> 
<p>Generate the certificate for etcd nodes to communicate with each other</p> <h3 id="synopsis">Synopsis</h3> <p>Generate the certificate for etcd nodes to communicate with each other, and save them into etcd/peer.crt and etcd/peer.key files.</p> <p>Default SANs are localhost, 127.0.0.1, 127.0.0.1, ::1</p> <p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p> <p>Alpha Disclaimer: this command is currently alpha.</p> <pre><code>kubeadm init phase certs etcd-peer [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--cert-dir string Default: "/etc/kubernetes/pki"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save and store the certificates.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for etcd-peer</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-certs-10" class="tab-pane" role="tabpanel" aria-labelledby="tab-certs-10"> 
<p>Generate the certificate for liveness probes to healthcheck etcd</p> <h3 id="synopsis">Synopsis</h3> <p>Generate the certificate for liveness probes to healthcheck etcd, and save them into etcd/healthcheck-client.crt and etcd/healthcheck-client.key files.</p> <p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p> <p>Alpha Disclaimer: this command is currently alpha.</p> <pre><code>kubeadm init phase certs etcd-healthcheck-client [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--cert-dir string Default: "/etc/kubernetes/pki"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save and store the certificates.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for etcd-healthcheck-client</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-certs-11" class="tab-pane" role="tabpanel" aria-labelledby="tab-certs-11"> 
<p>Generate the certificate the apiserver uses to access etcd</p> <h3 id="synopsis">Synopsis</h3> <p>Generate the certificate the apiserver uses to access etcd, and save them into apiserver-etcd-client.crt and apiserver-etcd-client.key files.</p> <p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p> <p>Alpha Disclaimer: this command is currently alpha.</p> <pre><code>kubeadm init phase certs apiserver-etcd-client [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--cert-dir string Default: "/etc/kubernetes/pki"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save and store the certificates.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for apiserver-etcd-client</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-certs-12" class="tab-pane" role="tabpanel" aria-labelledby="tab-certs-12"> 
<p>Generate a private key for signing service account tokens along with its public key</p> <h3 id="synopsis">Synopsis</h3> <p>Generate the private key for signing service account tokens along with its public key, and save them into sa.key and sa.pub files. If both files already exist, kubeadm skips the generation step and existing files will be used.</p> <p>Alpha Disclaimer: this command is currently alpha.</p> <pre><code>kubeadm init phase certs sa [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--cert-dir string Default: "/etc/kubernetes/pki"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save and store the certificates.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for sa</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div>
</div> <h2 id="cmd-phase-kubeconfig">kubeadm init phase kubeconfig</h2> <p>You can create all required kubeconfig files by calling the <code>all</code> subcommand or call them individually.</p> <ul class="nav nav-tabs" id="tab-kubeconfig" role="tablist">
<li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#tab-kubeconfig-0" role="tab" aria-controls="tab-kubeconfig-0" aria-selected="true">kubeconfig</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-kubeconfig-1" role="tab" aria-controls="tab-kubeconfig-1">all</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-kubeconfig-2" role="tab" aria-controls="tab-kubeconfig-2">admin</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-kubeconfig-3" role="tab" aria-controls="tab-kubeconfig-3">kubelet</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-kubeconfig-4" role="tab" aria-controls="tab-kubeconfig-4">controller-manager</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-kubeconfig-5" role="tab" aria-controls="tab-kubeconfig-5">scheduler</a></li>
</ul> <div class="tab-content" id="tab-kubeconfig">
<div id="tab-kubeconfig-0" class="tab-pane show active" role="tabpanel" aria-labelledby="tab-kubeconfig-0"> 
<p>Generate all kubeconfig files necessary to establish the control plane and the admin kubeconfig file</p> <h3 id="synopsis">Synopsis</h3> <p>This command is not meant to be run on its own. See list of available subcommands.</p> <pre><code>kubeadm init phase kubeconfig [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for kubeconfig</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-kubeconfig-1" class="tab-pane" role="tabpanel" aria-labelledby="tab-kubeconfig-1"> 
<p>Generate all kubeconfig files</p> <h3 id="synopsis">Synopsis</h3> <p>Generate all kubeconfig files</p> <pre><code>kubeadm init phase kubeconfig all [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--apiserver-advertise-address string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td> </tr> <tr> <td colspan="2">--apiserver-bind-port int32 Default: 6443</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Port for the API Server to bind to.</p></td> </tr> <tr> <td colspan="2">--cert-dir string Default: "/etc/kubernetes/pki"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save and store the certificates.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">--control-plane-endpoint string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Specify a stable IP address or DNS name for the control plane.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for all</p></td> </tr> <tr> <td colspan="2">--kubeconfig-dir string Default: "/etc/kubernetes"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save the kubeconfig file.</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> <tr> <td colspan="2">--node-name string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Specify the node name.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-kubeconfig-2" class="tab-pane" role="tabpanel" aria-labelledby="tab-kubeconfig-2"> 
<p>Generate a kubeconfig file for the admin to use and for kubeadm itself</p> <h3 id="synopsis">Synopsis</h3> <p>Generate the kubeconfig file for the admin and for kubeadm itself, and save it to admin.conf file.</p> <pre><code>kubeadm init phase kubeconfig admin [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--apiserver-advertise-address string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td> </tr> <tr> <td colspan="2">--apiserver-bind-port int32 Default: 6443</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Port for the API Server to bind to.</p></td> </tr> <tr> <td colspan="2">--cert-dir string Default: "/etc/kubernetes/pki"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save and store the certificates.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">--control-plane-endpoint string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Specify a stable IP address or DNS name for the control plane.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for admin</p></td> </tr> <tr> <td colspan="2">--kubeconfig-dir string Default: "/etc/kubernetes"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save the kubeconfig file.</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-kubeconfig-3" class="tab-pane" role="tabpanel" aria-labelledby="tab-kubeconfig-3"> 
<p>Generate a kubeconfig file for the kubelet to use <em>only</em> for cluster bootstrapping purposes</p> <h3 id="synopsis">Synopsis</h3> <p>Generate the kubeconfig file for the kubelet to use and save it to kubelet.conf file.</p> <p>Please note that this should <em>only</em> be used for cluster bootstrapping purposes. After your control plane is up, you should request all kubelet credentials from the CSR API.</p> <pre><code>kubeadm init phase kubeconfig kubelet [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--apiserver-advertise-address string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td> </tr> <tr> <td colspan="2">--apiserver-bind-port int32 Default: 6443</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Port for the API Server to bind to.</p></td> </tr> <tr> <td colspan="2">--cert-dir string Default: "/etc/kubernetes/pki"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save and store the certificates.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">--control-plane-endpoint string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Specify a stable IP address or DNS name for the control plane.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for kubelet</p></td> </tr> <tr> <td colspan="2">--kubeconfig-dir string Default: "/etc/kubernetes"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save the kubeconfig file.</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> <tr> <td colspan="2">--node-name string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Specify the node name.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-kubeconfig-4" class="tab-pane" role="tabpanel" aria-labelledby="tab-kubeconfig-4"> 
<p>Generate a kubeconfig file for the controller manager to use</p> <h3 id="synopsis">Synopsis</h3> <p>Generate the kubeconfig file for the controller manager to use and save it to controller-manager.conf file</p> <pre><code>kubeadm init phase kubeconfig controller-manager [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--apiserver-advertise-address string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td> </tr> <tr> <td colspan="2">--apiserver-bind-port int32 Default: 6443</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Port for the API Server to bind to.</p></td> </tr> <tr> <td colspan="2">--cert-dir string Default: "/etc/kubernetes/pki"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save and store the certificates.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">--control-plane-endpoint string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Specify a stable IP address or DNS name for the control plane.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for controller-manager</p></td> </tr> <tr> <td colspan="2">--kubeconfig-dir string Default: "/etc/kubernetes"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save the kubeconfig file.</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-kubeconfig-5" class="tab-pane" role="tabpanel" aria-labelledby="tab-kubeconfig-5"> 
<p>Generate a kubeconfig file for the scheduler to use</p> <h3 id="synopsis">Synopsis</h3> <p>Generate the kubeconfig file for the scheduler to use and save it to scheduler.conf file.</p> <pre><code>kubeadm init phase kubeconfig scheduler [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--apiserver-advertise-address string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td> </tr> <tr> <td colspan="2">--apiserver-bind-port int32 Default: 6443</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Port for the API Server to bind to.</p></td> </tr> <tr> <td colspan="2">--cert-dir string Default: "/etc/kubernetes/pki"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save and store the certificates.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">--control-plane-endpoint string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Specify a stable IP address or DNS name for the control plane.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for scheduler</p></td> </tr> <tr> <td colspan="2">--kubeconfig-dir string Default: "/etc/kubernetes"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save the kubeconfig file.</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div>
</div> <h2 id="cmd-phase-control-plane">kubeadm init phase control-plane</h2> <p>Using this phase you can create all required static Pod files for the control plane components.</p> <ul class="nav nav-tabs" id="tab-control-plane" role="tablist">
<li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#tab-control-plane-0" role="tab" aria-controls="tab-control-plane-0" aria-selected="true">control-plane</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-control-plane-1" role="tab" aria-controls="tab-control-plane-1">all</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-control-plane-2" role="tab" aria-controls="tab-control-plane-2">apiserver</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-control-plane-3" role="tab" aria-controls="tab-control-plane-3">controller-manager</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-control-plane-4" role="tab" aria-controls="tab-control-plane-4">scheduler</a></li>
</ul> <div class="tab-content" id="tab-control-plane">
<div id="tab-control-plane-0" class="tab-pane show active" role="tabpanel" aria-labelledby="tab-control-plane-0"> 
<p>Generate all static Pod manifest files necessary to establish the control plane</p> <h3 id="synopsis">Synopsis</h3> <p>This command is not meant to be run on its own. See list of available subcommands.</p> <pre><code>kubeadm init phase control-plane [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for control-plane</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-control-plane-1" class="tab-pane" role="tabpanel" aria-labelledby="tab-control-plane-1"> 
<p>Generate all static Pod manifest files</p> <h3 id="synopsis">Synopsis</h3> <p>Generate all static Pod manifest files</p> <pre><code>kubeadm init phase control-plane all [flags]
</code></pre>
<h3 id="examples">Examples</h3> <pre><code>  # Generates all static Pod manifest files for control plane components,
  # functionally equivalent to what is generated by kubeadm init.
  kubeadm init phase control-plane all
  
  # Generates all static Pod manifest files using options read from a configuration file.
  kubeadm init phase control-plane all --config config.yaml
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--apiserver-advertise-address string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td> </tr> <tr> <td colspan="2">--apiserver-bind-port int32 Default: 6443</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Port for the API Server to bind to.</p></td> </tr> <tr> <td colspan="2">--apiserver-extra-args &lt;comma-separated 'key=value' pairs&gt;</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>A set of extra flags to pass to the API Server or override default ones in form of &lt;flagname&gt;=&lt;value&gt;</p></td> </tr> <tr> <td colspan="2">--cert-dir string Default: "/etc/kubernetes/pki"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save and store the certificates.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">--control-plane-endpoint string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Specify a stable IP address or DNS name for the control plane.</p></td> </tr> <tr> <td colspan="2">--controller-manager-extra-args &lt;comma-separated 'key=value' pairs&gt;</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>A set of extra flags to pass to the Controller Manager or override default ones in form of &lt;flagname&gt;=&lt;value&gt;</p></td> </tr> <tr> <td colspan="2">--dry-run</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Don't apply any changes; just output what would be done.</p></td> </tr> <tr> <td colspan="2">--feature-gates string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>A set of key=value pairs that describe feature gates for various features. Options are:<br>PublicKeysECDSA=true|false (ALPHA - default=false)<br>RootlessControlPlane=true|false (ALPHA - default=false)<br>UnversionedKubeletConfigMap=true|false (ALPHA - default=false)</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for all</p></td> </tr> <tr> <td colspan="2">--image-repository string Default: "k8s.gcr.io"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a container registry to pull control plane images from</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> <tr> <td colspan="2">--patches string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td> </tr> <tr> <td colspan="2">--pod-network-cidr string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Specify range of IP addresses for the pod network. If set, the control plane will automatically allocate CIDRs for every node.</p></td> </tr> <tr> <td colspan="2">--scheduler-extra-args &lt;comma-separated 'key=value' pairs&gt;</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>A set of extra flags to pass to the Scheduler or override default ones in form of &lt;flagname&gt;=&lt;value&gt;</p></td> </tr> <tr> <td colspan="2">--service-cidr string Default: "10.96.0.0/12"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Use alternative range of IP address for service VIPs.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-control-plane-2" class="tab-pane" role="tabpanel" aria-labelledby="tab-control-plane-2"> 
<p>Generates the kube-apiserver static Pod manifest</p> <h3 id="synopsis">Synopsis</h3> <p>Generates the kube-apiserver static Pod manifest</p> <pre><code>kubeadm init phase control-plane apiserver [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--apiserver-advertise-address string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td> </tr> <tr> <td colspan="2">--apiserver-bind-port int32 Default: 6443</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Port for the API Server to bind to.</p></td> </tr> <tr> <td colspan="2">--apiserver-extra-args &lt;comma-separated 'key=value' pairs&gt;</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>A set of extra flags to pass to the API Server or override default ones in form of &lt;flagname&gt;=&lt;value&gt;</p></td> </tr> <tr> <td colspan="2">--cert-dir string Default: "/etc/kubernetes/pki"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save and store the certificates.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">--control-plane-endpoint string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Specify a stable IP address or DNS name for the control plane.</p></td> </tr> <tr> <td colspan="2">--dry-run</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Don't apply any changes; just output what would be done.</p></td> </tr> <tr> <td colspan="2">--feature-gates string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>A set of key=value pairs that describe feature gates for various features. Options are:<br>PublicKeysECDSA=true|false (ALPHA - default=false)<br>RootlessControlPlane=true|false (ALPHA - default=false)<br>UnversionedKubeletConfigMap=true|false (ALPHA - default=false)</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for apiserver</p></td> </tr> <tr> <td colspan="2">--image-repository string Default: "k8s.gcr.io"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a container registry to pull control plane images from</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> <tr> <td colspan="2">--patches string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td> </tr> <tr> <td colspan="2">--service-cidr string Default: "10.96.0.0/12"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Use alternative range of IP address for service VIPs.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-control-plane-3" class="tab-pane" role="tabpanel" aria-labelledby="tab-control-plane-3"> 
<p>Generates the kube-controller-manager static Pod manifest</p> <h3 id="synopsis">Synopsis</h3> <p>Generates the kube-controller-manager static Pod manifest</p> <pre><code>kubeadm init phase control-plane controller-manager [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--cert-dir string Default: "/etc/kubernetes/pki"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save and store the certificates.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">--controller-manager-extra-args &lt;comma-separated 'key=value' pairs&gt;</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>A set of extra flags to pass to the Controller Manager or override default ones in form of &lt;flagname&gt;=&lt;value&gt;</p></td> </tr> <tr> <td colspan="2">--dry-run</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Don't apply any changes; just output what would be done.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for controller-manager</p></td> </tr> <tr> <td colspan="2">--image-repository string Default: "k8s.gcr.io"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a container registry to pull control plane images from</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> <tr> <td colspan="2">--patches string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td> </tr> <tr> <td colspan="2">--pod-network-cidr string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Specify range of IP addresses for the pod network. If set, the control plane will automatically allocate CIDRs for every node.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-control-plane-4" class="tab-pane" role="tabpanel" aria-labelledby="tab-control-plane-4"> 
<p>Generates the kube-scheduler static Pod manifest</p> <h3 id="synopsis">Synopsis</h3> <p>Generates the kube-scheduler static Pod manifest</p> <pre><code>kubeadm init phase control-plane scheduler [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--cert-dir string Default: "/etc/kubernetes/pki"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save and store the certificates.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">--dry-run</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Don't apply any changes; just output what would be done.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for scheduler</p></td> </tr> <tr> <td colspan="2">--image-repository string Default: "k8s.gcr.io"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a container registry to pull control plane images from</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> <tr> <td colspan="2">--patches string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td> </tr> <tr> <td colspan="2">--scheduler-extra-args &lt;comma-separated 'key=value' pairs&gt;</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>A set of extra flags to pass to the Scheduler or override default ones in form of &lt;flagname&gt;=&lt;value&gt;</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div>
</div> <h2 id="cmd-phase-etcd">kubeadm init phase etcd</h2> <p>Use the following phase to create a local etcd instance based on a static Pod file.</p> <ul class="nav nav-tabs" id="tab-etcd" role="tablist">
<li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#tab-etcd-0" role="tab" aria-controls="tab-etcd-0" aria-selected="true">etcd</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-etcd-1" role="tab" aria-controls="tab-etcd-1">local</a></li>
</ul> <div class="tab-content" id="tab-etcd">
<div id="tab-etcd-0" class="tab-pane show active" role="tabpanel" aria-labelledby="tab-etcd-0"> 
<p>Generate static Pod manifest file for local etcd</p> <h3 id="synopsis">Synopsis</h3> <p>This command is not meant to be run on its own. See list of available subcommands.</p> <pre><code>kubeadm init phase etcd [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for etcd</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-etcd-1" class="tab-pane" role="tabpanel" aria-labelledby="tab-etcd-1"> 
<p>Generate the static Pod manifest file for a local, single-node local etcd instance</p> <h3 id="synopsis">Synopsis</h3> <p>Generate the static Pod manifest file for a local, single-node local etcd instance</p> <pre><code>kubeadm init phase etcd local [flags]
</code></pre>
<h3 id="examples">Examples</h3> <pre><code>  # Generates the static Pod manifest file for etcd, functionally
  # equivalent to what is generated by kubeadm init.
  kubeadm init phase etcd local
  
  # Generates the static Pod manifest file for etcd using options
  # read from a configuration file.
  kubeadm init phase etcd local --config config.yaml
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--cert-dir string Default: "/etc/kubernetes/pki"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save and store the certificates.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for local</p></td> </tr> <tr> <td colspan="2">--image-repository string Default: "k8s.gcr.io"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a container registry to pull control plane images from</p></td> </tr> <tr> <td colspan="2">--patches string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div>
</div> <h2 id="cmd-phase-upload-config">kubeadm init phase upload-config</h2> <p>You can use this command to upload the kubeadm configuration to your cluster. Alternatively, you can use <a href="../kubeadm-config/index">kubeadm config</a>.</p> <ul class="nav nav-tabs" id="upload-config" role="tablist">
<li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#upload-config-0" role="tab" aria-controls="upload-config-0" aria-selected="true">upload-config</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#upload-config-1" role="tab" aria-controls="upload-config-1">all</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#upload-config-2" role="tab" aria-controls="upload-config-2">kubeadm</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#upload-config-3" role="tab" aria-controls="upload-config-3">kubelet</a></li>
</ul> <div class="tab-content" id="upload-config">
<div id="upload-config-0" class="tab-pane show active" role="tabpanel" aria-labelledby="upload-config-0"> 
<p>Upload the kubeadm and kubelet configuration to a ConfigMap</p> <h3 id="synopsis">Synopsis</h3> <p>This command is not meant to be run on its own. See list of available subcommands.</p> <pre><code>kubeadm init phase upload-config [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for upload-config</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="upload-config-1" class="tab-pane" role="tabpanel" aria-labelledby="upload-config-1"> 
<p>Upload all configuration to a config map</p> <h3 id="synopsis">Synopsis</h3> <p>Upload all configuration to a config map</p> <pre><code>kubeadm init phase upload-config all [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for all</p></td> </tr> <tr> <td colspan="2">--kubeconfig string Default: "/etc/kubernetes/admin.conf"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="upload-config-2" class="tab-pane" role="tabpanel" aria-labelledby="upload-config-2"> 
<p>Upload the kubeadm ClusterConfiguration to a ConfigMap</p> <h3 id="synopsis">Synopsis</h3> <p>Upload the kubeadm ClusterConfiguration to a ConfigMap called kubeadm-config in the kube-system namespace. This enables correct configuration of system components and a seamless user experience when upgrading.</p> <p>Alternatively, you can use kubeadm config.</p> <pre><code>kubeadm init phase upload-config kubeadm [flags]
</code></pre>
<h3 id="examples">Examples</h3> <pre><code>  # upload the configuration of your cluster
  kubeadm init phase upload-config --config=myConfig.yaml
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for kubeadm</p></td> </tr> <tr> <td colspan="2">--kubeconfig string Default: "/etc/kubernetes/admin.conf"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="upload-config-3" class="tab-pane" role="tabpanel" aria-labelledby="upload-config-3"> 
<p>Upload the kubelet component config to a ConfigMap</p> <h3 id="synopsis">Synopsis</h3> <p>Upload kubelet configuration extracted from the kubeadm InitConfiguration object to a ConfigMap of the form kubelet-config-1.X in the cluster, where X is the minor version of the current (API Server) Kubernetes version.</p> <pre><code>kubeadm init phase upload-config kubelet [flags]
</code></pre>
<h3 id="examples">Examples</h3> <pre><code>  # Upload the kubelet configuration from the kubeadm Config file to a ConfigMap in the cluster.
  kubeadm init phase upload-config kubelet --config kubeadm.yaml
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for kubelet</p></td> </tr> <tr> <td colspan="2">--kubeconfig string Default: "/etc/kubernetes/admin.conf"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div>
</div> <h2 id="cmd-phase-upload-certs">kubeadm init phase upload-certs</h2> <p>Use the following phase to upload control-plane certificates to the cluster. By default the certs and encryption key expire after two hours.</p> <ul class="nav nav-tabs" id="tab-upload-certs" role="tablist">
<li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#tab-upload-certs-0" role="tab" aria-controls="tab-upload-certs-0" aria-selected="true">upload-certs</a></li> </ul> <div class="tab-content" id="tab-upload-certs"><div id="tab-upload-certs-0" class="tab-pane show active" role="tabpanel" aria-labelledby="tab-upload-certs-0"> 
<p>Upload certificates to kubeadm-certs</p> <h3 id="synopsis">Synopsis</h3> <p>This command is not meant to be run on its own. See list of available subcommands.</p> <pre><code>kubeadm init phase upload-certs [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--certificate-key string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Key used to encrypt the control-plane certificates in the kubeadm-certs Secret.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for upload-certs</p></td> </tr> <tr> <td colspan="2">--kubeconfig string Default: "/etc/kubernetes/admin.conf"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td> </tr> <tr> <td colspan="2">--skip-certificate-key-print</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Don't print the key used to encrypt the control-plane certificates.</p></td> </tr> <tr> <td colspan="2">--upload-certs</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Upload control-plane certificates to the kubeadm-certs Secret.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div></div> <h2 id="cmd-phase-mark-control-plane">kubeadm init phase mark-control-plane</h2> <p>Use the following phase to label and taint the node with the <code>node-role.kubernetes.io/master=""</code> key-value pair.</p> <ul class="nav nav-tabs" id="tab-mark-control-plane" role="tablist">
<li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#tab-mark-control-plane-0" role="tab" aria-controls="tab-mark-control-plane-0" aria-selected="true">mark-control-plane</a></li> </ul> <div class="tab-content" id="tab-mark-control-plane"><div id="tab-mark-control-plane-0" class="tab-pane show active" role="tabpanel" aria-labelledby="tab-mark-control-plane-0"> 
<p>Mark a node as a control-plane</p> <h3 id="synopsis">Synopsis</h3> <p>Mark a node as a control-plane</p> <pre><code>kubeadm init phase mark-control-plane [flags]
</code></pre>
<h3 id="examples">Examples</h3> <pre><code>  # Applies control-plane label and taint to the current node, functionally equivalent to what executed by kubeadm init.
  kubeadm init phase mark-control-plane --config config.yaml
  
  # Applies control-plane label and taint to a specific node
  kubeadm init phase mark-control-plane --node-name myNode
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for mark-control-plane</p></td> </tr> <tr> <td colspan="2">--node-name string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Specify the node name.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div></div> <h2 id="cmd-phase-bootstrap-token">kubeadm init phase bootstrap-token</h2> <p>Use the following phase to configure bootstrap tokens.</p> <ul class="nav nav-tabs" id="tab-bootstrap-token" role="tablist">
<li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#tab-bootstrap-token-0" role="tab" aria-controls="tab-bootstrap-token-0" aria-selected="true">bootstrap-token</a></li> </ul> <div class="tab-content" id="tab-bootstrap-token"><div id="tab-bootstrap-token-0" class="tab-pane show active" role="tabpanel" aria-labelledby="tab-bootstrap-token-0"> 
<p>Generates bootstrap tokens used to join a node to a cluster</p> <h3 id="synopsis">Synopsis</h3> <p>Bootstrap tokens are used for establishing bidirectional trust between a node joining the cluster and a control-plane node.</p> <p>This command makes all the configurations required to make bootstrap tokens works and then creates an initial token.</p> <pre><code>kubeadm init phase bootstrap-token [flags]
</code></pre>
<h3 id="examples">Examples</h3> <pre><code>  # Make all the bootstrap token configurations and create an initial token, functionally
  # equivalent to what generated by kubeadm init.
  kubeadm init phase bootstrap-token
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for bootstrap-token</p></td> </tr> <tr> <td colspan="2">--kubeconfig string Default: "/etc/kubernetes/admin.conf"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td> </tr> <tr> <td colspan="2">--skip-token-print</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Skip printing of the default bootstrap token generated by 'kubeadm init'.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div></div> <h2 id="cmd-phase-kubelet-finalize-all">kubeadm init phase kubelet-finalize</h2> <p>Use the following phase to update settings relevant to the kubelet after TLS bootstrap. You can use the <code>all</code> subcommand to run all <code>kubelet-finalize</code> phases.</p> <ul class="nav nav-tabs" id="tab-kubelet-finalize" role="tablist">
<li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#tab-kubelet-finalize-0" role="tab" aria-controls="tab-kubelet-finalize-0" aria-selected="true">kubelet-finalize</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-kubelet-finalize-1" role="tab" aria-controls="tab-kubelet-finalize-1">kubelet-finalize-all</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-kubelet-finalize-2" role="tab" aria-controls="tab-kubelet-finalize-2">kubelet-finalize-cert-rotation</a></li>
</ul> <div class="tab-content" id="tab-kubelet-finalize">
<div id="tab-kubelet-finalize-0" class="tab-pane show active" role="tabpanel" aria-labelledby="tab-kubelet-finalize-0"> 
<p>Updates settings relevant to the kubelet after TLS bootstrap</p> <h3 id="synopsis">Synopsis</h3> <p>Updates settings relevant to the kubelet after TLS bootstrap</p> <pre><code>kubeadm init phase kubelet-finalize [flags]
</code></pre>
<h3 id="examples">Examples</h3> <pre><code>  # Updates settings relevant to the kubelet after TLS bootstrap"
  kubeadm init phase kubelet-finalize all --config
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for kubelet-finalize</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-kubelet-finalize-1" class="tab-pane" role="tabpanel" aria-labelledby="tab-kubelet-finalize-1"> 
<p>Run all kubelet-finalize phases</p> <h3 id="synopsis">Synopsis</h3> <p>Run all kubelet-finalize phases</p> <pre><code>kubeadm init phase kubelet-finalize all [flags]
</code></pre>
<h3 id="examples">Examples</h3> <pre><code>  # Updates settings relevant to the kubelet after TLS bootstrap"
  kubeadm init phase kubelet-finalize all --config
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--cert-dir string Default: "/etc/kubernetes/pki"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save and store the certificates.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for all</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-kubelet-finalize-2" class="tab-pane" role="tabpanel" aria-labelledby="tab-kubelet-finalize-2"> 
<p>Enable kubelet client certificate rotation</p> <h3 id="synopsis">Synopsis</h3> <p>Enable kubelet client certificate rotation</p> <pre><code>kubeadm init phase kubelet-finalize experimental-cert-rotation [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--cert-dir string Default: "/etc/kubernetes/pki"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The path where to save and store the certificates.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for experimental-cert-rotation</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div>
</div> <h2 id="cmd-phase-addon">kubeadm init phase addon</h2> <p>You can install all the available addons with the <code>all</code> subcommand, or install them selectively.</p> <ul class="nav nav-tabs" id="tab-addon" role="tablist">
<li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#tab-addon-0" role="tab" aria-controls="tab-addon-0" aria-selected="true">addon</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-addon-1" role="tab" aria-controls="tab-addon-1">all</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-addon-2" role="tab" aria-controls="tab-addon-2">coredns</a></li> <li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-addon-3" role="tab" aria-controls="tab-addon-3">kube-proxy</a></li>
</ul> <div class="tab-content" id="tab-addon">
<div id="tab-addon-0" class="tab-pane show active" role="tabpanel" aria-labelledby="tab-addon-0"> 
<p>Install required addons for passing conformance tests</p> <h3 id="synopsis">Synopsis</h3> <p>This command is not meant to be run on its own. See list of available subcommands.</p> <pre><code>kubeadm init phase addon [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for addon</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-addon-1" class="tab-pane" role="tabpanel" aria-labelledby="tab-addon-1"> 
<p>Install all the addons</p> <h3 id="synopsis">Synopsis</h3> <p>Install all the addons</p> <pre><code>kubeadm init phase addon all [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--apiserver-advertise-address string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td> </tr> <tr> <td colspan="2">--apiserver-bind-port int32 Default: 6443</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Port for the API Server to bind to.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">--control-plane-endpoint string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Specify a stable IP address or DNS name for the control plane.</p></td> </tr> <tr> <td colspan="2">--feature-gates string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>A set of key=value pairs that describe feature gates for various features. Options are:<br>PublicKeysECDSA=true|false (ALPHA - default=false)<br>RootlessControlPlane=true|false (ALPHA - default=false)<br>UnversionedKubeletConfigMap=true|false (ALPHA - default=false)</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for all</p></td> </tr> <tr> <td colspan="2">--image-repository string Default: "k8s.gcr.io"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a container registry to pull control plane images from</p></td> </tr> <tr> <td colspan="2">--kubeconfig string Default: "/etc/kubernetes/admin.conf"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> <tr> <td colspan="2">--pod-network-cidr string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Specify range of IP addresses for the pod network. If set, the control plane will automatically allocate CIDRs for every node.</p></td> </tr> <tr> <td colspan="2">--service-cidr string Default: "10.96.0.0/12"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Use alternative range of IP address for service VIPs.</p></td> </tr> <tr> <td colspan="2">--service-dns-domain string Default: "cluster.local"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Use alternative domain for services, e.g. "myorg.internal".</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-addon-2" class="tab-pane" role="tabpanel" aria-labelledby="tab-addon-2"> 
<p>Install the CoreDNS addon to a Kubernetes cluster</p> <h3 id="synopsis">Synopsis</h3> <p>Install the CoreDNS addon components via the API server. Please note that although the DNS server is deployed, it will not be scheduled until CNI is installed.</p> <pre><code>kubeadm init phase addon coredns [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">--feature-gates string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>A set of key=value pairs that describe feature gates for various features. Options are:<br>PublicKeysECDSA=true|false (ALPHA - default=false)<br>RootlessControlPlane=true|false (ALPHA - default=false)<br>UnversionedKubeletConfigMap=true|false (ALPHA - default=false)</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for coredns</p></td> </tr> <tr> <td colspan="2">--image-repository string Default: "k8s.gcr.io"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a container registry to pull control plane images from</p></td> </tr> <tr> <td colspan="2">--kubeconfig string Default: "/etc/kubernetes/admin.conf"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> <tr> <td colspan="2">--service-cidr string Default: "10.96.0.0/12"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Use alternative range of IP address for service VIPs.</p></td> </tr> <tr> <td colspan="2">--service-dns-domain string Default: "cluster.local"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Use alternative domain for services, e.g. "myorg.internal".</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div> <div id="tab-addon-3" class="tab-pane" role="tabpanel" aria-labelledby="tab-addon-3"> 
<p>Install the kube-proxy addon to a Kubernetes cluster</p> <h3 id="synopsis">Synopsis</h3> <p>Install the kube-proxy addon components via the API server.</p> <pre><code>kubeadm init phase addon kube-proxy [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--apiserver-advertise-address string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td> </tr> <tr> <td colspan="2">--apiserver-bind-port int32 Default: 6443</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Port for the API Server to bind to.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">--control-plane-endpoint string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Specify a stable IP address or DNS name for the control plane.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for kube-proxy</p></td> </tr> <tr> <td colspan="2">--image-repository string Default: "k8s.gcr.io"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a container registry to pull control plane images from</p></td> </tr> <tr> <td colspan="2">--kubeconfig string Default: "/etc/kubernetes/admin.conf"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> <tr> <td colspan="2">--pod-network-cidr string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Specify range of IP addresses for the pod network. If set, the control plane will automatically allocate CIDRs for every node.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> </div>
</div> <p>For more details on each field in the <code>v1beta3</code> configuration you can navigate to our <a href="../../../config-api/kubeadm-config.v1beta3/index">API reference pages.</a></p> <h2 id="what-s-next">What's next</h2> <ul> <li>
<a href="../kubeadm-init/index">kubeadm init</a> to bootstrap a Kubernetes control-plane node</li> <li>
<a href="../kubeadm-join/index">kubeadm join</a> to connect a node to the cluster</li> <li>
<a href="../kubeadm-reset/index">kubeadm reset</a> to revert any changes made to this host by <code>kubeadm init</code> or <code>kubeadm join</code>
</li> <li>
<a href="../kubeadm-alpha/index">kubeadm alpha</a> to try experimental functionality</li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    © 2022 The Kubernetes Authors<br>Documentation Distributed under CC BY 4.0.<br>
    <a href="https://kubernetes.io/docs/reference/setup-tools/kubeadm/kubeadm-init-phase/" class="_attribution-link">https://kubernetes.io/docs/reference/setup-tools/kubeadm/kubeadm-init-phase/</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
