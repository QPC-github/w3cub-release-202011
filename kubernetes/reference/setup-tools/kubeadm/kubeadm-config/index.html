
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Kubeadm Config - Kubernetes - W3cubDocs</title>
  
  <meta name="description" content="During kubeadm init, kubeadm uploads the ClusterConfiguration object to your cluster in a ConfigMap called kubeadm-config in the kube-system &hellip;">
  <meta name="keywords" content="kubeadm, config, kubernetes">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/kubernetes/reference/setup-tools/kubeadm/kubeadm-config/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/kubernetes.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/kubernetes/" class="_nav-link" title="" style="margin-left:0;">Kubernetes</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _kubernetes">
				
				
<h1>kubeadm config</h1>  <p>During <code>kubeadm init</code>, kubeadm uploads the <code>ClusterConfiguration</code> object to your cluster in a ConfigMap called <code>kubeadm-config</code> in the <code>kube-system</code> namespace. This configuration is then read during <code>kubeadm join</code>, <code>kubeadm reset</code> and <code>kubeadm upgrade</code>.</p> <p>You can use <code>kubeadm config print</code> to print the default static configuration that kubeadm uses for <code>kubeadm init</code> and <code>kubeadm join</code>.</p> <div class="alert alert-info note callout" role="alert"> <strong>Note:</strong> The output of the command is meant to serve as an example. You must manually edit the output of this command to adapt to your setup. Remove the fields that you are not certain about and kubeadm will try to default them on runtime by examining the host. </div> <p>For more information on <code>init</code> and <code>join</code> navigate to <a href="../kubeadm-init/index#config-file">Using kubeadm init with a configuration file</a> or <a href="../kubeadm-join/index#config-file">Using kubeadm join with a configuration file</a>.</p> <p>For more information on using the kubeadm configuration API navigate to <a href="../../../../setup/production-environment/tools/kubeadm/control-plane-flags/index">Customizing components with the kubeadm API</a>.</p> <p>You can use <code>kubeadm config migrate</code> to convert your old configuration files that contain a deprecated API version to a newer, supported API version.</p> <p><code>kubeadm config images list</code> and <code>kubeadm config images pull</code> can be used to list and pull the images that kubeadm requires.</p>  <h2 id="cmd-config-print">kubeadm config print</h2> <p>Print configuration</p> <h3 id="synopsis">Synopsis</h3> <p>This command prints configurations for subcommands provided. For details, see: <a href="https://pkg.go.dev/k8s.io/kubernetes/cmd/kubeadm/app/apis/kubeadm#section-directories">https://pkg.go.dev/k8s.io/kubernetes/cmd/kubeadm/app/apis/kubeadm#section-directories</a></p> <pre><code>kubeadm config print [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for print</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--kubeconfig string Default: "/etc/kubernetes/admin.conf"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td> </tr> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> <h2 id="cmd-config-print-init-defaults">kubeadm config print init-defaults</h2> <p>Print default init configuration, that can be used for 'kubeadm init'</p> <h3 id="synopsis">Synopsis</h3> <p>This command prints objects such as the default init configuration that is used for 'kubeadm init'.</p> <p>Note that sensitive values like the Bootstrap Token fields are replaced with placeholder values like "abcdef.0123456789abcdef" in order to pass validation but not perform the real computation for creating a token.</p> <pre><code>kubeadm config print init-defaults [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--component-configs strings</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>A comma-separated list for component config API objects to print the default values for. Available values: [KubeProxyConfiguration KubeletConfiguration]. If this flag is not set, no component configs will be printed.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for init-defaults</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--kubeconfig string Default: "/etc/kubernetes/admin.conf"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td> </tr> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> <h2 id="cmd-config-print-join-defaults">kubeadm config print join-defaults</h2> <p>Print default join configuration, that can be used for 'kubeadm join'</p> <h3 id="synopsis">Synopsis</h3> <p>This command prints objects such as the default join configuration that is used for 'kubeadm join'.</p> <p>Note that sensitive values like the Bootstrap Token fields are replaced with placeholder values like "abcdef.0123456789abcdef" in order to pass validation but not perform the real computation for creating a token.</p> <pre><code>kubeadm config print join-defaults [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--component-configs strings</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>A comma-separated list for component config API objects to print the default values for. Available values: [KubeProxyConfiguration KubeletConfiguration]. If this flag is not set, no component configs will be printed.</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for join-defaults</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--kubeconfig string Default: "/etc/kubernetes/admin.conf"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td> </tr> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> <h2 id="cmd-config-migrate">kubeadm config migrate</h2> <p>Read an older version of the kubeadm configuration API types from a file, and output the similar config object for the newer version</p> <h3 id="synopsis">Synopsis</h3> <p>This command lets you convert configuration objects of older versions to the latest supported version, locally in the CLI tool without ever touching anything in the cluster. In this version of kubeadm, the following API versions are supported:</p> <ul> <li>kubeadm.k8s.io/v1beta3</li> </ul> <p>Further, kubeadm can only write out config of version "kubeadm.k8s.io/v1beta3", but read both types. So regardless of what version you pass to the --old-config parameter here, the API object will be read, deserialized, defaulted, converted, validated, and re-serialized when written to stdout or --new-config if specified.</p> <p>In other words, the output of this command is what kubeadm actually would read internally if you submitted this file to "kubeadm init"</p> <pre><code>kubeadm config migrate [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for migrate</p></td> </tr> <tr> <td colspan="2">--new-config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to the resulting equivalent kubeadm config file using the new API version. Optional, if not specified output will be sent to STDOUT.</p></td> </tr> <tr> <td colspan="2">--old-config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to the kubeadm config file that is using an old API version and should be converted. This flag is mandatory.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--kubeconfig string Default: "/etc/kubernetes/admin.conf"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td> </tr> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> <h2 id="cmd-config-images-list">kubeadm config images list</h2> <p>Print a list of images kubeadm will use. The configuration file is used in case any images or image repositories are customized</p> <h3 id="synopsis">Synopsis</h3> <p>Print a list of images kubeadm will use. The configuration file is used in case any images or image repositories are customized</p> <pre><code>kubeadm config images list [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--allow-missing-template-keys Default: true</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>If true, ignore any errors in templates when a field or map key is missing in the template. Only applies to golang and jsonpath output formats.</p></td> </tr> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">-o, --experimental-output string Default: "text"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Output format. One of: text|json|yaml|go-template|go-template-file|template|templatefile|jsonpath|jsonpath-as-json|jsonpath-file.</p></td> </tr> <tr> <td colspan="2">--feature-gates string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>A set of key=value pairs that describe feature gates for various features. Options are:<br>PublicKeysECDSA=true|false (ALPHA - default=false)<br>RootlessControlPlane=true|false (ALPHA - default=false)<br>UnversionedKubeletConfigMap=true|false (ALPHA - default=false)</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for list</p></td> </tr> <tr> <td colspan="2">--image-repository string Default: "k8s.gcr.io"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a container registry to pull control plane images from</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> <tr> <td colspan="2">--show-managed-fields</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>If true, keep the managedFields when printing objects in JSON or YAML format.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--kubeconfig string Default: "/etc/kubernetes/admin.conf"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td> </tr> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> <h2 id="cmd-config-images-pull">kubeadm config images pull</h2> <p>Pull images used by kubeadm</p> <h3 id="synopsis">Synopsis</h3> <p>Pull images used by kubeadm</p> <pre><code>kubeadm config images pull [flags]
</code></pre>
<h3 id="options">Options</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--config string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to a kubeadm configuration file.</p></td> </tr> <tr> <td colspan="2">--cri-socket string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Path to the CRI socket to connect. If empty kubeadm will try to auto-detect this value; use this option only if you have more than one CRI installed or if you have non-standard CRI socket.</p></td> </tr> <tr> <td colspan="2">--feature-gates string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>A set of key=value pairs that describe feature gates for various features. Options are:<br>PublicKeysECDSA=true|false (ALPHA - default=false)<br>RootlessControlPlane=true|false (ALPHA - default=false)<br>UnversionedKubeletConfigMap=true|false (ALPHA - default=false)</p></td> </tr> <tr> <td colspan="2">-h, --help</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>help for pull</p></td> </tr> <tr> <td colspan="2">--image-repository string Default: "k8s.gcr.io"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a container registry to pull control plane images from</p></td> </tr> <tr> <td colspan="2">--kubernetes-version string Default: "stable-1"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>Choose a specific Kubernetes version for the control plane.</p></td> </tr> </tbody> </table> <h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3> <table style="width: 100%; table-layout: fixed;"> <colgroup> <col span="1" style="width: 10px;"> <col span="1"> </colgroup> <tbody> <tr> <td colspan="2">--kubeconfig string Default: "/etc/kubernetes/admin.conf"</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td> </tr> <tr> <td colspan="2">--rootfs string</td> </tr> <tr> <td></td>
<td style="line-height: 130%; word-wrap: break-word;"><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td> </tr> </tbody> </table> <h2 id="what-s-next">What's next</h2> <ul> <li>
<a href="../kubeadm-upgrade/index">kubeadm upgrade</a> to upgrade a Kubernetes cluster to a newer version</li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    © 2022 The Kubernetes Authors<br>Documentation Distributed under CC BY 4.0.<br>
    <a href="https://kubernetes.io/docs/reference/setup-tools/kubeadm/kubeadm-config/" class="_attribution-link">https://kubernetes.io/docs/reference/setup-tools/kubeadm/kubeadm-config/</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
