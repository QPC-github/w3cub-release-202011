
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>EvTimer (Class) - PHP - W3cubDocs</title>
  
  <meta name="description" content=" (PECL ev &#62;&#61; 0.2.0) ">
  <meta name="keywords" content="evtimer, class, php">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/php/class.evtimer.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/php.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/php/" class="_nav-link" title="" style="margin-left:0;">PHP</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _php">
				
				
<div id="layout"> <div id="layout-content">
<div id="class.evtimer" class="reference"> <h1 class="title">The EvTimer class</h1>   <h2 class="title">Introduction</h2>
<p class="verinfo">(PECL ev &gt;= 0.2.0)</p> <p class="para"> <strong class="classname">EvTimer</strong> watchers are simple relative timers that generate an event after a given time, and optionally repeating in regular intervals after that. </p> <p class="para"> The timers are based on real time, that is, if one registers an event that times out after an hour and resets the system clock to <em class="emphasis">January last year</em> , it will still time out after(roughly) one hour. "Roughly" because detecting time jumps is hard, and some inaccuracies are unavoidable. </p> <p class="para"> The callback is guaranteed to be invoked only after its timeout has passed (not at, so on systems with very low-resolution clocks this might introduce a small delay). If multiple timers become ready during the same loop iteration then the ones with earlier time-out values are invoked before ones of the same priority with later time-out values (but this is no longer true when a callback calls <span class="methodname"><a href="evloop.run" class="methodname">EvLoop::run()</a></span> recursively). </p> <p class="para"> The timer itself will do a best-effort at avoiding drift, that is, if a timer is configured to trigger every <strong><code>10</code></strong> seconds, then it will normally trigger at exactly <strong><code>10</code></strong> second intervals. If, however, the script cannot keep up with the timer because it takes longer than those <strong><code>10</code></strong> seconds to do) the timer will not fire more than once per event loop iteration. </p>   <h2 class="title">Class synopsis</h2> <div class="classsynopsis">  <div class="classsynopsisinfo"> <span class="ooclass"> <strong class="classname">EvTimer</strong> </span> <span class="ooclass"> <span class="modifier">extends</span> <a href="class.evwatcher" class="classname">EvWatcher</a> </span> {</div> <div class="classsynopsisinfo classsynopsisinfo_comment">/* Properties */</div> <div class="fieldsynopsis"> <span class="modifier">public</span> <var class="varname"><a href="class.evtimer#evtimer.props.repeat">$<var class="varname">repeat</var></a></var> ;</div> <div class="fieldsynopsis"> <span class="modifier">public</span> <var class="varname"><a href="class.evtimer#evtimer.props.remaining">$<var class="varname">remaining</var></a></var> ;</div> <div class="classsynopsisinfo classsynopsisinfo_comment">/* Inherited properties */</div> <div class="fieldsynopsis"> <span class="modifier">public</span> <var class="varname"><a href="class.evwatcher#evwatcher.props.is-active">$<var class="varname">is_active</var></a></var> ;</div> <div class="fieldsynopsis"> <span class="modifier">public</span> <var class="varname"><a href="class.evwatcher#evwatcher.props.data">$<var class="varname">data</var></a></var> ;</div> <div class="fieldsynopsis"> <span class="modifier">public</span> <var class="varname"><a href="class.evwatcher#evwatcher.props.is-pending">$<var class="varname">is_pending</var></a></var> ;</div> <div class="fieldsynopsis"> <span class="modifier">public</span> <var class="varname"><a href="class.evwatcher#evwatcher.props.priority">$<var class="varname">priority</var></a></var> ;</div> <div class="classsynopsisinfo classsynopsisinfo_comment">/* Methods */</div> <pre class="methodsynopsis dc-description" data-language="php">public again ( ) : void</pre> <pre class="methodsynopsis dc-description" data-language="php">public __construct (  float $after  ,  float $repeat  ,  callable $callback  [,  mixed $data  = null  [,  int $priority  = 0  ]] )</pre> <pre class="methodsynopsis dc-description" data-language="php">final public static createStopped (  float $after  ,  float $repeat  ,  callable $callback  [,  mixed $data  = null  [,  int $priority  = 0  ]] ) : EvTimer</pre> <pre class="methodsynopsis dc-description" data-language="php">public set (  float $after  ,  float $repeat  ) : void</pre> <div class="classsynopsisinfo classsynopsisinfo_comment">/* Inherited methods */</div> <pre class="methodsynopsis dc-description" data-language="php">public EvWatcher::clear ( ) : int</pre> <pre class="methodsynopsis dc-description" data-language="php">abstract public EvWatcher::__construct ( )</pre> <pre class="methodsynopsis dc-description" data-language="php">public EvWatcher::feed (  int $revents  ) : void</pre> <pre class="methodsynopsis dc-description" data-language="php">public EvWatcher::getLoop ( ) : EvLoop</pre> <pre class="methodsynopsis dc-description" data-language="php">public EvWatcher::invoke (  int $revents  ) : void</pre> <pre class="methodsynopsis dc-description" data-language="php">public EvWatcher::keepalive ([  bool $value  ] ) : bool</pre> <pre class="methodsynopsis dc-description" data-language="php">public EvWatcher::setCallback (  callable $callback  ) : void</pre> <pre class="methodsynopsis dc-description" data-language="php">public EvWatcher::start ( ) : void</pre> <pre class="methodsynopsis dc-description" data-language="php">public EvWatcher::stop ( ) : void</pre> }</div>   <h2 class="title">Properties</h2> <dl> <dt id="evtimer.props.repeat"> <var class="varname">repeat</var> </dt> <dd> <p class="para"> If repeat is <strong><code>0.0</code></strong> , then it will automatically be stopped once the timeout is reached. If it is positive, then the timer will automatically be configured to trigger again every repeat seconds later, until stopped manually. </p> </dd> <dt id="evtimer.props.remaining"> <var class="varname">remaining</var> </dt> <dd> <p class="para"> Returns the remaining time until a timer fires. If the timer is active, then this time is relative to the current event loop time, otherwise it's the timeout value currently configured. </p> <p class="para"> That is, after instanciating an <strong class="classname">EvTimer</strong> with an <code class="parameter">after</code> value of <strong><code>5.0</code></strong> and <code class="parameter">repeat</code> value of <strong><code>7.0</code></strong> , <var class="varname">remaining</var> returns <strong><code>5.0</code></strong> . When the timer is started and one second passes, <var class="varname">remaining</var> will return <strong><code>4.0</code></strong> . When the timer expires and is restarted, it will return roughly <strong><code>7.0</code></strong> (likely slightly less as callback invocation takes some time too), and so on. </p> </dd> </dl>   <h2>Table of Contents</h2>
<ul class="chunklist chunklist_reference">
<li>
<a href="evtimer.again">EvTimer::again</a> — Restarts the timer watcher</li>
<li>
<a href="evtimer.construct">EvTimer::__construct</a> — Constructs an EvTimer watcher object</li>
<li>
<a href="evtimer.createstopped">EvTimer::createStopped</a> — Creates EvTimer stopped watcher object</li>
<li>
<a href="evtimer.set">EvTimer::set</a> — Configures the watcher</li>
</ul> </div> </div>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    © 1997–2020 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/class.evtimer.php" class="_attribution-link">https://www.php.net/manual/en/class.evtimer.php</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
