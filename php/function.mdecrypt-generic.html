
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Mdecrypt_generic - PHP - W3cubDocs</title>
  
  <meta name="description" content=" (PHP 4 &#62;&#61; 4.0.2, PHP 5, PHP 7 &#60; 7.2.0, PECL mcrypt &#62;&#61; 1.0.0) ">
  <meta name="keywords" content="mdecrypt, generic, php">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/php/function.mdecrypt-generic.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/php.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/php/" class="_nav-link" title="" style="margin-left:0;">PHP</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _php">
				
				
<div class="refnamediv"> <h1 class="refname">mdecrypt_generic</h1> <p class="verinfo">(PHP 4 &gt;= 4.0.2, PHP 5, PHP 7 &lt; 7.2.0, PECL mcrypt &gt;= 1.0.0)</p>
<p class="refpurpose"><span class="refname">mdecrypt_generic</span> — <span class="dc-title">Decrypts data</span></p> </div> <div id="function.mdecrypt-generic-refsynopsisdiv"> <div class="warning">
<strong class="warning">Warning</strong><p class="simpara">This function has been <em class="emphasis">DEPRECATED</em> as of PHP 7.1.0. Relying on this function is highly discouraged.</p>
</div> </div> <div class="refsect1 description" id="refsect1-function.mdecrypt-generic-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">string mdecrypt_generic ( resource $td , string $data )</pre> <p class="para rdfs-comment"> This function decrypts data. Note that the length of the returned string can in fact be longer than the unencrypted string, due to the padding of the data. </p> </div> <div class="refsect1 parameters" id="refsect1-function.mdecrypt-generic-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">td</code>
</dt> <dd> <p class="para"> An encryption descriptor returned by <span class="function"><a href="function.mcrypt-module-open" class="function">mcrypt_module_open()</a></span> </p> </dd> <dt> <code class="parameter">data</code>
</dt> <dd> <p class="para"> Encrypted data. </p> </dd> </dl> </div> <div class="refsect1 examples" id="refsect1-function.mdecrypt-generic-examples"> <h3 class="title">Examples</h3> 
<div class="example" id="example-950"> <p><strong>Example #1 <span class="function"><strong>mdecrypt_generic()</strong></span> Example</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
    /* Data */
    $key = 'this is a very long key, even too long for the cipher';
    $plain_text = 'very important data';

    /* Open module, and create IV */
    $td = mcrypt_module_open('des', '', 'ecb', '');
    $key = substr($key, 0, mcrypt_enc_get_key_size($td));
    $iv_size = mcrypt_enc_get_iv_size($td);
    $iv = mcrypt_create_iv($iv_size, MCRYPT_RAND);

    /* Initialize encryption handle */
    if (mcrypt_generic_init($td, $key, $iv) != -1) {

        /* Encrypt data */
        $c_t = mcrypt_generic($td, $plain_text);
        mcrypt_generic_deinit($td);

        /* Reinitialize buffers for decryption */
        mcrypt_generic_init($td, $key, $iv);
        $p_t = mdecrypt_generic($td, $c_t);

        /* Clean up */
        mcrypt_generic_deinit($td);
        mcrypt_module_close($td);
    }

    if (strncmp($p_t, $plain_text, strlen($plain_text)) == 0) {
        echo "ok\n";
    } else {
        echo "error\n";
    }
?&gt;</pre> </div> </div> <p class="para"> The example above shows how to check if the data before the encryption is the same as the data after the decryption. It is very important to reinitialize the encryption buffer with <span class="function"><a href="function.mcrypt-generic-init" class="function">mcrypt_generic_init()</a></span> before you try to decrypt the data. </p> <p class="para"> The decryption handle should always be initialized with <span class="function"><a href="function.mcrypt-generic-init" class="function">mcrypt_generic_init()</a></span> with a key and an IV before calling this function. Where the encryption is done, you should free the encryption buffers by calling <span class="function"><a href="function.mcrypt-generic-deinit" class="function">mcrypt_generic_deinit()</a></span>. See <span class="function"><a href="function.mcrypt-module-open" class="function">mcrypt_module_open()</a></span> for an example. </p> </div> <div class="refsect1 seealso" id="refsect1-function.mdecrypt-generic-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li class="member"><span class="function"><a href="function.mcrypt-generic" class="function" rel="rdfs-seeAlso">mcrypt_generic()</a> - This function encrypts data</span></li> <li class="member"><span class="function"><a href="function.mcrypt-generic-init" class="function" rel="rdfs-seeAlso">mcrypt_generic_init()</a> - This function initializes all buffers needed for encryption</span></li> <li class="member"><span class="function"><a href="function.mcrypt-generic-deinit" class="function" rel="rdfs-seeAlso">mcrypt_generic_deinit()</a> - This function deinitializes an encryption module</span></li> </ul> </div> <div class="manualnavbar" style="text-align: center;"> <div class="prev" style="text-align: left; float: left;"><a href="function.mcrypt-ofb">← mcrypt_ofb</a></div> <div class="next" style="text-align: right; float: right;"><a href="https://secure.php.net/manual/en/book.mhash.php">Mhash →</a></div>   </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 1997–2018 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://secure.php.net/manual/en/function.mdecrypt-generic.php" class="_attribution-link">https://secure.php.net/manual/en/function.mdecrypt-generic.php</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
