
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>PDOStatement&#58;&#58;fetch - PHP - W3cubDocs</title>
  
  <meta name="description" content=" (PHP 5 &#62;&#61; 5.1.0, PHP 7, PECL pdo &#62;&#61; 0.1.0) ">
  <meta name="keywords" content="pdostatement, fetch, php">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/php/pdostatement.fetch.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/php.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/php/" class="_nav-link" title="" style="margin-left:0;">PHP</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _php">
				
				
<div class="refnamediv"> <h1 class="refname">PDOStatement::fetch</h1> <p class="verinfo">(PHP 5 &gt;= 5.1.0, PHP 7, PECL pdo &gt;= 0.1.0)</p>
<p class="refpurpose"><span class="refname">PDOStatement::fetch</span> — <span class="dc-title"> Fetches the next row from a result set </span></p> </div> <div class="refsect1 description" id="refsect1-pdostatement.fetch-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">public mixed PDOStatement::fetch ([ int $fetch_style [, int $cursor_orientation = PDO::FETCH_ORI_NEXT [, int $cursor_offset = 0 ]]] )</pre> <p class="para rdfs-comment"> Fetches a row from a result set associated with a PDOStatement object. The <code class="parameter">fetch_style</code> parameter determines how PDO returns the row. </p> </div> <div class="refsect1 parameters" id="refsect1-pdostatement.fetch-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">fetch_style</code>
</dt> <dd> <p class="para"> Controls how the next row will be returned to the caller. This value must be one of the <em>PDO::FETCH_*</em> constants, defaulting to value of <em>PDO::ATTR_DEFAULT_FETCH_MODE</em> (which defaults to <em>PDO::FETCH_BOTH</em>). </p>
<ul class="itemizedlist"> <li class="listitem"><p class="para"> <em>PDO::FETCH_ASSOC</em>: returns an array indexed by column name as returned in your result set </p></li> <li class="listitem"><p class="para"> <em>PDO::FETCH_BOTH</em> (default): returns an array indexed by both column name and 0-indexed column number as returned in your result set </p></li> <li class="listitem"><p class="para"> <em>PDO::FETCH_BOUND</em>: returns <strong><code>TRUE</code></strong> and assigns the values of the columns in your result set to the PHP variables to which they were bound with the <span class="function"><a href="pdostatement.bindcolumn" class="function">PDOStatement::bindColumn()</a></span> method </p></li> <li class="listitem"><p class="para"> <em>PDO::FETCH_CLASS</em>: returns a new instance of the requested class, mapping the columns of the result set to named properties in the class, and calling the constructor afterwards, unless <em>PDO::FETCH_PROPS_LATE</em> is also given. If <code class="parameter">fetch_style</code> includes PDO::FETCH_CLASSTYPE (e.g. <em>PDO::FETCH_CLASS | PDO::FETCH_CLASSTYPE</em>) then the name of the class is determined from a value of the first column. </p></li> <li class="listitem"><p class="para"> <em>PDO::FETCH_INTO</em>: updates an existing instance of the requested class, mapping the columns of the result set to named properties in the class </p></li> <li class="listitem"><p class="para"> <em>PDO::FETCH_LAZY</em>: combines <em>PDO::FETCH_BOTH</em> and <em>PDO::FETCH_OBJ</em>, creating the object variable names as they are accessed </p></li> <li class="listitem"><p class="para"> <em>PDO::FETCH_NAMED</em>: returns an array with the same form as <em>PDO::FETCH_ASSOC</em>, except that if there are multiple columns with the same name, the value referred to by that key will be an array of all the values in the row that had that column name </p></li> <li class="listitem"><p class="para"> <em>PDO::FETCH_NUM</em>: returns an array indexed by column number as returned in your result set, starting at column 0 </p></li> <li class="listitem"><p class="para"> <em>PDO::FETCH_OBJ</em>: returns an anonymous object with property names that correspond to the column names returned in your result set </p></li> <li class="listitem"><p class="para"> <em>PDO::FETCH_PROPS_LATE</em>: when used with <em>PDO::FETCH_CLASS</em>, the constructor of the class is called before the properties are assigned from the respective column values. </p></li> </ul> </dd> <dt> <code class="parameter">cursor_orientation</code>
</dt> <dd> <p class="para"> For a PDOStatement object representing a scrollable cursor, this value determines which row will be returned to the caller. This value must be one of the <em>PDO::FETCH_ORI_*</em> constants, defaulting to <em>PDO::FETCH_ORI_NEXT</em>. To request a scrollable cursor for your PDOStatement object, you must set the <em>PDO::ATTR_CURSOR</em> attribute to <em>PDO::CURSOR_SCROLL</em> when you prepare the SQL statement with <span class="function"><a href="pdo.prepare" class="function">PDO::prepare()</a></span>. </p> </dd> <dt> <code class="parameter">offset</code>
</dt> <dd> <p class="para"> For a PDOStatement object representing a scrollable cursor for which the <em>cursor_orientation</em> parameter is set to <em>PDO::FETCH_ORI_ABS</em>, this value specifies the absolute number of the row in the result set that shall be fetched. </p> <p class="para"> For a PDOStatement object representing a scrollable cursor for which the <em>cursor_orientation</em> parameter is set to <em>PDO::FETCH_ORI_REL</em>, this value specifies the row to fetch relative to the cursor position before <span class="function"><strong>PDOStatement::fetch()</strong></span> was called. </p> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-pdostatement.fetch-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> The return value of this function on success depends on the fetch type. In all cases, <strong><code>FALSE</code></strong> is returned on failure. </p> </div> <div class="refsect1 examples" id="refsect1-pdostatement.fetch-examples"> <h3 class="title">Examples</h3> 
<div class="example" id="example-1072">
<p><strong>Example #1 Fetching rows using different fetch styles</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$sth = $dbh-&gt;prepare("SELECT name, colour FROM fruit");
$sth-&gt;execute();

/* Exercise PDOStatement::fetch styles */
print("PDO::FETCH_ASSOC: ");
print("Return next row as an array indexed by column name\n");
$result = $sth-&gt;fetch(PDO::FETCH_ASSOC);
print_r($result);
print("\n");

print("PDO::FETCH_BOTH: ");
print("Return next row as an array indexed by both column name and number\n");
$result = $sth-&gt;fetch(PDO::FETCH_BOTH);
print_r($result);
print("\n");

print("PDO::FETCH_LAZY: ");
print("Return next row as an anonymous object with column names as properties\n");
$result = $sth-&gt;fetch(PDO::FETCH_LAZY);
print_r($result);
print("\n");

print("PDO::FETCH_OBJ: ");
print("Return next row as an anonymous object with column names as properties\n");
$result = $sth-&gt;fetch(PDO::FETCH_OBJ);
print $result-&gt;name;
print("\n");
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
PDO::FETCH_ASSOC: Return next row as an array indexed by column name
Array
(
    [name] =&gt; apple
    [colour] =&gt; red
)

PDO::FETCH_BOTH: Return next row as an array indexed by both column name and number
Array
(
    [name] =&gt; banana
    [0] =&gt; banana
    [colour] =&gt; yellow
    [1] =&gt; yellow
)

PDO::FETCH_LAZY: Return next row as an anonymous object with column names as properties
PDORow Object
(
    [name] =&gt; orange
    [colour] =&gt; orange
)

PDO::FETCH_OBJ: Return next row as an anonymous object with column names as properties
kiwi
</pre></div> </div> </div> <div class="example" id="example-1073">
<p><strong>Example #2 Fetching rows with a scrollable cursor</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
function readDataForwards($dbh) {
  $sql = 'SELECT hand, won, bet FROM mynumbers ORDER BY BET';
  try {
    $stmt = $dbh-&gt;prepare($sql, array(PDO::ATTR_CURSOR =&gt; PDO::CURSOR_SCROLL));
    $stmt-&gt;execute();
    while ($row = $stmt-&gt;fetch(PDO::FETCH_NUM, PDO::FETCH_ORI_NEXT)) {
      $data = $row[0] . "\t" . $row[1] . "\t" . $row[2] . "\n";
      print $data;
    }
    $stmt = null;
  }
  catch (PDOException $e) {
    print $e-&gt;getMessage();
  }
}
function readDataBackwards($dbh) {
  $sql = 'SELECT hand, won, bet FROM mynumbers ORDER BY bet';
  try {
    $stmt = $dbh-&gt;prepare($sql, array(PDO::ATTR_CURSOR =&gt; PDO::CURSOR_SCROLL));
    $stmt-&gt;execute();
    $row = $stmt-&gt;fetch(PDO::FETCH_NUM, PDO::FETCH_ORI_LAST);
    do {
      $data = $row[0] . "\t" . $row[1] . "\t" . $row[2] . "\n";
      print $data;
    } while ($row = $stmt-&gt;fetch(PDO::FETCH_NUM, PDO::FETCH_ORI_PRIOR));
    $stmt = null;
  }
  catch (PDOException $e) {
    print $e-&gt;getMessage();
  }
}

print "Reading forwards:\n";
readDataForwards($conn);

print "Reading backwards:\n";
readDataBackwards($conn);
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
Reading forwards:
21    10    5
16    0     5
19    20    10

Reading backwards:
19    20    10
16    0     5
21    10    5
</pre></div> </div> </div> <div class="example" id="example-1074">
<p><strong>Example #3 Construction order</strong></p> <div class="example-contents"><p> When objects are fetched via <em>PDO::FETCH_CLASS</em> the object properties are assigned first, and then the constructor of the class is invoked. If <em>PDO::FETCH_PROPS_LATE</em> is also given, this order is reversed, i.e. first the constructor is called, and afterwards the properties are assigned. </p></div> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
class Person
{
    private $name;

    public function __construct()
    {
        $this-&gt;tell();
    }

    public function tell()
    {
        if (isset($this-&gt;name)) {
            echo "I am {$this-&gt;name}.\n";
        } else {
            echo "I don't have a name yet.\n";
        }
    }
}

$sth = $dbh-&gt;query("SELECT * FROM people");
$sth-&gt;setFetchMode(PDO::FETCH_CLASS, 'Person');
$person = $sth-&gt;fetch();
$person-&gt;tell();
$sth-&gt;setFetchMode(PDO::FETCH_CLASS|PDO::FETCH_PROPS_LATE, 'Person');
$person = $sth-&gt;fetch();
$person-&gt;tell();
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output something similar to:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
I am Alice.
I am Alice.
I don't have a name yet.
I am Bob.
</pre></div> </div> </div> </div> <div class="refsect1 seealso" id="refsect1-pdostatement.fetch-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li class="member"><span class="function"><a href="pdo.prepare" class="function" rel="rdfs-seeAlso">PDO::prepare()</a> - Prepares a statement for execution and returns a statement object</span></li> <li class="member"><span class="function"><a href="pdostatement.execute" class="function" rel="rdfs-seeAlso">PDOStatement::execute()</a> - Executes a prepared statement</span></li> <li class="member"><span class="function"><a href="pdostatement.fetchall" class="function" rel="rdfs-seeAlso">PDOStatement::fetchAll()</a> - Returns an array containing all of the result set rows</span></li> <li class="member"><span class="function"><a href="pdostatement.fetchcolumn" class="function" rel="rdfs-seeAlso">PDOStatement::fetchColumn()</a> - Returns a single column from the next row of a result set</span></li> <li class="member"><span class="function"><a href="pdostatement.fetchobject" class="function" rel="rdfs-seeAlso">PDOStatement::fetchObject()</a> - Fetches the next row and returns it as an object</span></li> <li class="member"><span class="function"><a href="pdostatement.setfetchmode" class="function" rel="rdfs-seeAlso">PDOStatement::setFetchMode()</a> - Set the default fetch mode for this statement</span></li> </ul> </div> <div class="manualnavbar" style="text-align: center;"> <div class="prev" style="text-align: left; float: left;"><a href="pdostatement.execute">← PDOStatement::execute</a></div> <div class="next" style="text-align: right; float: right;"><a href="pdostatement.fetchall">PDOStatement::fetchAll →</a></div>   </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 1997–2018 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://secure.php.net/manual/en/pdostatement.fetch.php" class="_attribution-link">https://secure.php.net/manual/en/pdostatement.fetch.php</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
