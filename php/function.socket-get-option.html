
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Socket_get_option - PHP - W3cubDocs</title>
  
  <meta name="description" content=" (PHP 4 &#62;&#61; 4.3.0, PHP 5, PHP 7) ">
  <meta name="keywords" content="socket, get, option, php">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/php/function.socket-get-option.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/php.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/php/" class="_nav-link" title="" style="margin-left:0;">PHP</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _php">
				
				
<div class="refnamediv"> <h1 class="refname">socket_get_option</h1> <p class="verinfo">(PHP 4 &gt;= 4.3.0, PHP 5, PHP 7)</p>
<p class="refpurpose"><span class="refname">socket_get_option</span> — <span class="dc-title">Gets socket options for the socket </span></p> </div> <div class="refsect1 description" id="refsect1-function.socket-get-option-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">mixed socket_get_option ( resource $socket , int $level , int $optname )</pre> <p class="para rdfs-comment"> The <span class="function"><strong>socket_get_option()</strong></span> function retrieves the value for the option specified by the <code class="parameter">optname</code> parameter for the specified <code class="parameter">socket</code>. </p> </div> <div class="refsect1 parameters" id="refsect1-function.socket-get-option-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">socket</code>
</dt> <dd> <p class="para"> A valid socket resource created with <span class="function"><a href="function.socket-create" class="function">socket_create()</a></span> or <span class="function"><a href="function.socket-accept" class="function">socket_accept()</a></span>. </p> </dd> <dt> <code class="parameter">level</code>
</dt> <dd> <p class="para"> The <code class="parameter">level</code> parameter specifies the protocol level at which the option resides. For example, to retrieve options at the socket level, a <code class="parameter">level</code> parameter of <strong><code>SOL_SOCKET</code></strong> would be used. Other levels, such as <strong><code>TCP</code></strong>, can be used by specifying the protocol number of that level. Protocol numbers can be found by using the <span class="function"><a href="function.getprotobyname" class="function">getprotobyname()</a></span> function. </p> </dd> <dt> <code class="parameter">optname</code>
</dt> <dd> <table class="doctable table"> <caption><strong>Available Socket Options</strong></caption> <thead> <tr> <th>Option</th> <th>Description</th> <th>Type</th> </tr> </thead> <tbody class="tbody"> <tr> <td><strong><code>SO_DEBUG</code></strong></td> <td> Reports whether debugging information is being recorded. </td> <td> <span class="type"><a href="language.types.integer" class="type int">int</a></span> </td> </tr> <tr> <td><strong><code>SO_BROADCAST</code></strong></td> <td> Reports whether transmission of broadcast messages is supported. </td> <td> <span class="type"><a href="language.types.integer" class="type int">int</a></span> </td> </tr> <tr> <td><strong><code>SO_REUSEADDR</code></strong></td> <td> Reports whether local addresses can be reused. </td> <td> <span class="type"><a href="language.types.integer" class="type int">int</a></span> </td> </tr> <tr> <td><strong><code>SO_REUSEPORT</code></strong></td> <td> Reports whether local ports can be reused. </td> <td> <span class="type"><a href="language.types.integer" class="type int">int</a></span> </td> </tr> <tr> <td><strong><code>SO_KEEPALIVE</code></strong></td> <td> Reports whether connections are kept active with periodic transmission of messages. If the connected socket fails to respond to these messages, the connection is broken and processes writing to that socket are notified with a SIGPIPE signal. </td> <td> <span class="type"><a href="language.types.integer" class="type int">int</a></span> </td> </tr> <tr> <td><strong><code>SO_LINGER</code></strong></td> <td> <p class="para"> Reports whether the <code class="parameter">socket</code> lingers on <span class="function"><a href="function.socket-close" class="function">socket_close()</a></span> if data is present. By default, when the socket is closed, it attempts to send all unsent data. In the case of a connection-oriented socket, <span class="function"><a href="function.socket-close" class="function">socket_close()</a></span> will wait for its peer to acknowledge the data. </p> <p class="para"> If <var class="varname"><var class="varname">l_onoff</var></var> is non-zero and <var class="varname"><var class="varname">l_linger</var></var> is zero, all the unsent data will be discarded and RST (reset) is sent to the peer in the case of a connection-oriented socket. </p> <p class="para"> On the other hand, if <var class="varname"><var class="varname">l_onoff</var></var> is non-zero and <var class="varname"><var class="varname">l_linger</var></var> is non-zero, <span class="function"><a href="function.socket-close" class="function">socket_close()</a></span> will block until all the data is sent or the time specified in <var class="varname"><var class="varname">l_linger</var></var> elapses. If the socket is non-blocking, <span class="function"><a href="function.socket-close" class="function">socket_close()</a></span> will fail and return an error. </p> </td> <td> <span class="type"><a href="language.types.array" class="type array">array</a></span>. The array will contain two keys: <var class="varname"><var class="varname">l_onoff</var></var> and <var class="varname"><var class="varname">l_linger</var></var>. </td> </tr> <tr> <td><strong><code>SO_OOBINLINE</code></strong></td> <td> Reports whether the <code class="parameter">socket</code> leaves out-of-band data inline. </td> <td> <span class="type"><a href="language.types.integer" class="type int">int</a></span> </td> </tr> <tr> <td><strong><code>SO_SNDBUF</code></strong></td> <td> Reports the size of the send buffer. </td> <td> <span class="type"><a href="language.types.integer" class="type int">int</a></span> </td> </tr> <tr> <td><strong><code>SO_RCVBUF</code></strong></td> <td> Reports the size of the receive buffer. </td> <td> <span class="type"><a href="language.types.integer" class="type int">int</a></span> </td> </tr> <tr> <td><strong><code>SO_ERROR</code></strong></td> <td> Reports information about error status and clears it. </td> <td> <span class="type"><a href="language.types.integer" class="type int">int</a></span> (cannot be set by <span class="function"><a href="function.socket-set-option" class="function">socket_set_option()</a></span>) </td> </tr> <tr> <td><strong><code>SO_TYPE</code></strong></td> <td> Reports the <code class="parameter">socket</code> type (e.g. <strong><code>SOCK_STREAM</code></strong>). </td> <td> <span class="type"><a href="language.types.integer" class="type int">int</a></span> (cannot be set by <span class="function"><a href="function.socket-set-option" class="function">socket_set_option()</a></span>) </td> </tr> <tr> <td><strong><code>SO_DONTROUTE</code></strong></td> <td> Reports whether outgoing messages bypass the standard routing facilities. </td> <td> <span class="type"><a href="language.types.integer" class="type int">int</a></span> </td> </tr> <tr> <td><strong><code>SO_RCVLOWAT</code></strong></td> <td> Reports the minimum number of bytes to process for <code class="parameter">socket</code> input operations. </td> <td> <span class="type"><a href="language.types.integer" class="type int">int</a></span> </td> </tr> <tr> <td><strong><code>SO_RCVTIMEO</code></strong></td> <td> Reports the timeout value for input operations. </td> <td> <span class="type"><a href="language.types.array" class="type array">array</a></span>. The array will contain two keys: <var class="varname"><var class="varname">sec</var></var> which is the seconds part on the timeout value and <var class="varname"><var class="varname">usec</var></var> which is the microsecond part of the timeout value. </td> </tr> <tr> <td><strong><code>SO_SNDTIMEO</code></strong></td> <td> Reports the timeout value specifying the amount of time that an output function blocks because flow control prevents data from being sent. </td> <td> <span class="type"><a href="language.types.array" class="type array">array</a></span>. The array will contain two keys: <var class="varname"><var class="varname">sec</var></var> which is the seconds part on the timeout value and <var class="varname"><var class="varname">usec</var></var> which is the microsecond part of the timeout value. </td> </tr> <tr> <td><strong><code>SO_SNDLOWAT</code></strong></td> <td> Reports the minimum number of bytes to process for <code class="parameter">socket</code> output operations. </td> <td> <span class="type"><a href="language.types.integer" class="type int">int</a></span> </td> </tr> <tr> <td><strong><code>TCP_NODELAY</code></strong></td> <td> Reports whether the Nagle TCP algorithm is disabled. </td> <td> <span class="type"><a href="language.types.integer" class="type int">int</a></span> </td> </tr> <tr> <td><strong><code>MCAST_JOIN_GROUP</code></strong></td> <td> Joins a multicast group. (added in PHP 5.4) </td> <td> <span class="type"><a href="language.types.array" class="type array">array</a></span> with keys <em>"group"</em>, specifying a <span class="type"><a href="language.types.string" class="type string">string</a></span> with an IPv4 or IPv6 multicast address and <em>"interface"</em>, specifying either an interface number (type <span class="type"><a href="language.types.integer" class="type int">int</a></span>) or a <em>string</em> with the interface name, like <em>"eth0"</em>. <em>0</em> can be specified to indicate the interface should be selected using routing rules. (can only be used in <span class="function"><a href="function.socket-set-option" class="function">socket_set_option()</a></span>) </td> </tr> <tr> <td><strong><code>MCAST_LEAVE_GROUP</code></strong></td> <td> Leaves a multicast group. (added in PHP 5.4) </td> <td> <span class="type"><a href="language.types.array" class="type array">array</a></span>. See <strong><code>MCAST_JOIN_GROUP</code></strong> for more information. (can only be used in <span class="function"><a href="function.socket-set-option" class="function">socket_set_option()</a></span>) </td> </tr> <tr> <td><strong><code>MCAST_BLOCK_SOURCE</code></strong></td> <td> Blocks packets arriving from a specific source to a specific multicast group, which must have been previously joined. (added in PHP 5.4) </td> <td> <span class="type"><a href="language.types.array" class="type array">array</a></span> with the same keys as <strong><code>MCAST_JOIN_GROUP</code></strong>, plus one extra key, <em>source</em>, which maps to a <span class="type"><a href="language.types.string" class="type string">string</a></span> specifying an IPv4 or IPv6 address of the source to be blocked. (can only be used in <span class="function"><a href="function.socket-set-option" class="function">socket_set_option()</a></span>) </td> </tr> <tr> <td><strong><code>MCAST_UNBLOCK_SOURCE</code></strong></td> <td> Unblocks (start receiving again) packets arriving from a specific source address to a specific multicast group, which must have been previously joined. (added in PHP 5.4) </td> <td> <span class="type"><a href="language.types.array" class="type array">array</a></span> with the same format as <strong><code>MCAST_BLOCK_SOURCE</code></strong>. (can only be used in <span class="function"><a href="function.socket-set-option" class="function">socket_set_option()</a></span>) </td> </tr> <tr> <td><strong><code>MCAST_JOIN_SOURCE_GROUP</code></strong></td> <td> Receive packets destined to a specific multicast group whose source address matches a specific value. (added in PHP 5.4) </td> <td> <span class="type"><a href="language.types.array" class="type array">array</a></span> with the same format as <strong><code>MCAST_BLOCK_SOURCE</code></strong>. (can only be used in <span class="function"><a href="function.socket-set-option" class="function">socket_set_option()</a></span>) </td> </tr> <tr> <td><strong><code>MCAST_LEAVE_SOURCE_GROUP</code></strong></td> <td> Stop receiving packets destined to a specific multicast group whose soure address matches a specific value. (added in PHP 5.4) </td> <td> <span class="type"><a href="language.types.array" class="type array">array</a></span> with the same format as <strong><code>MCAST_BLOCK_SOURCE</code></strong>. (can only be used in <span class="function"><a href="function.socket-set-option" class="function">socket_set_option()</a></span>) </td> </tr> <tr> <td><strong><code>IP_MULTICAST_IF</code></strong></td> <td> The outgoing interface for IPv4 multicast packets. (added in PHP 5.4) </td> <td> Either <span class="type"><a href="language.types.integer" class="type int">int</a></span> specifying the interface number or a <span class="type"><a href="language.types.string" class="type string">string</a></span> with an interface name, like <em>eth0</em>. The value <span class="type"><span class="type 0">0</span></span> can be used to indicate the routing table is to used in the interface selection. The function <span class="function"><strong>socket_get_option()</strong></span> returns an interface index. Note that, unlike the C API, this option does NOT take an IP address. This eliminates the interface difference between <strong><code>IP_MULTICAST_IF</code></strong> and <strong><code>IPV6_MULTICAST_IF</code></strong>. </td> </tr> <tr> <td><strong><code>IPV6_MULTICAST_IF</code></strong></td> <td> The outgoing interface for IPv6 multicast packets. (added in PHP 5.4) </td> <td> The same as <strong><code>IP_MULTICAST_IF</code></strong>. </td> </tr> <tr> <td><strong><code>IP_MULTICAST_LOOP</code></strong></td> <td> The multicast loopback policy for IPv4 packets, which determines whether multicast packets sent by this socket also reach receivers in the same host that have joined the same multicast group on the outgoing interface used by this socket. This is the case by default. (added in PHP 5.4) </td> <td> <span class="type"><a href="language.types.integer" class="type int">int</a></span> (either <em>0</em> or <em>1</em>). For <span class="function"><a href="function.socket-set-option" class="function">socket_set_option()</a></span> any value will be accepted and will be converted to a boolean following the usual PHP rules. </td> </tr> <tr> <td><strong><code>IPV6_MULTICAST_LOOP</code></strong></td> <td> Analogous to <strong><code>IP_MULTICAST_LOOP</code></strong>, but for IPv6. (added in PHP 5.4) </td> <td> <span class="type"><a href="language.types.integer" class="type int">int</a></span>. See <strong><code>IP_MULTICAST_LOOP</code></strong>. </td> </tr> <tr> <td><strong><code>IP_MULTICAST_TTL</code></strong></td> <td> The time-to-live of outgoing IPv4 multicast packets. This should be a value between 0 (don't leave the interface) and 255. The default value is 1 (only the local network is reached). (added in PHP 5.4) </td> <td> <span class="type"><a href="language.types.integer" class="type int">int</a></span> between 0 and 255. </td> </tr> <tr> <td><strong><code>IPV6_MULTICAST_HOPS</code></strong></td> <td> Analogous to <strong><code>IP_MULTICAST_TTL</code></strong>, but for IPv6 packets. The value -1 is also accepted, meaning the route default should be used. (added in PHP 5.4) </td> <td> <span class="type"><a href="language.types.integer" class="type int">int</a></span> between -1 and 255. </td> </tr> </tbody> </table> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-function.socket-get-option-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> Returns the value of the given option, or <strong><code>FALSE</code></strong> on errors. </p> </div> <div class="refsect1 examples" id="refsect1-function.socket-get-option-examples"> <h3 class="title">Examples</h3> 
<div class="example" id="snmp.geterrno.example.basic"> <p><strong>Example #1 <span class="function"><strong>socket_get_option()</strong></span> example</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$socket = socket_create_listen(1223);

$linger = array('l_linger' =&gt; 1, 'l_onoff' =&gt; 1);
socket_set_option($socket, SOL_SOCKET, SO_LINGER, $linger);

var_dump(socket_get_option($socket, SOL_SOCKET, SO_REUSEADDR));
?&gt;</pre> </div> </div> </div> <div class="refsect1 seealso" id="refsect1-function.socket-get-option-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li class="member"><span class="function"><a href="function.socket-create-listen" class="function" rel="rdfs-seeAlso">socket_create_listen()</a> - Opens a socket on port to accept connections</span></li> <li class="member"><span class="function"><a href="function.socket-set-option" class="function" rel="rdfs-seeAlso">socket_set_option()</a> - Sets socket options for the socket</span></li> </ul> </div> <div class="manualnavbar" style="text-align: center;"> <div class="prev" style="text-align: left; float: left;"><a href="function.socket-export-stream">← socket_export_stream</a></div> <div class="next" style="text-align: right; float: right;"><a href="function.socket-getopt">socket_getopt →</a></div>   </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 1997–2018 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://secure.php.net/manual/en/function.socket-get-option.php" class="_attribution-link">https://secure.php.net/manual/en/function.socket-get-option.php</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
