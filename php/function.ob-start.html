
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Ob_start - PHP - W3cubDocs</title>
  
  <meta name="description" content=" (PHP 4, PHP 5, PHP 7) ">
  <meta name="keywords" content="ob, start, php">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/php/function.ob-start.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/php.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/php/" class="_nav-link" title="" style="margin-left:0;">PHP</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _php">
				
				
<div class="refnamediv"> <h1 class="refname">ob_start</h1> <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p>
<p class="refpurpose"><span class="refname">ob_start</span> — <span class="dc-title">Turn on output buffering</span></p> </div> <div class="refsect1 description" id="refsect1-function.ob-start-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">bool ob_start ([ callable $output_callback = NULL [, int $chunk_size = 0 [, int $flags = PHP_OUTPUT_HANDLER_STDFLAGS ]]] )</pre> <p class="para rdfs-comment"> This function will turn output buffering on. While output buffering is active no output is sent from the script (other than headers), instead the output is stored in an internal buffer. </p> <p class="para"> The contents of this internal buffer may be copied into a string variable using <span class="function"><a href="function.ob-get-contents" class="function">ob_get_contents()</a></span>. To output what is stored in the internal buffer, use <span class="function"><a href="function.ob-end-flush" class="function">ob_end_flush()</a></span>. Alternatively, <span class="function"><a href="function.ob-end-clean" class="function">ob_end_clean()</a></span> will silently discard the buffer contents. </p> <div class="warning">
<strong class="warning">Warning</strong> <p class="para"> Some web servers (e.g. Apache) change the working directory of a script when calling the callback function. You can change it back by e.g. <em>chdir(dirname($_SERVER['SCRIPT_FILENAME']))</em> in the callback function. </p> </div> <p class="para"> Output buffers are stackable, that is, you may call <span class="function"><strong>ob_start()</strong></span> while another <span class="function"><strong>ob_start()</strong></span> is active. Just make sure that you call <span class="function"><a href="function.ob-end-flush" class="function">ob_end_flush()</a></span> the appropriate number of times. If multiple output callback functions are active, output is being filtered sequentially through each of them in nesting order. </p> </div> <div class="refsect1 parameters" id="refsect1-function.ob-start-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">output_callback</code>
</dt> <dd> <p class="para"> An optional <code class="parameter">output_callback</code> function may be specified. This function takes a string as a parameter and should return a string. The function will be called when the output buffer is flushed (sent) or cleaned (with <span class="function"><a href="function.ob-flush" class="function">ob_flush()</a></span>, <span class="function"><a href="function.ob-clean" class="function">ob_clean()</a></span> or similar function) or when the output buffer is flushed to the browser at the end of the request. When <code class="parameter">output_callback</code> is called, it will receive the contents of the output buffer as its parameter and is expected to return a new output buffer as a result, which will be sent to the browser. If the <code class="parameter">output_callback</code> is not a callable function, this function will return <strong><code>FALSE</code></strong>. This is the callback signature: </p> 
<pre class="methodsynopsis dc-description" data-language="php">string handler ( string $buffer [, int $phase ] )</pre> <dl> <dt> <code class="parameter">buffer</code>
</dt> <dd> <span class="simpara"> Contents of the output buffer. </span> </dd> <dt> <code class="parameter">phase</code>
</dt> <dd> <span class="simpara"> Bitmask of <strong><code>PHP_OUTPUT_HANDLER_*</code></strong> constants. </span> </dd> </dl> <p class="para"> If <code class="parameter">output_callback</code> returns <strong><code>FALSE</code></strong> original input is sent to the browser. </p> <p class="para"> The <code class="parameter">output_callback</code> parameter may be bypassed by passing a <strong><code>NULL</code></strong> value. </p> <p class="para"> <span class="function"><a href="function.ob-end-clean" class="function">ob_end_clean()</a></span>, <span class="function"><a href="function.ob-end-flush" class="function">ob_end_flush()</a></span>, <span class="function"><a href="function.ob-clean" class="function">ob_clean()</a></span>, <span class="function"><a href="function.ob-flush" class="function">ob_flush()</a></span> and <span class="function"><strong>ob_start()</strong></span> may not be called from a callback function. If you call them from callback function, the behavior is undefined. If you would like to delete the contents of a buffer, return "" (a null string) from callback function. You can't even call functions using the output buffering functions like <em>print_r($expression, true)</em> or <em>highlight_file($filename, true)</em> from a callback function. </p> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> <span class="function"><a href="function.ob-gzhandler" class="function">ob_gzhandler()</a></span> function exists to facilitate sending gz-encoded data to web browsers that support compressed web pages. <span class="function"><a href="function.ob-gzhandler" class="function">ob_gzhandler()</a></span> determines what type of content encoding the browser will accept and will return its output accordingly. </p> </blockquote> </dd> <dt> <code class="parameter">chunk_size</code>
</dt> <dd> <p class="para"> If the optional parameter <code class="parameter">chunk_size</code> is passed, the buffer will be flushed after any output call which causes the buffer's length to equal or exceed <code class="parameter">chunk_size</code>. The default value <em>0</em> means that the output function will only be called when the output buffer is closed. </p> <p class="para"> Prior to PHP 5.4.0, the value <em>1</em> was a special case value that set the chunk size to 4096 bytes. </p> </dd> <dt> <code class="parameter">flags</code>
</dt> <dd> <p class="para"> The <code class="parameter">flags</code> parameter is a bitmask that controls the operations that can be performed on the output buffer. The default is to allow output buffers to be cleaned, flushed and removed, which can be set explicitly via <strong><code>PHP_OUTPUT_HANDLER_CLEANABLE</code></strong> | <strong><code>PHP_OUTPUT_HANDLER_FLUSHABLE</code></strong> | <strong><code>PHP_OUTPUT_HANDLER_REMOVABLE</code></strong>, or <strong><code>PHP_OUTPUT_HANDLER_STDFLAGS</code></strong> as shorthand. </p> <p class="para"> Each flag controls access to a set of functions, as described below: </p>
<table class="doctable informaltable"> <thead> <tr> <th>Constant</th> <th>Functions</th> </tr> </thead> <tbody class="tbody"> <tr> <td><strong><code>PHP_OUTPUT_HANDLER_CLEANABLE</code></strong></td> <td> <span class="function"><a href="function.ob-clean" class="function">ob_clean()</a></span>, <span class="function"><a href="function.ob-end-clean" class="function">ob_end_clean()</a></span>, and <span class="function"><a href="function.ob-get-clean" class="function">ob_get_clean()</a></span>. </td> </tr> <tr> <td><strong><code>PHP_OUTPUT_HANDLER_FLUSHABLE</code></strong></td> <td> <span class="function"><a href="function.ob-end-flush" class="function">ob_end_flush()</a></span>, <span class="function"><a href="function.ob-flush" class="function">ob_flush()</a></span>, and <span class="function"><a href="function.ob-get-flush" class="function">ob_get_flush()</a></span>. </td> </tr> <tr> <td><strong><code>PHP_OUTPUT_HANDLER_REMOVABLE</code></strong></td> <td> <span class="function"><a href="function.ob-end-clean" class="function">ob_end_clean()</a></span>, <span class="function"><a href="function.ob-end-flush" class="function">ob_end_flush()</a></span>, and <span class="function"><a href="function.ob-get-flush" class="function">ob_get_flush()</a></span>. </td> </tr> </tbody> </table> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-function.ob-start-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure. </p> </div> <div class="refsect1 changelog" id="refsect1-function.ob-start-changelog"> <h3 class="title">Changelog</h3> 
<table class="doctable informaltable"> <thead> <tr> <th>Version</th> <th>Description</th> </tr> </thead> <tbody class="tbody"> <tr> <td>7.0.0</td> <td> In case <span class="function"><strong>ob_start()</strong></span> is used inside an output buffer callback, this function will no longer issue an <strong><code>E_ERROR</code></strong> but instead an <strong><code>E_RECOVERABLE_ERROR</code></strong>, allowing custom error handlers to catch such errors. </td> </tr> <tr> <td>5.4.0</td> <td> The third parameter of <span class="function"><strong>ob_start()</strong></span> changed from a <span class="type"><a href="language.types.boolean" class="type boolean">boolean</a></span> parameter called <code class="parameter">erase</code> (which, if set to <strong><code>FALSE</code></strong>, would prevent the output buffer from being deleted until the script finished executing) to an <span class="type"><a href="language.types.integer" class="type integer">integer</a></span> parameter called <code class="parameter">flags</code>. Unfortunately, this results in an API compatibility break for code written prior to PHP 5.4.0 that uses the third parameter. See <a href="function.ob-start#function.ob-start.flags-bc" class="link">the flags example</a> for an example of how to handle this with code that needs to be compatible with both. </td> </tr> <tr> <td>5.4.0</td> <td> A chunk size of <em>1</em> now results in chunks of 1 byte being sent to the output buffer. </td> </tr> <tr> <td>4.3.2</td> <td> This function was changed to return <strong><code>FALSE</code></strong> in case the passed <code class="parameter">output_callback</code> can not be executed. </td> </tr> </tbody> </table> </div> <div class="refsect1 examples" id="refsect1-function.ob-start-examples"> <h3 class="title">Examples</h3> 
<div class="example" id="example-515"> <p><strong>Example #1 User defined callback function example</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php

function callback($buffer)
{
  // replace all the apples with oranges
  return (str_replace("apples", "oranges", $buffer));
}

ob_start("callback");

?&gt;
&lt;html&gt;
&lt;body&gt;
&lt;p&gt;It's like comparing apples to oranges.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
&lt;?php

ob_end_flush();

?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
&lt;html&gt;
&lt;body&gt;
&lt;p&gt;It's like comparing oranges to oranges.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre></div> </div> </div> 
<div class="example" id="example-516"> <p><strong>Example #2 Creating an uneraseable output buffer in a way compatible with both PHP 5.3 and 5.4</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php

if (version_compare(PHP_VERSION, '5.4.0', '&gt;=')) {
  ob_start(null, 0, PHP_OUTPUT_HANDLER_STDFLAGS ^
    PHP_OUTPUT_HANDLER_REMOVABLE);
} else {
  ob_start(null, 0, false);
}

?&gt;</pre> </div> </div> </div> <div class="refsect1 seealso" id="refsect1-function.ob-start-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li class="member"><span class="function"><a href="function.ob-get-contents" class="function" rel="rdfs-seeAlso">ob_get_contents()</a> - Return the contents of the output buffer</span></li> <li class="member"><span class="function"><a href="function.ob-end-clean" class="function" rel="rdfs-seeAlso">ob_end_clean()</a> - Clean (erase) the output buffer and turn off output buffering</span></li> <li class="member"><span class="function"><a href="function.ob-end-flush" class="function" rel="rdfs-seeAlso">ob_end_flush()</a> - Flush (send) the output buffer and turn off output buffering</span></li> <li class="member"><span class="function"><a href="function.ob-implicit-flush" class="function" rel="rdfs-seeAlso">ob_implicit_flush()</a> - Turn implicit flush on/off</span></li> <li class="member"><span class="function"><a href="function.ob-gzhandler" class="function" rel="rdfs-seeAlso">ob_gzhandler()</a> - ob_start callback function to gzip output buffer</span></li> <li class="member"><span class="function"><a href="function.ob-iconv-handler" class="function" rel="rdfs-seeAlso">ob_iconv_handler()</a> - Convert character encoding as output buffer handler</span></li> <li class="member"><span class="function"><a href="function.mb-output-handler" class="function" rel="rdfs-seeAlso">mb_output_handler()</a> - Callback function converts character encoding in output buffer</span></li> <li class="member"><span class="function"><a href="function.ob-tidyhandler" class="function" rel="rdfs-seeAlso">ob_tidyhandler()</a> - ob_start callback function to repair the buffer</span></li> </ul> </div> <div class="manualnavbar" style="text-align: center;"> <div class="prev" style="text-align: left; float: left;"><a href="function.ob-list-handlers">← ob_list_handlers</a></div> <div class="next" style="text-align: right; float: right;"><a href="function.output-add-rewrite-var">output_add_rewrite_var →</a></div>   </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 1997–2018 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://secure.php.net/manual/en/function.ob-start.php" class="_attribution-link">https://secure.php.net/manual/en/function.ob-start.php</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
