
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Ftp_alloc - PHP - W3cubDocs</title>
  
  <meta name="description" content=" (PHP 5, PHP 7) ">
  <meta name="keywords" content="ftp, alloc, php">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/php/function.ftp-alloc.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/php.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/php/" class="_nav-link" title="" style="margin-left:0;">PHP</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _php">
				
				
<div class="refnamediv"> <h1 class="refname">ftp_alloc</h1> <p class="verinfo">(PHP 5, PHP 7)</p>
<p class="refpurpose"><span class="refname">ftp_alloc</span> — <span class="dc-title">Allocates space for a file to be uploaded</span></p> </div> <div class="refsect1 description" id="refsect1-function.ftp-alloc-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">bool ftp_alloc ( resource $ftp_stream , int $filesize [, string &amp;$result ] )</pre> <p class="para rdfs-comment"> Sends an <em>ALLO</em> command to the remote FTP server to allocate space for a file to be uploaded. </p> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> Many FTP servers do not support this command. These servers may return a failure code (<strong><code>FALSE</code></strong>) indicating the command is not supported or a success code (<strong><code>TRUE</code></strong>) to indicate that pre-allocation is not necessary and the client should continue as though the operation were successful. Because of this, it may be best to reserve this function for servers which explicitly require preallocation. </p> </blockquote>  </div> <div class="refsect1 parameters" id="refsect1-function.ftp-alloc-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">ftp_stream</code>
</dt> <dd> <p class="para"> The link identifier of the FTP connection. </p> </dd> <dt> <code class="parameter">filesize</code>
</dt> <dd> <p class="para"> The number of bytes to allocate. </p> </dd> <dt> <code class="parameter">result</code>
</dt> <dd> <p class="para"> A textual representation of the servers response will be returned by reference in <code class="parameter">result</code> if a variable is provided. </p> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-function.ftp-alloc-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure. </p> </div> <div class="refsect1 examples" id="refsect1-function.ftp-alloc-examples"> <h3 class="title">Examples</h3> 
<div class="example" id="example-5435"> <p><strong>Example #1 <span class="function"><strong>ftp_alloc()</strong></span> example</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php

$file = "/home/user/myfile";

// connect to the server
$conn_id = ftp_connect('ftp.example.com');
$login_result = ftp_login($conn_id, 'anonymous', 'user@example.com');

if (ftp_alloc($conn_id, filesize($file), $result)) {
  echo "Space successfully allocated on server.  Sending $file.\n";
  ftp_put($conn_id, '/incomming/myfile', $file, FTP_BINARY);
} else {
  echo "Unable to allocate space on server.  Server said: $result\n";
}

ftp_close($conn_id);

?&gt;</pre> </div> </div> </div> <div class="refsect1 seealso" id="refsect1-function.ftp-alloc-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li class="member"><span class="function"><a href="function.ftp-put" class="function" rel="rdfs-seeAlso">ftp_put()</a> - Uploads a file to the FTP server</span></li> <li class="member"><span class="function"><a href="function.ftp-fput" class="function" rel="rdfs-seeAlso">ftp_fput()</a> - Uploads from an open file to the FTP server</span></li> </ul> </div> <div class="manualnavbar" style="text-align: center;"> <div class="prev" style="text-align: left; float: left;"><a href="https://secure.php.net/manual/en/ref.ftp.php">← FTP Functions</a></div> <div class="next" style="text-align: right; float: right;"><a href="function.ftp-append">ftp_append →</a></div>   </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 1997–2018 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://secure.php.net/manual/en/function.ftp-alloc.php" class="_attribution-link">https://secure.php.net/manual/en/function.ftp-alloc.php</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
