
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Trait - PHP - W3cubDocs</title>
  
  <meta name="description" content=" As of PHP 5.4.0, PHP implements a method of code reuse called Traits. ">
  <meta name="keywords" content="traits, trait, php">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/php/language.oop5.traits.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/php.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/php/" class="_nav-link" title="" style="margin-left:0;">PHP</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _php">
				
				
<h1 class="title">Traits</h1> <p class="para"> As of PHP 5.4.0, PHP implements a method of code reuse called Traits. </p> <p class="para"> Traits are a mechanism for code reuse in single inheritance languages such as PHP. A Trait is intended to reduce some limitations of single inheritance by enabling a developer to reuse sets of methods freely in several independent classes living in different class hierarchies. The semantics of the combination of Traits and classes is defined in a way which reduces complexity, and avoids the typical problems associated with multiple inheritance and Mixins. </p> <p class="para"> A Trait is similar to a class, but only intended to group functionality in a fine-grained and consistent way. It is not possible to instantiate a Trait on its own. It is an addition to traditional inheritance and enables horizontal composition of behavior; that is, the application of class members without requiring inheritance. </p> <div class="example" id="example-210"> <p><strong>Example #1 Trait example</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
trait ezcReflectionReturnInfo {
    function getReturnType() { /*1*/ }
    function getReturnDescription() { /*2*/ }
}

class ezcReflectionMethod extends ReflectionMethod {
    use ezcReflectionReturnInfo;
    /* ... */
}

class ezcReflectionFunction extends ReflectionFunction {
    use ezcReflectionReturnInfo;
    /* ... */
}
?&gt;</pre> </div> </div> <div class="sect2" id="language.oop5.traits.precedence"> <h3 class="title">Precedence</h3> <p class="para"> An inherited member from a base class is overridden by a member inserted by a Trait. The precedence order is that members from the current class override Trait methods, which in turn override inherited methods. </p> <div class="example" id="example-211"> <p><strong>Example #2 Precedence Order Example</strong></p> <div class="example-contents"><p> An inherited method from a base class is overridden by the method inserted into MyHelloWorld from the SayWorld Trait. The behavior is the same for methods defined in the MyHelloWorld class. The precedence order is that methods from the current class override Trait methods, which in turn override methods from the base class. </p></div> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
class Base {
    public function sayHello() {
        echo 'Hello ';
    }
}

trait SayWorld {
    public function sayHello() {
        parent::sayHello();
        echo 'World!';
    }
}

class MyHelloWorld extends Base {
    use SayWorld;
}

$o = new MyHelloWorld();
$o-&gt;sayHello();
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
Hello World!
</pre></div> </div> </div> <div class="example" id="example-212"> <p><strong>Example #3 Alternate Precedence Order Example</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
trait HelloWorld {
    public function sayHello() {
        echo 'Hello World!';
    }
}

class TheWorldIsNotEnough {
    use HelloWorld;
    public function sayHello() {
        echo 'Hello Universe!';
    }
}

$o = new TheWorldIsNotEnough();
$o-&gt;sayHello();
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
Hello Universe!
</pre></div> </div> </div> </div> <div class="sect2" id="language.oop5.traits.multiple"> <h3 class="title">Multiple Traits</h3> <p class="para"> Multiple Traits can be inserted into a class by listing them in the use statement, separated by commas. </p> <div class="example" id="language.oop5.inheritance.examples.ex1"> <p><strong>Example #4 Multiple Traits Usage</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
trait Hello {
    public function sayHello() {
        echo 'Hello ';
    }
}

trait World {
    public function sayWorld() {
        echo 'World';
    }
}

class MyHelloWorld {
    use Hello, World;
    public function sayExclamationMark() {
        echo '!';
    }
}

$o = new MyHelloWorld();
$o-&gt;sayHello();
$o-&gt;sayWorld();
$o-&gt;sayExclamationMark();
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
Hello World!
</pre></div> </div> </div> </div> <div class="sect2" id="language.oop5.traits.conflict"> <h3 class="title">Conflict Resolution</h3> <p class="para"> If two Traits insert a method with the same name, a fatal error is produced, if the conflict is not explicitly resolved. </p> <p class="para"> To resolve naming conflicts between Traits used in the same class, the <em>insteadof</em> operator needs to be used to choose exactly one of the conflicting methods. </p> <p class="para"> Since this only allows one to exclude methods, the <em>as</em> operator can be used to add an alias to one of the methods. Note the <em>as</em> operator does not rename the method and it does not affect any other method either. </p> <div class="example" id="example-214"> <p><strong>Example #5 Conflict Resolution</strong></p> <div class="example-contents"><p> In this example, Talker uses the traits A and B. Since A and B have conflicting methods, it defines to use the variant of smallTalk from trait B, and the variant of bigTalk from trait A. </p></div> <div class="example-contents"><p> The Aliased_Talker makes use of the <em>as</em> operator to be able to use B's bigTalk implementation under an additional alias <em>talk</em>. </p></div> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
trait A {
    public function smallTalk() {
        echo 'a';
    }
    public function bigTalk() {
        echo 'A';
    }
}

trait B {
    public function smallTalk() {
        echo 'b';
    }
    public function bigTalk() {
        echo 'B';
    }
}

class Talker {
    use A, B {
        B::smallTalk insteadof A;
        A::bigTalk insteadof B;
    }
}

class Aliased_Talker {
    use A, B {
        B::smallTalk insteadof A;
        A::bigTalk insteadof B;
        B::bigTalk as talk;
    }
}
?&gt;</pre> </div> </div> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> Prior to PHP 7.0, defining a property in a class with the same name as in a trait would throw an <strong><code>E_STRICT</code></strong> if the class definition was compatible (same visibility and initial value). </p> </blockquote> </div> <div class="sect2" id="language.oop5.traits.visibility"> <h3 class="title">Changing Method Visibility</h3> <p class="para"> Using the <em>as</em> syntax, one can also adjust the visibility of the method in the exhibiting class. </p> <div class="example" id="example-215"> <p><strong>Example #6 Changing Method Visibility</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
trait HelloWorld {
    public function sayHello() {
        echo 'Hello World!';
    }
}

// Change visibility of sayHello
class MyClass1 {
    use HelloWorld { sayHello as protected; }
}

// Alias method with changed visibility
// sayHello visibility not changed
class MyClass2 {
    use HelloWorld { sayHello as private myPrivateHello; }
}
?&gt;</pre> </div> </div> </div> <div class="sect2" id="language.oop5.traits.composition"> <h3 class="title">Traits Composed from Traits</h3> <p class="para"> Just as classes can make use of traits, so can other traits. By using one or more traits in a trait definition, it can be composed partially or entirely of the members defined in those other traits. </p> <div class="example" id="example-216"> <p><strong>Example #7 Traits Composed from Traits</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
trait Hello {
    public function sayHello() {
        echo 'Hello ';
    }
}

trait World {
    public function sayWorld() {
        echo 'World!';
    }
}

trait HelloWorld {
    use Hello, World;
}

class MyHelloWorld {
    use HelloWorld;
}

$o = new MyHelloWorld();
$o-&gt;sayHello();
$o-&gt;sayWorld();
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
Hello World!
</pre></div> </div> </div> </div> <div class="sect2" id="language.oop5.traits.abstract"> <h3 class="title">Abstract Trait Members</h3> <p class="para"> Traits support the use of abstract methods in order to impose requirements upon the exhibiting class. </p> <div class="example" id="example-217"> <p><strong>Example #8 Express Requirements by Abstract Methods</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
trait Hello {
    public function sayHelloWorld() {
        echo 'Hello'.$this-&gt;getWorld();
    }
    abstract public function getWorld();
}

class MyHelloWorld {
    private $world;
    use Hello;
    public function getWorld() {
        return $this-&gt;world;
    }
    public function setWorld($val) {
        $this-&gt;world = $val;
    }
}
?&gt;</pre> </div> </div> </div> <div class="sect2" id="language.oop5.traits.static"> <h3 class="title">Static Trait Members</h3> <p class="para"> Traits can define both static members and static methods. </p> <div class="example" id="example-218"> <p><strong>Example #9 Static Variables</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
trait Counter {
    public function inc() {
        static $c = 0;
        $c = $c + 1;
        echo "$c\n";
    }
}

class C1 {
    use Counter;
}

class C2 {
    use Counter;
}

$o = new C1(); $o-&gt;inc(); // echo 1
$p = new C2(); $p-&gt;inc(); // echo 1
?&gt;</pre> </div> </div> <div class="example" id="example-219"> <p><strong>Example #10 Static Methods</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
trait StaticExample {
    public static function doSomething() {
        return 'Doing something';
    }
}

class Example {
    use StaticExample;
}

Example::doSomething();
?&gt;</pre> </div> </div> </div> <div class="sect2" id="language.oop5.traits.properties"> <h3 class="title">Properties</h3> <p class="para"> Traits can also define properties. </p> <div class="example" id="example-220"> <p><strong>Example #11 Defining Properties</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
trait PropertiesTrait {
    public $x = 1;
}

class PropertiesExample {
    use PropertiesTrait;
}

$example = new PropertiesExample;
$example-&gt;x;
?&gt;</pre> </div> </div> <p class="para"> If a trait defines a property then a class can not define a property with the same name unless it is compatible (same visibility and initial value), otherwise a fatal error is issued. Before PHP 7.0.0, defining a property in the class with the same visibility and initial value as in the trait, raised an E_STRICT notice. </p> <div class="example" id="language.oop5.interfaces.examples.ex1"> <p><strong>Example #12 Conflict Resolution</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
trait PropertiesTrait {
    public $same = true;
    public $different = false;
}

class PropertiesExample {
    use PropertiesTrait;
    public $same = true; // Allowed as of PHP 7.0.0; E_STRICT notice formerly
    public $different = true; // Fatal error
}
?&gt;</pre> </div> </div> </div> <div class="manualnavbar" style="text-align: center;"> <div class="prev" style="text-align: left; float: left;"><a href="language.oop5.interfaces">← Object Interfaces</a></div> <div class="next" style="text-align: right; float: right;"><a href="language.oop5.anonymous">Anonymous classes →</a></div>   </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 1997–2018 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://secure.php.net/manual/en/language.oop5.traits.php" class="_attribution-link">https://secure.php.net/manual/en/language.oop5.traits.php</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
