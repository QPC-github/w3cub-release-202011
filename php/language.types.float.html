
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Floating Point Precision - PHP - W3cubDocs</title>
  
  <meta name="description" content="Floating point numbers (also known as &#34;floats&#34;, &#34;doubles&#34;, or &#34;real numbers&#34;) can be specified using any of the following &hellip;">
  <meta name="keywords" content="floating, point, precision, php">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/php/language.types.float.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/php.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/php/" class="_nav-link" title="" style="margin-left:0;">PHP</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _php">
				
				
<div id="layout"> <div id="layout-content"><div id="language.types.float" class="sect1"> <h2 class="title">Floating point numbers</h2> <p class="para"> Floating point numbers (also known as "floats", "doubles", or "real numbers") can be specified using any of the following syntaxes: </p> <div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$a = 1.234; 
$b = 1.2e3; 
$c = 7E-10;
$d = 1_234.567; // as of PHP 7.4.0
?&gt;</pre> </div> </div> <p class="para"> Formally as of PHP 7.4.0 (previously, underscores have not been allowed): </p> <div class="informalexample"> <div class="example-contents"> <div class="cdata"><pre>
LNUM          [0-9]+(_[0-9]+)*
DNUM          ([0-9]*(_[0-9]+)*[\.]{LNUM}) | ({LNUM}[\.][0-9]*(_[0-9]+)*)
EXPONENT_DNUM (({LNUM} | {DNUM}) [eE][+-]? {LNUM})
</pre></div> </div> </div> <p class="para"> The size of a float is platform-dependent, although a maximum of approximately 1.8e308 with a precision of roughly 14 decimal digits is a common value (the 64 bit IEEE format). </p> <div class="warning">
<strong class="warning">Warning</strong> <h1 class="title">Floating point precision</h1> <p class="para"> Floating point numbers have limited precision. Although it depends on the system, PHP typically uses the IEEE 754 double precision format, which will give a maximum relative error due to rounding in the order of 1.11e-16. Non elementary arithmetic operations may give larger errors, and, of course, error propagation must be considered when several operations are compounded. </p> <p class="para"> Additionally, rational numbers that are exactly representable as floating point numbers in base 10, like <code class="literal">0.1</code> or <code class="literal">0.7</code>, do not have an exact representation as floating point numbers in base 2, which is used internally, no matter the size of the mantissa. Hence, they cannot be converted into their internal binary counterparts without a small loss of precision. This can lead to confusing results: for example, <code class="literal">floor((0.1+0.7)*10)</code> will usually return <code class="literal">7</code> instead of the expected <code class="literal">8</code>, since the internal representation will be something like <code class="literal">7.9999999999999991118...</code>. </p> <p class="para"> So never trust floating number results to the last digit, and do not compare floating point numbers directly for equality. If higher precision is necessary, the <a href="https://www.php.net/manual/en/ref.bc.php" class="link">arbitrary precision math functions</a> and <a href="https://www.php.net/manual/en/ref.gmp.php" class="link">gmp</a> functions are available. </p> <p class="para"> For a "simple" explanation, see the <a href="http://floating-point-gui.de/" class="link external">» floating point guide</a> that's also titled "Why don’t my numbers add up?" </p> </div> <div class="sect2" id="language.types.float.casting"> <h3 class="title">Converting to float</h3> <div class="sect3" id="language.types.float.casting.from-string"> <h4 class="title">From strings</h4> <p class="simpara"> If the string is <a href="language.types.numeric-strings" class="link">numeric</a> or leading numeric then it will resolve to the corresponding float value, otherwise it is converted to zero (<code class="literal">0</code>). </p> </div> <div class="sect3" id="language.types.float.casting.from-other"> <h4 class="title">From other types</h4> <p class="para"> For values of other types, the conversion is performed by converting the value to <span class="type">int</span> first and then to <span class="type">float</span>. See <a href="language.types.integer#language.types.integer.casting" class="link">Converting to integer</a> for more information. </p> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> As certain types have undefined behavior when converting to <span class="type">int</span>, this is also the case when converting to <span class="type">float</span>. </p> </blockquote> </div> </div> <div class="sect2" id="language.types.float.comparison"> <h3 class="title">Comparing floats</h3> <p class="para"> As noted in the warning above, testing floating point values for equality is problematic, due to the way that they are represented internally. However, there are ways to make comparisons of floating point values that work around these limitations. </p> <p class="para"> To test floating point values for equality, an upper bound on the relative error due to rounding is used. This value is known as the machine epsilon, or unit roundoff, and is the smallest acceptable difference in calculations. </p> <div class="informalexample"> <p class="simpara"> <var class="varname">$a</var> and <var class="varname">$b</var> are equal to 5 digits of precision. </p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$a = 1.23456789;
$b = 1.23456780;
$epsilon = 0.00001;

if(abs($a-$b) &lt; $epsilon) {
    echo "true";
}
?&gt;</pre> </div> </div> </div> <div class="sect2" id="language.types.float.nan"> <h3 class="title">NaN</h3> <p class="para"> Some numeric operations can result in a value represented by the constant <strong><code>NAN</code></strong>. This result represents an undefined or unrepresentable value in floating-point calculations. Any loose or strict comparisons of this value against any other value, including itself, but except <strong><code>true</code></strong>, will have a result of <strong><code>false</code></strong>. </p> <p class="para"> Because <strong><code>NAN</code></strong> represents any number of different values, <strong><code>NAN</code></strong> should not be compared to other values, including itself, and instead should be checked for using <span class="function"><a href="function.is-nan" class="function">is_nan()</a></span>. </p> </div> </div></div>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    © 1997–2020 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/language.types.float.php" class="_attribution-link">https://www.php.net/manual/en/language.types.float.php</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
