
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Preg_replace - PHP - W3cubDocs</title>
  
  <meta name="description" content=" (PHP 4, PHP 5, PHP 7) ">
  <meta name="keywords" content="preg, replace, php">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/php/function.preg-replace.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/php.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/php/" class="_nav-link" title="" style="margin-left:0;">PHP</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _php">
				
				
<div class="refnamediv"> <h1 class="refname">preg_replace</h1> <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p>
<p class="refpurpose"><span class="refname">preg_replace</span> — <span class="dc-title">Perform a regular expression search and replace</span></p> </div> <div class="refsect1 description" id="refsect1-function.preg-replace-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">mixed preg_replace ( mixed $pattern , mixed $replacement , mixed $subject [, int $limit = -1 [, int &amp;$count ]] )</pre> <p class="para rdfs-comment"> Searches <code class="parameter">subject</code> for matches to <code class="parameter">pattern</code> and replaces them with <code class="parameter">replacement</code>. </p> </div> <div class="refsect1 parameters" id="refsect1-function.preg-replace-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">pattern</code>
</dt> <dd> <p class="para"> The pattern to search for. It can be either a string or an array with strings. </p> <p class="para"> Several <a href="reference.pcre.pattern.modifiers" class="link">PCRE modifiers</a> are also available. </p> </dd> <dt> <code class="parameter">replacement</code>
</dt> <dd> <p class="para"> The string or an array with strings to replace. If this parameter is a string and the <code class="parameter">pattern</code> parameter is an array, all patterns will be replaced by that string. If both <code class="parameter">pattern</code> and <code class="parameter">replacement</code> parameters are arrays, each <code class="parameter">pattern</code> will be replaced by the <code class="parameter">replacement</code> counterpart. If there are fewer elements in the <code class="parameter">replacement</code> array than in the <code class="parameter">pattern</code> array, any extra <code class="parameter">pattern</code>s will be replaced by an empty string. </p> <p class="para"> <code class="parameter">replacement</code> may contain references of the form <em>\\<span class="replaceable">n</span></em> or <em>$<span class="replaceable">n</span></em>, with the latter form being the preferred one. Every such reference will be replaced by the text captured by the <span class="replaceable">n</span>'th parenthesized pattern. <span class="replaceable">n</span> can be from 0 to 99, and <em>\\0</em> or <em>$0</em> refers to the text matched by the whole pattern. Opening parentheses are counted from left to right (starting from 1) to obtain the number of the capturing subpattern. To use backslash in replacement, it must be doubled (<em>"\\\\"</em> PHP string). </p> <p class="para"> When working with a replacement pattern where a backreference is immediately followed by another number (i.e.: placing a literal number immediately after a matched pattern), you cannot use the familiar <em>\\1</em> notation for your backreference. <em>\\11</em>, for example, would confuse <span class="function"><strong>preg_replace()</strong></span> since it does not know whether you want the <em>\\1</em> backreference followed by a literal <em>1</em>, or the <em>\\11</em> backreference followed by nothing. In this case the solution is to use <em>${1}1</em>. This creates an isolated <em>$1</em> backreference, leaving the <em>1</em> as a literal. </p> <p class="para"> When using the deprecated <em>e</em> modifier, this function escapes some characters (namely <em>'</em>, <em>"</em>, <em>\</em> and NULL) in the strings that replace the backreferences. This is done to ensure that no syntax errors arise from backreference usage with either single or double quotes (e.g. <em>'strlen(\'$1\')+strlen("$2")'</em>). Make sure you are aware of PHP's <a href="language.types.string" class="link">string syntax</a> to know exactly how the interpreted string will look. </p> </dd> <dt> <code class="parameter">subject</code>
</dt> <dd> <p class="para"> The string or an array with strings to search and replace. </p> <p class="para"> If <code class="parameter">subject</code> is an array, then the search and replace is performed on every entry of <code class="parameter">subject</code>, and the return value is an array as well. </p> </dd> <dt> <code class="parameter">limit</code>
</dt> <dd> <p class="para"> The maximum possible replacements for each pattern in each <code class="parameter">subject</code> string. Defaults to <em>-1</em> (no limit). </p> </dd> <dt> <code class="parameter">count</code>
</dt> <dd> <p class="para"> If specified, this variable will be filled with the number of replacements done. </p> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-function.preg-replace-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> <span class="function"><strong>preg_replace()</strong></span> returns an array if the <code class="parameter">subject</code> parameter is an array, or a string otherwise. </p> <p class="para"> If matches are found, the new <code class="parameter">subject</code> will be returned, otherwise <code class="parameter">subject</code> will be returned unchanged or <strong><code>NULL</code></strong> if an error occurred. </p> </div> <div class="refsect1 errors" id="refsect1-function.preg-replace-errors"> <h3 class="title">Errors/Exceptions</h3> <p class="para"> As of PHP 5.5.0 <strong><code>E_DEPRECATED</code></strong> level error is emitted when passing in the "\e" modifier. As of PHP 7.0.0 <strong><code>E_WARNING</code></strong> is emitted in this case and "\e" modifier has no effect. </p> </div> <div class="refsect1 changelog" id="refsect1-function.preg-replace-changelog"> <h3 class="title">Changelog</h3> 
<table class="doctable informaltable"> <thead> <tr> <th>Version</th> <th>Description</th> </tr> </thead> <tbody class="tbody"> <tr> <td>7.0.0</td> <td> Support for the <em>/e</em> modifier has been removed. Use <span class="function"><a href="function.preg-replace-callback" class="function">preg_replace_callback()</a></span> instead. </td> </tr> <tr> <td>5.5.0</td> <td> The <em>/e</em> modifier is deprecated. Use <span class="function"><a href="function.preg-replace-callback" class="function">preg_replace_callback()</a></span> instead. See the <a href="reference.pcre.pattern.modifiers#reference.pcre.pattern.modifiers.eval" class="link">PREG_REPLACE_EVAL</a> documentation for additional information about security risks. </td> </tr> <tr> <td>5.1.0</td> <td> Added the <code class="parameter">count</code> parameter </td> </tr> </tbody> </table> </div> <div class="refsect1 examples" id="refsect1-function.preg-replace-examples"> <h3 class="title">Examples</h3> 
<div class="example" id="example-5999"> <p><strong>Example #1 Using backreferences followed by numeric literals</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$string = 'April 15, 2003';
$pattern = '/(\w+) (\d+), (\d+)/i';
$replacement = '${1}1,$3';
echo preg_replace($pattern, $replacement, $string);
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
April1,2003
</pre></div> </div> </div> 
<div class="example" id="example-6000"> <p><strong>Example #2 Using indexed arrays with <span class="function"><strong>preg_replace()</strong></span></strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$string = 'The quick brown fox jumps over the lazy dog.';
$patterns = array();
$patterns[0] = '/quick/';
$patterns[1] = '/brown/';
$patterns[2] = '/fox/';
$replacements = array();
$replacements[2] = 'bear';
$replacements[1] = 'black';
$replacements[0] = 'slow';
echo preg_replace($patterns, $replacements, $string);
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
The bear black slow jumps over the lazy dog.
</pre></div> </div> <div class="example-contents"><p> By ksorting patterns and replacements, we should get what we wanted. </p></div> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
ksort($patterns);
ksort($replacements);
echo preg_replace($patterns, $replacements, $string);
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
The slow black bear jumps over the lazy dog.
</pre></div> </div> </div> 
<div class="example" id="example-6001"> <p><strong>Example #3 Replacing several values</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$patterns = array ('/(19|20)(\d{2})-(\d{1,2})-(\d{1,2})/',
                   '/^\s*{(\w+)}\s*=/');
$replace = array ('\3/\4/\1\2', '$\1 =');
echo preg_replace($patterns, $replace, '{startDate} = 1999-5-27');
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
$startDate = 5/27/1999
</pre></div> </div> </div> 
<div class="example" id="example-6002"> <p><strong>Example #4 Strip whitespace</strong></p> <div class="example-contents"><p> This example strips excess whitespace from a string. </p></div> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$str = 'foo   o';
$str = preg_replace('/\s\s+/', ' ', $str);
// This will be 'foo o' now
echo $str;
?&gt;</pre> </div> </div> 
<div class="example" id="example-6003"> <p><strong>Example #5 Using the <code class="parameter">count</code> parameter</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$count = 0;

echo preg_replace(array('/\d/', '/\s/'), '*', 'xp 4 to', -1 , $count);
echo $count; //3
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
xp***to
3
</pre></div> </div> </div> </div> <div class="refsect1 notes" id="refsect1-function.preg-replace-notes"> <h3 class="title">Notes</h3> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> When using arrays with <code class="parameter">pattern</code> and <code class="parameter">replacement</code>, the keys are processed in the order they appear in the array. This is <em class="emphasis">not necessarily</em> the same as the numerical index order. If you use indexes to identify which <code class="parameter">pattern</code> should be replaced by which <code class="parameter">replacement</code>, you should perform a <span class="function"><a href="function.ksort" class="function">ksort()</a></span> on each array prior to calling <span class="function"><strong>preg_replace()</strong></span>. </p> </blockquote> </div> <div class="refsect1 seealso" id="refsect1-function.preg-replace-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li class="member"><a href="https://secure.php.net/manual/en/pcre.pattern.php" class="link">PCRE Patterns</a></li> <li class="member"><span class="function"><a href="function.preg-quote" class="function" rel="rdfs-seeAlso">preg_quote()</a> - Quote regular expression characters</span></li> <li class="member"><span class="function"><a href="function.preg-filter" class="function" rel="rdfs-seeAlso">preg_filter()</a> - Perform a regular expression search and replace</span></li> <li class="member"><span class="function"><a href="function.preg-match" class="function" rel="rdfs-seeAlso">preg_match()</a> - Perform a regular expression match</span></li> <li class="member"><span class="function"><a href="function.preg-replace-callback" class="function" rel="rdfs-seeAlso">preg_replace_callback()</a> - Perform a regular expression search and replace using a callback</span></li> <li class="member"><span class="function"><a href="function.preg-split" class="function" rel="rdfs-seeAlso">preg_split()</a> - Split string by a regular expression</span></li> <li class="member"><span class="function"><a href="function.preg-last-error" class="function" rel="rdfs-seeAlso">preg_last_error()</a> - Returns the error code of the last PCRE regex execution</span></li> </ul> </div> <div class="manualnavbar" style="text-align: center;"> <div class="prev" style="text-align: left; float: left;"><a href="function.preg-replace-callback">← preg_replace_callback</a></div> <div class="next" style="text-align: right; float: right;"><a href="function.preg-split">preg_split →</a></div>   </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 1997–2018 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://secure.php.net/manual/en/function.preg-replace.php" class="_attribution-link">https://secure.php.net/manual/en/function.preg-replace.php</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
