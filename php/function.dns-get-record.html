
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Dns_get_record - PHP - W3cubDocs</title>
  
  <meta name="description" content=" (PHP 5, PHP 7) ">
  <meta name="keywords" content="dns, get, record, php">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/php/function.dns-get-record.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/php.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/php/" class="_nav-link" title="" style="margin-left:0;">PHP</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _php">
				
				
<div id="layout"> <div id="layout-content"><div id="function.dns-get-record" class="refentry"> <div class="refnamediv"> <h1 class="refname">dns_get_record</h1> <p class="verinfo">(PHP 5, PHP 7)</p>
<p class="refpurpose"><span class="refname">dns_get_record</span> â€” <span class="dc-title">Fetch DNS Resource Records associated with a hostname</span></p> </div> <div class="refsect1 description" id="refsect1-function.dns-get-record-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">dns_get_record ( string $hostname [, int $type = DNS_ANY [, array &amp;$authns [, array &amp;$addtl [, bool $raw = false ]]]] ) : array|false</pre> <p class="para rdfs-comment"> Fetch DNS Resource Records associated with the given <code class="parameter">hostname</code>. </p> </div> <div class="refsect1 parameters" id="refsect1-function.dns-get-record-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">hostname</code>
</dt> <dd> <p class="para"> <code class="parameter">hostname</code> should be a valid DNS hostname such as "<code class="literal">www.example.com</code>". Reverse lookups can be generated using <code class="literal">in-addr.arpa</code> notation, but <span class="function"><a href="function.gethostbyaddr" class="function">gethostbyaddr()</a></span> is more suitable for the majority of reverse lookups. </p> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> Per DNS standards, email addresses are given in <code class="literal">user.host</code> format (for example: <code class="literal">hostmaster.example.com</code> as opposed to <code class="literal">hostmaster@example.com</code>), be sure to check this value and modify if necessary before using it with a functions such as <span class="function"><a href="function.mail" class="function">mail()</a></span>. </p> </blockquote> </dd> <dt> <code class="parameter">type</code>
</dt> <dd> <p class="para"> By default, <span class="function"><strong>dns_get_record()</strong></span> will search for any resource records associated with <code class="parameter">hostname</code>. To limit the query, specify the optional <code class="parameter">type</code> parameter. May be any one of the following: <strong><code>DNS_A</code></strong>, <strong><code>DNS_CNAME</code></strong>, <strong><code>DNS_HINFO</code></strong>, <strong><code>DNS_CAA</code></strong>, <strong><code>DNS_MX</code></strong>, <strong><code>DNS_NS</code></strong>, <strong><code>DNS_PTR</code></strong>, <strong><code>DNS_SOA</code></strong>, <strong><code>DNS_TXT</code></strong>, <strong><code>DNS_AAAA</code></strong>, <strong><code>DNS_SRV</code></strong>, <strong><code>DNS_NAPTR</code></strong>, <strong><code>DNS_A6</code></strong>, <strong><code>DNS_ALL</code></strong> or <strong><code>DNS_ANY</code></strong>. </p> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> Because of eccentricities in the performance of libresolv between platforms, <strong><code>DNS_ANY</code></strong> will not always return every record, the slower <strong><code>DNS_ALL</code></strong> will collect all records more reliably. </p> </blockquote> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> <strong><code>DNS_CAA</code></strong> is not supported on Windows. </p> </blockquote> </dd> <dt> <code class="parameter">authns</code>
</dt> <dd> <p class="para"> Passed by reference and, if given, will be populated with Resource Records for the <em class="emphasis">Authoritative Name Servers</em>. </p> </dd> <dt> <code class="parameter">addtl</code>
</dt> <dd> <p class="para"> Passed by reference and, if given, will be populated with any <em class="emphasis">Additional Records</em>. </p> </dd> <dt> <code class="parameter">raw</code>
</dt> <dd> <p class="para"> The <code class="parameter">type</code> will be interpreted as a raw DNS type ID (the <code class="literal">DNS_*</code> constants cannot be used). The return value will contain a <code class="literal">data</code> key, which needs to be manually parsed. </p> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-function.dns-get-record-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> This function returns an array of associative arrays, or <strong><code>false</code></strong> on failure. Each associative array contains <em class="emphasis">at minimum</em> the following keys: </p>
<table class="doctable table"> <caption><strong>Basic DNS attributes</strong></caption> <thead> <tr> <th>Attribute</th> <th>Meaning</th> </tr> </thead> <tbody class="tbody"> <tr> <td>host</td> <td> The record in the DNS namespace to which the rest of the associated data refers. </td> </tr> <tr> <td>class</td> <td> <span class="function"><strong>dns_get_record()</strong></span> only returns Internet class records and as such this parameter will always return <code class="literal">IN</code>. </td> </tr> <tr> <td>type</td> <td> String containing the record type. Additional attributes will also be contained in the resulting array dependant on the value of type. See table below. </td> </tr> <tr> <td>ttl</td> <td> <code class="literal">"Time To Live"</code> remaining for this record. This will <em class="emphasis">not</em> equal the record's original ttl, but will rather equal the original ttl minus whatever length of time has passed since the authoritative name server was queried. </td> </tr> </tbody> </table> 
<table class="doctable table"> <caption><strong>Other keys in associative arrays dependant on 'type'</strong></caption> <thead> <tr> <th>Type</th> <th>Extra Columns</th> </tr> </thead> <tbody class="tbody"> <tr> <td><code class="literal">A</code></td> <td> <code class="literal">ip</code>: An IPv4 addresses in dotted decimal notation. </td> </tr> <tr> <td><code class="literal">MX</code></td> <td> <code class="literal">pri</code>: Priority of mail exchanger. Lower numbers indicate greater priority. <code class="literal">target</code>: FQDN of the mail exchanger. See also <span class="function"><a href="function.dns-get-mx" class="function">dns_get_mx()</a></span>. </td> </tr> <tr> <td><code class="literal">CNAME</code></td> <td> <code class="literal">target</code>: FQDN of location in DNS namespace to which the record is aliased. </td> </tr> <tr> <td><code class="literal">NS</code></td> <td> <code class="literal">target</code>: FQDN of the name server which is authoritative for this hostname. </td> </tr> <tr> <td><code class="literal">PTR</code></td> <td> <code class="literal">target</code>: Location within the DNS namespace to which this record points. </td> </tr> <tr> <td><code class="literal">TXT</code></td> <td> <code class="literal">txt</code>: Arbitrary string data associated with this record. </td> </tr> <tr> <td><code class="literal">HINFO</code></td> <td> <code class="literal">cpu</code>: IANA number designating the CPU of the machine referenced by this record. <code class="literal">os</code>: IANA number designating the Operating System on the machine referenced by this record. See IANA's <a href="http://www.iana.org/assignments/operating-system-names" class="link external">Â» <code class="literal">Operating System
        Names</code></a> for the meaning of these values. </td> </tr> <tr> <td><code class="literal">CAA</code></td> <td> <code class="literal">flags</code>: A one-byte bitfield; currently only bit 0 is defined, meaning 'critical'; other bits are reserved and should be ignored. <code class="literal">tag</code>: The CAA tag name (alphanumeric ASCII string). <code class="literal">value</code>: The CAA tag value (binary string, may use subformats). For additional information see: <a href="http://www.faqs.org/rfcs/rfc6844" class="link external">Â» RFC 6844</a> </td> </tr> <tr> <td><code class="literal">SOA</code></td> <td> <code class="literal">mname</code>: FQDN of the machine from which the resource records originated. <code class="literal">rname</code>: Email address of the administrative contact for this domain. <code class="literal">serial</code>: Serial # of this revision of the requested domain. <code class="literal">refresh</code>: Refresh interval (seconds) secondary name servers should use when updating remote copies of this domain. <code class="literal">retry</code>: Length of time (seconds) to wait after a failed refresh before making a second attempt. <code class="literal">expire</code>: Maximum length of time (seconds) a secondary DNS server should retain remote copies of the zone data without a successful refresh before discarding. <code class="literal">minimum-ttl</code>: Minimum length of time (seconds) a client can continue to use a DNS resolution before it should request a new resolution from the server. Can be overridden by individual resource records. </td> </tr> <tr> <td><code class="literal">AAAA</code></td> <td> <code class="literal">ipv6</code>: IPv6 address </td> </tr> <tr> <td>
<code class="literal">A6</code>(PHP &gt;= 5.1.0)</td> <td> <code class="literal">masklen</code>: Length (in bits) to inherit from the target specified by <code class="parameter">chain</code>. <code class="literal">ipv6</code>: Address for this specific record to merge with <code class="parameter">chain</code>. <code class="literal">chain</code>: Parent record to merge with <code class="parameter">ipv6</code> data. </td> </tr> <tr> <td><code class="literal">SRV</code></td> <td> <code class="literal">pri</code>: (Priority) lowest priorities should be used first. <code class="literal">weight</code>: Ranking to weight which of commonly prioritized <code class="parameter">targets</code> should be chosen at random. <code class="literal">target</code> and <code class="literal">port</code>: hostname and port where the requested service can be found. For additional information see: <a href="http://www.faqs.org/rfcs/rfc2782" class="link external">Â» RFC 2782</a> </td> </tr> <tr> <td><code class="literal">NAPTR</code></td> <td> <code class="literal">order</code> and <code class="literal">pref</code>: Equivalent to <code class="parameter">pri</code> and <code class="parameter">weight</code> above. <code class="literal">flags</code>, <code class="literal">services</code>, <code class="literal">regex</code>, and <code class="literal">replacement</code>: Parameters as defined by <a href="http://www.faqs.org/rfcs/rfc2915" class="link external">Â» RFC 2915</a>. </td> </tr> </tbody> </table> </div> <div class="refsect1 changelog" id="refsect1-function.dns-get-record-changelog"> <h3 class="title">Changelog</h3> 
<table class="doctable informaltable"> <thead> <tr> <th>Version</th> <th>Description</th> </tr> </thead> <tbody class="tbody"> <tr> <td>7.0.16, 7.1.2</td> <td> Added support for CAA record type. </td> </tr> </tbody> </table> </div> <div class="refsect1 examples" id="refsect1-function.dns-get-record-examples"> <h3 class="title">Examples</h3> 
<div class="example" id="example-4940"> <p><strong>Example #1 Using <span class="function"><strong>dns_get_record()</strong></span></strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$resultÂ =Â dns_get_record("php.net");
print_r($result);
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output something similar to:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
Array
(
    [0] =&gt; Array
        (
            [host] =&gt; php.net
            [type] =&gt; MX
            [pri] =&gt; 5
            [target] =&gt; pair2.php.net
            [class] =&gt; IN
            [ttl] =&gt; 6765
        )

    [1] =&gt; Array
        (
            [host] =&gt; php.net
            [type] =&gt; A
            [ip] =&gt; 64.246.30.37
            [class] =&gt; IN
            [ttl] =&gt; 8125
        )

)
</pre></div> </div> </div> <div class="example" id="example-4941"> <p><strong>Example #2 Using <span class="function"><strong>dns_get_record()</strong></span> and DNS_ANY</strong></p> <div class="example-contents"><p> Since it's very common to want the IP address of a mail server once the MX record has been resolved, <span class="function"><strong>dns_get_record()</strong></span> also returns an array in <code class="parameter">addtl</code> which contains associate records. <code class="parameter">authns</code> is returned as well containing a list of authoritative name servers. </p></div> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
/*Â RequestÂ "ANY"Â recordÂ forÂ php.net,
Â Â Â andÂ createÂ $authnsÂ andÂ $addtlÂ arrays
Â Â Â containingÂ listÂ ofÂ nameÂ serversÂ and
Â Â Â anyÂ additionalÂ recordsÂ whichÂ goÂ with
Â Â Â themÂ */
$resultÂ =Â dns_get_record("php.net",Â DNS_ANY,Â $authns,Â $addtl);
echoÂ "ResultÂ =Â ";
print_r($result);
echoÂ "AuthÂ NSÂ =Â ";
print_r($authns);
echoÂ "AdditionalÂ =Â ";
print_r($addtl);
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output something similar to:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
Result = Array
(
    [0] =&gt; Array
        (
            [host] =&gt; php.net
            [type] =&gt; MX
            [pri] =&gt; 5
            [target] =&gt; pair2.php.net
            [class] =&gt; IN
            [ttl] =&gt; 6765
        )

    [1] =&gt; Array
        (
            [host] =&gt; php.net
            [type] =&gt; A
            [ip] =&gt; 64.246.30.37
            [class] =&gt; IN
            [ttl] =&gt; 8125
        )

)
Auth NS = Array
(
    [0] =&gt; Array
        (
            [host] =&gt; php.net
            [type] =&gt; NS
            [target] =&gt; remote1.easydns.com
            [class] =&gt; IN
            [ttl] =&gt; 10722
        )

    [1] =&gt; Array
        (
            [host] =&gt; php.net
            [type] =&gt; NS
            [target] =&gt; remote2.easydns.com
            [class] =&gt; IN
            [ttl] =&gt; 10722
        )

    [2] =&gt; Array
        (
            [host] =&gt; php.net
            [type] =&gt; NS
            [target] =&gt; ns1.easydns.com
            [class] =&gt; IN
            [ttl] =&gt; 10722
        )

    [3] =&gt; Array
        (
            [host] =&gt; php.net
            [type] =&gt; NS
            [target] =&gt; ns2.easydns.com
            [class] =&gt; IN
            [ttl] =&gt; 10722
        )

)
Additional = Array
(
    [0] =&gt; Array
        (
            [host] =&gt; pair2.php.net
            [type] =&gt; A
            [ip] =&gt; 216.92.131.5
            [class] =&gt; IN
            [ttl] =&gt; 6766
        )

    [1] =&gt; Array
        (
            [host] =&gt; remote1.easydns.com
            [type] =&gt; A
            [ip] =&gt; 64.39.29.212
            [class] =&gt; IN
            [ttl] =&gt; 100384
        )

    [2] =&gt; Array
        (
            [host] =&gt; remote2.easydns.com
            [type] =&gt; A
            [ip] =&gt; 212.100.224.80
            [class] =&gt; IN
            [ttl] =&gt; 81241
        )

    [3] =&gt; Array
        (
            [host] =&gt; ns1.easydns.com
            [type] =&gt; A
            [ip] =&gt; 216.220.40.243
            [class] =&gt; IN
            [ttl] =&gt; 81241
        )

    [4] =&gt; Array
        (
            [host] =&gt; ns2.easydns.com
            [type] =&gt; A
            [ip] =&gt; 216.220.40.244
            [class] =&gt; IN
            [ttl] =&gt; 81241
        )

)
</pre></div> </div> </div> </div> <div class="refsect1 notes" id="refsect1-function.dns-get-record-notes"> <h3 class="title">Notes</h3> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> For compatibility with versions before PHP 5.3.0 on some operating systems, try the <a href="https://pear.php.net/" class="link external">Â» PEAR</a> class <a href="https://pear.php.net/package/Net_DNS" class="link external">Â» Net_DNS</a>. </p> </blockquote> </div> <div class="refsect1 seealso" id="refsect1-function.dns-get-record-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li class="member"><span class="function"><a href="function.dns-get-mx" class="function" rel="rdfs-seeAlso">dns_get_mx()</a> - Alias of getmxrr</span></li> <li class="member"><span class="function"><a href="function.dns-check-record" class="function" rel="rdfs-seeAlso">dns_check_record()</a> - Alias of checkdnsrr</span></li> </ul> </div> </div></div>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    Â© 1997â€“2020 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/function.dns-get-record.php" class="_attribution-link">https://www.php.net/manual/en/function.dns-get-record.php</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
