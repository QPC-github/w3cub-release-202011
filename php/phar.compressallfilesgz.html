
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Phar&#58;&#58;compressAllFilesGZ - PHP - W3cubDocs</title>
  
  <meta name="description" content=" (PHP 5 &#62;&#61; 5.3.0, PHP 7, PECL phar &#62;&#61; 1.0.0) ">
  <meta name="keywords" content="phar, compressallfilesgz, php">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/php/phar.compressallfilesgz.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/php.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/php/" class="_nav-link" title="" style="margin-left:0;">PHP</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _php">
				
				
<div class="refnamediv"> <h1 class="refname">Phar::compressAllFilesGZ</h1> <p class="verinfo">(PHP 5 &gt;= 5.3.0, PHP 7, PECL phar &gt;= 1.0.0)</p>
<p class="refpurpose"><span class="refname">Phar::compressAllFilesGZ</span> — <span class="dc-title">Compresses all files in the current Phar archive using Gzip compression</span></p> </div> <div class="refsect1 description" id="refsect1-phar.compressallfilesgz-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">public bool Phar::compressAllFilesGZ ( void )</pre> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para">This method has been removed from the phar extension as of version 2.0.0. Alternative implementations are available using <span class="function"><a href="phar.compress" class="function">Phar::compress()</a></span>, <span class="function"><a href="phar.decompress" class="function">Phar::decompress()</a></span>, <span class="function"><a href="phar.compressfiles" class="function">Phar::compressFiles()</a></span> and <span class="function"><a href="phar.decompressfiles" class="function">Phar::decompressFiles()</a></span>.</p>
</blockquote> <blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para">This method requires the <var class="filename">php.ini</var> setting <em>phar.readonly</em> to be set to <em>0</em> in order to work for <a href="class.phar" class="classname">Phar</a> objects. Otherwise, a <a href="class.pharexception" class="classname">PharException</a> will be thrown.</p>
</blockquote> <p class="para"> For tar-based phar archives, this method compresses the entire archive using gzip compression. The resulting file can be processed with the gunzip command, or accessed directly and transparently with the Phar extension. </p> <p class="para"> For Zip-based and phar-based phar archives, this method compresses all files in the Phar archive using gzip compression. The <a href="https://secure.php.net/manual/en/ref.zlib.php" class="link">zlib</a> extension must be enabled to take advantage of this feature. In addition, if any files are already compressed using bzip2 compression, the <a href="https://secure.php.net/manual/en/ref.bzip2.php" class="link">bzip2</a> extension must be enabled in order to decompress the files prior to re-compressing with gzip compression. As with all functionality that modifies the contents of a phar, the <a href="https://secure.php.net/manual/en/phar.configuration.php#ini.phar.readonly" class="link">phar.readonly</a> INI variable must be off in order to succeed. </p> </div> <div class="refsect1 returnvalues" id="refsect1-phar.compressallfilesgz-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure. </p> </div> <div class="refsect1 errors" id="refsect1-phar.compressallfilesgz-errors"> <h3 class="title">Errors/Exceptions</h3> <p class="para"> Throws <a href="class.badmethodcallexception" class="classname">BadMethodCallException</a> if the <a href="https://secure.php.net/manual/en/phar.configuration.php#ini.phar.readonly" class="link">phar.readonly</a> INI variable is on, the <a href="https://secure.php.net/manual/en/ref.zlib.php" class="link">zlib</a> extension is not available, or if any files are compressed using bzip2 compression and the <a href="https://secure.php.net/manual/en/ref.bzip2.php" class="link">bzip2</a> extension is not enabled. </p> </div> <div class="refsect1 examples" id="refsect1-phar.compressallfilesgz-examples"> <h3 class="title">Examples</h3> 
<div class="example" id="example-751"> <p><strong>Example #1 A <span class="function"><strong>Phar::compressAllFilesGZ()</strong></span> example</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$p = new Phar('/path/to/my.phar', 0, 'my.phar');
$p['myfile.txt'] = 'hi';
$p['myfile2.txt'] = 'hi';
foreach ($p as $file) {
    var_dump($file-&gt;getFileName());
    var_dump($file-&gt;isCompressed());
    var_dump($file-&gt;isCompressedBZIP2());
    var_dump($file-&gt;isCompressedGZ());
}
$p-&gt;compressAllFilesGZ();
foreach ($p as $file) {
    var_dump($file-&gt;getFileName());
    var_dump($file-&gt;isCompressed());
    var_dump($file-&gt;isCompressedBZIP2());
    var_dump($file-&gt;isCompressedGZ());
}
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
string(10) "myfile.txt"
bool(false)
bool(false)
bool(false)
string(11) "myfile2.txt"
bool(false)
bool(false)
bool(false)
string(10) "myfile.txt"
bool(true)
bool(false)
bool(true)
string(11) "myfile2.txt"
bool(true)
bool(false)
bool(true)
</pre></div> </div> </div> </div> <div class="refsect1 seealso" id="refsect1-phar.compressallfilesgz-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li class="member"><span class="function"><a href="pharfileinfo.getcompressedsize" class="function" rel="rdfs-seeAlso">PharFileInfo::getCompressedSize()</a> - Returns the actual size of the file (with compression) inside the Phar archive</span></li> <li class="member"><span class="function"><a href="pharfileinfo.iscompressedbzip2" class="function" rel="rdfs-seeAlso">PharFileInfo::isCompressedBZIP2()</a> - Returns whether the entry is compressed using bzip2</span></li> <li class="member"><span class="function"><a href="pharfileinfo.iscompressed" class="function" rel="rdfs-seeAlso">PharFileInfo::isCompressed()</a> - Returns whether the entry is compressed</span></li> <li class="member"><span class="function"><a href="pharfileinfo.iscompressedgz" class="function" rel="rdfs-seeAlso">PharFileInfo::isCompressedGZ()</a> - Returns whether the entry is compressed using gz</span></li> <li class="member"><span class="function"><a href="pharfileinfo.setcompressedbzip2" class="function" rel="rdfs-seeAlso">PharFileInfo::setCompressedBZIP2()</a> - Compresses the current Phar entry within the phar using Bzip2 compression</span></li> <li class="member"><span class="function"><a href="pharfileinfo.setuncompressed" class="function" rel="rdfs-seeAlso">PharFileInfo::setUncompressed()</a> - Uncompresses the current Phar entry within the phar, if it is compressed</span></li> <li class="member"><span class="function"><a href="pharfileinfo.setcompressedgz" class="function" rel="rdfs-seeAlso">PharFileInfo::setCompressedGZ()</a> - Compresses the current Phar entry within the phar using gz compression</span></li> <li class="member"><span class="function"><a href="phar.cancompress" class="function" rel="rdfs-seeAlso">Phar::canCompress()</a> - Returns whether phar extension supports compression using either zlib or bzip2</span></li> <li class="member"><span class="function"><a href="phar.iscompressed" class="function" rel="rdfs-seeAlso">Phar::isCompressed()</a> - Returns Phar::GZ or PHAR::BZ2 if the entire phar archive is compressed (.tar.gz/tar.bz and so on)</span></li> <li class="member"><span class="function"><a href="phar.compressallfilesbzip2" class="function" rel="rdfs-seeAlso">Phar::compressAllFilesBZIP2()</a> - Compresses all files in the current Phar archive using Bzip2 compression</span></li> <li class="member"><span class="function"><a href="phar.getsupportedcompression" class="function" rel="rdfs-seeAlso">Phar::getSupportedCompression()</a> - Return array of supported compression algorithms</span></li> <li class="member"><span class="function"><a href="phar.uncompressallfiles" class="function" rel="rdfs-seeAlso">Phar::uncompressAllFiles()</a> - Uncompresses all files in the current Phar archive</span></li> </ul> </div> <div class="manualnavbar" style="text-align: center;"> <div class="prev" style="text-align: left; float: left;"><a href="phar.compressallfilesbzip2">← Phar::compressAllFilesBZIP2</a></div> <div class="next" style="text-align: right; float: right;"><a href="phar.compressfiles">Phar::compressFiles →</a></div>   </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 1997–2018 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://secure.php.net/manual/en/phar.compressallfilesgz.php" class="_attribution-link">https://secure.php.net/manual/en/phar.compressallfilesgz.php</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
