
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>PDOStatement&#58;&#58;fetchAll - PHP - W3cubDocs</title>
  
  <meta name="description" content=" (PHP 5 &#62;&#61; 5.1.0, PHP 7, PECL pdo &#62;&#61; 0.1.0) ">
  <meta name="keywords" content="pdostatement, fetchall, php">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/php/pdostatement.fetchall.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/php.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/php/" class="_nav-link" title="" style="margin-left:0;">PHP</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _php">
				
				
<div class="refnamediv"> <h1 class="refname">PDOStatement::fetchAll</h1> <p class="verinfo">(PHP 5 &gt;= 5.1.0, PHP 7, PECL pdo &gt;= 0.1.0)</p>
<p class="refpurpose"><span class="refname">PDOStatement::fetchAll</span> — <span class="dc-title"> Returns an array containing all of the result set rows </span></p> </div> <div class="refsect1 description" id="refsect1-pdostatement.fetchall-description"> <h3 class="title">Description</h3> <pre class="methodsynopsis dc-description" data-language="php">public array PDOStatement::fetchAll ([ int $fetch_style [, mixed $fetch_argument [, array $ctor_args = array() ]]] )</pre> </div> <div class="refsect1 parameters" id="refsect1-pdostatement.fetchall-parameters"> <h3 class="title">Parameters</h3> 
<dl> <dt> <code class="parameter">fetch_style</code>
</dt> <dd> <p class="para"> Controls the contents of the returned array as documented in <span class="function"><a href="pdostatement.fetch" class="function">PDOStatement::fetch()</a></span>. Defaults to value of <strong><code>PDO::ATTR_DEFAULT_FETCH_MODE</code></strong> (which defaults to <strong><code>PDO::FETCH_BOTH</code></strong>) </p> <p class="para"> To return an array consisting of all values of a single column from the result set, specify <strong><code>PDO::FETCH_COLUMN</code></strong>. You can specify which column you want with the <code class="parameter">fetch_argument</code> parameter. </p> <p class="para"> To fetch only the unique values of a single column from the result set, bitwise-OR <strong><code>PDO::FETCH_COLUMN</code></strong> with <strong><code>PDO::FETCH_UNIQUE</code></strong>. </p> <p class="para"> To return an associative array grouped by the values of a specified column, bitwise-OR <strong><code>PDO::FETCH_COLUMN</code></strong> with <strong><code>PDO::FETCH_GROUP</code></strong>. </p> </dd> <dt> <code class="parameter">fetch_argument</code>
</dt> <dd> <p class="para"> This argument has a different meaning depending on the value of the <code class="parameter">fetch_style</code> parameter: </p>
<ul class="itemizedlist"> <li class="listitem"> <p class="para"> <strong><code>PDO::FETCH_COLUMN</code></strong>: Returns the indicated 0-indexed column. </p> </li> <li class="listitem"> <p class="para"> <strong><code>PDO::FETCH_CLASS</code></strong>: Returns instances of the specified class, mapping the columns of each row to named properties in the class. </p> </li> <li class="listitem"> <p class="para"> <strong><code>PDO::FETCH_FUNC</code></strong>: Returns the results of calling the specified function, using each row's columns as parameters in the call. </p> </li> </ul> </dd> <dt> <code class="parameter">ctor_args</code>
</dt> <dd> <p class="para"> Arguments of custom class constructor when the <code class="parameter">fetch_style</code> parameter is <strong><code>PDO::FETCH_CLASS</code></strong>. </p> </dd> </dl> </div> <div class="refsect1 returnvalues" id="refsect1-pdostatement.fetchall-returnvalues"> <h3 class="title">Return Values</h3> <p class="para"> <span class="function"><strong>PDOStatement::fetchAll()</strong></span> returns an array containing all of the remaining rows in the result set. The array represents each row as either an array of column values or an object with properties corresponding to each column name. An empty array is returned if there are zero results to fetch, or <strong><code>FALSE</code></strong> on failure. </p> <p class="para"> Using this method to fetch large result sets will result in a heavy demand on system and possibly network resources. Rather than retrieving all of the data and manipulating it in PHP, consider using the database server to manipulate the result sets. For example, use the WHERE and ORDER BY clauses in SQL to restrict results before retrieving and processing them with PHP. </p> </div> <div class="refsect1 examples" id="refsect1-pdostatement.fetchall-examples"> <h3 class="title">Examples</h3> 
<div class="example" id="example-1075">
<p><strong>Example #1 Fetch all remaining rows in a result set</strong></p> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$sth = $dbh-&gt;prepare("SELECT name, colour FROM fruit");
$sth-&gt;execute();

/* Fetch all of the remaining rows in the result set */
print("Fetch all of the remaining rows in the result set:\n");
$result = $sth-&gt;fetchAll();
print_r($result);
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output something similar to:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
Fetch all of the remaining rows in the result set:
Array
(
    [0] =&gt; Array
        (
            [name] =&gt; apple
            [0] =&gt; apple
            [colour] =&gt; red
            [1] =&gt; red
        )

    [1] =&gt; Array
        (
            [name] =&gt; pear
            [0] =&gt; pear
            [colour] =&gt; green
            [1] =&gt; green
        )

    [2] =&gt; Array
        (
            [name] =&gt; watermelon
            [0] =&gt; watermelon
            [colour] =&gt; pink
            [1] =&gt; pink
        )

)
</pre></div> </div> </div> <div class="example" id="example-1076">
<p><strong>Example #2 Fetching all values of a single column from a result set</strong></p> <div class="example-contents"><p> The following example demonstrates how to return all of the values of a single column from a result set, even though the SQL statement itself may return multiple columns per row. </p></div> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$sth = $dbh-&gt;prepare("SELECT name, colour FROM fruit");
$sth-&gt;execute();

/* Fetch all of the values of the first column */
$result = $sth-&gt;fetchAll(PDO::FETCH_COLUMN, 0);
var_dump($result);
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output something similar to:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
Array(3)
(
    [0] =&gt;
    string(5) =&gt; apple
    [1] =&gt;
    string(4) =&gt; pear
    [2] =&gt;
    string(10) =&gt; watermelon
)
</pre></div> </div> </div> <div class="example" id="example-1077">
<p><strong>Example #3 Grouping all values by a single column</strong></p> <div class="example-contents"><p> The following example demonstrates how to return an associative array grouped by the values of the specified column in the result set. The array contains three keys: values <em>apple</em> and <em>pear</em> are returned as arrays that contain two different colours, while <em>watermelon</em> is returned as an array that contains only one colour. </p></div> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$insert = $dbh-&gt;prepare("INSERT INTO fruit(name, colour) VALUES (?, ?)");
$insert-&gt;execute(array('apple', 'green'));
$insert-&gt;execute(array('pear', 'yellow'));

$sth = $dbh-&gt;prepare("SELECT name, colour FROM fruit");
$sth-&gt;execute();

/* Group values by the first column */
var_dump($sth-&gt;fetchAll(PDO::FETCH_COLUMN|PDO::FETCH_GROUP));
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output something similar to:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
array(3) {
  ["apple"]=&gt;
  array(2) {
    [0]=&gt;
    string(5) "green"
    [1]=&gt;
    string(3) "red"
  }
  ["pear"]=&gt;
  array(2) {
    [0]=&gt;
    string(5) "green"
    [1]=&gt;
    string(6) "yellow"
  }
  ["watermelon"]=&gt;
  array(1) {
    [0]=&gt;
    string(5) "pink"
  }
}

</pre></div> </div> </div> <div class="example" id="example-1078">
<p><strong>Example #4 Instantiating a class for each result</strong></p> <div class="example-contents"><p> The following example demonstrates the behaviour of the <strong><code>PDO::FETCH_CLASS</code></strong> fetch style. </p></div> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
class fruit {
    public $name;
    public $colour;
}

$sth = $dbh-&gt;prepare("SELECT name, colour FROM fruit");
$sth-&gt;execute();

$result = $sth-&gt;fetchAll(PDO::FETCH_CLASS, "fruit");
var_dump($result);
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output something similar to:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
array(3) {
  [0]=&gt;
  object(fruit)#1 (2) {
    ["name"]=&gt;
    string(5) "apple"
    ["colour"]=&gt;
    string(5) "green"
  }
  [1]=&gt;
  object(fruit)#2 (2) {
    ["name"]=&gt;
    string(4) "pear"
    ["colour"]=&gt;
    string(6) "yellow"
  }
  [2]=&gt;
  object(fruit)#3 (2) {
    ["name"]=&gt;
    string(10) "watermelon"
    ["colour"]=&gt;
    string(4) "pink"
  }
  [3]=&gt;
  object(fruit)#4 (2) {
    ["name"]=&gt;
    string(5) "apple"
    ["colour"]=&gt;
    string(3) "red"
  }
  [4]=&gt;
  object(fruit)#5 (2) {
    ["name"]=&gt;
    string(4) "pear"
    ["colour"]=&gt;
    string(5) "green"
  }
}
</pre></div> </div> </div> <div class="example" id="example-1079">
<p><strong>Example #5 Calling a function for each result</strong></p> <div class="example-contents"><p> The following example demonstrates the behaviour of the <strong><code>PDO::FETCH_FUNC</code></strong> fetch style. </p></div> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
function fruit($name, $colour) {
    return "{$name}: {$colour}";
}

$sth = $dbh-&gt;prepare("SELECT name, colour FROM fruit");
$sth-&gt;execute();

$result = $sth-&gt;fetchAll(PDO::FETCH_FUNC, "fruit");
var_dump($result);
?&gt;</pre> </div> <div class="example-contents"><p>The above example will output something similar to:</p></div> <div class="example-contents screen"> <div class="cdata"><pre>
array(3) {
  [0]=&gt;
  string(12) "apple: green"
  [1]=&gt;
  string(12) "pear: yellow"
  [2]=&gt;
  string(16) "watermelon: pink"
  [3]=&gt;
  string(10) "apple: red"
  [4]=&gt;
  string(11) "pear: green"
}
</pre></div> </div> </div> </div> <div class="refsect1 seealso" id="refsect1-pdostatement.fetchall-seealso"> <h3 class="title">See Also</h3> 
<ul class="simplelist"> <li class="member"><span class="function"><a href="pdo.query" class="function" rel="rdfs-seeAlso">PDO::query()</a> - Executes an SQL statement, returning a result set as a PDOStatement object</span></li> <li class="member"><span class="function"><a href="pdostatement.fetch" class="function" rel="rdfs-seeAlso">PDOStatement::fetch()</a> - Fetches the next row from a result set</span></li> <li class="member"><span class="function"><a href="pdostatement.fetchcolumn" class="function" rel="rdfs-seeAlso">PDOStatement::fetchColumn()</a> - Returns a single column from the next row of a result set</span></li> <li class="member"><span class="function"><a href="pdo.prepare" class="function" rel="rdfs-seeAlso">PDO::prepare()</a> - Prepares a statement for execution and returns a statement object</span></li> <li class="member"><span class="function"><a href="pdostatement.setfetchmode" class="function" rel="rdfs-seeAlso">PDOStatement::setFetchMode()</a> - Set the default fetch mode for this statement</span></li> </ul> </div> <div class="manualnavbar" style="text-align: center;"> <div class="prev" style="text-align: left; float: left;"><a href="pdostatement.fetch">← PDOStatement::fetch</a></div> <div class="next" style="text-align: right; float: right;"><a href="pdostatement.fetchcolumn">PDOStatement::fetchColumn →</a></div>   </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 1997–2018 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://secure.php.net/manual/en/pdostatement.fetchall.php" class="_attribution-link">https://secure.php.net/manual/en/pdostatement.fetchall.php</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
