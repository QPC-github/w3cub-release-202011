
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Foreach - PHP - W3cubDocs</title>
  
  <meta name="description" content=" (PHP 4, PHP 5, PHP 7, PHP 8) ">
  <meta name="keywords" content="foreach, php">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/php/control-structures.foreach.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/php.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/php/" class="_nav-link" title="" style="margin-left:0;">PHP</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _php">
				
				
<div id="layout"> <div id="layout-content"><div id="control-structures.foreach" class="sect1"> <h2 class="title">foreach</h2> <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p> <p class="para"> The <code class="literal">foreach</code> construct provides an easy way to iterate over arrays. <code class="literal">foreach</code> works only on arrays and objects, and will issue an error when you try to use it on a variable with a different data type or an uninitialized variable. There are two syntaxes: </p>
<div class="informalexample"> <div class="example-contents"> <div class="cdata"><pre>
foreach (iterable_expression as $value)
    statement
foreach (iterable_expression as $key =&gt; $value)
    statement
</pre></div> </div> </div> <p class="simpara"> The first form traverses the iterable given by <code class="literal">iterable_expression</code>. On each iteration, the value of the current element is assigned to <code class="literal">$value</code>. </p> <p class="simpara"> The second form will additionally assign the current element's key to the <code class="literal">$key</code> variable on each iteration. </p> <p class="simpara"> It is possible to <a href="language.oop5.iterations" class="link">customize object iteration</a>. </p> <p class="para"> In order to be able to directly modify array elements within the loop precede <code class="literal">$value</code> with &amp;. In that case the value will be assigned by <a href="https://www.php.net/manual/en/language.references.php" class="link">reference</a>. </p>
<div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$arr = array(1, 2, 3, 4);
foreach ($arr as &amp;$value) {
    $value = $value * 2;
}
// $arr is now array(2, 4, 6, 8)
unset($value); // break the reference with the last element
?&gt;</pre> </div> </div> <div class="warning">
<strong class="warning">Warning</strong> <p class="para"> Reference of a <code class="literal">$value</code> and the last array element remain even after the <code class="literal">foreach</code> loop. It is recommended to destroy it by <span class="function"><a href="function.unset" class="function">unset()</a></span>. Otherwise you will experience the following behavior: </p> <div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$arr = array(1, 2, 3, 4);
foreach ($arr as &amp;$value) {
    $value = $value * 2;
}
// $arr is now array(2, 4, 6, 8)

// without an unset($value), $value is still a reference to the last item: $arr[3]

foreach ($arr as $key =&gt; $value) {
    // $arr[3] will be updated with each value from $arr...
    echo "{$key} =&gt; {$value} ";
    print_r($arr);
}
// ...until ultimately the second-to-last value is copied onto the last value

// output:
// 0 =&gt; 2 Array ( [0] =&gt; 2, [1] =&gt; 4, [2] =&gt; 6, [3] =&gt; 2 )
// 1 =&gt; 4 Array ( [0] =&gt; 2, [1] =&gt; 4, [2] =&gt; 6, [3] =&gt; 4 )
// 2 =&gt; 6 Array ( [0] =&gt; 2, [1] =&gt; 4, [2] =&gt; 6, [3] =&gt; 6 )
// 3 =&gt; 6 Array ( [0] =&gt; 2, [1] =&gt; 4, [2] =&gt; 6, [3] =&gt; 6 )
?&gt;</pre> </div> </div> </div> <p class="para"> It is possible to iterate a constant array's value by reference: </p>
<div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
foreach (array(1, 2, 3, 4) as &amp;$value) {
    $value = $value * 2;
}
?&gt;</pre> </div> </div> 
<blockquote class="note">
<p><strong class="note">Note</strong>: </p>
<p class="para"> <code class="literal">foreach</code> does not support the ability to suppress error messages using <code class="literal">@</code>. </p> </blockquote> <p class="para"> Some more examples to demonstrate usage: </p>
<div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
/* foreach example 1: value only */

$a = array(1, 2, 3, 17);

foreach ($a as $v) {
    echo "Current value of \$a: $v.\n";
}

/* foreach example 2: value (with its manual access notation printed for illustration) */

$a = array(1, 2, 3, 17);

$i = 0; /* for illustrative purposes only */

foreach ($a as $v) {
    echo "\$a[$i] =&gt; $v.\n";
    $i++;
}

/* foreach example 3: key and value */

$a = array(
    "one" =&gt; 1,
    "two" =&gt; 2,
    "three" =&gt; 3,
    "seventeen" =&gt; 17
);

foreach ($a as $k =&gt; $v) {
    echo "\$a[$k] =&gt; $v.\n";
}

/* foreach example 4: multi-dimensional arrays */
$a = array();
$a[0][0] = "a";
$a[0][1] = "b";
$a[1][0] = "y";
$a[1][1] = "z";

foreach ($a as $v1) {
    foreach ($v1 as $v2) {
        echo "$v2\n";
    }
}

/* foreach example 5: dynamic arrays */

foreach (array(1, 2, 3, 4, 5) as $v) {
    echo "$v\n";
}
?&gt;</pre> </div> </div> <div class="sect2" id="control-structures.foreach.list"> <h3 class="title">Unpacking nested arrays with list()</h3> <p class="verinfo">(PHP 5 &gt;= 5.5.0, PHP 7, PHP 8)</p> <p class="para"> It is possible to iterate over an array of arrays and unpack the nested array into loop variables by providing a <span class="function"><a href="function.list" class="function">list()</a></span> as the value. </p> <p class="para"> For example: </p>
<div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$array = [
    [1, 2],
    [3, 4],
];

foreach ($array as list($a, $b)) {
    // $a contains the first element of the nested array,
    // and $b contains the second element.
    echo "A: $a; B: $b\n";
}
?&gt;</pre> </div> <p class="para">The above example will output:</p> <div class="example-contents screen"> <div class="cdata"><pre>
A: 1; B: 2
A: 3; B: 4
</pre></div> </div> </div> <p class="para"> You can provide fewer elements in the <span class="function"><a href="function.list" class="function">list()</a></span> than there are in the nested array, in which case the leftover array values will be ignored: </p>
<div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$array = [
    [1, 2],
    [3, 4],
];

foreach ($array as list($a)) {
    // Note that there is no $b here.
    echo "$a\n";
}
?&gt;</pre> </div> <p class="para">The above example will output:</p> <div class="example-contents screen"> <div class="cdata"><pre>
1
3
</pre></div> </div> </div> <p class="para"> A notice will be generated if there aren't enough array elements to fill the <span class="function"><a href="function.list" class="function">list()</a></span>: </p>
<div class="informalexample"> <div class="example-contents"> <pre class="phpcode" data-language="php">&lt;?php
$array = [
    [1, 2],
    [3, 4],
];

foreach ($array as list($a, $b, $c)) {
    echo "A: $a; B: $b; C: $c\n";
}
?&gt;</pre> </div> <p class="para">The above example will output:</p> <div class="example-contents screen"> <div class="cdata"><pre>

Notice: Undefined offset: 2 in example.php on line 7
A: 1; B: 2; C: 

Notice: Undefined offset: 2 in example.php on line 7
A: 3; B: 4; C: 
</pre></div> </div> </div> </div> </div></div>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    © 1997–2020 The PHP Documentation Group<br>Licensed under the Creative Commons Attribution License v3.0 or later.<br>
    <a href="https://www.php.net/manual/en/control-structures.foreach.php" class="_attribution-link">https://www.php.net/manual/en/control-structures.foreach.php</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
