
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Dviread - Matplotlib 3.1 - W3cubDocs</title>
  
  <meta name="description" content="A module for reading dvi files output by TeX. Several limitations make this not (currently) useful as a general-purpose dvi preprocessor, but it is &hellip;">
  <meta name="keywords" content="matplotlib, dviread, matplotlib~3.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/matplotlib~3.1/dviread.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/matplotlib~3.1.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/matplotlib~3.1/" class="_nav-link" title="" style="margin-left:0;">Matplotlib 3.1</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx">
				
				
<h1 id="matplotlib-dviread">matplotlib.dviread</h1> <p id="module-matplotlib.dviread">A module for reading dvi files output by TeX. Several limitations make this not (currently) useful as a general-purpose dvi preprocessor, but it is currently used by the pdf backend for processing usetex text.</p> <p>Interface:</p> <pre data-language="python">with Dvi(filename, 72) as dvi:
    # iterate over pages:
    for page in dvi:
        w, h, d = page.width, page.height, page.descent
        for x, y, font, glyph, width in page.text:
            fontname = font.texname
            pointsize = font.size
            ...
        for x, y, height, width in page.boxes:
            ...
</pre> <dl class="class"> <dt id="matplotlib.dviread.Dvi">
<code>class matplotlib.dviread.Dvi(filename, dpi)</code> <a class="reference internal" href="https://matplotlib.org/3.1.1/_modules/matplotlib/dviread.html#Dvi"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code>object</code></a></p> <p>A reader for a dvi ("device-independent") file, as produced by TeX. The current implementation can only iterate through pages in order, and does not even attempt to verify the postamble.</p> <p>This class can be used as a context manager to close the underlying file upon exit. Pages can be read via iteration. Here is an overly simple way to extract text without trying to detect whitespace:</p> <pre data-language="python">&gt;&gt;&gt; with matplotlib.dviread.Dvi('input.dvi', 72) as dvi:
...     for page in dvi:
...         print(''.join(chr(t.glyph) for t in page.text))
</pre> <p>Read the data from the file named <em>filename</em> and convert TeX's internal units to units of <em>dpi</em> per inch. <em>dpi</em> only sets the units and does not limit the resolution. Use None to return TeX's internal units.</p> <dl class="method"> <dt id="matplotlib.dviread.Dvi.close">
<code>close(self)</code> <a class="reference internal" href="https://matplotlib.org/3.1.1/_modules/matplotlib/dviread.html#Dvi.close"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Close the underlying file if it is open.</p> </dd>
</dl> </dd>
</dl> <dl class="class"> <dt id="matplotlib.dviread.DviFont">
<code>class matplotlib.dviread.DviFont(scale, tfm, texname, vf)</code> <a class="reference internal" href="https://matplotlib.org/3.1.1/_modules/matplotlib/dviread.html#DviFont"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code>object</code></a></p> <p>Encapsulation of a font that a DVI file can refer to.</p> <p>This class holds a font's texname and size, supports comparison, and knows the widths of glyphs in the same units as the AFM file. There are also internal attributes (for use by dviread.py) that are <em>not</em> used for comparison.</p> <p>The size is in Adobe points (converted from TeX points).</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<dl class="first docutils"> <dt>
<code>scale : float</code> </dt> <dd>
<p class="first last">Factor by which the font is scaled from its natural size.</p> </dd> <dt>
<code>tfm : Tfm</code> </dt> <dd>
<p class="first last">TeX font metrics for this font</p> </dd> <dt>
<code>texname : bytes</code> </dt> <dd>
<p class="first last">Name of the font as used internally by TeX and friends, as an ASCII bytestring. This is usually very different from any external font names, and <code>dviread.PsfontsMap</code> can be used to find the external name of the font.</p> </dd> <dt>
<code>vf : Vf</code> </dt> <dd>
<p class="first last">A TeX "virtual font" file, or None if this font is not virtual.</p> </dd> </dl> </td> </tr> <tr>
<th class="field-name">Attributes:</th>
<td class="field-body">
<dl class="first last docutils"> <dt>
<code>texname : bytes</code> </dt>  <dt>
<code>size : float</code> </dt> <dd>
<p class="first last">Size of the font in Adobe points, converted from the slightly smaller TeX points.</p> </dd> <dt>
<code>widths : list</code> </dt> <dd>
<p class="first last">Widths of glyphs in glyph-space units, typically 1/1000ths of the point size.</p> </dd> </dl> </td> </tr>  </table> <dl class="attribute"> <dt id="matplotlib.dviread.DviFont.size">
<code>size</code> </dt> 
</dl> <dl class="attribute"> <dt id="matplotlib.dviread.DviFont.texname">
<code>texname</code> </dt> 
</dl> <dl class="attribute"> <dt id="matplotlib.dviread.DviFont.widths">
<code>widths</code> </dt> 
</dl> </dd>
</dl> <dl class="class"> <dt id="matplotlib.dviread.Encoding">
<code>class matplotlib.dviread.Encoding(filename)</code> <a class="reference internal" href="https://matplotlib.org/3.1.1/_modules/matplotlib/dviread.html#Encoding"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code>object</code></a></p> <p>Parses a *.enc file referenced from a psfonts.map style file. The format this class understands is a very limited subset of PostScript.</p> <p>Usage (subject to change):</p> <pre data-language="python">for name in Encoding(filename):
    whatever(name)
</pre> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<dl class="first docutils"> <dt>
<code>filename : string or bytestring</code> </dt>  </dl> </td> </tr> <tr>
<th class="field-name">Attributes:</th>
<td class="field-body">
<dl class="first last docutils"> <dt>
<code>encoding : list</code> </dt> <dd>
<p class="first last">List of character names</p> </dd> </dl> </td> </tr>  </table> <dl class="attribute"> <dt id="matplotlib.dviread.Encoding.encoding">
<code>encoding</code> </dt> 
</dl> </dd>
</dl> <dl class="attribute"> <dt id="matplotlib.dviread.PsFont">
<code>matplotlib.dviread.PsFont</code> </dt> <dd>
<p>alias of <code>matplotlib.dviread.Font</code></p> </dd>
</dl> <dl class="class"> <dt id="matplotlib.dviread.PsfontsMap">
<code>class matplotlib.dviread.PsfontsMap</code> <a class="reference internal" href="https://matplotlib.org/3.1.1/_modules/matplotlib/dviread.html#PsfontsMap"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code>object</code></a></p> <p>A psfonts.map formatted file, mapping TeX fonts to PS fonts.</p> <p>Usage:</p> <pre data-language="python">&gt;&gt;&gt; map = PsfontsMap(find_tex_file('pdftex.map'))
&gt;&gt;&gt; entry = map[b'ptmbo8r']
&gt;&gt;&gt; entry.texname
b'ptmbo8r'
&gt;&gt;&gt; entry.psname
b'Times-Bold'
&gt;&gt;&gt; entry.encoding
'/usr/local/texlive/2008/texmf-dist/fonts/enc/dvips/base/8r.enc'
&gt;&gt;&gt; entry.effects
{'slant': 0.16700000000000001}
&gt;&gt;&gt; entry.filename
</pre> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<dl class="first last docutils"> <dt>
<code>filename : string or bytestring</code> </dt>  </dl> </td> </tr>  </table> <h4 class="rubric">Notes</h4> <p>For historical reasons, TeX knows many Type-1 fonts by different names than the outside world. (For one thing, the names have to fit in eight characters.) Also, TeX's native fonts are not Type-1 but Metafont, which is nontrivial to convert to PostScript except as a bitmap. While high-quality conversions to Type-1 format exist and are shipped with modern TeX distributions, we need to know which Type-1 fonts are the counterparts of which native fonts. For these reasons a mapping is needed from internal font names to font file names.</p> <p>A texmf tree typically includes mapping files called e.g. <code>psfonts.map</code>, <code>pdftex.map</code>, or <code>dvipdfm.map</code>. The file <code>psfonts.map</code> is used by <strong class="program">dvips</strong>, <code>pdftex.map</code> by <strong class="program">pdfTeX</strong>, and <code>dvipdfm.map</code> by <strong class="program">dvipdfm</strong>. <code>psfonts.map</code> might avoid embedding the 35 PostScript fonts (i.e., have no filename for them, as in the Times-Bold example above), while the pdf-related files perhaps only avoid the "Base 14" pdf fonts. But the user may have configured these files differently.</p> </dd>
</dl> <dl class="class"> <dt id="matplotlib.dviread.Tfm">
<code>class matplotlib.dviread.Tfm(filename)</code> <a class="reference internal" href="https://matplotlib.org/3.1.1/_modules/matplotlib/dviread.html#Tfm"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code>object</code></a></p> <p>A TeX Font Metric file.</p> <p>This implementation covers only the bare minimum needed by the Dvi class.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<dl class="first docutils"> <dt>
<code>filename : string or bytestring</code> </dt>  </dl> </td> </tr> <tr>
<th class="field-name">Attributes:</th>
<td class="field-body">
<dl class="first last docutils"> <dt>
<code>checksum : int</code> </dt> <dd>
<p class="first last">Used for verifying against the dvi file.</p> </dd> <dt>
<code>design_size : int</code> </dt> <dd>
<p class="first last">Design size of the font (unknown units)</p> </dd> <dt>
<code>width, height, depth : dict</code> </dt> <dd>
<p class="first last">Dimensions of each character, need to be scaled by the factor specified in the dvi file. These are dicts because indexing may not start from 0.</p> </dd> </dl> </td> </tr>  </table> <dl class="attribute"> <dt id="matplotlib.dviread.Tfm.checksum">
<code>checksum</code> </dt> 
</dl> <dl class="attribute"> <dt id="matplotlib.dviread.Tfm.depth">
<code>depth</code> </dt> 
</dl> <dl class="attribute"> <dt id="matplotlib.dviread.Tfm.design_size">
<code>design_size</code> </dt> 
</dl> <dl class="attribute"> <dt id="matplotlib.dviread.Tfm.height">
<code>height</code> </dt> 
</dl> <dl class="attribute"> <dt id="matplotlib.dviread.Tfm.width">
<code>width</code> </dt> 
</dl> </dd>
</dl> <dl class="class"> <dt id="matplotlib.dviread.Vf">
<code>class matplotlib.dviread.Vf(filename)</code> <a class="reference internal" href="https://matplotlib.org/3.1.1/_modules/matplotlib/dviread.html#Vf"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Bases: <a class="reference internal" href="#matplotlib.dviread.Dvi" title="matplotlib.dviread.Dvi"><code>matplotlib.dviread.Dvi</code></a></p> <p>A virtual font (*.vf file) containing subroutines for dvi files.</p> <p>Usage:</p> <pre data-language="python">vf = Vf(filename)
glyph = vf[code]
glyph.text, glyph.boxes, glyph.width
</pre> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<dl class="first last docutils"> <dt>
<code>filename : string or bytestring</code> </dt>  </dl> </td> </tr>  </table> <h4 class="rubric">Notes</h4> <p>The virtual font format is a derivative of dvi: <a class="reference external" href="http://mirrors.ctan.org/info/knuth/virtual-fonts">http://mirrors.ctan.org/info/knuth/virtual-fonts</a> This class reuses some of the machinery of <a class="reference internal" href="#matplotlib.dviread.Dvi" title="matplotlib.dviread.Dvi"><code>Dvi</code></a> but replaces the <code>_read</code> loop and dispatch mechanism.</p> </dd>
</dl> <dl class="attribute"> <dt id="matplotlib.dviread.find_tex_file">
<code>matplotlib.dviread.find_tex_file(filename, format=None)</code> <a class="reference internal" href="https://matplotlib.org/3.1.1/_modules/matplotlib/dviread.html#find_tex_file"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Find a file in the texmf tree.</p> <p>Calls <strong class="program">kpsewhich</strong> which is an interface to the kpathsea library <a class="reference internal" href="#ra043a4f19cd5-1" id="id1">[1]</a>. Most existing TeX distributions on Unix-like systems use kpathsea. It is also available as part of MikTeX, a popular distribution on Windows.</p> <p><em>If the file is not found, an empty string is returned</em>.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<dl class="first last docutils"> <dt>
<code>filename : string or bytestring</code> </dt>  <dt>
<code>format : string or bytestring</code> </dt> <dd>
<p class="first last">Used as the value of the <code>--format</code> option to <strong class="program">kpsewhich</strong>. Could be e.g. 'tfm' or 'vf' to limit the search to that type of files.</p> </dd> </dl> </td> </tr>  </table> <h4 class="rubric">References</h4> <table class="docutils citation" frame="void" id="ra043a4f19cd5-1" rules="none">   <tr>
<td class="label"><a class="fn-backref" href="#id1">[1]</a></td>
<td>
<a class="reference external" href="http://www.tug.org/kpathsea/">Kpathsea documentation</a> The library that <strong class="program">kpsewhich</strong> is part of.</td>
</tr>  </table> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2018 Matplotlib Development Team. All rights reserved.<br>Licensed under the Matplotlib License Agreement.<br>
    <a href="https://matplotlib.org/3.1.1/api/dviread.html" class="_attribution-link">https://matplotlib.org/3.1.1/api/dviread.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
