
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Erl_recomment - Erlang 21 - W3cubDocs</title>
  
  <meta name="description" content=" erl_recomment ">
  <meta name="keywords" content="erl, recomment, erlang, erlang~21">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/erlang~21/lib/syntax_tools-2.1.5/doc/html/erl_recomment.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/erlang~21.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/erlang~21/" class="_nav-link" title="" style="margin-left:0;">Erlang 21</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _erlang">
				
				
<h1>erl_recomment</h1> <h2><span onmouseover="document.getElementById('ghlink-module-id75617').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-id75617').style.visibility = 'hidden';" id="module">Module</span></h2> <p class="REFBODY module-body">erl_recomment</p> <h2><span onmouseover="document.getElementById('ghlink-module-summary-id75620').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-summary-id75620').style.visibility = 'hidden';" id="module-summary">Module Summary</span></h2> <p class="REFBODY module-summary-body">Inserting comments into abstract Erlang syntax trees.</p> <h2><span onmouseover="document.getElementById('ghlink-description-id75624').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-description-id75624').style.visibility = 'hidden';" id="description">Description</span></h2> 
<p>Inserting comments into abstract Erlang syntax trees</p> <p>This module contains functions for inserting comments, described by position, indentation and text, as attachments on an abstract syntax tree, at the correct places.</p> <h2>Data types</h2>   <dl id="types"> <dt><strong>syntaxTree() = <code id="type-syntaxTree"><a href="erl_syntax#type-syntaxTree">erl_syntax:syntaxTree()</a></code></strong></dt> <dd>  <p>An abstract syntax tree. See the <code><a href="erl_syntax">erl_syntax</a></code> module for details.</p> </dd> </dl>  <h2><span onmouseover="document.getElementById('ghlink-exports-id75674').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-exports-id75674').style.visibility = 'hidden';" id="exports">Exports</span></h2> <div class="exports-body"> 
<div><span onmouseover="document.getElementById('ghlink-quick_recomment_forms-2-id75679').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-quick_recomment_forms-2-id75679').style.visibility = 'hidden';" id="quick_recomment_forms-2">quick_recomment_forms(Tree::Forms, Comments::[Comment]) -&gt; syntaxTree()</span></div>  <h2 class="func-types-title">Types</h2>        
<p>Like <code><a href="#recomment_forms-2">recomment_forms/2</a></code>, but only inserts top-level comments. Comments within function definitions or declarations ("forms") are simply ignored.</p>  
<div><span onmouseover="document.getElementById('ghlink-recomment_forms-2-id75743').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-recomment_forms-2-id75743').style.visibility = 'hidden';" id="recomment_forms-2">recomment_forms(Tree::Forms, Comments::[Comment]) -&gt; syntaxTree()</span></div>  <h2 class="func-types-title">Types</h2>        
<p>Attaches comments to the syntax tree/trees representing a program. The given <code class="code">Forms</code> should be a single syntax tree of type <code class="code">form_list</code>, or a list of syntax trees representing "program forms". The syntax trees must contain valid position information (for details, see <code class="code">recomment_tree/2</code>). The result is a corresponding syntax tree of type <code class="code">form_list</code> in which all comments in the list <code class="code">Comments</code> have been attached at the proper places.</p> <p>Assuming <code class="code">Forms</code> represents a program (or any sequence of "program forms"), any comments whose first lines are not directly associated with a specific program form will become standalone comments inserted between the neighbouring program forms. Furthermore, comments whose column position is less than or equal to one will not be attached to a program form that begins at a conflicting line number (this can happen with preprocessor-generated <code class="code">line</code>-attributes).</p> <p>If <code class="code">Forms</code> is a syntax tree of some other type than <code class="code">form_list</code>, the comments will be inserted directly using <code class="code">recomment_tree/2</code>, and any comments left over from that process are added as postcomments on the result.</p> <p>Entries in <code class="code">Comments</code> represent multi-line comments. For each entry, <code class="code">Line</code> is the line number and <code class="code">Column</code> the left column of the comment (the column of the first comment-introducing "<code class="code">%</code>" character). <code class="code">Indentation</code> is the number of character positions between the last non-whitespace character before the comment (or the left margin) and the left column of the comment. <code class="code">Text</code> is a list of strings representing the consecutive comment lines in top-down order, where each string contains all characters following (but not including) the comment-introducing "<code class="code">%</code>" and up to (but not including) the terminating newline. (Cf. module <code class="code">erl_comment_scan</code>.)</p> <p>Evaluation exits with reason <code class="code">{bad_position, Pos}</code> if the associated position information <code class="code">Pos</code> of some subtree in the input does not have a recognizable format, or with reason <code class="code">{bad_tree, L, C}</code> if insertion of a comment at line <code class="code">L</code>, column <code class="code">C</code>, fails because the tree structure is ill-formed.</p> <p><strong>See also:</strong> <code><a href="erl_comment_scan">erl_comment_scan</a></code>, <code><a href="#quick_recomment_forms-2">quick_recomment_forms/2</a></code>, <code><a href="#recomment_tree-2">recomment_tree/2</a></code>.</p>  
<div><span onmouseover="document.getElementById('ghlink-recomment_tree-2-id75934').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-recomment_tree-2-id75934').style.visibility = 'hidden';" id="recomment_tree-2">recomment_tree(Tree::syntaxTree(), Comments::[Comment]) -&gt; {syntaxTree(), [Comment]}</span></div>  <h2 class="func-types-title">Types</h2>       
<p>Attaches comments to a syntax tree. The result is a pair <code class="code">{NewTree, Remainder}</code> where <code class="code">NewTree</code> is the given <code class="code">Tree</code> where comments from the list <code class="code">Comments</code> have been attached at the proper places. <code class="code">Remainder</code> is the list of entries in <code class="code">Comments</code> which have not been inserted, because their line numbers are greater than those of any node in the tree. The entries in <code class="code">Comments</code> are inserted in order; if two comments become attached to the same node, they will appear in the same order in the program text.</p> <p>The nodes of the syntax tree must contain valid position information. This can be single integers, assumed to represent a line number, or 2- or 3-tuples where the first or second element is an integer, in which case the leftmost integer element is assumed to represent the line number. Line numbers less than one are ignored (usually, the default line number for newly created nodes is zero).</p> <p>For details on the <code class="code">Line</code>, <code class="code">Column</code> and <code class="code">Indentation</code> fields, and the behaviour in case of errors, see <code class="code">recomment_forms/2</code>.</p> <p><strong>See also:</strong> <code><a href="#recomment_forms-2">recomment_forms/2</a></code>.</p>  </div> Richard Carlsson carlsson.richard@gmail.com<div class="_attribution">
  <p class="_attribution-p">
    © 2010–2017 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
