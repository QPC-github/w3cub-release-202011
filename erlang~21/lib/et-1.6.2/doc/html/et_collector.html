
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Et_collector - Erlang 21 - W3cubDocs</title>
  
  <meta name="description" content=" et_collector ">
  <meta name="keywords" content="et, collector, erlang, erlang~21">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/erlang~21/lib/et-1.6.2/doc/html/et_collector.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/erlang~21.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/erlang~21/" class="_nav-link" title="" style="margin-left:0;">Erlang 21</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _erlang">
				
				
<h1>et_collector</h1> <h2><span onmouseover="document.getElementById('ghlink-module-id61788').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-id61788').style.visibility = 'hidden';" id="module">Module</span></h2> <p class="REFBODY module-body">et_collector</p> <h2><span onmouseover="document.getElementById('ghlink-module-summary-id61792').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-module-summary-id61792').style.visibility = 'hidden';" id="module-summary">Module Summary</span></h2> <p class="REFBODY module-summary-body">Collect trace events and provide a backing storage appropriate for iteration </p> <h2><span onmouseover="document.getElementById('ghlink-description-id61795').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-description-id61795').style.visibility = 'hidden';" id="description">Description</span></h2> 
<p>Interface module for the Event Trace (ET) application</p>  <h2><span onmouseover="document.getElementById('ghlink-exports-id62368').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-exports-id62368').style.visibility = 'hidden';" id="exports">Exports</span></h2> <div class="exports-body"> 
<div><span onmouseover="document.getElementById('ghlink-start_link-1-id62375').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-start_link-1-id62375').style.visibility = 'hidden';" id="start_link-1">start_link(Options) -&gt; {ok, CollectorPid} | {error, Reason}</span></div>  <h2 class="func-types-title">Types</h2>                    
<p>Start a collector process.</p> <p>The collector collects trace events and keeps them ordered by their timestamp. The timestamp may either reflect the time when the actual trace data was generated (trace_ts) or when the trace data was transformed into an event record (event_ts). If the time stamp is missing in the trace data (missing timestamp option to erlang:trace/4) the trace_ts will be set to the event_ts.</p> <p>Events are reported to the collector directly with the report function or indirectly via one or more trace clients. All reported events are first filtered thru the collector filter before they are stored by the collector. By replacing the default collector filter with a customized dito it is possible to allow any trace data as input. The collector filter is a dictionary entry with the predefined key {filter, collector} and the value is a fun of arity 1. See et_selector:make_event/1 for interface details, such as which erlang:trace/1 tuples that are accepted.</p> <p>The collector has a built-in dictionary service. Any term may be stored as value in the dictionary and bound to a unique key. When new values are inserted with an existing key, the new values will overwrite the existing ones. Processes may subscribe on dictionary updates by using {subscriber, pid()} as dictionary key. All dictionary updates will be propagated to the subscriber processes matching the pattern {{subscriber, '_'}, '_'} where the first '_' is interpreted as a pid().</p> <p>In global trace mode, the collector will automatically start tracing on all connected Erlang nodes. When a node connects, a port tracer will be started on that node and a corresponding trace client on the collector node.</p> <p>Default values:</p> <ul> <li>parent_pid - self().</li> <li>event_order - trace_ts.</li> <li>trace_global - false.</li> <li>trace_pattern - undefined.</li> <li>trace_port - 4711.</li> <li>trace_max_queue - 50.</li> </ul>  
<div><span onmouseover="document.getElementById('ghlink-stop-1-id64847').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-stop-1-id64847').style.visibility = 'hidden';" id="stop-1">stop(CollectorPid) -&gt; ok</span></div>  <h2 class="func-types-title">Types</h2>   
<p>Stop a collector process.</p>  
<div><span onmouseover="document.getElementById('ghlink-save_event_file-3-id64708').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-save_event_file-3-id64708').style.visibility = 'hidden';" id="save_event_file-3">save_event_file(CollectorPid, FileName, Options) -&gt; ok | {error, Reason}</span></div>  <h2 class="func-types-title">Types</h2>          
<p>Save the events to a file.</p> <p>By default the currently stored events (existing) are written to a brand new file (write) and the events are kept (keep) after they have been written to the file.</p> <p>Instead of keeping the events after writing them to file, it is possible to remove all stored events after they have successfully written to file (clear).</p> <p>The options defaults to existing, write and keep.</p>  
<div><span onmouseover="document.getElementById('ghlink-load_event_file-2-id62168').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-load_event_file-2-id62168').style.visibility = 'hidden';" id="load_event_file-2">load_event_file(CollectorPid, FileName) -&gt; {ok, BadBytes} | exit(Reason)</span></div>  <h2 class="func-types-title">Types</h2>      
<p>Load the event table from a file.</p>  
<div><span onmouseover="document.getElementById('ghlink-report-2-id66709').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-report-2-id66709').style.visibility = 'hidden';" id="report-2">report(Handle, TraceOrEvent) -&gt; {ok, Continuation} | exit(Reason)</span></div>
<div><span onmouseover="document.getElementById('ghlink-report_event-5-id66714').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-report_event-5-id66714').style.visibility = 'hidden';" id="report_event-5">report_event(Handle, DetailLevel, FromTo, Label, Contents) -&gt; {ok, Continuation} | exit(Reason)</span></div>
<div><span onmouseover="document.getElementById('ghlink-report_event-6-id66718').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-report_event-6-id66718').style.visibility = 'hidden';" id="report_event-6">report_event(Handle, DetailLevel, From, To, Label, Contents) -&gt; {ok, Continuation} | exit(Reason)</span></div>  <h2 class="func-types-title">Types</h2>               
<p>Report an event to the collector.</p> <p>All events are filtered thru the collector filter, which optionally may transform or discard the event. The first call should use the pid of the collector process as report handle, while subsequent calls should use the table handle.</p>  
<div><span onmouseover="document.getElementById('ghlink-make_key-2-id62430').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-make_key-2-id62430').style.visibility = 'hidden';" id="make_key-2">make_key(Type, Stuff) -&gt; Key</span></div>  <h2 class="func-types-title">Types</h2>     
<p>Make a key out of an event record or an old key.</p>  
<div><span onmouseover="document.getElementById('ghlink-get_table_handle-1-id64391').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-get_table_handle-1-id64391').style.visibility = 'hidden';" id="get_table_handle-1">get_table_handle(CollectorPid) -&gt; Handle</span></div>  <h2 class="func-types-title">Types</h2>    
<p>Return a table handle.</p>  
<div><span onmouseover="document.getElementById('ghlink-get_global_pid-0-id62953').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-get_global_pid-0-id62953').style.visibility = 'hidden';" id="get_global_pid-0">get_global_pid() -&gt; CollectorPid | exit(Reason)</span></div>  <h2 class="func-types-title">Types</h2>    
<p>Return a the identity of the globally registered collector if there is any.</p>  
<div><span onmouseover="document.getElementById('ghlink-change_pattern-2-id63603').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-change_pattern-2-id63603').style.visibility = 'hidden';" id="change_pattern-2">change_pattern(CollectorPid, RawPattern) -&gt; {old_pattern, TracePattern}</span></div>  <h2 class="func-types-title">Types</h2>         
<p>Change active trace pattern globally on all trace nodes.</p>  
<div><span onmouseover="document.getElementById('ghlink-dict_insert-3-id64645').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-dict_insert-3-id64645').style.visibility = 'hidden';" id="dict_insert-3">dict_insert(CollectorPid, {filter, collector}, FilterFun) -&gt; ok</span></div>
<div><span onmouseover="document.getElementById('ghlink-dict_insert-3-id64649').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-dict_insert-3-id64649').style.visibility = 'hidden';" id="dict_insert-3">dict_insert(CollectorPid, {subscriber, SubscriberPid}, Void) -&gt; ok</span></div>
<div><span onmouseover="document.getElementById('ghlink-dict_insert-3-id64653').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-dict_insert-3-id64653').style.visibility = 'hidden';" id="dict_insert-3">dict_insert(CollectorPid, Key, Val) -&gt; ok</span></div>  <h2 class="func-types-title">Types</h2>        
<p>Insert a dictionary entry and send a {et, {dict_insert, Key, Val}} tuple to all registered subscribers.</p> <p>If the entry is a new subscriber, it will imply that the new subscriber process first will get one message for each already stored dictionary entry, before it and all old subscribers will get this particular entry. The collector process links to and then supervises the subscriber process. If the subscriber process dies it will imply that it gets unregistered as with a normal dict_delete/2.</p>  
<div><span onmouseover="document.getElementById('ghlink-dict_lookup-2-id66132').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-dict_lookup-2-id66132').style.visibility = 'hidden';" id="dict_lookup-2">dict_lookup(CollectorPid, Key) -&gt; [Val]</span></div>  <h2 class="func-types-title">Types</h2>       
<p>Lookup a dictionary entry and return zero or one value.</p>  
<div><span onmouseover="document.getElementById('ghlink-dict_delete-2-id66176').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-dict_delete-2-id66176').style.visibility = 'hidden';" id="dict_delete-2">dict_delete(CollectorPid, Key) -&gt; ok</span></div>  <h2 class="func-types-title">Types</h2>     
<p>Delete a dictionary entry and send a {et, {dict_delete, Key}} tuple to all registered subscribers.</p> <p>If the deleted entry is a registered subscriber, it will imply that the subscriber process gets is unregistered as subscriber as well as it gets it final message.</p>  
<div><span onmouseover="document.getElementById('ghlink-dict_match-2-id66520').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-dict_match-2-id66520').style.visibility = 'hidden';" id="dict_match-2">dict_match(CollectorPid, Pattern) -&gt; [Match]</span></div>  <h2 class="func-types-title">Types</h2>         
<p>Match some dictionary entries</p>  
<div><span onmouseover="document.getElementById('ghlink-multicast-2-id66572').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-multicast-2-id66572').style.visibility = 'hidden';" id="multicast-2">multicast(_CollectorPid, Msg) -&gt; ok</span></div>  <h2 class="func-types-title">Types</h2>     
<p>Sends a message to all registered subscribers.</p>  
<div><span onmouseover="document.getElementById('ghlink-start_trace_client-3-id62771').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-start_trace_client-3-id62771').style.visibility = 'hidden';" id="start_trace_client-3">start_trace_client(CollectorPid, Type, Parameters) -&gt; file_loaded | {trace_client_pid, pid()} | exit(Reason)</span></div>  <h2 class="func-types-title">Types</h2>     
<p>Load raw Erlang trace from a file, port or process.</p>  
<div><span onmouseover="document.getElementById('ghlink-iterate-3-id62809').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-iterate-3-id62809').style.visibility = 'hidden';" id="iterate-3">iterate(Handle, Prev, Limit) -&gt; NewAcc</span></div> 
<p>Short for iterate(Handle, Prev, Limit, undefined, Prev) -&gt; NewAcc</p>  
<div><span onmouseover="document.getElementById('ghlink-iterate-5-id62831').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-iterate-5-id62831').style.visibility = 'hidden';" id="iterate-5">iterate(Handle, Prev, Limit, Fun, Acc) -&gt; NewAcc</span></div>  <h2 class="func-types-title">Types</h2>            
<p>Iterate over the currently stored events.</p> <p>Iterates over the currently stored events and applies a function for each event. The iteration may be performed forwards or backwards and may be limited to a maximum number of events (abs(Limit)).</p>  
<div><span onmouseover="document.getElementById('ghlink-clear_table-1-id66335').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-clear_table-1-id66335').style.visibility = 'hidden';" id="clear_table-1">clear_table(Handle) -&gt; ok</span></div>  <h2 class="func-types-title">Types</h2>     
<p>Clear the event table.</p>  </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2010–2017 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
