
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>EEx - Elixir 1.11 - W3cubDocs</title>
  
  <meta name="description" content=" EEx stands for Embedded Elixir. It allows you to embed Elixir code inside a string in a robust way. ">
  <meta name="keywords" content="eex, summary, functions, elixir, elixir~1.11">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/elixir~1.11/eex.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/elixir~1.11.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/elixir~1.11/" class="_nav-link" title="" style="margin-left:0;">Elixir 1.11</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _elixir">
				
				
<h1> EEx   </h1> <section id="moduledoc"> <p>EEx stands for Embedded Elixir. It allows you to embed Elixir code inside a string in a robust way.</p>
<pre data-language="elixir">iex&gt; EEx.eval_string("foo &lt;%= bar %&gt;", bar: "baz")
"foo baz"</pre>
<h2 id="module-api" class="section-heading">  API </h2> <p>This module provides 3 main APIs for you to use:</p>
<ol>
<li><p>Evaluate a string (<a href="#eval_string/3"><code class="inline">eval_string/3</code></a>) or a file (<a href="#eval_file/3"><code class="inline">eval_file/3</code></a>) directly. This is the simplest API to use but also the slowest, since the code is evaluated and not compiled before.</p></li>
<li><p>Define a function from a string (<a href="#function_from_string/5"><code class="inline">function_from_string/5</code></a>) or a file (<a href="#function_from_file/5"><code class="inline">function_from_file/5</code></a>). This allows you to embed the template as a function inside a module which will then be compiled. This is the preferred API if you have access to the template at compilation time.</p></li>
<li><p>Compile a string (<a href="#compile_string/2"><code class="inline">compile_string/2</code></a>) or a file (<a href="#compile_file/2"><code class="inline">compile_file/2</code></a>) into Elixir syntax tree. This is the API used by both functions above and is available to you if you want to provide your own ways of handling the compiled template.</p></li>
</ol>
<h2 id="module-options" class="section-heading">  Options </h2> <p>All functions in this module accept EEx-related options. They are:</p>
<ul>
<li>
<code class="inline">:file</code> - the file to be used in the template. Defaults to the given file the template is read from or to "nofile" when compiling from a string.</li>
<li>
<code class="inline">:line</code> - the line to be used as the template start. Defaults to 1.</li>
<li>
<code class="inline">:indentation</code> - (since v1.11.0) an integer added to the column after every new line. Defaults to 0.</li>
<li>
<code class="inline">:engine</code> - the EEx engine to be used for compilation.</li>
<li>
<code class="inline">:trim</code> - if true, trims whitespace left/right of quotation tags up until newlines. At least one newline is retained. Defaults to false.</li>
</ul>
<h2 id="module-engine" class="section-heading">  Engine </h2> <p>EEx has the concept of engines which allows you to modify or transform the code extracted from the given string or file.</p>
<p>By default, <a href="#content"><code class="inline">EEx</code></a> uses the <a href="https://hexdocs.pm/eex/EEx.SmartEngine.html"><code class="inline">EEx.SmartEngine</code></a> that provides some conveniences on top of the simple <a href="https://hexdocs.pm/eex/EEx.Engine.html"><code class="inline">EEx.Engine</code></a>.</p>
<h3 id="module-tags" class="section-heading">  Tags </h3> <p><a href="https://hexdocs.pm/eex/EEx.SmartEngine.html"><code class="inline">EEx.SmartEngine</code></a> supports the following tags:</p>
<pre data-language="elixir">&lt;% Elixir expression - inline with output %&gt;
&lt;%= Elixir expression - replace with result %&gt;
&lt;%% EEx quotation - returns the contents inside %&gt;
&lt;%# Comments - they are discarded from source %&gt;</pre>
<p>All expressions that output something to the template <strong>must</strong> use the equals sign (<code class="inline">=</code>). Since everything in Elixir is an expression, there are no exceptions for this rule. For example, while some template languages would special-case <code class="inline">if</code> clauses, they are treated the same in EEx and also require <code class="inline">=</code> in order to have their result printed:</p>
<pre data-language="elixir">&lt;%= if true do %&gt;
  It is obviously true
&lt;% else %&gt;
  This will never appear
&lt;% end %&gt;</pre>
<p>To escape an EEx expression in EEx use <code class="inline">&lt;%% content %&gt;</code>. For example:</p>
<pre data-language="elixir">&lt;%%= x + 3 %&gt;</pre>
<p>will be rendered as <code class="inline">&lt;%= x + 3 %&gt;</code>.</p>
<p>Note that different engines may have different rules for each tag. Other tags may be added in future versions.</p>
<h3 id="module-macros" class="section-heading">  Macros </h3> <p><a href="https://hexdocs.pm/eex/EEx.SmartEngine.html"><code class="inline">EEx.SmartEngine</code></a> also adds some macros to your template. An example is the <code class="inline">@</code> macro which allows easy data access in a template:</p>
<pre data-language="elixir">iex&gt; EEx.eval_string("&lt;%= @foo %&gt;", assigns: [foo: 1])
"1"</pre>
<p>In other words, <code class="inline">&lt;%= @foo %&gt;</code> translates to:</p>
<pre data-language="elixir">&lt;%= {:ok, v} = Access.fetch(assigns, :foo); v %&gt;</pre>
<p>The <code class="inline">assigns</code> extension is useful when the number of variables required by the template is not specified at compilation time.</p> </section> <section id="summary" class="details-list"> <h1 class="section-heading">  Summary </h1> <h2> Functions </h2>
<dl class="summary-functions summary">  <div class="summary-row"> <dt class="summary-signature"> <a href="#compile_file/2">compile_file(filename, options \\ [])</a> </dt> <dd class="summary-synopsis"><p>Gets a <code class="inline">filename</code> and generate a quoted expression that can be evaluated by Elixir or compiled to a function.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#compile_string/2">compile_string(source, options \\ [])</a> </dt> <dd class="summary-synopsis"><p>Gets a string <code class="inline">source</code> and generate a quoted expression that can be evaluated by Elixir or compiled to a function.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#eval_file/3">eval_file(filename, bindings \\ [], options \\ [])</a> </dt> <dd class="summary-synopsis"><p>Gets a <code class="inline">filename</code> and evaluate the values using the <code class="inline">bindings</code>.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#eval_string/3">eval_string(source, bindings \\ [], options \\ [])</a> </dt> <dd class="summary-synopsis"><p>Gets a string <code class="inline">source</code> and evaluate the values using the <code class="inline">bindings</code>.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#function_from_file/5">function_from_file(kind, name, file, args \\ [], options \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates a function definition from the file contents.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#function_from_string/5">function_from_string(kind, name, source, args \\ [], options \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates a function definition from the string.</p></dd> </div> </dl> </section> <section id="functions" class="details-list"> <h1 class="section-heading">  Functions </h1> <div class="functions-list"> <section class="detail">  <h3 class="detail-header" id="compile_file/2">compile_file(filename, options \\ [])</h3> <section class="docstring"> <h4>Specs</h4> <div class="specs"> <pre data-language="elixir">compile_file(String.t(), keyword()) :: Macro.t()</pre> </div> <p>Gets a <code class="inline">filename</code> and generate a quoted expression that can be evaluated by Elixir or compiled to a function.</p> </section> </section> <section class="detail">  <h3 class="detail-header" id="compile_string/2">compile_string(source, options \\ [])</h3> <section class="docstring"> <h4>Specs</h4> <div class="specs"> <pre data-language="elixir">compile_string(String.t(), keyword()) :: Macro.t()</pre> </div> <p>Gets a string <code class="inline">source</code> and generate a quoted expression that can be evaluated by Elixir or compiled to a function.</p> </section> </section> <section class="detail">   <h3 class="detail-header" id="eval_file/3">eval_file(filename, bindings \\ [], options \\ [])</h3> <section class="docstring"> <h4>Specs</h4> <div class="specs"> <pre data-language="elixir">eval_file(String.t(), keyword(), keyword()) :: any()</pre> </div> <p>Gets a <code class="inline">filename</code> and evaluate the values using the <code class="inline">bindings</code>.</p>
<h4 id="eval_file/3-examples" class="section-heading">  Examples </h4> <pre data-language="elixir"># sample.eex
foo &lt;%= bar %&gt;

# iex
EEx.eval_file("sample.eex", bar: "baz")
#=&gt; "foo baz"</pre> </section> </section> <section class="detail">   <h3 class="detail-header" id="eval_string/3">eval_string(source, bindings \\ [], options \\ [])</h3> <section class="docstring"> <h4>Specs</h4> <div class="specs"> <pre data-language="elixir">eval_string(String.t(), keyword(), keyword()) :: any()</pre> </div> <p>Gets a string <code class="inline">source</code> and evaluate the values using the <code class="inline">bindings</code>.</p>
<h4 id="eval_string/3-examples" class="section-heading">  Examples </h4> <pre data-language="elixir">iex&gt; EEx.eval_string("foo &lt;%= bar %&gt;", bar: "baz")
"foo baz"</pre> </section> </section> <section class="detail">   <h3 class="detail-header" id="function_from_file/5">function_from_file(kind, name, file, args \\ [], options \\ [])</h3> <section class="docstring"> <p>Generates a function definition from the file contents.</p>
<p>The kind (<code class="inline">:def</code> or <code class="inline">:defp</code>) must be given, the function name, its arguments and the compilation options.</p>
<p>This function is useful in case you have templates but you want to precompile inside a module for speed.</p>
<h4 id="function_from_file/5-examples" class="section-heading">  Examples </h4> <pre data-language="elixir"># sample.eex
&lt;%= a + b %&gt;

# sample.ex
defmodule Sample do
  require EEx
  EEx.function_from_file(:def, :sample, "sample.eex", [:a, :b])
end

# iex
Sample.sample(1, 2)
#=&gt; "3"</pre> </section> </section> <section class="detail">   <h3 class="detail-header" id="function_from_string/5">function_from_string(kind, name, source, args \\ [], options \\ [])</h3> <section class="docstring"> <p>Generates a function definition from the string.</p>
<p>The kind (<code class="inline">:def</code> or <code class="inline">:defp</code>) must be given, the function name, its arguments and the compilation options.</p>
<h4 id="function_from_string/5-examples" class="section-heading">  Examples </h4> <pre data-language="elixir">iex&gt; defmodule Sample do
...&gt;   require EEx
...&gt;   EEx.function_from_string(:def, :sample, "&lt;%= a + b %&gt;", [:a, :b])
...&gt; end
iex&gt; Sample.sample(1, 2)
"3"</pre> </section> </section> </div> </section><div class="_attribution">
  <p class="_attribution-p">
    © 2012 Plataformatec<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://hexdocs.pm/eex/1.11.2/EEx.html" class="_attribution-link">https://hexdocs.pm/eex/1.11.2/EEx.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
