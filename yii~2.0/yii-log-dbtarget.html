
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>log&#92;DbTarget - Yii 2.0 - W3cubDocs</title>
  
  <meta name="description" content=" DbTarget stores log messages in a database table. ">
  <meta name="keywords" content="class, yii, log, dbtarget, yii~2.0">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/yii~2.0/yii-log-dbtarget.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/yii~2.0.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/yii~2.0/" class="_nav-link" title="" style="margin-left:0;">Yii 2.0</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _yii">
				
				
<h1>Class yii\log\DbTarget</h1> <div class="top-nav"> <a href="index">All Classes</a> | <a href="#properties">Properties</a> | <a href="#methods">Methods</a> </div> <table> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr>
<th>Inheritance</th>
<td>
<a href="yii-log-dbtarget">yii\log\DbTarget</a> » <a href="yii-log-target">yii\log\Target</a> » <a href="yii-base-component">yii\base\Component</a> » <a href="yii-base-object">yii\base\Object</a>
</td>
</tr> <tr>
<th>Implements</th>
<td><a href="yii-base-configurable">yii\base\Configurable</a></td>
</tr> <tr>
<th>Available since version</th>
<td>2.0</td>
</tr> <tr> <th>Source Code</th> <td><a href="https://github.com/yiisoft/yii2/blob/master/framework/log/DbTarget.php">https://github.com/yiisoft/yii2/blob/master/framework/log/DbTarget.php</a></td> </tr> </table>  <p><strong>DbTarget stores log messages in a database table.</strong></p> <p>The database connection is specified by <a href="yii-log-dbtarget#%24db-detail">$db</a>. Database schema could be initialized by applying migration:</p> <pre data-language="php">yii migrate --migrationPath=@yii/log/migrations/
</pre> <p>If you don't want to use migration and need SQL instead, files for all databases are in migrations directory.</p> <p>You may change the name of the table used to store the data by setting <a href="yii-log-dbtarget#%24logTable-detail">$logTable</a>.</p>    <h2 id="properties">Public Properties</h2>  <table> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="$behaviors"> <td><a href="yii-base-component#%24behaviors-detail">$behaviors</a></td> <td>
<a href="yii-base-behavior">yii\base\Behavior</a>[]</td> <td>List of behaviors attached to this component</td> <td><a href="yii-base-component">yii\base\Component</a></td> </tr> <tr id="$categories"> <td><a href="yii-log-target#%24categories-detail">$categories</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>List of message categories that this target is interested in.</td> <td><a href="yii-log-target">yii\log\Target</a></td> </tr> <tr id="$db"> <td><a href="yii-log-dbtarget#%24db-detail">$db</a></td> <td>
<a href="yii-db-connection">yii\db\Connection</a>|<a href="http://www.php.net/language.types.array">array</a>|<a href="http://www.php.net/language.types.string">string</a>
</td> <td>The DB connection object or the application component ID of the DB connection.</td> <td><a href="yii-log-dbtarget">yii\log\DbTarget</a></td> </tr> <tr id="$enabled"> <td><a href="yii-log-target#%24enabled-detail">$enabled</a></td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>Whether to enable this log target.</td> <td><a href="yii-log-target">yii\log\Target</a></td> </tr> <tr id="$except"> <td><a href="yii-log-target#%24except-detail">$except</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>List of message categories that this target is NOT interested in.</td> <td><a href="yii-log-target">yii\log\Target</a></td> </tr> <tr id="$exportInterval"> <td><a href="yii-log-target#%24exportInterval-detail">$exportInterval</a></td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>How many messages should be accumulated before they are exported.</td> <td><a href="yii-log-target">yii\log\Target</a></td> </tr> <tr id="$levels"> <td><a href="yii-log-target#%24levels-detail">$levels</a></td> <td><a href="http://www.php.net/language.types.integer">integer</a></td> <td>The message levels that this target is interested in.</td> <td><a href="yii-log-target">yii\log\Target</a></td> </tr> <tr id="$logTable"> <td><a href="yii-log-dbtarget#%24logTable-detail">$logTable</a></td> <td><a href="http://www.php.net/language.types.string">string</a></td> <td>Name of the DB table to store cache content.</td> <td><a href="yii-log-dbtarget">yii\log\DbTarget</a></td> </tr> <tr id="$logVars"> <td><a href="yii-log-target#%24logVars-detail">$logVars</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>List of the PHP predefined variables that should be logged in a message.</td> <td><a href="yii-log-target">yii\log\Target</a></td> </tr> <tr id="$messages"> <td><a href="yii-log-target#%24messages-detail">$messages</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>The messages that are retrieved from the logger so far by this log target.</td> <td><a href="yii-log-target">yii\log\Target</a></td> </tr> <tr id="$prefix"> <td><a href="yii-log-target#%24prefix-detail">$prefix</a></td> <td><a href="http://www.php.net/language.types.callable">callable</a></td> <td>A PHP callable that returns a string to be prefixed to every exported message.</td> <td><a href="yii-log-target">yii\log\Target</a></td> </tr> </table>    <h2 id="methods">Public Methods</h2>  <table> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="__call()"> <td><a href="yii-base-object#__call()-detail">__call()</a></td> <td>Calls the named method which is not a class method.</td> <td><a href="yii-base-object">yii\base\Object</a></td> </tr> <tr id="__clone()"> <td><a href="yii-base-component#__clone()-detail">__clone()</a></td> <td>This method is called after the object is created by cloning an existing one.</td> <td><a href="yii-base-component">yii\base\Component</a></td> </tr> <tr id="__construct()"> <td><a href="yii-base-object#__construct()-detail">__construct()</a></td> <td>Constructor.</td> <td><a href="yii-base-object">yii\base\Object</a></td> </tr> <tr id="__get()"> <td><a href="yii-base-object#__get()-detail">__get()</a></td> <td>Returns the value of an object property.</td> <td><a href="yii-base-object">yii\base\Object</a></td> </tr> <tr id="__isset()"> <td><a href="yii-base-object#__isset()-detail">__isset()</a></td> <td>Checks if a property is set, i.e. defined and not null.</td> <td><a href="yii-base-object">yii\base\Object</a></td> </tr> <tr id="__set()"> <td><a href="yii-base-object#__set()-detail">__set()</a></td> <td>Sets value of an object property.</td> <td><a href="yii-base-object">yii\base\Object</a></td> </tr> <tr id="__unset()"> <td><a href="yii-base-object#__unset()-detail">__unset()</a></td> <td>Sets an object property to null.</td> <td><a href="yii-base-object">yii\base\Object</a></td> </tr> <tr id="attachBehavior()"> <td><a href="yii-base-component#attachBehavior()-detail">attachBehavior()</a></td> <td>Attaches a behavior to this component.</td> <td><a href="yii-base-component">yii\base\Component</a></td> </tr> <tr id="attachBehaviors()"> <td><a href="yii-base-component#attachBehaviors()-detail">attachBehaviors()</a></td> <td>Attaches a list of behaviors to the component.</td> <td><a href="yii-base-component">yii\base\Component</a></td> </tr> <tr id="behaviors()"> <td><a href="yii-base-component#behaviors()-detail">behaviors()</a></td> <td>Returns a list of behaviors that this component should behave as.</td> <td><a href="yii-base-component">yii\base\Component</a></td> </tr> <tr id="canGetProperty()"> <td><a href="yii-base-object#canGetProperty()-detail">canGetProperty()</a></td> <td>Returns a value indicating whether a property can be read.</td> <td><a href="yii-base-object">yii\base\Object</a></td> </tr> <tr id="canSetProperty()"> <td><a href="yii-base-object#canSetProperty()-detail">canSetProperty()</a></td> <td>Returns a value indicating whether a property can be set.</td> <td><a href="yii-base-object">yii\base\Object</a></td> </tr> <tr id="className()"> <td><a href="yii-base-object#className()-detail">className()</a></td> <td>Returns the fully qualified name of this class.</td> <td><a href="yii-base-object">yii\base\Object</a></td> </tr> <tr id="collect()"> <td><a href="yii-log-target#collect()-detail">collect()</a></td> <td>Processes the given log messages.</td> <td><a href="yii-log-target">yii\log\Target</a></td> </tr> <tr id="detachBehavior()"> <td><a href="yii-base-component#detachBehavior()-detail">detachBehavior()</a></td> <td>Detaches a behavior from the component.</td> <td><a href="yii-base-component">yii\base\Component</a></td> </tr> <tr id="detachBehaviors()"> <td><a href="yii-base-component#detachBehaviors()-detail">detachBehaviors()</a></td> <td>Detaches all behaviors from the component.</td> <td><a href="yii-base-component">yii\base\Component</a></td> </tr> <tr id="ensureBehaviors()"> <td><a href="yii-base-component#ensureBehaviors()-detail">ensureBehaviors()</a></td> <td>Makes sure that the behaviors declared in <a href="yii-base-component#behaviors()-detail">behaviors()</a> are attached to this component.</td> <td><a href="yii-base-component">yii\base\Component</a></td> </tr> <tr id="export()"> <td><a href="yii-log-dbtarget#export()-detail">export()</a></td> <td>Stores log messages to DB.</td> <td><a href="yii-log-dbtarget">yii\log\DbTarget</a></td> </tr> <tr id="filterMessages()"> <td><a href="yii-log-target#filterMessages()-detail">filterMessages()</a></td> <td>Filters the given messages according to their categories and levels.</td> <td><a href="yii-log-target">yii\log\Target</a></td> </tr> <tr id="formatMessage()"> <td><a href="yii-log-target#formatMessage()-detail">formatMessage()</a></td> <td>Formats a log message for display as a string.</td> <td><a href="yii-log-target">yii\log\Target</a></td> </tr> <tr id="getBehavior()"> <td><a href="yii-base-component#getBehavior()-detail">getBehavior()</a></td> <td>Returns the named behavior object.</td> <td><a href="yii-base-component">yii\base\Component</a></td> </tr> <tr id="getBehaviors()"> <td><a href="yii-base-component#getBehaviors()-detail">getBehaviors()</a></td> <td>Returns all behaviors attached to this component.</td> <td><a href="yii-base-component">yii\base\Component</a></td> </tr> <tr id="getLevels()"> <td><a href="yii-log-target#getLevels()-detail">getLevels()</a></td> <td></td> <td><a href="yii-log-target">yii\log\Target</a></td> </tr> <tr id="getMessagePrefix()"> <td><a href="yii-log-target#getMessagePrefix()-detail">getMessagePrefix()</a></td> <td>Returns a string to be prefixed to the given message.</td> <td><a href="yii-log-target">yii\log\Target</a></td> </tr> <tr id="hasEventHandlers()"> <td><a href="yii-base-component#hasEventHandlers()-detail">hasEventHandlers()</a></td> <td>Returns a value indicating whether there is any handler attached to the named event.</td> <td><a href="yii-base-component">yii\base\Component</a></td> </tr> <tr id="hasMethod()"> <td><a href="yii-base-object#hasMethod()-detail">hasMethod()</a></td> <td>Returns a value indicating whether a method is defined.</td> <td><a href="yii-base-object">yii\base\Object</a></td> </tr> <tr id="hasProperty()"> <td><a href="yii-base-object#hasProperty()-detail">hasProperty()</a></td> <td>Returns a value indicating whether a property is defined.</td> <td><a href="yii-base-object">yii\base\Object</a></td> </tr> <tr id="init()"> <td><a href="yii-log-dbtarget#init()-detail">init()</a></td> <td>Initializes the DbTarget component.</td> <td><a href="yii-log-dbtarget">yii\log\DbTarget</a></td> </tr> <tr id="off()"> <td><a href="yii-base-component#off()-detail">off()</a></td> <td>Detaches an existing event handler from this component.</td> <td><a href="yii-base-component">yii\base\Component</a></td> </tr> <tr id="on()"> <td><a href="yii-base-component#on()-detail">on()</a></td> <td>Attaches an event handler to an event.</td> <td><a href="yii-base-component">yii\base\Component</a></td> </tr> <tr id="setLevels()"> <td><a href="yii-log-target#setLevels()-detail">setLevels()</a></td> <td>Sets the message levels that this target is interested in.</td> <td><a href="yii-log-target">yii\log\Target</a></td> </tr> <tr id="trigger()"> <td><a href="yii-base-component#trigger()-detail">trigger()</a></td> <td>Triggers an event.</td> <td><a href="yii-base-component">yii\base\Component</a></td> </tr> </table>   <h2>Protected Methods</h2>  <table> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="getContextMessage()"> <td><a href="yii-log-target#getContextMessage()-detail">getContextMessage()</a></td> <td>Generates the context information to be logged.</td> <td><a href="yii-log-target">yii\log\Target</a></td> </tr> </table>    <h2 id="constants">Property Details</h2>  <h3 id="$db-detail"> $db <span class="detail-header-tag small"> public property </span> </h3>  <p>The DB connection object or the application component ID of the DB connection. After the DbTarget object is created, if you want to change this property, you should only assign it with a DB connection object. Starting from version 2.0.2, this can also be a configuration array for creating the object.</p>  <pre><span class="signature-defs">public</span> <span class="signature-type"><a href="yii-db-connection">yii\db\Connection</a>|<a href="http://www.php.net/language.types.array">array</a>|<a href="http://www.php.net/language.types.string">string</a></span> <a href="yii-log-dbtarget#%24db-detail">$db</a> = 'db'</pre> <h3 id="$logTable-detail"> $logTable <span class="detail-header-tag small"> public property </span> </h3>  <p>Name of the DB table to store cache content. Defaults to "log".</p>  <pre><span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.string">string</a></span> <a href="yii-log-dbtarget#%24logTable-detail">$logTable</a> = '{{%log}}'</pre>  <h2>Method Details</h2> <div class="method-doc"> <h3 id="export()-detail"> export() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Stores log messages to DB.</strong></p>  <table> <tr><th colspan="3">public void <strong><a href="yii-log-dbtarget#export()-detail">export</a></strong> ( )</th></tr> </table>  <h3 id="init()-detail"> init() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Initializes the DbTarget component.</strong></p> <p>This method will initialize the <a href="yii-log-dbtarget#%24db-detail">$db</a> property to make sure it refers to a valid DB connection.</p>  <table> <tr><th colspan="3">public void <strong><a href="yii-log-dbtarget#init()-detail">init</a></strong> ( )</th></tr> <tr> <td>throws</td> <td><a href="yii-base-invalidconfigexception">yii\base\InvalidConfigException</a></td> <td>
<p>if <a href="yii-log-dbtarget#%24db-detail">$db</a> is invalid.</p> </td> </tr> </table>  </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2008–2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc-2.0/yii-log-dbtarget.html" class="_attribution-link">http://www.yiiframework.com/doc-2.0/yii-log-dbtarget.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
