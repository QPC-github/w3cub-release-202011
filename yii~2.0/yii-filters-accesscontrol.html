
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>filters&#92;AccessControl - Yii 2.0 - W3cubDocs</title>
  
  <meta name="description" content=" AccessControl provides simple access control based on a set of rules. ">
  <meta name="keywords" content="class, yii, filters, accesscontrol, yii~2.0">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/yii~2.0/yii-filters-accesscontrol.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/yii~2.0.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/yii~2.0/" class="_nav-link" title="" style="margin-left:0;">Yii 2.0</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _yii">
				
				
<h1>Class yii\filters\AccessControl</h1> <div class="top-nav"> <a href="index">All Classes</a> | <a href="#properties">Properties</a> | <a href="#methods">Methods</a> </div> <table> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr>
<th>Inheritance</th>
<td>
<a href="yii-filters-accesscontrol">yii\filters\AccessControl</a> » <a href="yii-base-actionfilter">yii\base\ActionFilter</a> » <a href="yii-base-behavior">yii\base\Behavior</a> » <a href="yii-base-object">yii\base\Object</a>
</td>
</tr> <tr>
<th>Implements</th>
<td><a href="yii-base-configurable">yii\base\Configurable</a></td>
</tr> <tr>
<th>Available since version</th>
<td>2.0</td>
</tr> <tr> <th>Source Code</th> <td><a href="https://github.com/yiisoft/yii2/blob/master/framework/filters/AccessControl.php">https://github.com/yiisoft/yii2/blob/master/framework/filters/AccessControl.php</a></td> </tr> </table>  <p><strong>AccessControl provides simple access control based on a set of rules.</strong></p> <p>AccessControl is an action filter. It will check its <a href="yii-filters-accesscontrol#%24rules-detail">$rules</a> to find the first rule that matches the current context variables (such as user IP address, user role). The matching rule will dictate whether to allow or deny the access to the requested controller action. If no rule matches, the access will be denied.</p> <p>To use AccessControl, declare it in the <code>behaviors()</code> method of your controller class. For example, the following declarations will allow authenticated users to access the "create" and "update" actions and deny all other users from accessing these two actions.</p> <pre data-language="php">public function behaviors()
{
    return [
        'access' =&gt; [
            'class' =&gt; \yii\filters\AccessControl::className(),
            'only' =&gt; ['create', 'update'],
            'rules' =&gt; [
                // deny all POST requests
                [
                    'allow' =&gt; false,
                    'verbs' =&gt; ['POST']
                ],
                // allow authenticated users
                [
                    'allow' =&gt; true,
                    'roles' =&gt; ['@'],
                ],
                // everything else is denied
            ],
        ],
    ];
}
</pre>    <h2 id="properties">Public Properties</h2>  <table> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="$denyCallback"> <td><a href="yii-filters-accesscontrol#%24denyCallback-detail">$denyCallback</a></td> <td><a href="http://www.php.net/language.types.callable">callable</a></td> <td>A callback that will be called if the access should be denied to the current user.</td> <td><a href="yii-filters-accesscontrol">yii\filters\AccessControl</a></td> </tr> <tr id="$except"> <td><a href="yii-base-actionfilter#%24except-detail">$except</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>List of action IDs that this filter should not apply to.</td> <td><a href="yii-base-actionfilter">yii\base\ActionFilter</a></td> </tr> <tr id="$only"> <td><a href="yii-base-actionfilter#%24only-detail">$only</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>List of action IDs that this filter should apply to.</td> <td><a href="yii-base-actionfilter">yii\base\ActionFilter</a></td> </tr> <tr id="$owner"> <td><a href="yii-base-behavior#%24owner-detail">$owner</a></td> <td>
<a href="yii-base-component">yii\base\Component</a>|<a href="http://www.php.net/language.types.null">null</a>
</td> <td>The owner of this behavior</td> <td><a href="yii-base-behavior">yii\base\Behavior</a></td> </tr> <tr id="$ruleConfig"> <td><a href="yii-filters-accesscontrol#%24ruleConfig-detail">$ruleConfig</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>The default configuration of access rules.</td> <td><a href="yii-filters-accesscontrol">yii\filters\AccessControl</a></td> </tr> <tr id="$rules"> <td><a href="yii-filters-accesscontrol#%24rules-detail">$rules</a></td> <td><a href="http://www.php.net/language.types.array">array</a></td> <td>A list of access rule objects or configuration arrays for creating the rule objects.</td> <td><a href="yii-filters-accesscontrol">yii\filters\AccessControl</a></td> </tr> <tr id="$user"> <td><a href="yii-filters-accesscontrol#%24user-detail">$user</a></td> <td>
<a href="yii-web-user">yii\web\User</a>|<a href="http://www.php.net/language.types.array">array</a>|<a href="http://www.php.net/language.types.string">string</a>|<a href="http://www.php.net/language.types.boolean">false</a>
</td> <td>The user object representing the authentication status or the ID of the user application component.</td> <td><a href="yii-filters-accesscontrol">yii\filters\AccessControl</a></td> </tr> </table>    <h2 id="methods">Public Methods</h2>  <table> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="__call()"> <td><a href="yii-base-object#__call()-detail">__call()</a></td> <td>Calls the named method which is not a class method.</td> <td><a href="yii-base-object">yii\base\Object</a></td> </tr> <tr id="__construct()"> <td><a href="yii-base-object#__construct()-detail">__construct()</a></td> <td>Constructor.</td> <td><a href="yii-base-object">yii\base\Object</a></td> </tr> <tr id="__get()"> <td><a href="yii-base-object#__get()-detail">__get()</a></td> <td>Returns the value of an object property.</td> <td><a href="yii-base-object">yii\base\Object</a></td> </tr> <tr id="__isset()"> <td><a href="yii-base-object#__isset()-detail">__isset()</a></td> <td>Checks if a property is set, i.e. defined and not null.</td> <td><a href="yii-base-object">yii\base\Object</a></td> </tr> <tr id="__set()"> <td><a href="yii-base-object#__set()-detail">__set()</a></td> <td>Sets value of an object property.</td> <td><a href="yii-base-object">yii\base\Object</a></td> </tr> <tr id="__unset()"> <td><a href="yii-base-object#__unset()-detail">__unset()</a></td> <td>Sets an object property to null.</td> <td><a href="yii-base-object">yii\base\Object</a></td> </tr> <tr id="afterAction()"> <td><a href="yii-base-actionfilter#afterAction()-detail">afterAction()</a></td> <td>This method is invoked right after an action is executed.</td> <td><a href="yii-base-actionfilter">yii\base\ActionFilter</a></td> </tr> <tr id="afterFilter()"> <td><a href="yii-base-actionfilter#afterFilter()-detail">afterFilter()</a></td> <td></td> <td><a href="yii-base-actionfilter">yii\base\ActionFilter</a></td> </tr> <tr id="attach()"> <td><a href="yii-base-behavior#attach()-detail">attach()</a></td> <td>Attaches the behavior object to the component.</td> <td><a href="yii-base-behavior">yii\base\Behavior</a></td> </tr> <tr id="beforeAction()"> <td><a href="yii-filters-accesscontrol#beforeAction()-detail">beforeAction()</a></td> <td>This method is invoked right before an action is to be executed (after all possible filters.) You may override this method to do last-minute preparation for the action.</td> <td><a href="yii-filters-accesscontrol">yii\filters\AccessControl</a></td> </tr> <tr id="beforeFilter()"> <td><a href="yii-base-actionfilter#beforeFilter()-detail">beforeFilter()</a></td> <td></td> <td><a href="yii-base-actionfilter">yii\base\ActionFilter</a></td> </tr> <tr id="canGetProperty()"> <td><a href="yii-base-object#canGetProperty()-detail">canGetProperty()</a></td> <td>Returns a value indicating whether a property can be read.</td> <td><a href="yii-base-object">yii\base\Object</a></td> </tr> <tr id="canSetProperty()"> <td><a href="yii-base-object#canSetProperty()-detail">canSetProperty()</a></td> <td>Returns a value indicating whether a property can be set.</td> <td><a href="yii-base-object">yii\base\Object</a></td> </tr> <tr id="className()"> <td><a href="yii-base-object#className()-detail">className()</a></td> <td>Returns the fully qualified name of this class.</td> <td><a href="yii-base-object">yii\base\Object</a></td> </tr> <tr id="detach()"> <td><a href="yii-base-behavior#detach()-detail">detach()</a></td> <td>Detaches the behavior object from the component.</td> <td><a href="yii-base-behavior">yii\base\Behavior</a></td> </tr> <tr id="events()"> <td><a href="yii-base-behavior#events()-detail">events()</a></td> <td>Declares event handlers for the <a href="yii-base-behavior#%24owner-detail">$owner</a>'s events.</td> <td><a href="yii-base-behavior">yii\base\Behavior</a></td> </tr> <tr id="hasMethod()"> <td><a href="yii-base-object#hasMethod()-detail">hasMethod()</a></td> <td>Returns a value indicating whether a method is defined.</td> <td><a href="yii-base-object">yii\base\Object</a></td> </tr> <tr id="hasProperty()"> <td><a href="yii-base-object#hasProperty()-detail">hasProperty()</a></td> <td>Returns a value indicating whether a property is defined.</td> <td><a href="yii-base-object">yii\base\Object</a></td> </tr> <tr id="init()"> <td><a href="yii-filters-accesscontrol#init()-detail">init()</a></td> <td>Initializes the <a href="yii-filters-accesscontrol#%24rules-detail">$rules</a> array by instantiating rule objects from configurations.</td> <td><a href="yii-filters-accesscontrol">yii\filters\AccessControl</a></td> </tr> </table>   <h2>Protected Methods</h2>  <table> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="denyAccess()"> <td><a href="yii-filters-accesscontrol#denyAccess()-detail">denyAccess()</a></td> <td>Denies the access of the user.</td> <td><a href="yii-filters-accesscontrol">yii\filters\AccessControl</a></td> </tr> <tr id="getActionId()"> <td><a href="yii-base-actionfilter#getActionId()-detail">getActionId()</a></td> <td>Returns an action ID by converting <a href="yii-base-action#%24uniqueId-detail">yii\base\Action::$uniqueId</a> into an ID relative to the module</td> <td><a href="yii-base-actionfilter">yii\base\ActionFilter</a></td> </tr> <tr id="isActive()"> <td><a href="yii-base-actionfilter#isActive()-detail">isActive()</a></td> <td>Returns a value indicating whether the filter is active for the given action.</td> <td><a href="yii-base-actionfilter">yii\base\ActionFilter</a></td> </tr> </table>    <h2 id="constants">Property Details</h2>  <h3 id="$denyCallback-detail"> $denyCallback <span class="detail-header-tag small"> public property </span> </h3>  <p>A callback that will be called if the access should be denied to the current user. If not set, <a href="yii-filters-accesscontrol#denyAccess()-detail">denyAccess()</a> will be called.</p> <p>The signature of the callback should be as follows:</p> <pre data-language="php">function ($rule, $action)
</pre> <p>where <code>$rule</code> is the rule that denies the user, and <code>$action</code> is the current <a href="yii-base-action">action</a> object. <code>$rule</code> can be <code>null</code> if access is denied because none of the rules matched.</p>  <pre><span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.callable">callable</a></span> <a href="yii-filters-accesscontrol#%24denyCallback-detail">$denyCallback</a> = null</pre> <h3 id="$ruleConfig-detail"> $ruleConfig <span class="detail-header-tag small"> public property </span> </h3>  <p>The default configuration of access rules. Individual rule configurations specified via <a href="yii-filters-accesscontrol#%24rules-detail">$rules</a> will take precedence when the same property of the rule is configured.</p>  <pre><span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.array">array</a></span> <a href="yii-filters-accesscontrol#%24ruleConfig-detail">$ruleConfig</a> = ['class' =&gt; 'yii\filters\AccessRule']</pre> <h3 id="$rules-detail"> $rules <span class="detail-header-tag small"> public property </span> </h3>  <p>A list of access rule objects or configuration arrays for creating the rule objects. If a rule is specified via a configuration array, it will be merged with <a href="yii-filters-accesscontrol#%24ruleConfig-detail">$ruleConfig</a> first before it is used for creating the rule object.</p> <p>See also <a href="yii-filters-accesscontrol#%24ruleConfig-detail">$ruleConfig</a>.</p>  <pre><span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.array">array</a></span> <a href="yii-filters-accesscontrol#%24rules-detail">$rules</a> = []</pre> <h3 id="$user-detail"> $user <span class="detail-header-tag small"> public property </span> </h3>  <p>The user object representing the authentication status or the ID of the user application component. Starting from version 2.0.2, this can also be a configuration array for creating the object. Starting from version 2.0.12, you can set it to <code>false</code> to explicitly switch this component support off for the filter.</p>  <pre><span class="signature-defs">public</span> <span class="signature-type"><a href="yii-web-user">yii\web\User</a>|<a href="http://www.php.net/language.types.array">array</a>|<a href="http://www.php.net/language.types.string">string</a>|<a href="http://www.php.net/language.types.boolean">false</a></span> <a href="yii-filters-accesscontrol#%24user-detail">$user</a> = 'user'</pre>  <h2>Method Details</h2> <div class="method-doc"> <h3 id="beforeAction()-detail"> beforeAction() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>This method is invoked right before an action is to be executed (after all possible filters.) You may override this method to do last-minute preparation for the action.</strong></p>  <table> <tr><th colspan="3">public <a href="http://www.php.net/language.types.boolean">boolean</a> <strong><a href="yii-filters-accesscontrol#beforeAction()-detail">beforeAction</a></strong> ( $action )</th></tr> <tr> <td>$action</td> <td><a href="yii-base-action">yii\base\Action</a></td> <td>
<p>The action to be executed.</p> </td> </tr> <tr> <td>return</td> <td><a href="http://www.php.net/language.types.boolean">boolean</a></td> <td>
<p>Whether the action should continue to be executed.</p> </td> </tr> </table>  <h3 id="denyAccess()-detail"> denyAccess() <span class="detail-header-tag small"> protected method </span> </h3>  <p><strong>Denies the access of the user.</strong></p> <p>The default implementation will redirect the user to the login page if he is a guest; if the user is already logged, a 403 HTTP exception will be thrown.</p>  <table> <tr><th colspan="3">protected void <strong><a href="yii-filters-accesscontrol#denyAccess()-detail">denyAccess</a></strong> ( $user )</th></tr> <tr> <td>$user</td> <td>
<a href="yii-web-user">yii\web\User</a>|<a href="http://www.php.net/language.types.boolean">false</a>
</td> <td>
<p>The current user or boolean <code>false</code> in case of detached User component</p> </td> </tr> <tr> <td>throws</td> <td><a href="yii-web-forbiddenhttpexception">yii\web\ForbiddenHttpException</a></td> <td>
<p>if the user is already logged in or in case of detached User component.</p> </td> </tr> </table>  <h3 id="init()-detail"> init() <span class="detail-header-tag small"> public method </span> </h3>  <p><strong>Initializes the <a href="yii-filters-accesscontrol#%24rules-detail">$rules</a> array by instantiating rule objects from configurations.</strong></p>  <table> <tr><th colspan="3">public void <strong><a href="yii-filters-accesscontrol#init()-detail">init</a></strong> ( )</th></tr> </table>  </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2008–2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc-2.0/yii-filters-accesscontrol.html" class="_attribution-link">http://www.yiiframework.com/doc-2.0/yii-filters-accesscontrol.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
