
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Minitest - Ruby &#47; Minitest - W3cubDocs</title>
  
  <meta name="description" content=" github.com&#47;seattlerb&#47;minitest ">
  <meta name="keywords" content="module, minitest, {test, spec, mock, benchmark}, ruby">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/minitest/minitest.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/minitest.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/minitest/" class="_nav-link" title="" style="margin-left:0;">Ruby / Minitest</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _rdoc">
				
				
<h1 id="module-Minitest" class="module"> module Minitest </h1> <section class="description"> <h1 id="module-Minitest-label-minitest-2F-7Btest-2Cspec-2Cmock-2Cbenchmark-7D">minitest/{test,spec,mock,benchmark}</h1> <dl class="rdoc-list note-list">
<dt>home </dt>
<dd> <p><a href="https://github.com/seattlerb/minitest">github.com/seattlerb/minitest</a></p> </dd>
<dt>bugs </dt>
<dd> <p><a href="https://github.com/seattlerb/minitest/issues">github.com/seattlerb/minitest/issues</a></p> </dd>
<dt>rdoc </dt>
<dd> <p><a href="http://docs.seattlerb.org/minitest">docs.seattlerb.org/minitest</a></p> </dd>
<dt>vim </dt>
<dd> <p><a href="https://github.com/sunaku/vim-ruby-minitest">github.com/sunaku/vim-ruby-minitest</a></p> </dd>
<dt>emacs </dt>
<dd> <p><a href="https://github.com/arthurnn/minitest-emacs">github.com/arthurnn/minitest-emacs</a></p> </dd>
</dl> <h2 id="module-Minitest-label-DESCRIPTION-3A">DESCRIPTION:</h2> <p>minitest provides a complete suite of testing facilities supporting TDD, BDD, mocking, and benchmarking.</p> <pre>"I had a class with Jim Weirich on testing last week and we were
 allowed to choose our testing frameworks. Kirk Haines and I were
 paired up and we cracked open the code for a few test
 frameworks...

 I MUST say that minitest is *very* readable / understandable
 compared to the 'other two' options we looked at. Nicely done and
 thank you for helping us keep our mental sanity."

-- Wayne E. Seguin</pre> <p>minitest/test is a small and incredibly fast unit testing framework. It provides a rich set of assertions to make your tests clean and readable.</p> <p>minitest/spec is a functionally complete spec engine. It hooks onto minitest/test and seamlessly bridges test assertions over to spec expectations.</p> <p>minitest/benchmark is an awesome way to assert the performance of your algorithms in a repeatable manner. Now you can assert that your newb co-worker doesn't replace your linear algorithm with an exponential one!</p> <p>minitest/mock by Steven Baker, is a beautifully tiny mock (and stub) object framework.</p> <p>minitest/pride shows pride in testing and adds coloring to your test output. I guess it is an example of how to write IO pipes too. :P</p> <p>minitest/test is meant to have a clean implementation for language implementors that need a minimal set of methods to bootstrap a working test suite. For example, there is no magic involved for test-case discovery.</p> <pre>"Again, I can't praise enough the idea of a testing/specing
 framework that I can actually read in full in one sitting!"

-- Piotr Szotkowski</pre> <p>Comparing to rspec:</p> <pre>rspec is a testing DSL. minitest is ruby.

-- Adam Hawkins, "Bow Before MiniTest"</pre> <p>minitest doesn't reinvent anything that ruby already provides, like: classes, modules, inheritance, methods. This means you only have to learn ruby to use minitest and all of your regular OO practices like extract-method refactorings still apply.</p> <h2 id="module-Minitest-label-FEATURES-2FPROBLEMS-3A">FEATURES/PROBLEMS:</h2> <ul>
<li> <p>minitest/autorun - the easy and explicit way to run all your tests.</p> </li>
<li> <p>minitest/test - a very fast, simple, and clean test system.</p> </li>
<li> <p>minitest/spec - a very fast, simple, and clean spec system.</p> </li>
<li> <p>minitest/mock - a simple and clean mock/stub system.</p> </li>
<li> <p>minitest/benchmark - an awesome way to assert your algorithm's performance.</p> </li>
<li> <p>minitest/pride - show your pride in testing!</p> </li>
<li> <p>Incredibly small and fast runner, but no bells and whistles.</p> </li>
<li> <p>Written by squishy human beings. Software can never be perfect. We will all eventually die.</p> </li>
</ul> <h2 id="module-Minitest-label-RATIONALE-3A">RATIONALE:</h2> <p>See design_rationale.rb to see how specs and tests work in minitest.</p> <h2 id="module-Minitest-label-SYNOPSIS-3A">SYNOPSIS:</h2> <p>Given that you'd like to test the following class:</p> <pre class="ruby" data-language="ruby">class Meme
  def i_can_has_cheezburger?
    "OHAI!"
  end

  def will_it_blend?
    "YES!"
  end
end
</pre> <h3 id="module-Minitest-label-Unit+tests">Unit tests</h3> <p>Define your tests as methods beginning with <code>test_</code>.</p> <pre class="ruby" data-language="ruby">require "minitest/autorun"

class TestMeme &lt; Minitest::Test
  def setup
    @meme = Meme.new
  end

  def test_that_kitty_can_eat
    assert_equal "OHAI!", @meme.i_can_has_cheezburger?
  end

  def test_that_it_will_not_blend
    refute_match /^no/i, @meme.will_it_blend?
  end

  def test_that_will_be_skipped
    skip "test this later"
  end
end
</pre> <h3 id="module-Minitest-label-Specs">Specs</h3> <pre class="ruby" data-language="ruby">require "minitest/autorun"

describe Meme do
  before do
    @meme = Meme.new
  end

  describe "when asked about cheeseburgers" do
    it "must respond positively" do
      @meme.i_can_has_cheezburger?.must_equal "OHAI!"
    end
  end

  describe "when asked about blending possibilities" do
    it "won't say no" do
      @meme.will_it_blend?.wont_match /^no/i
    end
  end
end
</pre> <p>For matchers support check out:</p> <ul>
<li> <p><a href="https://github.com/wojtekmach/minitest-matchers">github.com/wojtekmach/minitest-matchers</a></p> </li>
<li> <p><a href="https://github.com/rmm5t/minitest-matchers_vaccine">github.com/rmm5t/minitest-matchers_vaccine</a></p> </li>
</ul> <h3 id="module-Minitest-label-Benchmarks">Benchmarks</h3> <p>Add benchmarks to your tests.</p> <pre class="ruby" data-language="ruby"># optionally run benchmarks, good for CI-only work!
require "minitest/benchmark" if ENV["BENCH"]

class TestMeme &lt; Minitest::Benchmark
  # Override self.bench_range or default range is [1, 10, 100, 1_000, 10_000]
  def bench_my_algorithm
    assert_performance_linear 0.9999 do |n| # n is a range value
      @obj.my_algorithm(n)
    end
  end
end
</pre> <p>Or add them to your specs. If you make benchmarks optional, you'll need to wrap your benchmarks in a conditional since the methods won't be defined. In minitest 5, the describe name needs to match <code>/Bench(mark)?$/</code>.</p> <pre class="ruby" data-language="ruby">describe "Meme Benchmark" do
  if ENV["BENCH"] then
    bench_performance_linear "my_algorithm", 0.9999 do |n|
      100.times do
        @obj.my_algorithm(n)
      end
    end
  end
end
</pre> <p>outputs something like:</p> <pre># Running benchmarks:

TestBlah    100     1000    10000
bench_my_algorithm   0.006167        0.079279        0.786993
bench_other_algorithm        0.061679        0.792797        7.869932</pre> <p>Output is tab-delimited to make it easy to paste into a spreadsheet.</p> <h3 id="module-Minitest-label-Mocks">Mocks</h3> <p>Mocks and stubs defined using terminology by Fowler &amp; Meszaros at <a href="http://www.martinfowler.com/bliki/TestDouble.html">www.martinfowler.com/bliki/TestDouble.html</a>:</p> <p>“Mocks are pre-programmed with expectations which form a specification of the calls they are expected to receive. They can throw an exception if they receive a call they don't expect and are checked during verification to ensure they got all the calls they were expecting.”</p> <pre class="ruby" data-language="ruby">class MemeAsker
  def initialize(meme)
    @meme = meme
  end

  def ask(question)
    method = question.tr(" ", "_") + "?"
    @meme.__send__(method)
  end
end

require "minitest/autorun"

describe MemeAsker, :ask do
  describe "when passed an unpunctuated question" do
    it "should invoke the appropriate predicate method on the meme" do
      @meme = Minitest::Mock.new
      @meme_asker = MemeAsker.new @meme
      @meme.expect :will_it_blend?, :return_value

      @meme_asker.ask "will it blend"

      @meme.verify
    end
  end
end
</pre> <p>**Multi-threading and Mocks**</p> <p>Minitest mocks do not support multi-threading if it works, fine, if it doesn't you can use regular ruby patterns and facilities like local variables. Here's an example of asserting that code inside a thread is run:</p> <pre class="ruby" data-language="ruby">def test_called_inside_thread
  called = false
  pr = Proc.new { called = true }
  thread = Thread.new(&amp;pr)
  thread.join
  assert called, "proc not called"
end
</pre> <h3 id="module-Minitest-label-Stubs">Stubs</h3> <p>Mocks and stubs are defined using terminology by Fowler &amp; Meszaros at <a href="http://www.martinfowler.com/bliki/TestDouble.html">www.martinfowler.com/bliki/TestDouble.html</a>:</p> <p>“Stubs provide canned answers to calls made during the test”.</p> <p>Minitest's stub method overrides a single method for the duration of the block.</p> <pre class="ruby" data-language="ruby">def test_stale_eh
  obj_under_test = Something.new

  refute obj_under_test.stale?

  Time.stub :now, Time.at(0) do   # stub goes away once the block is done
    assert obj_under_test.stale?
  end
end
</pre> <p>A note on stubbing: In order to stub a method, the method must actually exist prior to stubbing. Use a singleton method to create a new non-existing method:</p> <pre>def obj_under_test.fake_method
  ...
end</pre> <h3 id="module-Minitest-label-Running+Your+Tests">Running Your Tests</h3> <p>Ideally, you'll use a rake task to run your tests, either piecemeal or all at once. Both rake and rails ship with rake tasks for running your tests. BUT! You don't have to:</p> <pre>% ruby -Ilib:test test/minitest/test_minitest_test.rb
Run options: --seed 37685

# Running:

...................................................................... (etc)

Finished in 0.107130s, 1446.8403 runs/s, 2959.0217 assertions/s.

155 runs, 317 assertions, 0 failures, 0 errors, 0 skips</pre> <p>There are runtime options available, both from minitest itself, and also provided via plugins. To see them, simply run with <code>--help</code>:</p> <pre>% ruby -Ilib:test test/minitest/test_minitest_test.rb --help
minitest options:
    -h, --help                       Display this help.
    -s, --seed SEED                  Sets random seed. Also via env. Eg: SEED=n rake
    -v, --verbose                    Verbose. Show progress processing files.
    -n, --name PATTERN               Filter run on /regexp/ or string.
    -e, --exclude PATTERN            Exclude /regexp/ or string from run.

Known extensions: pride, autotest
    -p, --pride                      Pride. Show your testing pride!
    -a, --autotest                   Connect to autotest server.</pre> <h2 id="module-Minitest-label-Writing+Extensions">Writing Extensions</h2> <p>To define a plugin, add a file named minitest/XXX_plugin.rb to your project/gem. That file must be discoverable via ruby's LOAD_PATH (via rubygems or otherwise). Minitest will find and require that file using Gem.find_files. It will then try to call <code>plugin_XXX_init</code> during startup. The option processor will also try to call <code>plugin_XXX_options</code> passing the OptionParser instance and the current options hash. This lets you register your own command-line options. Here's a totally bogus example:</p> <pre class="ruby" data-language="ruby"># minitest/bogus_plugin.rb:

module Minitest
  def self.plugin_bogus_options(opts, options)
    opts.on "--myci", "Report results to my CI" do
      options[:myci] = true
      options[:myci_addr] = get_myci_addr
      options[:myci_port] = get_myci_port
    end
  end

  def self.plugin_bogus_init(options)
    self.reporter &lt;&lt; MyCI.new(options) if options[:myci]
  end
end
</pre> <h3 id="module-Minitest-label-Adding+custom+reporters">Adding custom reporters</h3> <p>Minitest uses composite reporter to output test results using multiple reporter instances. You can add new reporters to the composite during the init_plugins phase. As we saw in <code>plugin_bogus_init</code> above, you simply add your reporter instance to the composite via <code>&lt;&lt;</code>.</p> <p><code>AbstractReporter</code> defines the API for reporters. You may subclass it and override any method you want to achieve your desired behavior.</p> <dl class="rdoc-list note-list">
<dt>start </dt>
<dd> <p>Called when the run has started.</p> </dd>
<dt>record </dt>
<dd> <p>Called for each result, passed or otherwise.</p> </dd>
<dt>report </dt>
<dd> <p>Called at the end of the run.</p> </dd>
<dt>passed? </dt>
<dd> <p>Called to see if you detected any problems.</p> </dd>
</dl> <p>Using our example above, here is how we might implement MyCI:</p> <pre class="ruby" data-language="ruby"># minitest/bogus_plugin.rb

module Minitest
  class MyCI &lt; AbstractReporter
    attr_accessor :results, :addr, :port

    def initialize options
      self.results = []
      self.addr = options[:myci_addr]
      self.port = options[:myci_port]
    end

    def record result
      self.results &lt;&lt; result
    end

    def report
      CI.connect(addr, port).send_results self.results
    end
  end

  # code from above...
end
</pre> <h2 id="module-Minitest-label-FAQ">FAQ</h2> <h3 id="module-Minitest-label-How+to+test+SimpleDelegates-3F">How to test SimpleDelegates?</h3> <p>The following implementation and test:</p> <pre class="ruby" data-language="ruby">class Worker &lt; SimpleDelegator
  def work
  end
end

describe Worker do
  before do
    @worker = Worker.new(Object.new)
  end

  it "must respond to work" do
    @worker.must_respond_to :work
  end
end
</pre> <p>outputs a failure:</p> <pre>  1) Failure:
Worker#test_0001_must respond to work [bug11.rb:16]:
Expected #&lt;Object:0x007f9e7184f0a0&gt; (Object) to respond to #work.</pre> <p>Worker is a SimpleDelegate which in 1.9+ is a subclass of BasicObject. <a href="minitest/expectations">Expectations</a> are put on <a href="object">Object</a> (one level down) so the Worker (SimpleDelegate) hits <code>method_missing</code> and delegates down to the <code>Object.new</code> instance. That object doesn't respond to work so the test fails.</p> <p>You can bypass <code>SimpleDelegate#method_missing</code> by extending the worker with <code>Minitest::Expectations</code>. You can either do that in your setup at the instance level, like:</p> <pre class="ruby" data-language="ruby">before do
  @worker = Worker.new(Object.new)
  @worker.extend Minitest::Expectations
end
</pre> <p>or you can extend the Worker class (within the test file!), like:</p> <pre class="ruby" data-language="ruby">class Worker
  include ::Minitest::Expectations
end
</pre> <h3 id="module-Minitest-label-How+to+share+code+across+test+classes-3F">How to share code across test classes?</h3> <p>Use a module. That's exactly what they're for:</p> <pre class="ruby" data-language="ruby">module UsefulStuff
  def useful_method
    # ...
  end
end

describe Blah do
  include UsefulStuff

  def test_whatever
    # useful_method available here
  end
end
</pre> <p>Remember, <code>describe</code> simply creates test classes. It's just ruby at the end of the day and all your normal Good Ruby Rules (tm) apply. If you want to extend your test using setup/teardown via a module, just make sure you ALWAYS call super. before/after automatically call super for you, so make sure you don't do it twice.</p> <h3 id="module-Minitest-label-How+to+run+code+before+a+group+of+tests-3F">How to run code before a group of tests?</h3> <p>Use a constant with begin…end like this:</p> <pre class="ruby" data-language="ruby">describe Blah do
  SETUP = begin
     # ... this runs once when describe Blah starts
  end
  # ...
end
</pre> <p>This can be useful for expensive initializations or sharing state. Remember, this is just ruby code, so you need to make sure this technique and sharing state doesn't interfere with your tests.</p> <h3 id="module-Minitest-label-Why+am+I+seeing+uninitialized+constant+MiniTest-3A-3ATest+-28NameError-29-3F">Why am I seeing <code>uninitialized constant MiniTest::Test (NameError)</code>?</h3> <p>Are you running the test with Bundler (e.g. via <code>bundle exec</code> )? If so, in order to require minitest, you must first add the <code>gem
'minitest'</code> to your Gemfile and run <code>bundle</code>. Once it's installed, you should be able to require minitest and run your tests.</p> <h2 id="module-Minitest-label-Prominent+Projects+using+Minitest-3A">Prominent Projects using Minitest:</h2> <ul>
<li> <p>arel</p> </li>
<li> <p>journey</p> </li>
<li> <p>mime-types</p> </li>
<li> <p>nokogiri</p> </li>
<li> <p>rails (active_support et al)</p> </li>
<li> <p>rake</p> </li>
<li> <p>rdoc</p> </li>
<li> <p>…and of course, everything from seattle.rb…</p> </li>
</ul> <h2 id="module-Minitest-label-Developing+Minitest-3A">Developing Minitest:</h2> <h3 id="module-Minitest-label-Minitest-27s+own+tests+require+UTF-8+external+encoding.">Minitest's own tests require UTF-8 external encoding.</h3> <p>This is a common problem in Windows, where the default external Encoding is often CP850, but can affect any platform. Minitest can run test suites using any Encoding, but to run Minitest's own tests you must have a default external Encoding of UTF-8.</p> <p>If your encoding is wrong, you'll see errors like:</p> <pre>--- expected
+++ actual
@@ -1,2 +1,3 @@
 # encoding: UTF-8
 -"Expected /\\w+/ to not match \"blah blah blah\"."
 +"Expected /\\w+/ to not match # encoding: UTF-8
 +\"blah blah blah\"."</pre> <p>To check your current encoding, run:</p> <pre>ruby -e 'puts Encoding.default_external'</pre> <p>If your output is something other than UTF-8, you can set the RUBYOPTS env variable to a value of '-Eutf-8'. Something like:</p> <pre>RUBYOPT='-Eutf-8' ruby -e 'puts Encoding.default_external'</pre> <p>Check your OS/shell documentation for the precise syntax (the above will not work on a basic Windows CMD prompt, look for the SET command). Once you've got it successfully outputing UTF-8, use the same setting when running rake in Minitest.</p> <h3 id="module-Minitest-label-Minitest-27s+own+tests+require+GNU+-28or+similar-29+diff.">Minitest's own tests require GNU (or similar) diff.</h3> <p>This is also a problem primarily affecting Windows developers. PowerShell has a command called diff, but it is not suitable for use with Minitest.</p> <p>If you see failures like either of these, you are probably missing diff tool:</p> <pre>  4) Failure:
TestMinitestUnitTestCase#test_assert_equal_different_long [D:/ruby/seattlerb/minitest/test/minitest/test_minitest_test.rb:936]:
Expected: "--- expected\n+++ actual\n@@ -1 +1 @@\n-\"hahahahahahahahahahahahahahahahahahahaha\"\n+\"blahblahblahblahblahblahblahblahblahblah\"\n"
  Actual: "Expected: \"hahahahahahahahahahahahahahahahahahahaha\"\n  Actual: \"blahblahblahblahblahblahblahblahblahblah\""

  5) Failure:
TestMinitestUnitTestCase#test_assert_equal_different_collection_hash_hex_invisible [D:/ruby/seattlerb/minitest/test/minitest/test_minitest_test.rb:845]:
Expected: "No visible difference in the Hash#inspect output.\nYou should look at the implementation of #== on Hash or its members.\n
{1=&gt;#&lt;Object:0xXXXXXX&gt;}"
  Actual: "Expected: {1=&gt;#&lt;Object:0x00000003ba0470&gt;}\n  Actual: {1=&gt;#&lt;Object:0x00000003ba0448&gt;}"</pre> <p>If you use Cygwin or MSYS2 or similar there are packages that include a GNU diff for Windows. If you don't, you can download GNU diffutils from <a href="http://gnuwin32.sourceforge.net/packages/diffutils.htm">gnuwin32.sourceforge.net/packages/diffutils.htm</a> (make sure to add it to your PATH).</p> <p>You can make sure it's installed and path is configured properly with:</p> <pre class="ruby" data-language="ruby">diff.exe -v
</pre> <p>There are multiple lines of output, the first should be something like:</p> <pre>diff (GNU diffutils) 2.8.1</pre> <p>If you are using PowerShell make sure you run diff.exe, not just diff, which will invoke the PowerShell built in function.</p> <h2 id="module-Minitest-label-Known+Extensions-3A">Known Extensions:</h2> <dl class="rdoc-list note-list">
<dt>capybara_minitest_spec </dt>
<dd> <p>Bridge between Capybara RSpec matchers and <a href="minitest/spec">Minitest::Spec</a> expectations (e.g. <code>page.must_have_content("Title")</code>).</p> </dd>
<dt>color_pound_spec_reporter </dt>
<dd> <p><a href="minitest/test">Test</a> names print Ruby <a href="object">Object</a> types in color with your Minitest <a href="minitest/spec">Spec</a> style tests.</p> </dd>
<dt>minispec-metadata </dt>
<dd> <p>Metadata for describe/it blocks &amp; CLI tag filter. E.g. <code>it
"requires JS driver", js: true do</code> &amp; <code>ruby test.rb
--tag js</code> runs tests tagged :js.</p> </dd>
<dt>minispec-rails </dt>
<dd> <p>Minimal support to use <a href="minitest/spec">Spec</a> style in Rails 5+.</p> </dd>
<dt>minitest-around </dt>
<dd> <p>Around block for minitest. An alternative to setup/teardown dance.</p> </dd>
<dt>minitest-assert_errors </dt>
<dd> <p>Adds Minitest assertions to test for errors raised or not raised by Minitest itself.</p> </dd>
<dt>minitest-autotest </dt>
<dd> <p>autotest is a continuous testing facility meant to be used during development.</p> </dd>
<dt>minitest-bacon </dt>
<dd> <p>minitest-bacon extends minitest with bacon-like functionality.</p> </dd>
<dt>minitest-bang </dt>
<dd> <p>Adds support for RSpec-style let! to immediately invoke let statements before each test.</p> </dd>
<dt>minitest-bisect </dt>
<dd> <p>Helps you isolate and debug random test failures.</p> </dd>
<dt>minitest-blink1_reporter </dt>
<dd> <p>Display test results with a Blink1.</p> </dd>
<dt>minitest-capistrano </dt>
<dd> <p><a href="minitest/assertions">Assertions</a> and expectations for testing Capistrano recipes.</p> </dd>
<dt>minitest-capybara </dt>
<dd> <p>Capybara matchers support for minitest unit and spec.</p> </dd>
<dt>minitest-chef-handler </dt>
<dd> <p>Run Minitest suites as Chef report handlers</p> </dd>
<dt>minitest-ci </dt>
<dd> <p>CI reporter plugin for Minitest.</p> </dd>
<dt>minitest-context </dt>
<dd> <p>Defines contexts for code reuse in Minitest specs that share common expectations.</p> </dd>
<dt>minitest-debugger </dt>
<dd> <p>Wraps assert so failed assertions drop into the ruby debugger.</p> </dd>
<dt>minitest-display </dt>
<dd> <p>Patches Minitest to allow for an easily configurable output.</p> </dd>
<dt>minitest-documentation </dt>
<dd> <p>Minimal documentation format inspired by rspec's.</p> </dd>
<dt>minitest-doc_reporter </dt>
<dd> <p>Detailed output inspired by rspec's documentation format.</p> </dd>
<dt>minitest-emoji </dt>
<dd> <p>Print out emoji for your test passes, fails, and skips.</p> </dd>
<dt>minitest-english </dt>
<dd> <p>Semantically symmetric aliases for assertions and expectations.</p> </dd>
<dt>minitest-excludes </dt>
<dd> <p>Clean API for excluding certain tests you don't want to run under certain conditions.</p> </dd>
<dt>minitest-fail-fast </dt>
<dd> <p>Reimplements RSpec's “fail fast” feature</p> </dd>
<dt>minitest-filecontent </dt>
<dd> <p>Support unit tests with expectation results in files. Differing results will be stored again in files.</p> </dd>
<dt>minitest-filesystem </dt>
<dd> <p>Adds assertion and expectation to help testing filesystem contents.</p> </dd>
<dt>minitest-firemock </dt>
<dd> <p>Makes your Minitest mocks more resilient.</p> </dd>
<dt>minitest-focus </dt>
<dd> <p>Focus on one test at a time.</p> </dd>
<dt>minitest-gcstats </dt>
<dd> <p>A minitest plugin that adds a report of the top tests by number of objects allocated.</p> </dd>
<dt>minitest-great_expectations </dt>
<dd> <p>Generally useful additions to minitest's assertions and expectations.</p> </dd>
<dt>minitest-growl </dt>
<dd> <p><a href="minitest/test">Test</a> notifier for minitest via growl.</p> </dd>
<dt>minitest-happy </dt>
<dd> <p>GLOBALLY ACTIVATE MINITEST PRIDE! RAWR!</p> </dd>
<dt>minitest-have_tag </dt>
<dd> <p>Adds Minitest assertions to test for the existence of HTML tags, including contents, within a provided string.</p> </dd>
<dt>minitest-hooks </dt>
<dd> <p>Around and before_all/after_all/around_all hooks</p> </dd>
<dt>minitest-hyper </dt>
<dd> <p>Pretty, single-page HTML reports for your Minitest runs</p> </dd>
<dt>minitest-implicit-subject </dt>
<dd> <p>Implicit declaration of the test subject.</p> </dd>
<dt>minitest-instrument </dt>
<dd> <p>Instrument ActiveSupport::Notifications when test method is executed.</p> </dd>
<dt>minitest-instrument-db </dt>
<dd> <p>Store information about speed of test execution provided by minitest-instrument in database.</p> </dd>
<dt>minitest-junit </dt>
<dd> <p>JUnit-style XML reporter for minitest.</p> </dd>
<dt>minitest-keyword </dt>
<dd> <p>Use Minitest assertions with keyword arguments.</p> </dd>
<dt>minitest-libnotify </dt>
<dd> <p><a href="minitest/test">Test</a> notifier for minitest via libnotify.</p> </dd>
<dt>minitest-line </dt>
<dd> <p>Run test at line number.</p> </dd>
<dt>minitest-logger </dt>
<dd> <p>Define assert_log and enable minitest to test log messages. Supports Logger and Log4r::Logger.</p> </dd>
<dt>minitest-macruby </dt>
<dd> <p>Provides extensions to minitest for macruby UI testing.</p> </dd>
<dt>minitest-matchers </dt>
<dd> <p>Adds support for RSpec-style matchers to minitest.</p> </dd>
<dt>minitest-matchers_vaccine </dt>
<dd> <p>Adds assertions that adhere to the matcher spec, but without any expectation infections.</p> </dd>
<dt>minitest-metadata </dt>
<dd> <p>Annotate tests with metadata (key-value).</p> </dd>
<dt>minitest-mongoid </dt>
<dd> <p>Mongoid assertion matchers for Minitest.</p> </dd>
<dt>minitest-must_not </dt>
<dd> <p>Provides must_not as an alias for wont in Minitest.</p> </dd>
<dt>minitest-optional_retry </dt>
<dd> <p>Automatically retry failed test to help with flakiness.</p> </dd>
<dt>minitest-osx </dt>
<dd> <p>Reporter for the Mac OS X notification center.</p> </dd>
<dt>minitest-parallel_fork </dt>
<dd> <p>Fork-based parallelization</p> </dd>
<dt>minitest-parallel-db </dt>
<dd> <p>Run tests in parallel with a single database.</p> </dd>
<dt>minitest-power_assert </dt>
<dd> <p>PowerAssert for Minitest.</p> </dd>
<dt>minitest-predicates </dt>
<dd> <p>Adds support for .predicate? methods.</p> </dd>
<dt>minitest-profile </dt>
<dd> <p>List the 10 slowest tests in your suite.</p> </dd>
<dt>minitest-rails </dt>
<dd> <p>Minitest integration for Rails 3.x.</p> </dd>
<dt>minitest-rails-capybara </dt>
<dd> <p>Capybara integration for Minitest::Rails.</p> </dd>
<dt>minitest-reporters </dt>
<dd> <p>Create customizable Minitest output formats.</p> </dd>
<dt>minitest-rg </dt>
<dd> <p>Colored red/green output for Minitest.</p> </dd>
<dt>minitest-rspec_mocks </dt>
<dd> <p>Use RSpec Mocks with Minitest.</p> </dd>
<dt>minitest-server </dt>
<dd> <p>minitest-server provides a client/server setup with your minitest process, allowing your test run to send its results directly to a handler.</p> </dd>
<dt>minitest-sequel </dt>
<dd> <p>Minitest assertions to speed-up development and testing of Ruby Sequel database setups.</p> </dd>
<dt>minitest-shared_description </dt>
<dd> <p>Support for shared specs and shared spec subclasses</p> </dd>
<dt>minitest-should_syntax </dt>
<dd> <p>RSpec-style <code>x.should == y</code> assertions for Minitest.</p> </dd>
<dt>minitest-shouldify </dt>
<dd> <p>Adding all manner of shoulds to Minitest (bad idea)</p> </dd>
<dt>minitest-snail </dt>
<dd> <p>Print a list of tests that take too long</p> </dd>
<dt>minitest-spec-context </dt>
<dd> <p>Provides rspec-ish context method to <a href="minitest/spec">Minitest::Spec</a>.</p> </dd>
<dt>minitest-spec-expect </dt>
<dd> <p>Expect syntax for <a href="minitest/spec">Minitest::Spec</a> (e.g. expect(sequences).to_include :celery_man).</p> </dd>
<dt>minitest-spec-magic </dt>
<dd> <p><a href="minitest/spec">Minitest::Spec</a> extensions for Rails and beyond.</p> </dd>
<dt>minitest-spec-rails </dt>
<dd> <p>Drop in <a href="minitest/spec">Minitest::Spec</a> superclass for ActiveSupport::TestCase.</p> </dd>
<dt>minitest-sprint </dt>
<dd> <p>Runs (Get it? It's fast!) your tests and makes it easier to rerun individual failures.</p> </dd>
<dt>minitest-stately </dt>
<dd> <p>Find leaking state between tests</p> </dd>
<dt>minitest-stub_any_instance </dt>
<dd> <p>Stub any instance of a method on the given class for the duration of a block.</p> </dd>
<dt>minitest-stub-const </dt>
<dd> <p>Stub constants for the duration of a block.</p> </dd>
<dt>minitest-tags </dt>
<dd> <p>Add tags for minitest.</p> </dd>
<dt>minitest-unordered </dt>
<dd> <p>Adds a new assertion to minitest for checking the contents of a collection, ignoring element order.</p> </dd>
<dt>minitest-vcr </dt>
<dd> <p>Automatic cassette managment with <a href="minitest/spec">Minitest::Spec</a> and VCR.</p> </dd>
<dt>minitest_owrapper </dt>
<dd> <p>Get tests results as a TestResult object.</p> </dd>
<dt>minitest_should </dt>
<dd> <p>Shoulda style syntax for minitest test::unit.</p> </dd>
<dt>minitest_tu_shim </dt>
<dd> <p>Bridges between test/unit and minitest.</p> </dd>
<dt>mongoid-minitest </dt>
<dd> <p>Minitest matchers for Mongoid.</p> </dd>
<dt>pry-rescue </dt>
<dd> <p>A pry plugin w/ minitest support. See pry-rescue/minitest.rb.</p> </dd>
<dt>rspec2minitest </dt>
<dd> <p>Easily translate any RSpec matchers to Minitest assertions and expectations.</p> </dd>
</dl> <h2 id="module-Minitest-label-Unknown+Extensions-3A">Unknown Extensions:</h2> <p>Authors… Please send me a pull request with a description of your minitest extension.</p> <ul>
<li> <p>assay-minitest</p> </li>
<li> <p>detroit-minitest</p> </li>
<li> <p>em-minitest-spec</p> </li>
<li> <p>flexmock-minitest</p> </li>
<li> <p>guard-minitest</p> </li>
<li> <p>guard-minitest-decisiv</p> </li>
<li> <p>minitest-activemodel</p> </li>
<li> <p>minitest-ar-assertions</p> </li>
<li> <p>minitest-capybara-unit</p> </li>
<li> <p>minitest-colorer</p> </li>
<li> <p>minitest-deluxe</p> </li>
<li> <p>minitest-extra-assertions</p> </li>
<li> <p>minitest-rails-shoulda</p> </li>
<li> <p>minitest-spec</p> </li>
<li> <p>minitest-spec-should</p> </li>
<li> <p>minitest-sugar</p> </li>
<li> <p>spork-minitest</p> </li>
</ul> <h2 id="module-Minitest-label-Minitest+related+goods">Minitest related goods</h2> <ul><li> <p>minitest/pride fabric: <a href="http://www.spoonflower.com/fabric/3928730-again-by-katie_allen">www.spoonflower.com/fabric/3928730-again-by-katie_allen</a></p> </li></ul> <h2 id="module-Minitest-label-REQUIREMENTS-3A">REQUIREMENTS:</h2> <ul>
<li> <p>Ruby 1.8.7+. No magic is involved. I hope.</p> </li>
<li> <p>NOTE: 1.8 and 1.9 will be dropped in minitest 6+.</p> </li>
</ul> <h2 id="module-Minitest-label-INSTALL-3A">INSTALL:</h2> <pre class="ruby" data-language="ruby">sudo gem install minitest
</pre> <p>On 1.9, you already have it. To get newer candy you can still install the gem, and then requiring “minitest/autorun” should automatically pull it in. If not, you'll need to do it yourself:</p> <pre class="ruby" data-language="ruby">gem "minitest"     # ensures you"re using the gem, and not the built-in MT
require "minitest/autorun"

# ... usual testing stuffs ...
</pre> <p>DO NOTE: There is a serious problem with the way that ruby 1.9/2.0 packages their own gems. They install a gem specification file, but don't install the gem contents in the gem path. This messes up Gem.find_files and many other things (gem which, gem contents, etc).</p> <p>Just install minitest as a gem for real and you'll be happier.</p> <h2 id="module-Minitest-label-LICENSE-3A">LICENSE:</h2> <p>(The MIT License)</p> <p>Copyright © Ryan Davis, seattle.rb</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the 'Software'), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p> </section> <section id="5Buntitled-5D" class="documentation-section"> <section id="public-class-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Class Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-c-__run"> <span class="method-name">__run</span><span class="method-args">(reporter, options)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="__run-source"> <pre class="ruby" data-language="ruby"># File lib/minitest.rb, line 150
def self.__run reporter, options
  suites = Runnable.runnables.reject { |s| s.runnable_methods.empty? }.shuffle
  parallel, serial = suites.partition { |s| s.test_order == :parallel }

  # If we run the parallel tests before the serial tests, the parallel tests
  # could run in parallel with the serial tests. This would be bad because
  # the serial tests won't lock around Reporter#record. Run the serial tests
  # first, so that after they complete, the parallel tests will lock when
  # recording results.
  serial.map { |suite| suite.run reporter, options } +
    parallel.map { |suite| suite.run reporter, options }
end</pre> </div> <p>Internal run method. Responsible for telling all Runnable sub-classes to run.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-after_run"> <span class="method-name">after_run</span><span class="method-args">(&amp;block)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="after_run-source"> <pre class="ruby" data-language="ruby"># File lib/minitest.rb, line 74
def self.after_run &amp;block
  @@after_run &lt;&lt; block
end</pre> </div> <p>A simple hook allowing you to run a block of code after everything is done running. Eg:</p> <pre class="ruby" data-language="ruby">Minitest.after_run { p $debugging_info }
</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-autorun"> <span class="method-name">autorun</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="autorun-source"> <pre class="ruby" data-language="ruby"># File lib/minitest.rb, line 52
def self.autorun
  at_exit {
    next if $! and not ($!.kind_of? SystemExit and $!.success?)

    exit_code = nil

    at_exit {
      @@after_run.reverse_each(&amp;:call)
      exit exit_code || false
    }

    exit_code = Minitest.run ARGV
  } unless @@installed_at_exit
  @@installed_at_exit = true
end</pre> </div> <p>Registers Minitest to run at process exit</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-run"> <span class="method-name">run</span><span class="method-args">(args = [])</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="run-source"> <pre class="ruby" data-language="ruby"># File lib/minitest.rb, line 120
def self.run args = []
  self.load_plugins unless args.delete("--no-plugins") || ENV["MT_NO_PLUGINS"]

  options = process_args args

  reporter = CompositeReporter.new
  reporter &lt;&lt; SummaryReporter.new(options[:io], options)
  reporter &lt;&lt; ProgressReporter.new(options[:io], options)

  self.reporter = reporter # this makes it available to plugins
  self.init_plugins options
  self.reporter = nil # runnables shouldn't depend on the reporter, ever

  self.parallel_executor.start if parallel_executor.respond_to?(:start)
  reporter.start
  begin
    __run reporter, options
  rescue Interrupt
    warn "Interrupted. Exiting..."
  end
  self.parallel_executor.shutdown
  reporter.report

  reporter.passed?
end</pre> </div> <p>This is the top-level run method. Everything starts from here. It tells each Runnable sub-class to run, and each of those are responsible for doing whatever they do.</p> <p>The overall structure of a run looks like this:</p> <pre class="ruby" data-language="ruby">Minitest.autorun
  Minitest.run(args)
    Minitest.__run(reporter, options)
      Runnable.runnables.each
        runnable.run(reporter, options)
          self.runnable_methods.each
            self.run_one_method(self, runnable_method, reporter)
              Minitest.run_one_method(klass, runnable_method)
                klass.new(runnable_method).run
</pre>  </div> </div> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-i-unknown"> <span class="method-name">unknown</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="unknown-source"> <pre class="c" data-language="c"># File lib/minitest.rb, line 23
mc.send :attr_accessor, :parallel_executor
</pre> </div> <p><a href="minitest/parallel">Parallel</a> test executor</p>  </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    © Ryan Davis, seattle.rb<br>Licensed under the MIT License.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
