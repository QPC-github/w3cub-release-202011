
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>StubFor - Groovy 3.0 - W3cubDocs</title>
  
  <meta name="description" content="StubFor supports (typically unit) testing of classes in isolation by allowing a loosely-ordered expectation of the behavior of collaborators to be &hellip;">
  <meta name="keywords" content="groovy, class, stubfor, groovy~3.0">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/groovy~3.0/groovy/mock/interceptor/stubfor.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c7076d7cdaddc6969cb97911f9b488459d4bebca88d6f2525f2a12432f0bec8426c751ccfbc34920dda3867e50ab24698396bc4e548e788fc826f69a158d6856.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/groovy~3.0.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/groovy~3.0/" class="_nav-link" title="" style="margin-left:0;">Groovy 3.0</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _groovy">
				
				
<h1>[Groovy] Class StubFor</h1> <ul class="inheritance"> 
<li>groovy.mock.interceptor.StubFor </li>
</ul> <div class="description">      <pre data-language="groovy">class StubFor
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a></pre> <p> StubFor supports (typically unit) testing of classes in isolation by allowing a loosely-ordered expectation of the behavior of collaborators to be defined. A typical test scenario involves a class under test (CUT) and one or more collaborators. In such a scenario it is often desirable to just test the business logic of the CUT. One strategy for doing that is to replace the collaborator instances with simplified stub objects to help isolate out the logic in the CUT. StubFor allows such stubs to be created using meta-programming. The desired behavior of collaborators is defined as a behavior specification. The behavior can be checked by the user using verify(). With StubFor, a stub's expectation is sequence independent and use of verify() is left to the user. Typical usage is as follows: &lt;</p>
<pre class="groovyTestCase" data-language="groovy">
 import groovy.mock.interceptor.StubFor

 class Person {
   String first, last
 }

 class Family {
   Person mother, father
   def nameOfFather() { "$father.first $father.last" }
 }

 def stub = new StubFor(Person)
 stub.demand.with {
   getLast{ 'name' }
   getFirst{ 'dummy' }
 }
 stub.use {
   def john = new Person(first:'John', last:'Smith')
   def f = new Family(father:john)
   assert f.nameOfFather() == 'dummy name'
 }
 stub.expect.verify()
 </pre> Here, <code>Family</code> is our class under test and <code>Person</code> is the collaborator. We are using normal Groovy property semantics here; hence the statement <code>father.first</code> causes a call to <code>father.getFirst()</code> to occur. For a complete list of features, see: <a href="mockfor" title="MockFor">MockFor</a>.   </div> <div class="summary">         <h2 id="property_summary">Properties Summary</h2>  <table class="overviewSummary"> <caption>
<span>Properties</span>
</caption> <tr> <th class="colFirst" scope="col">Type</th> <th class="colLast" scope="col">Name and description</th> </tr> <tr class="altColor"> <td class="colFirst">
<code><strong><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html" title="Class">Class</a></strong></code> </td> <td class="colLast">
<code><a href="#clazz">clazz</a></code><br>
</td> </tr> <tr class="rowColor"> <td class="colFirst">
<code><strong><a href="demand">Demand</a></strong></code> </td> <td class="colLast">
<code><a href="#demand">demand</a></code><br>
</td> </tr> <tr class="altColor"> <td class="colFirst">
<code><strong><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a></strong></code> </td> <td class="colLast">
<code><a href="#expect">expect</a></code><br>
</td> </tr> <tr class="rowColor"> <td class="colFirst">
<code><strong><a href="ignore">Ignore</a></strong></code> </td> <td class="colLast">
<code><a href="#ignore">ignore</a></code><br>
</td> </tr> <tr class="altColor"> <td class="colFirst">
<code><strong><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="Map">Map</a></strong></code> </td> <td class="colLast">
<code><a href="#instanceExpectations">instanceExpectations</a></code><br>
</td> </tr> <tr class="rowColor"> <td class="colFirst">
<code><strong><a href="mockproxymetaclass">MockProxyMetaClass</a></strong></code> </td> <td class="colLast">
<code><a href="#proxy">proxy</a></code><br>
</td> </tr> </table>        <h2 id="constructor_summary">Constructor Summary</h2>  <table class="overviewSummary"> <caption>
<span>Constructors</span>
</caption> <tr> <th class="colFirst" scope="col">Constructor and description</th> </tr> <tr class="altColor"> <td class="colFirst"> <code><a href="#StubFor(java.lang.Class,%20boolean)">StubFor</a>
                                (<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html" title="Class">Class</a> clazz, boolean interceptConstruction)</code><br>
</td> </tr> </table>       <h2 id="method_summary">Methods Summary</h2>  <table class="overviewSummary"> <caption>
<span>Methods</span>
</caption> <tr> <th class="colFirst" scope="col">Type Params</th> <th class="colLast" scope="col">Return Type</th> <th class="colLast" scope="col">Name and description</th> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a></code></td> <td class="colLast">
<code><strong><a href="#ignore(java.lang.Object,%20groovy.lang.Closure)">ignore</a></strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> filter, <a href="../../lang/closure">Closure</a> filterBehavior)</code><br>Allows particular method calls to be ignored and not treated as part of the required behavior specification. </td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code><a href="../../lang/groovyobject">GroovyObject</a></code></td> <td class="colLast">
<code><strong><a href="#makeProxyInstance(java.lang.Object,%20boolean)">makeProxyInstance</a></strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> args, boolean isDelegate)</code><br>
</td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code><a href="../../lang/groovyobject">GroovyObject</a></code></td> <td class="colLast">
<code><strong><a href="#proxyDelegateInstance(java.lang.Object)">proxyDelegateInstance</a></strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> args)</code><br>Allows a more traditional instance-style stubbing paradigm. </td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code><a href="../../lang/groovyobject">GroovyObject</a></code></td> <td class="colLast">
<code><strong><a href="#proxyInstance(java.lang.Object)">proxyInstance</a></strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> args)</code><br>Allows a more traditional instance-style stubbing paradigm. </td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>void</code></td> <td class="colLast">
<code><strong><a href="#use(groovy.lang.Closure)">use</a></strong>(<a href="../../lang/closure">Closure</a> closure)</code><br><dl>
<dt><b>See:</b></dt>
<dd>MockFor#use(Closure)</dd>
</dl> </td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>void</code></td> <td class="colLast">
<code><strong><a href="#use(groovy.lang.GroovyObject,%20groovy.lang.Closure)">use</a></strong>(<a href="../../lang/groovyobject">GroovyObject</a> obj, <a href="../../lang/closure">Closure</a> closure)</code><br>
</td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>void</code></td> <td class="colLast">
<code><strong><a href="#verify(groovy.lang.GroovyObject)">verify</a></strong>(<a href="../../lang/groovyobject">GroovyObject</a> obj)</code><br>For manual verification</td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>void</code></td> <td class="colLast">
<code><strong><a href="#verify()">verify</a></strong>()</code><br>Convenience method</td> </tr> </table>    <h2 id="method_summary">Inherited Methods Summary</h2>  <table class="overviewSummary"> <caption>
<span>Inherited Methods</span>
</caption> <tr> <th class="colFirst" scope="col">Methods inherited from class</th> <th class="colLast" scope="col">Name</th> </tr> <tr class="altColor"> <td class="colFirst"><code>class <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a></code></td> <td class="colLast"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long)" title="wait">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long,%20int)" title="wait">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait()" title="wait">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="equals">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString()" title="toString">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode()" title="hashCode">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass()" title="getClass">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify()" title="notify">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll()" title="notifyAll">notifyAll</a></code></td> </tr> </table>      </div> <div class="details">      <h2 id="prop_detail">Property Detail</h2>    <h3 id="clazz">
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html" title="Class">Class</a> <strong>clazz</strong>
</h3>       <h3 id="demand">
<a href="demand">Demand</a> <strong>demand</strong>
</h3>       <h3 id="expect">
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> <strong>expect</strong>
</h3>       <h3 id="ignore">
<a href="ignore">Ignore</a> <strong>ignore</strong>
</h3>       <h3 id="instanceExpectations">
<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="Map">Map</a> <strong>instanceExpectations</strong>
</h3>       <h3 id="proxy">
<a href="mockproxymetaclass">MockProxyMetaClass</a> <strong>proxy</strong>
</h3>         <h2 id="constructor_detail">Constructor Detail</h2>    <h3 id="StubFor(java.lang.Class, boolean)" class="constructor">
<strong>StubFor</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html" title="Class">Class</a> clazz, boolean interceptConstruction)</h3>         <h2 id="method_detail">Method Detail</h2>    <h3 id="ignore(java.lang.Object, groovy.lang.Closure)" class="method">
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> <strong>ignore</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> filter, <a href="../../lang/closure">Closure</a> filterBehavior)</h3> <p> Allows particular method calls to be ignored and not treated as part of the required behavior specification. If you don't specify a return closure the method call will fall through to the underlying instance, i.e. half-mock style. The <code>filter</code> object is invoked using the normal Groovy <code>isCase()</code> semantics.</p>
<dl>
<dt><b>See:</b></dt>
<dd>MockFor#ignore(Object, Closure)</dd>
</dl>      <h3 id="makeProxyInstance(java.lang.Object, boolean)" class="method">
<a href="../../lang/groovyobject">GroovyObject</a> <strong>makeProxyInstance</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> args, boolean isDelegate)</h3>       <h3 id="proxyDelegateInstance(java.lang.Object)" class="method">
<a href="../../lang/groovyobject">GroovyObject</a> <strong>proxyDelegateInstance</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> args)</h3> <p> Allows a more traditional instance-style stubbing paradigm. This is the recommended method to call to use the instance-style with Java classes.</p>
<dl>
<dt><b>See:</b></dt>
<dd>MockFor#proxyDelegateInstance(Object)</dd>
</dl>      <h3 id="proxyInstance(java.lang.Object)" class="method">
<a href="../../lang/groovyobject">GroovyObject</a> <strong>proxyInstance</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> args)</h3> <p> Allows a more traditional instance-style stubbing paradigm. This is the recommended method to call to use the instance-style with Groovy classes.</p>
<dl>
<dt><b>See:</b></dt>
<dd>MockFor#proxyInstance(Object)</dd>
</dl>      <h3 id="use(groovy.lang.Closure)" class="method">void <strong>use</strong>(<a href="../../lang/closure">Closure</a> closure)</h3> 
<dl>
<dt><b>See:</b></dt>
<dd>MockFor#use(Closure)</dd>
</dl>      <h3 id="use(groovy.lang.GroovyObject, groovy.lang.Closure)" class="method">void <strong>use</strong>(<a href="../../lang/groovyobject">GroovyObject</a> obj, <a href="../../lang/closure">Closure</a> closure)</h3>       <h3 id="verify(groovy.lang.GroovyObject)" class="method">void <strong>verify</strong>(<a href="../../lang/groovyobject">GroovyObject</a> obj)</h3> <p> For manual verification</p>      <h3 id="verify()" class="method">void <strong>verify</strong>()</h3> <p> Convenience method</p>       </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2003-2020 The Apache Software Foundation<br>Licensed under the Apache license.<br>
    <a href="https://docs.groovy-lang.org/3.0.7/html/gapi/groovy/mock/interceptor/StubFor.html" class="_attribution-link">https://docs.groovy-lang.org/3.0.7/html/gapi/groovy/mock/interceptor/StubFor.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
