
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Connection (QML Type) - Qt - W3cubDocs</title>
  
  <meta name="description" content=" Connects to a server. More... ">
  <meta name="keywords" content="connection, qml, type, qt">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/qt/qml-qtopcua-connection.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/qt.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/qt/" class="_nav-link" title="" style="margin-left:0;">Qt</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _qt">
				
				
<h1 class="title">Connection QML Type</h1>  <p>Connects to a server. <a href="#details">More...</a></p>  <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> Import Statement:</td>
<td class="memItemRight bottomAlign"> import QtOpcUa</td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> Since:</td>
<td class="memItemRight bottomAlign"> QtOpcUa 5.12</td>
</tr>
</table>
<ul> <li><a href="https://doc.qt.io/qt-6.2/qml-qtopcua-connection-members.html">List of all members, including inherited members</a></li> </ul> <h2 id="properties">Properties
</h2> <ul> <li class="fn">
<b><a href="qml-qtopcua-connection#authenticationInformation-prop">authenticationInformation</a></b> : AuthenticationInformation</li> <li class="fn">
<b><a href="qml-qtopcua-connection#availableBackends-prop">availableBackends</a></b> : stringlist</li> <li class="fn">
<b><a href="qml-qtopcua-connection#backend-prop">backend</a></b> : string</li> <li class="fn">
<b><a href="qml-qtopcua-connection#connected-prop">connected</a></b> : bool</li> <li class="fn">
<b><a href="qml-qtopcua-connection#connection-prop">connection</a></b> : QOpcUaClient</li> <li class="fn">
<b><a href="qml-qtopcua-connection#currentEndpoint-prop">currentEndpoint</a></b> : QOpcUaEndpointDescription</li> <li class="fn">
<b><a href="qml-qtopcua-connection#defaultConnection-prop">defaultConnection</a></b> : bool</li> <li class="fn">
<b><a href="qml-qtopcua-connection#namespaces-prop">namespaces</a></b> : stringlist</li> <li class="fn">
<b><a href="qml-qtopcua-connection#supportedSecurityPolicies-prop">supportedSecurityPolicies</a></b> : stringlist</li> <li class="fn">
<b><a href="qml-qtopcua-connection#supportedUserTokenTypes-prop">supportedUserTokenTypes</a></b> : array[tokenTypes]</li> </ul> <h2 id="signals">Signals
</h2> <ul> <li class="fn">
<b><a href="qml-qtopcua-connection#nodeChanged-signal">nodeChanged</a></b>()</li> <li class="fn">
<b><a href="qml-qtopcua-connection#readNodeAttributesFinished-signal">readNodeAttributesFinished</a></b>(<i>readResults</i>)</li> <li class="fn">
<b><a href="qml-qtopcua-connection#writeNodeAttributesFinished-signal">writeNodeAttributesFinished</a></b>(<i>writeResults</i>)</li> </ul> <h2 id="methods">Methods
</h2> <ul> <li class="fn">
<b><a href="qml-qtopcua-connection#connectToEndpoint-method">connectToEndpoint</a></b>(<i>endpointDescription</i>)</li> <li class="fn">
<b><a href="qml-qtopcua-connection#disconnectFromEndpoint-method">disconnectFromEndpoint</a></b>()</li> <li class="fn">
<b><a href="qml-qtopcua-connection#readNodeAttributes-method">readNodeAttributes</a></b>(<i>valuesToBeRead</i>)</li> <li class="fn">
<b><a href="qml-qtopcua-connection#writeNodeAttributes-method">writeNodeAttributes</a></b>(<i>valuesToBeWritten</i>)</li> </ul>  <h2 id="details">Detailed Description
</h2> <p>The main API uses backends to make connections. You have to set the backend before any connection attempt.</p> <pre data-language="cpp">import QtOpcUa 5.13 as QtOpcUa

QtOpcUa.Connection {
    backend: "open62541"
}

Component.onCompleted: {
    connection.connectToEndpoint("opc.tcp://127.0.0.1:43344");
}</pre>  <h2>Property Documentation</h2>  <h3 class="qmlproto" id="authenticationInformation-prop"></h3>
<p> <span class="name">authenticationInformation</span> : <span class="type"><a href="qml-qtopcua-authenticationinformation">AuthenticationInformation</a></span></p> <p>Set the authentication information to this connection. The authentication information has to be set before calling <a href="qml-qtopcua-connection#connectToEndpoint-method">connectToEndpoint</a>. If no authentication information is set, the anonymous mode will be used. It has no effect on the current connection. If the client is disconnected and then reconnected, the new credentials are used. Reading and writing this property before a <a href="qml-qtopcua-connection#backend-prop">backend</a> is set, writes are ignored and reads return and invalid <a href="qml-qtopcua-authenticationinformation">AuthenticationInformation</a>.</p>    <h3 class="qmlproto" id="availableBackends-prop"></h3>
<p> <span class="qmlextra">[read-only] </span><span class="name">availableBackends</span> : <span class="type">stringlist</span></p> <p>Returns the names of all available backends as a list. These are used to select a backend when connecting.</p> <p><b>See also </b><a href="qml-qtopcua-connection#backend-prop">Connection::backend</a>.</p>    <h3 class="qmlproto" id="backend-prop"></h3>
<p> <span class="name">backend</span> : <span class="type"><a href="qml-string">string</a></span></p> <p>Set the backend to use for a connection to the server. Has to be set before any connection attempt.</p> <p><b>See also </b><a href="qml-qtopcua-connection#availableBackends-prop">Connection::availableBackends</a>.</p>    <h3 class="qmlproto" id="connected-prop"></h3>
<p> <span class="qmlextra">[read-only] </span><span class="name">connected</span> : <span class="type"><a href="qml-bool">bool</a></span></p> <p>Status of the connection. <code>true</code> when there is a connection, otherwise <code>false</code>.</p>    <h3 class="qmlproto" id="connection-prop"></h3>
<p> <span class="qmlextra">[since 5.13] </span><span class="name">connection</span> : <span class="type">QOpcUaClient</span></p> <p>This property is used only to inject a connection from C++. In case of complex setup of a connection you can use C++ to handle all the details. After the connection is established it can be handed to QML using this property. Ownership of the client is transferred to QML.</p> <pre data-language="cpp">class MyClass : public QObject {
    Q_OBJECT
    Q_PROPERTY(QOpcUaClient* connection READ connection NOTIFY connectionChanged)

public:
    MyClass (QObject* parent = nullptr);
    QOpcUaClient *connection() const;

signals:
    void connectionChanged(QOpcUaClient *);</pre> <p>Emitting the signal <code>connectionChanged</code> when the client setup is completed, the QML code below will use the connection.</p> <pre data-language="cpp">import QtOpcUa 5.13 as QtOpcUa

MyClass {
    id: myclass
}

QtOpcUa.Connection {
    connection: myclass.connection
 }</pre> <p>This property was introduced in Qt 5.13.</p>    <h3 class="qmlproto" id="currentEndpoint-prop"></h3>
<p> <span class="qmlextra">[since 5.13] </span><span class="name">currentEndpoint</span> : <span class="type">QOpcUaEndpointDescription</span></p> <p>An endpoint description of the server to which the connection is connected to. When the connection is not established, an empty endpoint description is returned.</p> <p>This property was introduced in Qt 5.13.</p>    <h3 class="qmlproto" id="defaultConnection-prop"></h3>
<p> <span class="name">defaultConnection</span> : <span class="type"><a href="qml-bool">bool</a></span></p> <p>Makes this the default connection. Usually each node needs to be given a connection to use. If this property is set to <code>true</code>, this connection will be used in all cases where a node has no connection set. Already established connections are not affected. If <code>defaultConnection</code> is set to <code>true</code> on multiple connection the last one is used.</p> <pre data-language="cpp">QtOpcUa.Connection {
    ...
    defaultConnection: true
    ...
}</pre> <p><b>See also </b><a href="qml-qtopcua-node">Node</a>.</p>    <h3 class="qmlproto" id="namespaces-prop"></h3>
<p> <span class="qmlextra">[read-only] </span><span class="name">namespaces</span> : <span class="type">stringlist</span></p> <p>List of strings of all namespace URIs registered on the connected server.</p>    <h3 class="qmlproto" id="supportedSecurityPolicies-prop"></h3>
<p> <span class="qmlextra">[since 5.13] </span><span class="name">supportedSecurityPolicies</span> : <span class="type">stringlist</span></p> <p>A list of strings containing the supported security policies</p> <p>This property is currently available as a Technology Preview, and therefore the API and functionality provided may be subject to change at any time without prior notice.</p> <p>This property was introduced in Qt 5.13.</p>    <h3 class="qmlproto" id="supportedUserTokenTypes-prop"></h3>
<p> <span class="qmlextra">[since 5.13] </span><span class="name">supportedUserTokenTypes</span> : <span class="type">array</span>[<span class="type">tokenTypes</span>]</p> <p>An array of user token policy types of all supported user token types.</p> <p>This property is currently available as a Technology Preview, and therefore the API and functionality provided may be subject to change at any time without prior notice.</p> <p>This property was introduced in Qt 5.13.</p>   <h2>Signal Documentation</h2>  <h3 class="qmlproto" id="nodeChanged-signal"></h3>
<p> <span class="name">nodeChanged</span>()</p> <p>Emitted when the underlying node has changed. This happens when the namespace or identifier of the <a href="qml-qtopcua-nodeid">NodeId</a> changed.</p> <p><b>Note: </b>The corresponding handler is <code>onNodeChanged</code>.</p>    <h3 class="qmlproto" id="readNodeAttributesFinished-signal"></h3>
<p> <code>[since 5.13] </code><span class="name">readNodeAttributesFinished</span>(<i>readResults</i>)</p> <p>Emitted when the read request, started using <a href="qml-qtopcua-connection#readNodeAttributes-method">readNodeAttributes</a>(), is finished. The <i>readResults</i> parameter is an array of <a href="qml-qtopcua-readresult">ReadResult</a> entries, containing the values requested from the server.</p> <pre data-language="cpp">connection.onReadNodeAttributesFinished(results) {
    for (var i = 0; results.length; i++) {
        if (results[i].status.isGood) {
            console.log(results[i].value);
        } else {
            // handle error
        }
    }
}</pre> <p><b>Note: </b>The corresponding handler is <code>onReadNodeAttributesFinished</code>.</p> <p>This signal was introduced in Qt 5.13.</p> <p><b>See also </b><a href="qml-qtopcua-connection#readNodeAttributes-method">readNodeAttributes</a>() and <a href="qml-qtopcua-readresult">ReadResult</a>.</p>    <h3 class="qmlproto" id="writeNodeAttributesFinished-signal"></h3>
<p> <code>[since 5.13] </code><span class="name">writeNodeAttributesFinished</span>(<i>writeResults</i>)</p> <p>Emitted when the write request started using <a href="qml-qtopcua-connection#writeNodeAttributes-method">writeNodeAttributes</a>() is finished. The <i>writeResults</i> parameter is an array of <a href="qml-qtopcua-writeresult">WriteResult</a> entries, containing the values requested from the server.</p> <pre data-language="cpp">for (var i = 0; i &lt; writeResults.length; i++) {
    console.log(writeResults[i].nodeId);
    console.log(writeResults[i].namespaceName);
    console.log(writeResults[i].attribute);

    if (writeResults[i].status.isBad) {
        // value was not written
    }
}</pre> <p><b>Note: </b>The corresponding handler is <code>onWriteNodeAttributesFinished</code>.</p> <p>This signal was introduced in Qt 5.13.</p> <p><b>See also </b><a href="qml-qtopcua-connection#writeNodeAttributes-method">writeNodeAttributes</a>() and <a href="qml-qtopcua-writeresult">WriteResult</a>.</p>   <h2>Method Documentation</h2>  <h3 class="qmlproto" id="connectToEndpoint-method"></h3>
<p> <span class="name">connectToEndpoint</span>(<i>endpointDescription</i>)</p> <p>Connects to the endpoint specified with <i>endpointDescription</i>.</p> <p><b>See also </b><a href="qml-qtopcua-endpointdescription">EndpointDescription</a>.</p>    <h3 class="qmlproto" id="disconnectFromEndpoint-method"></h3>
<p> <span class="name">disconnectFromEndpoint</span>()</p> <p>Disconnects an established connection.</p>    <h3 class="qmlproto" id="readNodeAttributes-method"></h3>
<p> <span class="name">readNodeAttributes</span>(<i>valuesToBeRead</i>)</p> <p>This function is used to read multiple values from a server in one go. Returns <code>true</code> if the read request was dispatched successfully.</p> <p>The <i>valuesToBeRead</i> parameter must be a JavaScript array of <a href="qml-qtopcua-readitem">ReadItem</a> entries.</p> <pre data-language="cpp">// List of items to read
var readItemList = [];
// Item to be added to the list of items to be read
var readItem;

// Prepare an item to be read

// Create a new read item and fill properties
readItem = QtOpcUa.ReadItem.create();
readItem.ns = "http://qt-project.org";
readItem.nodeId = "s=Demo.Static.Scalar.Double";
readItem.attribute = QtOpcUa.Constants.NodeAttribute.DisplayName;

// Add the prepared item to the list of items to be read
readItemList.push(readItem);

// Add further items
[...]

if (!connection.readNodeAttributes(readItemList)) {
    // handle error
}</pre> <p>The result of the read request are provided by the signal <a href="qml-qtopcua-connection#readNodeAttributesFinished-signal">readNodeAttributesFinished</a>().</p> <p><b>See also </b><a href="qml-qtopcua-connection#readNodeAttributesFinished-signal">readNodeAttributesFinished</a>() and <a href="qml-qtopcua-readitem">ReadItem</a>.</p>    <h3 class="qmlproto" id="writeNodeAttributes-method"></h3>
<p> <span class="name">writeNodeAttributes</span>(<i>valuesToBeWritten</i>)</p> <p>This function is used to write multiple values to a server in one go. Returns <code>true</code> if the write request was dispatched successfully.</p> <p>The <i>valuesToBeWritten</i> parameter must be a JavaScript array of <a href="qml-qtopcua-writeitem">WriteItem</a> entries.</p> <pre data-language="cpp">// List of items to write
var writeItemList = [];
// Item to be added to the list of items to be written
var writeItem;

// Prepare an item to be written

// Create a new write item and fill properties
writeItem = QtOpcUa.WriteItem.create();
writeItem.ns = "http://qt-project.org";
writeItem.nodeId = "s=Demo.Static.Scalar.Double";
writeItem.attribute = QtOpcUa.Constants.NodeAttribute.Value;
writeItem.value = 32.1;
writeItem.valueType = QtOpcUa.Constants.Double;

// Add the prepared item to the list of items to be written
writeItemList.push(writeItem);

// Add further items
[...]

if (!connection.writeNodeAttributes(writeItemList)) {
    // handle error
}</pre> <p>The result of the write request are provided by the signal <a href="qml-qtopcua-connection#writeNodeAttributesFinished-signal">Connection::writeNodeAttributesFinished</a>().</p> <p><b>See also </b><a href="qml-qtopcua-connection#writeNodeAttributesFinished-signal">Connection::writeNodeAttributesFinished</a>() and <a href="qml-qtopcua-writeitem">WriteItem</a>.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © The Qt Company Ltd<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://doc.qt.io/qt-6.2/qml-qtopcua-connection.html" class="_attribution-link">https://doc.qt.io/qt-6.2/qml-qtopcua-connection.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
