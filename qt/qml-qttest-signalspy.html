
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>SignalSpy (QML Type) - Qt - W3cubDocs</title>
  
  <meta name="description" content=" Enables introspection of signal emission. More... ">
  <meta name="keywords" content="signalspy, qml, type, qt">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/qt/qml-qttest-signalspy.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-60a6449bb52e9968d95c133a29f066ffcb8dbe4f077d4022e51c991ce30bf256c8e19c508207a4193c414ffd0414826564317669b0f27f9f85c1cb21b84e097e.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/qt.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/qt/" class="_nav-link" title="" style="margin-left:0;">Qt</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _qt">
				
				
<h1 class="title">SignalSpy QML Type</h1>  <p>Enables introspection of signal emission. <a href="#details">More...</a></p>  <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> Import Statement:</td>
<td class="memItemRight bottomAlign"> import QtTest</td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> Inherits:</td>
<td class="memItemRight bottomAlign"> <p><a href="qml-qtquick-item">Item</a></p> </td>
</tr>
</table>
<ul> <li><a href="https://doc.qt.io/qt-6.2/qml-qttest-signalspy-members.html">List of all members, including inherited members</a></li> </ul> <h2 id="properties">Properties
</h2> <ul> <li class="fn">
<b><a href="qml-qttest-signalspy#count-prop">count</a></b> : int</li> <li class="fn">
<b><a href="qml-qttest-signalspy#signalArguments-prop">signalArguments</a></b> : list</li> <li class="fn">
<b><a href="qml-qttest-signalspy#signalName-prop">signalName</a></b> : string</li> <li class="fn">
<b><a href="qml-qttest-signalspy#target-prop">target</a></b> : var</li> <li class="fn">
<b><a href="qml-qttest-signalspy#valid-prop">valid</a></b> : bool</li> </ul> <h2 id="methods">Methods
</h2> <ul> <li class="fn">
<b><a href="qml-qttest-signalspy#clear-method">clear</a></b>()</li> <li class="fn">
<b><a href="qml-qttest-signalspy#wait-method">wait</a></b>(<i>timeout</i>)</li> </ul>  <h2 id="details">Detailed Description
</h2> <p>In the following example, a SignalSpy is installed to watch the "clicked" signal on a user-defined Button type. When the signal is emitted, the <a href="qml-qttest-signalspy#count-prop">count</a> property on the spy will be increased.</p> <pre data-language="cpp">Button {
    id: button
    SignalSpy {
        id: spy
        target: button
        signalName: "clicked"
    }
    TestCase {
        name: "ButtonClick"
        function test_click() {
            compare(spy.count, 0)
            button.clicked();
            compare(spy.count, 1)
        }
    }
}</pre> <p>The above style of test is suitable for signals that are emitted synchronously. For asynchronous signals, the <a href="qml-qttest-signalspy#wait-method">wait</a>() method can be used to block the test until the signal occurs (or a timeout expires).</p> <p><b>See also </b><a href="qml-qttest-testcase">TestCase</a> and <a href="qtquicktest-index">Qt Quick Test</a>.</p>  <h2>Property Documentation</h2>  <h3 class="qmlproto" id="count-prop"></h3>
<p> <span class="qmlextra">[read-only] </span><span class="name">count</span> : <span class="type"><a href="qml-int">int</a></span></p> <p>This property defines the number of times that <a href="qml-qttest-signalspy#signalName-prop">signalName</a> has been emitted from <a href="qml-qttest-signalspy#target-prop">target</a> since the last call to <a href="qml-qttest-signalspy#clear-method">clear</a>().</p> <p><b>See also </b><a href="qml-qttest-signalspy#target-prop">target</a>, <a href="qml-qttest-signalspy#signalName-prop">signalName</a>, and <a href="qml-qttest-signalspy#clear-method">clear</a>().</p>    <h3 class="qmlproto" id="signalArguments-prop"></h3>
<p> <span class="qmlextra">[read-only] </span><span class="name">signalArguments</span> : <span class="type"><a href="qml-list">list</a></span></p> <p>This property holds a list of emitted signal arguments. Each emission of the signal will append one item to the list, containing the arguments of the signal. When connecting to a new <a href="qml-qttest-signalspy#target-prop">target</a> or new <a href="qml-qttest-signalspy#signalName-prop">signalName</a> or calling the <a href="qml-qttest-signalspy#clear-method">clear</a>() method, the signalArguments will be reset to empty.</p> <p><b>See also </b><a href="qml-qttest-signalspy#signalName-prop">signalName</a> and <a href="qml-qttest-signalspy#clear-method">clear</a>().</p>    <h3 class="qmlproto" id="signalName-prop"></h3>
<p> <span class="name">signalName</span> : <span class="type"><a href="qml-string">string</a></span></p> <p>This property defines the name of the signal on <a href="qml-qttest-signalspy#target-prop">target</a> to listen for.</p> <p><b>See also </b><a href="qml-qttest-signalspy#target-prop">target</a> and <a href="qml-qttest-signalspy#count-prop">count</a>.</p>    <h3 class="qmlproto" id="target-prop"></h3>
<p> <span class="name">target</span> : <span class="type"><a href="qml-var">var</a></span></p> <p>This property defines the target object that will be used to listen for emissions of the <a href="qml-qttest-signalspy#signalName-prop">signalName</a> signal.</p> <p><b>See also </b><a href="qml-qttest-signalspy#signalName-prop">signalName</a> and <a href="qml-qttest-signalspy#count-prop">count</a>.</p>    <h3 class="qmlproto" id="valid-prop"></h3>
<p> <span class="qmlextra">[read-only] </span><span class="name">valid</span> : <span class="type"><a href="qml-bool">bool</a></span></p> <p>This property defines the current signal connection status. It will be true when the <a href="qml-qttest-signalspy#signalName-prop">signalName</a> of the <a href="qml-qttest-signalspy#target-prop">target</a> is connected successfully, otherwise it will be false.</p> <p><b>See also </b><a href="qml-qttest-signalspy#count-prop">count</a>, <a href="qml-qttest-signalspy#target-prop">target</a>, <a href="qml-qttest-signalspy#signalName-prop">signalName</a>, and <a href="qml-qttest-signalspy#clear-method">clear</a>().</p>   <h2>Method Documentation</h2>  <h3 class="qmlproto" id="clear-method"></h3>
<p> <span class="name">clear</span>()</p> <p>Clears <a href="qml-qttest-signalspy#count-prop">count</a> to 0, resets <a href="qml-qttest-signalspy#valid-prop">valid</a> to false and clears the <a href="qml-qttest-signalspy#signalArguments-prop">signalArguments</a> to empty.</p> <p><b>See also </b><a href="qml-qttest-signalspy#count-prop">count</a> and <a href="qml-qttest-signalspy#wait-method">wait</a>().</p>    <h3 class="qmlproto" id="wait-method"></h3>
<p> <span class="name">wait</span>(<i>timeout</i> = 5000)</p> <p>Waits for the signal <a href="qml-qttest-signalspy#signalName-prop">signalName</a> on <a href="qml-qttest-signalspy#target-prop">target</a> to be emitted, for up to <i>timeout</i> milliseconds. The test case will fail if the signal is not emitted.</p> <pre data-language="cpp">SignalSpy {
    id: spy
    target: button
    signalName: "clicked"
}

function test_async_click() {
    ...
    // do something that will cause clicked() to be emitted
    ...
    spy.wait()
    compare(spy.count, 1)
}</pre> <p>There are two possible scenarios: the signal has already been emitted when wait() is called, or the signal has not yet been emitted. The wait() function handles the first scenario by immediately returning if the signal has already occurred.</p> <p>The <a href="qml-qttest-signalspy#clear-method">clear</a>() method can be used to discard information about signals that have already occurred to synchronize wait() with future signal emissions.</p> <p><b>See also </b><a href="qml-qttest-signalspy#clear-method">clear</a>() and <a href="qml-qttest-testcase#tryCompare-method">TestCase::tryCompare</a>().</p>
<div class="_attribution">
  <p class="_attribution-p">
    © The Qt Company Ltd<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://doc.qt.io/qt-6.2/qml-qttest-signalspy.html" class="_attribution-link">https://doc.qt.io/qt-6.2/qml-qttest-signalspy.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
