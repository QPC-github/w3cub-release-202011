
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Migrating Legacy Localization IDs - Angular 12 - W3cubDocs</title>
  
  <meta name="description" content="The Angular translation system works by matching a message ID to a translated message in a different language. One option for creating these IDs is &hellip;">
  <meta name="keywords" content="migrating, legacy, localization, ids, angular, angular~12">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/angular~12/guide/migration-legacy-message-id.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/angular~12.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/angular~12/" class="_nav-link" title="" style="margin-left:0;">Angular 12</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _angular">
				
				
<h1 id="migrating-legacy-localization-ids">Migrating legacy localization IDs</h1> <h2 id="why-this-migration-is-necessary">Why this migration is necessary</h2> <p>The Angular translation system works by matching a message ID to a translated message in a different language. One option for creating these IDs is to have the translation system generate them for you. Previously, the format for these IDs are not stable when there are insignificant changes, such as to whitespace. The new format is much more robust.</p> <p>This topic describes how to migrate old localization IDs to help you future-proof your application in the event that the old format is removed.</p> <h2 id="what-this-migration-does">What this migration does</h2> <p>Angular version 11 introduced a new format for generating localization IDs. These new IDs are more robust than the previous legacy format. However, applications created before version 11 still used the legacy format for their IDs.</p> <blockquote class="alert is-helpful"> <p>You do not need to migrate custom localization IDs to new IDs.</p> </blockquote> <p>With the release of Angular version 12, you now have how tools available to help you migrate any legacy localization IDs to IDs that use the latest algorithms.</p> <p>You have two options for migrating legacy IDs. The first method uses the Angular CLI to locate legacy IDs in your application. The second method uses a standalone script, <code>localize-extract</code>, to locate the legacy IDs.</p> <h2 id="migrating-legacy-ids-using-the-cli">Migrating legacy IDs using the CLI</h2> <p>To migrate legacy localization IDs using the CLI:</p> <ol> <li> <p>Run the <code>ng extract-i18n</code> command.</p> <pre data-language="bash">ng extract-i18n --format=legacy-migrate</pre> <p>After running this command, you have a migration file, <code>messages.json</code>, containing a mapping between legacy localization IDs and new IDs that you can use to update your application.</p> </li> <li> <p>Update the IDs in your application using the <code>npx localize-migrate</code> command.</p> <pre data-language="bash">npx localize-migrate --files=*.xlf --mapFile=messages.json</pre> <blockquote class="alert is-helpful"> <p>You can also specify other formats in the <code>files</code> parameter, such as <code>*.xmb</code>.</p> </blockquote> </li> <li> <p>Commit the updated files to your source control system.</p> </li> </ol> <p>After you complete the migration, set the Angular Compiler option, <code>enableI18nLegacyMessageIdFormat</code>, to <code>false</code>. For more information about this option, see <a href="angular-compiler-options#enablei18nlegacymessageidformat">Angular Compiler Options</a>.</p> <h2 id="migrate-legacy-ids-using-localize-extract">Migrate legacy IDs using <code>localize-extract</code>
</h2> <p>If you are not using the Angular CLI, you can migrate legacy localization IDs using <code>localize-extract</code>:</p> <ol> <li> <p>Run the <code>npx localize-extract</code> command.</p> <pre data-language="bash">npx localize-extract --format=legacy-migrate --source=./path/to/bundles/**/*.js --outputPath=./messages.json</pre> <p>In this command, <code>./path/to/bundles/</code> represents the path to your distributable files. You can set the <code>outputPath</code> parameter to any directory in your system.</p> <blockquote class="alert is-helpful"> <p>Your distributable files must not have been translated, such as by using <code>localize-translate</code>, as doing so strips the <code><a href="../api/localize/init/%24localize" class="code-anchor">$localize</a></code> tagged strings that the extractor requires.</p> </blockquote> <p>After running this command, you have a migration file, <code>messages.json</code>, containing a mapping between legacy localization IDs and new IDs that you can use to update your application.</p> </li> <li> <p>Update the IDs in your application using the <code>npx localize-migrate</code> command.</p> <pre data-language="bash">npx localize-migrate --files=*.xlf --mapFile=messages.json</pre> <blockquote class="alert is-helpful"> <p>You can also specify other formats in the <code>files</code> parameter, such as <code>*.xmb</code>.</p> </blockquote> </li> </ol> <p>After you complete the migration, set the Angular Compiler option, <code>enableI18nLegacyMessageIdFormat</code>, to <code>false</code>. For more information about this option, see <a href="angular-compiler-options#enablei18nlegacymessageidformat">Angular Compiler Options</a>.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2010–2021 Google, Inc.<br>Licensed under the Creative Commons Attribution License 4.0.<br>
    <a href="https://v12.angular.io/guide/migration-legacy-message-id" class="_attribution-link">https://v12.angular.io/guide/migration-legacy-message-id</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
