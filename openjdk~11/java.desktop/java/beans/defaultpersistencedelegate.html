
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>DefaultPersistenceDelegate - OpenJDK 11 - W3cubDocs</title>
  
  <meta name="description" content="The DefaultPersistenceDelegate is a concrete implementation of the abstract PersistenceDelegate class and is the delegate used by default for &hellip;">
  <meta name="keywords" content="class, defaultpersistencedelegate, openjdk, openjdk~11">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/openjdk~11/java.desktop/java/beans/defaultpersistencedelegate.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/openjdk~11.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/openjdk~11/" class="_nav-link" title="" style="margin-left:0;">OpenJDK 11</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _openjdk">
				
				
<main role="main">    <h1>Class DefaultPersistenceDelegate</h1>   <ul class="inheritance"> <li><a href="../../../java.base/java/lang/object">java.lang.Object</a></li> <li> <ul class="inheritance"> <li><a href="persistencedelegate">java.beans.PersistenceDelegate</a></li> <li> <ul class="inheritance"> <li>java.beans.DefaultPersistenceDelegate</li> </ul> </li> </ul> </li> </ul>    <pre data-language="java">public class DefaultPersistenceDelegate
extends PersistenceDelegate</pre> <div>
<p>The <code>DefaultPersistenceDelegate</code> is a concrete implementation of the abstract <code>PersistenceDelegate</code> class and is the delegate used by default for classes about which no information is available. The <code>DefaultPersistenceDelegate</code> provides, version resilient, public API-based persistence for classes that follow the JavaBeans™ conventions without any class specific configuration. </p>
<p> The key assumptions are that the class has a nullary constructor and that its state is accurately represented by matching pairs of "setter" and "getter" methods in the order they are returned by the Introspector. In addition to providing code-free persistence for JavaBeans, the <code>DefaultPersistenceDelegate</code> provides a convenient means to effect persistent storage for classes that have a constructor that, while not nullary, simply requires some property values as arguments.</p>
</div> <dl> <dt>Since:</dt> <dd>1.4</dd> <dt>See Also:</dt> <dd>
<a href="#%3Cinit%3E(java.lang.String%5B%5D)"><code>DefaultPersistenceDelegate(String[])</code></a>, <a href="introspector"><code>Introspector</code></a>
</dd> </dl>      <section role="region">  <h2>Constructor Summary</h2> <table> <caption>Constructors </caption> <tr> <th scope="col">Constructor</th> <th scope="col">Description</th> </tr> <tr> <th scope="row"><code><a href="#%3Cinit%3E()">DefaultPersistenceDelegate</a>()</code></th> <td> <p>Creates a persistence delegate for a class with a nullary constructor.</p> </td> </tr> <tr> <th scope="row"><code><a href="#%3Cinit%3E(java.lang.String%5B%5D)">DefaultPersistenceDelegate</a>​(<a href="../../../java.base/java/lang/string">String</a>[] constructorPropertyNames)</code></th> <td> <p>Creates a default persistence delegate for a class with a constructor whose arguments are the values of the property names as specified by <code>constructorPropertyNames</code>.</p> </td> </tr> </table>  </section>  <section role="region">  <h2>Method Summary</h2> <table> <caption>All Methods <a href="javascript:show(2);">Instance Methods</a> <a href="javascript:show(8);">Concrete Methods</a> </caption> <tr> <th scope="col">Modifier and Type</th> <th scope="col">Method</th> <th scope="col">Description</th> </tr> <tr id="i0"> <td><code>protected void</code></td> <th scope="row"><code><a href="#initialize(java.lang.Class,java.lang.Object,java.lang.Object,java.beans.Encoder)">initialize</a>​(<a href="../../../java.base/java/lang/class">Class</a>&lt;?&gt; type,
          <a href="../../../java.base/java/lang/object">Object</a> oldInstance,
          <a href="../../../java.base/java/lang/object">Object</a> newInstance,
          <a href="encoder">Encoder</a> out)</code></th> <td> <p>This default implementation of the <code>initialize</code> method assumes all state held in objects of this type is exposed via the matching pairs of "setter" and "getter" methods in the order they are returned by the Introspector.</p> </td> </tr> <tr id="i1"> <td><code>protected <a href="expression">Expression</a></code></td> <th scope="row"><code><a href="#instantiate(java.lang.Object,java.beans.Encoder)">instantiate</a>​(<a href="../../../java.base/java/lang/object">Object</a> oldInstance,
           <a href="encoder">Encoder</a> out)</code></th> <td> <p>This default implementation of the <code>instantiate</code> method returns an expression containing the predefined method name "new" which denotes a call to a constructor with the arguments as specified in the <code>DefaultPersistenceDelegate</code>'s constructor.</p> </td> </tr> <tr id="i2"> <td><code>protected boolean</code></td> <th scope="row"><code><a href="#mutatesTo(java.lang.Object,java.lang.Object)">mutatesTo</a>​(<a href="../../../java.base/java/lang/object">Object</a> oldInstance,
         <a href="../../../java.base/java/lang/object">Object</a> newInstance)</code></th> <td> <p>If the number of arguments in the specified constructor is non-zero and the class of <code>oldInstance</code> explicitly declares an "equals" method this method returns the value of <code>oldInstance.equals(newInstance)</code>.</p> </td> </tr> </table>  <h2>Methods declared in class java.beans.<a href="persistencedelegate">PersistenceDelegate</a>
</h2> <code><a href="persistencedelegate#writeObject(java.lang.Object,java.beans.Encoder)">writeObject</a></code>  <h2>Methods declared in class java.lang.<a href="../../../java.base/java/lang/object">Object</a>
</h2> <code><a href="../../../java.base/java/lang/object#clone()">clone</a>, <a href="../../../java.base/java/lang/object#equals(java.lang.Object)">equals</a>, <a href="../../../java.base/java/lang/object#finalize()">finalize</a>, <a href="../../../java.base/java/lang/object#getClass()">getClass</a>, <a href="../../../java.base/java/lang/object#hashCode()">hashCode</a>, <a href="../../../java.base/java/lang/object#notify()">notify</a>, <a href="../../../java.base/java/lang/object#notifyAll()">notifyAll</a>, <a href="../../../java.base/java/lang/object#toString()">toString</a>, <a href="../../../java.base/java/lang/object#wait()">wait</a>, <a href="../../../java.base/java/lang/object#wait(long)">wait</a>, <a href="../../../java.base/java/lang/object#wait(long,int)">wait</a></code>  </section>   <div>   <section role="region">  <h2>Constructor Detail</h2>   <h3>DefaultPersistenceDelegate</h3> <pre data-language="java">public DefaultPersistenceDelegate()</pre> <p>Creates a persistence delegate for a class with a nullary constructor.</p> <dl> <dt>See Also:</dt> <dd><a href="#%3Cinit%3E(java.lang.String%5B%5D)"><code>DefaultPersistenceDelegate(java.lang.String[])</code></a></dd> </dl>    <h3>DefaultPersistenceDelegate</h3> <pre data-language="java">public DefaultPersistenceDelegate​(String[] constructorPropertyNames)</pre> <p>Creates a default persistence delegate for a class with a constructor whose arguments are the values of the property names as specified by <code>constructorPropertyNames</code>. The constructor arguments are created by evaluating the property names in the order they are supplied. To use this class to specify a single preferred constructor for use in the serialization of a particular type, we state the names of the properties that make up the constructor's arguments. For example, the <code>Font</code> class which does not define a nullary constructor can be handled with the following persistence delegate: </p>
<pre data-language="java">new DefaultPersistenceDelegate(new String[]{"name", "style", "size"});</pre> <dl> <dt>Parameters:</dt> <dd>
<code>constructorPropertyNames</code> - The property names for the arguments of this constructor.</dd> <dt>See Also:</dt> <dd><a href="#instantiate(java.lang.Object,java.beans.Encoder)"><code>instantiate(java.lang.Object, java.beans.Encoder)</code></a></dd> </dl>   </section>  <section role="region">  <h2>Method Detail</h2>   <h3>mutatesTo</h3> <pre data-language="java">protected boolean mutatesTo​(Object oldInstance,
                            Object newInstance)</pre> <p>If the number of arguments in the specified constructor is non-zero and the class of <code>oldInstance</code> explicitly declares an "equals" method this method returns the value of <code>oldInstance.equals(newInstance)</code>. Otherwise, this method uses the superclass's definition which returns true if the classes of the two instances are equal.</p> <dl> <dt>Overrides:</dt> <dd>
<code><a href="persistencedelegate#mutatesTo(java.lang.Object,java.lang.Object)">mutatesTo</a></code> in class <code><a href="persistencedelegate">PersistenceDelegate</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>oldInstance</code> - The instance to be copied.</dd> <dd>
<code>newInstance</code> - The instance that is to be modified.</dd> <dt>Returns:</dt> <dd>True if an equivalent copy of <code>newInstance</code> may be created by applying a series of mutations to <code>oldInstance</code>.</dd> <dt>See Also:</dt> <dd><a href="#%3Cinit%3E(java.lang.String%5B%5D)"><code>DefaultPersistenceDelegate(String[])</code></a></dd> </dl>    <h3>instantiate</h3> <pre data-language="java">protected Expression instantiate​(Object oldInstance,
                                 Encoder out)</pre> <p>This default implementation of the <code>instantiate</code> method returns an expression containing the predefined method name "new" which denotes a call to a constructor with the arguments as specified in the <code>DefaultPersistenceDelegate</code>'s constructor.</p> <dl> <dt>Specified by:</dt> <dd>
<code><a href="persistencedelegate#instantiate(java.lang.Object,java.beans.Encoder)">instantiate</a></code> in class <code><a href="persistencedelegate">PersistenceDelegate</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>oldInstance</code> - The instance to be instantiated.</dd> <dd>
<code>out</code> - The code output stream.</dd> <dt>Returns:</dt> <dd>An expression whose value is <code>oldInstance</code>.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/nullpointerexception">NullPointerException</a></code> - if <code>out</code> is <code>null</code> and this value is used in the method</dd> <dt>See Also:</dt> <dd><a href="#%3Cinit%3E(java.lang.String%5B%5D)"><code>DefaultPersistenceDelegate(String[])</code></a></dd> </dl>    <h3>initialize</h3> <pre data-language="java">protected void initialize​(Class&lt;?&gt; type,
                          Object oldInstance,
                          Object newInstance,
                          Encoder out)</pre> <div>
<p>This default implementation of the <code>initialize</code> method assumes all state held in objects of this type is exposed via the matching pairs of "setter" and "getter" methods in the order they are returned by the Introspector. If a property descriptor defines a "transient" attribute with a value equal to <code>Boolean.TRUE</code> the property is ignored by this default implementation. Note that this use of the word "transient" is quite independent of the field modifier that is used by the <code>ObjectOutputStream</code>. </p>
<p> For each non-transient property, an expression is created in which the nullary "getter" method is applied to the <code>oldInstance</code>. The value of this expression is the value of the property in the instance that is being serialized. If the value of this expression in the cloned environment <code>mutatesTo</code> the target value, the new value is initialized to make it equivalent to the old value. In this case, because the property value has not changed there is no need to call the corresponding "setter" method and no statement is emitted. If not however, the expression for this value is replaced with another expression (normally a constructor) and the corresponding "setter" method is called to install the new property value in the object. This scheme removes default information from the output produced by streams using this delegate. </p>
<p> In passing these statements to the output stream, where they will be executed, side effects are made to the <code>newInstance</code>. In most cases this allows the problem of properties whose values depend on each other to actually help the serialization process by making the number of statements that need to be written to the output smaller. In general, the problem of handling interdependent properties is reduced to that of finding an order for the properties in a class such that no property value depends on the value of a subsequent property.</p>
</div> <dl> <dt>Overrides:</dt> <dd>
<code><a href="persistencedelegate#initialize(java.lang.Class,java.lang.Object,java.lang.Object,java.beans.Encoder)">initialize</a></code> in class <code><a href="persistencedelegate">PersistenceDelegate</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>type</code> - the type of the instances</dd> <dd>
<code>oldInstance</code> - The instance to be copied.</dd> <dd>
<code>newInstance</code> - The instance that is to be modified.</dd> <dd>
<code>out</code> - The stream to which any initialization statements should be written.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/nullpointerexception">NullPointerException</a></code> - if <code>out</code> is <code>null</code>
</dd> <dt>See Also:</dt> <dd>
<a href="introspector#getBeanInfo(java.lang.Class)"><code>Introspector.getBeanInfo(java.lang.Class&lt;?&gt;)</code></a>, <a href="propertydescriptor"><code>PropertyDescriptor</code></a>
</dd> </dl>   </section>  </div>  </main>  <div class="_attribution">
  <p class="_attribution-p">
    © 1993, 2020, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/java/beans/DefaultPersistenceDelegate.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/java/beans/DefaultPersistenceDelegate.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
