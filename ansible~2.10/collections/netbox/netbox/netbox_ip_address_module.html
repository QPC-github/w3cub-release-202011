
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Netbox_ip_address – Creates or Removes IP Addresses From Netbox - Ansible 2.10 - W3cubDocs</title>
  
  <meta name="description" content=" Note ">
  <meta name="keywords" content="netbox, ip, address, –, creates, or, removes, addresses, from, ansible, ansible~2.10">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/ansible~2.10/collections/netbox/netbox/netbox_ip_address_module.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/ansible~2.10.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ansible~2.10/" class="_nav-link" title="" style="margin-left:0;">Ansible 2.10</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx">
				
				
<h1 id="netbox-netbox-netbox-ip-address-creates-or-removes-ip-addresses-from-netbox">netbox.netbox.netbox_ip_address – Creates or removes IP addresses from Netbox</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/netbox/netbox">netbox.netbox collection</a>.</p> <p>To install it use: <code>ansible-galaxy collection install netbox.netbox</code>.</p> <p>To use it in a playbook, specify: <code>netbox.netbox.netbox_ip_address</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.1.0: </span>of netbox.netbox</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id6">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Creates or removes IP addresses from Netbox</li> </ul>   <h2 id="requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>pynetbox</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="3">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="3">  <b>data</b>  <div style="font-size: small"> <span style="color: purple">dictionary</span> / <span style="color: red">required</span> </div> </td> <td> </td> <td> <div>Defines the IP address configuration</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>address</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Required if state is <code>present</code>
</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>assigned_object</b>  <div style="font-size: small"> <span style="color: purple">dictionary</span> </div> </td> <td> </td> <td> <div>Definition of the assigned object.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>device</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>The device the interface is attached to.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>name</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>The name of the interface</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td class="elbow-placeholder"></td> <td colspan="1">  <b>virtual_machine</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>The virtual machine the interface is attached to.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>custom_fields</b>  <div style="font-size: small"> <span style="color: purple">dictionary</span> </div> </td> <td> </td> <td> <div>must exist in Netbox</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>description</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>The description of the interface</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>dns_name</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Hostname or FQDN</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>family</b>  <div style="font-size: small"> <span style="color: purple">integer</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li>4</li> <li>6</li> </ul> </td> <td> <div>Specifies with address family the IP address belongs to</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>interface</b>  <div style="font-size: small"> <span style="color: purple">raw</span> </div> </td> <td> </td> <td> <div>The name and device of the interface that the IP address should be assigned to Required if state is <code>present</code> and a prefix specified.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>nat_inside</b>  <div style="font-size: small"> <span style="color: purple">raw</span> </div> </td> <td> </td> <td> <div>The inside IP address this IP is assigned to</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>prefix</b>  <div style="font-size: small"> <span style="color: purple">raw</span> </div> </td> <td> </td> <td> <div>With state <code>present</code>, if an interface is given, it will ensure that an IP inside this prefix (and vrf, if given) is attached to this interface. Otherwise, it will get the next available IP of this prefix and attach it. With state <code>new</code>, it will force to get the next available IP in this prefix. If an interface is given, it will also force to attach it. Required if state is <code>present</code> or <code>new</code> when no address is given. Unused if an address is specified.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>role</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li>Loopback</li> <li>Secondary</li> <li>Anycast</li> <li>VIP</li> <li>VRRP</li> <li>HSRP</li> <li>GLBP</li> <li>CARP</li> </ul> </td> <td> <div>The role of the IP address</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>status</b>  <div style="font-size: small"> <span style="color: purple">raw</span> </div> </td> <td> </td> <td> <div>The status of the IP address</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>tags</b>  <div style="font-size: small"> <span style="color: purple">list</span> / <span style="color: purple">elements=string</span> </div> </td> <td> </td> <td> <div>Any tags that the IP address may need to be associated with</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>tenant</b>  <div style="font-size: small"> <span style="color: purple">raw</span> </div> </td> <td> </td> <td> <div>The tenant that the device will be assigned to</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="2">  <b>vrf</b>  <div style="font-size: small"> <span style="color: purple">raw</span> </div> </td> <td> </td> <td> <div>VRF that IP address is associated with</div> </td> </tr> <tr> <td colspan="3">  <b>netbox_token</b>  <div style="font-size: small"> <span style="color: purple">string</span> / <span style="color: red">required</span> </div> </td> <td> </td> <td> <div>The token created within Netbox to authorize API access</div> </td> </tr> <tr> <td colspan="3">  <b>netbox_url</b>  <div style="font-size: small"> <span style="color: purple">string</span> / <span style="color: red">required</span> </div> </td> <td> </td> <td> <div>URL of the Netbox instance resolvable by Ansible control host</div> </td> </tr> <tr> <td colspan="3">  <b>query_params</b>  <div style="font-size: small"> <span style="color: purple">list</span> / <span style="color: purple">elements=string</span> </div> </td> <td> </td> <td> <div>This can be used to override the specified values in ALLOWED_QUERY_PARAMS that is defined</div> <div>in plugins/module_utils/netbox_utils.py and provides control to users on what may make</div> <div>an object unique in their environment.</div> </td> </tr> <tr> <td colspan="3">  <b>state</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li>absent</li> <li>new</li> <li><div style="color: blue">
<b>present</b> ←</div></li> </ul> </td> <td> <div>Use <code>present</code>, <code>new</code> or <code>absent</code> for adding, force adding or removing. <code>present</code> will check if the IP is already created, and return it if true. <code>new</code> will force to create it anyway (useful for anycasts, for example).</div> </td> </tr> <tr> <td colspan="3">  <b>validate_certs</b>  <div style="font-size: small"> <span style="color: purple">raw</span> </div> </td> <td> <b>Default:</b><br><div style="color: blue">"yes"</div> </td> <td> <div>If <code>no</code>, SSL certificates will not be validated. This should only be used on personally controlled sites using self-signed certificates.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>Tags should be defined as a YAML list</li> <li>This should be ran with connection <code>local</code> and hosts <code>localhost</code>
</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml">- name: "Test Netbox IP address module"
  connection: local
  hosts: localhost
  gather_facts: False

  tasks:
    - name: Create IP address within Netbox with only required information
      netbox_ip_address:
        netbox_url: http://netbox.local
        netbox_token: thisIsMyToken
        data:
          address: 192.168.1.10
        state: present
    - name: Force to create (even if it already exists) the IP
      netbox_ip_address:
        netbox_url: http://netbox.local
        netbox_token: thisIsMyToken
        data:
          address: 192.168.1.10
        state: new
    - name: Get a new available IP inside 192.168.1.0/24
      netbox_ip_address:
        netbox_url: http://netbox.local
        netbox_token: thisIsMyToken
        data:
          prefix: 192.168.1.0/24
        state: new
    - name: Delete IP address within netbox
      netbox_ip_address:
        netbox_url: http://netbox.local
        netbox_token: thisIsMyToken
        data:
          address: 192.168.1.10
        state: absent
    - name: Create IP address with several specified options
      netbox_ip_address:
        netbox_url: http://netbox.local
        netbox_token: thisIsMyToken
        data:
          family: 4
          address: 192.168.1.20
          vrf: Test
          tenant: Test Tenant
          status: Reserved
          role: Loopback
          description: Test description
          tags:
            - Schnozzberry
        state: present
    - name: Create IP address and assign a nat_inside IP
      netbox_ip_address:
        netbox_url: http://netbox.local
        netbox_token: thisIsMyToken
        data:
          family: 4
          address: 192.168.1.30
          vrf: Test
          nat_inside:
            address: 192.168.1.20
            vrf: Test
          interface:
            name: GigabitEthernet1
            device: test100
    - name: Ensure that an IP inside 192.168.1.0/24 is attached to GigabitEthernet1
      netbox_ip_address:
        netbox_url: http://netbox.local
        netbox_token: thisIsMyToken
        data:
          prefix: 192.168.1.0/24
          vrf: Test
          interface:
            name: GigabitEthernet1
            device: test100
        state: present
    - name: Attach a new available IP of 192.168.1.0/24 to GigabitEthernet1
      netbox_ip_address:
        netbox_url: http://netbox.local
        netbox_token: thisIsMyToken
        data:
          prefix: 192.168.1.0/24
          vrf: Test
          interface:
            name: GigabitEthernet1
            device: test100
        state: new
    - name: Attach a new available IP of 192.168.1.0/24 to GigabitEthernet1 (NetBox 2.9+)
      netbox_ip_address:
        netbox_url: http://netbox.local
        netbox_token: thisIsMyToken
        data:
          prefix: 192.168.1.0/24
          vrf: Test
          assigned_object:
            name: GigabitEthernet1
            device: test100
        state: new
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="1">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="1">  <b>ip_address</b>  <div style="font-size: small"> <span style="color: purple">dictionary</span> </div> </td> <td>on creation</td> <td> <div>Serialized object as created or already existent within Netbox</div> <br> </td> </tr> <tr> <td colspan="1">  <b>msg</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>always</td> <td> <div>Message indicating failure or info about what has been achieved</div> <br> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Mikhail Yohman (@FragmentedPacket)</li> <li>Anthony Ruhier (@Anthony25)</li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2018 Michael DeHaan<br>© 2018–2019 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/2.10/collections/netbox/netbox/netbox_ip_address_module.html" class="_attribution-link">https://docs.ansible.com/ansible/2.10/collections/netbox/netbox/netbox_ip_address_module.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
