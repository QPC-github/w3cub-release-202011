
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Keycloak_clienttemplate – Allows Administration of Keycloak Client Templates via Keycloak API - Ansible 2.10 - W3cubDocs</title>
  
  <meta name="description" content=" Note ">
  <meta name="keywords" content="community, general, keycloak, clienttemplate, –, allows, administration, client, templates, api, ansible, ansible~2.10">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/ansible~2.10/collections/community/general/keycloak_clienttemplate_module.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/ansible~2.10.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ansible~2.10/" class="_nav-link" title="" style="margin-left:0;">Ansible 2.10</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx">
				
				
<h1 id="community-general-keycloak-clienttemplate-allows-administration-of-keycloak-client-templates-via-keycloak-api">community.general.keycloak_clienttemplate – Allows administration of Keycloak client templates via Keycloak API</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/community/general">community.general collection</a>.</p> <p>To install it use: <code>ansible-galaxy collection install community.general</code>.</p> <p>To use it in a playbook, specify: <code>community.general.keycloak_clienttemplate</code>.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id3">Notes</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id5">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>This module allows the administration of Keycloak client templates via the Keycloak REST API. It requires access to the REST API via OpenID Connect; the user connecting and the client being used must have the requisite access rights. In a default Keycloak installation, admin-cli and an admin user would work, as would a separate client definition with the scope tailored to your needs and a user having the expected roles.</li> <li>The names of module options are snake_cased versions of the camelCase ones found in the Keycloak API and its documentation at <a class="reference external" href="https://www.keycloak.org/docs-api/8.0/rest-api/index.html">https://www.keycloak.org/docs-api/8.0/rest-api/index.html</a>
</li> <li>The Keycloak API does not always enforce for only sensible settings to be used – you can set SAML-specific settings on an OpenID Connect client for instance and vice versa. Be careful. If you do not specify a setting, usually a sensible default is chosen.</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="2">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="2">  <b>attributes</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>A dict of further attributes for this client template. This can contain various configuration settings, though in the default installation of Keycloak as of 3.4, none are documented or known, so this is usually empty.</div> </td> </tr> <tr> <td colspan="2">  <b>auth_client_id</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> <b>Default:</b><br><div style="color: blue">"admin-cli"</div> </td> <td> <div>OpenID Connect <em>client_id</em> to authenticate to the API with.</div> </td> </tr> <tr> <td colspan="2">  <b>auth_client_secret</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Client Secret to use in conjunction with <em>auth_client_id</em> (if required).</div> </td> </tr> <tr> <td colspan="2">  <b>auth_keycloak_url</b>  <div style="font-size: small"> <span style="color: purple">string</span> / <span style="color: red">required</span> </div> </td> <td> </td> <td> <div>URL to the Keycloak instance.</div> <div style="font-size: small; color: darkgreen">
<br>aliases: url</div> </td> </tr> <tr> <td colspan="2">  <b>auth_password</b>  <div style="font-size: small"> <span style="color: purple">string</span> / <span style="color: red">required</span> </div> </td> <td> </td> <td> <div>Password to authenticate for API access with.</div> <div style="font-size: small; color: darkgreen">
<br>aliases: password</div> </td> </tr> <tr> <td colspan="2">  <b>auth_realm</b>  <div style="font-size: small"> <span style="color: purple">string</span> / <span style="color: red">required</span> </div> </td> <td> </td> <td> <div>Keycloak realm name to authenticate to for API access.</div> </td> </tr> <tr> <td colspan="2">  <b>auth_username</b>  <div style="font-size: small"> <span style="color: purple">string</span> / <span style="color: red">required</span> </div> </td> <td> </td> <td> <div>Username to authenticate for API access with.</div> <div style="font-size: small; color: darkgreen">
<br>aliases: username</div> </td> </tr> <tr> <td colspan="2">  <b>description</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Description of the client template in Keycloak</div> </td> </tr> <tr> <td colspan="2">  <b>full_scope_allowed</b>  <div style="font-size: small"> <span style="color: purple">boolean</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Is the "Full Scope Allowed" feature set for this client template or not. This is 'fullScopeAllowed' in the Keycloak REST API.</div> </td> </tr> <tr> <td colspan="2">  <b>id</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Id of client template to be worked on. This is usually a UUID.</div> </td> </tr> <tr> <td colspan="2">  <b>name</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Name of the client template</div> </td> </tr> <tr> <td colspan="2">  <b>protocol</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li>openid-connect</li> <li>saml</li> </ul> </td> <td> <div>Type of client template (either <code>openid-connect</code> or <code>saml</code>.</div> </td> </tr> <tr> <td colspan="2">  <b>protocol_mappers</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>a list of dicts defining protocol mappers for this client template. This is 'protocolMappers' in the Keycloak REST API.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>config</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Dict specifying the configuration options for the protocol mapper; the contents differ depending on the value of <em>protocolMapper</em> and are not documented other than by the source of the mappers and its parent class(es). An example is given below. It is easiest to obtain valid config values by dumping an already-existing protocol mapper configuration through check-mode in the "existing" field.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>consentRequired</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Specifies whether a user needs to provide consent to a client for this mapper to be active.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>consentText</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>The human-readable name of the consent the user is presented to accept.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>id</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Usually a UUID specifying the internal ID of this protocol mapper instance.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>name</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>The name of this protocol mapper.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>protocol</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li>openid-connect</li> <li>saml</li> </ul> </td> <td> <div>is either 'openid-connect' or 'saml', this specifies for which protocol this protocol mapper is active.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>protocolMapper</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>The Keycloak-internal name of the type of this protocol-mapper. While an exhaustive list is impossible to provide since this may be extended through SPIs by the user of Keycloak, by default Keycloak as of 3.4 ships with at least</div> <div><code>docker-v2-allow-all-mapper</code></div> <div><code>oidc-address-mapper</code></div> <div><code>oidc-full-name-mapper</code></div> <div><code>oidc-group-membership-mapper</code></div> <div><code>oidc-hardcoded-claim-mapper</code></div> <div><code>oidc-hardcoded-role-mapper</code></div> <div><code>oidc-role-name-mapper</code></div> <div><code>oidc-script-based-protocol-mapper</code></div> <div><code>oidc-sha256-pairwise-sub-mapper</code></div> <div><code>oidc-usermodel-attribute-mapper</code></div> <div><code>oidc-usermodel-client-role-mapper</code></div> <div><code>oidc-usermodel-property-mapper</code></div> <div><code>oidc-usermodel-realm-role-mapper</code></div> <div><code>oidc-usersessionmodel-note-mapper</code></div> <div><code>saml-group-membership-mapper</code></div> <div><code>saml-hardcode-attribute-mapper</code></div> <div><code>saml-hardcode-role-mapper</code></div> <div><code>saml-role-list-mapper</code></div> <div><code>saml-role-name-mapper</code></div> <div><code>saml-user-attribute-mapper</code></div> <div><code>saml-user-property-mapper</code></div> <div><code>saml-user-session-note-mapper</code></div> <div>An exhaustive list of available mappers on your installation can be obtained on the admin console by going to Server Info -&gt; Providers and looking under 'protocol-mapper'.</div> </td> </tr> <tr> <td colspan="2">  <b>realm</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Realm this client template is found in.</div> </td> </tr> <tr> <td colspan="2">  <b>state</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>present</b> ←</div></li> <li>absent</li> </ul> </td> <td> <div>State of the client template</div> <div>On <code>present</code>, the client template will be created (or updated if it exists already).</div> <div>On <code>absent</code>, the client template will be removed if it exists</div> </td> </tr> <tr> <td colspan="2">  <b>validate_certs</b>  <div style="font-size: small"> <span style="color: purple">boolean</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li>no</li> <li><div style="color: blue">
<b>yes</b> ←</div></li> </ul> </td> <td> <div>Verify TLS certificates (do not disable this in production).</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>The Keycloak REST API defines further fields (namely <em>bearerOnly</em>, <em>consentRequired</em>, <em>standardFlowEnabled</em>, <em>implicitFlowEnabled</em>, <em>directAccessGrantsEnabled</em>, <em>serviceAccountsEnabled</em>, <em>publicClient</em>, and <em>frontchannelLogout</em>) which, while available with keycloak_client, do not have any effect on Keycloak client-templates and are discarded if supplied with an API request changing client-templates. As such, they are not available through this module.</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml">- name: Create or update Keycloak client template (minimal)
  local_action:
    module: keycloak_clienttemplate
    auth_client_id: admin-cli
    auth_keycloak_url: https://auth.example.com/auth
    auth_realm: master
    auth_username: USERNAME
    auth_password: PASSWORD
    realm: master
    name: this_is_a_test

- name: Delete Keycloak client template
  local_action:
    module: keycloak_clienttemplate
    auth_client_id: admin-cli
    auth_keycloak_url: https://auth.example.com/auth
    auth_realm: master
    auth_username: USERNAME
    auth_password: PASSWORD
    realm: master
    state: absent
    name: test01

- name: Create or update Keycloak client template (with a protocol mapper)
  local_action:
    module: keycloak_clienttemplate
    auth_client_id: admin-cli
    auth_keycloak_url: https://auth.example.com/auth
    auth_realm: master
    auth_username: USERNAME
    auth_password: PASSWORD
    realm: master
    name: this_is_a_test
    protocol_mappers:
      - config:
          access.token.claim: True
          claim.name: "family_name"
          id.token.claim: True
          jsonType.label: String
          user.attribute: lastName
          userinfo.token.claim: True
        consentRequired: True
        consentText: "${familyName}"
        name: family name
        protocol: openid-connect
        protocolMapper: oidc-usermodel-property-mapper
    full_scope_allowed: false
    id: bce6f5e9-d7d3-4955-817e-c5b7f8d65b3f
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="1">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="1">  <b>end_state</b>  <div style="font-size: small"> <span style="color: purple">dictionary</span> </div> </td> <td>always</td> <td> <div>client template representation of client template after module execution (sample is truncated)</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">{'description': 'test01', 'fullScopeAllowed': False, 'id': '9c3712ab-decd-481e-954f-76da7b006e5f', 'name': 'test01', 'protocol': 'saml'}</div> </td> </tr> <tr> <td colspan="1">  <b>existing</b>  <div style="font-size: small"> <span style="color: purple">dictionary</span> </div> </td> <td>always</td> <td> <div>client template representation of existing client template (sample is truncated)</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">{'description': 'test01', 'fullScopeAllowed': False, 'id': '9c3712ab-decd-481e-954f-76da7b006e5f', 'name': 'test01', 'protocol': 'saml'}</div> </td> </tr> <tr> <td colspan="1">  <b>msg</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>always</td> <td> <div>Message as to what action was taken</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">Client template testclient has been updated</div> </td> </tr> <tr> <td colspan="1">  <b>proposed</b>  <div style="font-size: small"> <span style="color: purple">dictionary</span> </div> </td> <td>always</td> <td> <div>client template representation of proposed changes to client template</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">{'name': 'test01'}</div> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Eike Frost (@eikef)</li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2018 Michael DeHaan<br>© 2018–2019 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/2.10/collections/community/general/keycloak_clienttemplate_module.html" class="_attribution-link">https://docs.ansible.com/ansible/2.10/collections/community/general/keycloak_clienttemplate_module.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
