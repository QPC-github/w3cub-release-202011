
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Bigip_firewall_rule – Manage AFM Firewall Rules - Ansible 2.10 - W3cubDocs</title>
  
  <meta name="description" content=" Note ">
  <meta name="keywords" content="f, networks, modules, bigip, firewall, rule, –, manage, afm, rules, ansible, ansible~2.10">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/ansible~2.10/collections/f5networks/f5_modules/bigip_firewall_rule_module.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/ansible~2.10.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ansible~2.10/" class="_nav-link" title="" style="margin-left:0;">Ansible 2.10</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx">
				
				
<h1 id="f5networks-f5-modules-bigip-firewall-rule-manage-afm-firewall-rules">f5networks.f5_modules.bigip_firewall_rule – Manage AFM Firewall rules</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/f5networks/f5_modules">f5networks.f5_modules collection</a>.</p> <p>To install it use: <code>ansible-galaxy collection install f5networks.f5_modules</code>.</p> <p>To use it in a playbook, specify: <code>f5networks.f5_modules.bigip_firewall_rule</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 1.0.0: </span>of f5networks.f5_modules</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id3">Notes</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id5">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Manages firewall rules in an AFM (Advanced Firewall Manager) firewall policy. New rules will always be added to the end of the policy. Rules can be re-ordered using the <code>bigip_security_policy</code> module. Rules can also be pre-ordered using the <code>bigip_security_policy</code> module and then later updated using the <code>bigip_firewall_rule</code> module.</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="2">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="2">  <b>action</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li>accept</li> <li>drop</li> <li>reject</li> <li>accept-decisively</li> </ul> </td> <td> <div>Specifies the action for the firewall rule.</div> <div>When <code>accept</code>, allows packets with the specified source, destination, and protocol to pass through the firewall. Packets that match the rule and are accepted, traverse the system as if the firewall is not present.</div> <div>When <code>drop</code>, drops packets with the specified source, destination, and protocol. Dropping a packet is a silent action with no notification to the source or destination systems. Dropping the packet causes the connection to be retried until the retry threshold is reached.</div> <div>When <code>reject</code>, rejects packets with the specified source, destination, and protocol. When a packet is rejected, the firewall sends a destination unreachable message to the sender.</div> <div>When <code>accept-decisively</code>, allows packets with the specified source, destination, and protocol to pass through the firewall, and does not require any further processing by any of the further firewalls. Packets that match the rule and are accepted, traverse the system as if the firewall is not present. If the Rule List is applied to a virtual server, management IP, or self IP firewall rule, then Accept Decisively is equivalent to Accept.</div> <div>When creating a new rule, if this parameter is not provided, the default is <code>reject</code>.</div> </td> </tr> <tr> <td colspan="2">  <b>description</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>The rule description.</div> </td> </tr> <tr> <td colspan="2">  <b>destination</b>  <div style="font-size: small"> <span style="color: purple">list</span> / <span style="color: purple">elements=dictionary</span> </div> </td> <td> </td> <td> <div>Specifies packet destinations to which the rule applies.</div> <div>Leaving this field blank applies the rule to all addresses and all ports.</div> <div>You can specify the following destination items. An IPv4 or IPv6 address, an IPv4 or IPv6 address range, geographic location, VLAN, address list, port, port range, port list or address list.</div> <div>You can specify a mix of different types of items for the source address.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>address</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Specifies a specific IP address.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>address_list</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Specifies an existing address list.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>address_range</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Specifies an address range.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>country</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Specifies a country code.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>port</b>  <div style="font-size: small"> <span style="color: purple">integer</span> </div> </td> <td> </td> <td> <div>Specifies a single numeric port.</div> <div>This option is only valid when <code>protocol</code> is <code>tcp</code>(6) or <code>udp</code>(17).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>port_list</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Specifes an existing port list.</div> <div>This option is only valid when <code>protocol</code> is <code>tcp</code>(6) or <code>udp</code>(17).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>port_range</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Specifies a range of ports, which is two port values separated by a hyphen. The port to the left of the hyphen should be less than the port to the right.</div> <div>This option is only valid when <code>protocol</code> is <code>tcp</code>(6) or <code>udp</code>(17).</div> </td> </tr> <tr> <td colspan="2">  <b>icmp_message</b>  <div style="font-size: small"> <span style="color: purple">list</span> / <span style="color: purple">elements=dictionary</span> </div> </td> <td> </td> <td> <div>Specifies the Internet Control Message Protocol (ICMP) or ICMPv6 message <code>type</code> and <code>code</code> the rule uses.</div> <div>This parameter is only relevant when <code>protocol</code> is either <code>icmp</code>(1) or <code>icmpv6</code>(58).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>code</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Specifies the code returned in response to the specified ICMP message type.</div> <div>You can specify codes, each set appropriate to the associated type, such as No Code (0) (associated with Echo Reply (0)) and Host Unreachable (1) (associated with Destination Unreachable (3)), or you can specify <code>any</code> to indicate the system applies the rule for all codes in response to that specific ICMP message.</div> <div>You can also specify an arbitrary code.</div> <div>The ICMP protocol contains definitions for the existing message code and number pairs.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>type</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Specifies the type of ICMP message.</div> <div>You can specify control messages, such as Echo Reply (0) and Destination Unreachable (3), or you can specify <code>any</code> to indicate the system applies the rule for all ICMP messages.</div> <div>You can also specify an arbitrary ICMP message.</div> <div>The ICMP protocol contains definitions for the existing message type and number pairs.</div> </td> </tr> <tr> <td colspan="2">  <b>irule</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Specifies an iRule that is applied to the firewall rule.</div> <div>An iRule can be started when the firewall rule matches traffic.</div> </td> </tr> <tr> <td colspan="2">  <b>logging</b>  <div style="font-size: small"> <span style="color: purple">boolean</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>Specifies whether logging is enabled or disabled for the firewall rule.</div> <div>When creating a new rule, if this parameter is not specified, the default if <code>no</code>.</div> </td> </tr> <tr> <td colspan="2">  <b>name</b>  <div style="font-size: small"> <span style="color: purple">string</span> / <span style="color: red">required</span> </div> </td> <td> </td> <td> <div>Specifies the name of the rule.</div> </td> </tr> <tr> <td colspan="2">  <b>parent_policy</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>The policy which contains the rule to be managed.</div> <div>One of either <code>parent_policy</code> or <code>parent_rule_list</code> is required.</div> </td> </tr> <tr> <td colspan="2">  <b>parent_rule_list</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>The rule list which contains the rule to be managed.</div> <div>One of either <code>parent_policy</code> or <code>parent_rule_list</code> is required.</div> </td> </tr> <tr> <td colspan="2">  <b>partition</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> <b>Default:</b><br><div style="color: blue">"Common"</div> </td> <td> <div>Device partition to manage resources on.</div> </td> </tr> <tr> <td colspan="2">  <b>protocol</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Specifies the protocol to which the rule applies.</div> <div>Protocols may be specified by either their name or numeric value.</div> <div>A special protocol value <code>any</code> can be specified to match any protocol. The numeric equivalent of this protocol is <code>255</code>.</div> </td> </tr> <tr> <td colspan="2">  <b>provider</b>  <div style="font-size: small"> <span style="color: purple">dictionary</span> </div> <div style="font-style: italic; font-size: small; color: darkgreen"> added in 1.0.0 of f5networks.f5_modules </div> </td> <td> </td> <td> <div>A dict object containing connection details.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>auth_provider</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Configures the auth provider for to obtain authentication tokens from the remote device.</div> <div>This option is really used when working with BIG-IQ devices.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>no_f5_teem</b>  <div style="font-size: small"> <span style="color: purple">boolean</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li>no</li> <li>yes</li> </ul> </td> <td> <div>If <code>yes</code>, TEEM telemetry data is not sent to F5.</div> <div>You may omit this option by setting the environment variable <code>F5_TEEM</code>.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>password</b>  <div style="font-size: small"> <span style="color: purple">string</span> / <span style="color: red">required</span> </div> </td> <td> </td> <td> <div>The password for the user account used to connect to the BIG-IP.</div> <div>You may omit this option by setting the environment variable <code>F5_PASSWORD</code>.</div> <div style="font-size: small; color: darkgreen">
<br>aliases: pass, pwd</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>server</b>  <div style="font-size: small"> <span style="color: purple">string</span> / <span style="color: red">required</span> </div> </td> <td> </td> <td> <div>The BIG-IP host.</div> <div>You may omit this option by setting the environment variable <code>F5_SERVER</code>.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>server_port</b>  <div style="font-size: small"> <span style="color: purple">integer</span> </div> </td> <td> <b>Default:</b><br><div style="color: blue">443</div> </td> <td> <div>The BIG-IP server port.</div> <div>You may omit this option by setting the environment variable <code>F5_SERVER_PORT</code>.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>timeout</b>  <div style="font-size: small"> <span style="color: purple">integer</span> </div> </td> <td> </td> <td> <div>Specifies the timeout in seconds for communicating with the network device for either connecting or sending commands. If the timeout is exceeded before the operation is completed, the module will error.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>transport</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>rest</b> ←</div></li> </ul> </td> <td> <div>Configures the transport connection to use when connecting to the remote device.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>user</b>  <div style="font-size: small"> <span style="color: purple">string</span> / <span style="color: red">required</span> </div> </td> <td> </td> <td> <div>The username to connect to the BIG-IP with. This user must have administrative privileges on the device.</div> <div>You may omit this option by setting the environment variable <code>F5_USER</code>.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>validate_certs</b>  <div style="font-size: small"> <span style="color: purple">boolean</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li>no</li> <li><div style="color: blue">
<b>yes</b> ←</div></li> </ul> </td> <td> <div>If <code>no</code>, SSL certificates are not validated. Use this only on personally controlled sites using self-signed certificates.</div> <div>You may omit this option by setting the environment variable <code>F5_VALIDATE_CERTS</code>.</div> </td> </tr> <tr> <td colspan="2">  <b>rule_list</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Specifies an existing rule list to use in the rule.</div> <div>This parameter is mutually exclusive with many of the other individual-rule specific settings. This includes <code>logging</code>, <code>action</code>, <code>source</code>, <code>destination</code>, <code>irule'</code>, <code>protocol</code> and <code>logging</code>.</div> <div>This parameter is only used when <code>parent_policy</code> is specified, otherwise it is ignored.</div> </td> </tr> <tr> <td colspan="2">  <b>schedule</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Specifies a schedule for the firewall rule.</div> <div>You configure schedules to define days and times when the firewall rule is made active.</div> </td> </tr> <tr> <td colspan="2">  <b>source</b>  <div style="font-size: small"> <span style="color: purple">list</span> / <span style="color: purple">elements=dictionary</span> </div> </td> <td> </td> <td> <div>Specifies packet sources to which the rule applies.</div> <div>Leaving this field blank applies the rule to all addresses and all ports.</div> <div>You can specify the following source items. An IPv4 or IPv6 address, an IPv4 or IPv6 address range, geographic location, VLAN, address list, port, port range, port list or address list.</div> <div>You can specify a mix of different types of items for the source address.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>address</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Specifies a specific IP address.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>address_list</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Specifies an existing address list.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>address_range</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Specifies an address range.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>country</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Specifies a country code.</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>port</b>  <div style="font-size: small"> <span style="color: purple">integer</span> </div> </td> <td> </td> <td> <div>Specifies a single numeric port.</div> <div>This option is only valid when <code>protocol</code> is <code>tcp</code>(6) or <code>udp</code>(17).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>port_list</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Specifes an existing port list.</div> <div>This option is only valid when <code>protocol</code> is <code>tcp</code>(6) or <code>udp</code>(17).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>port_range</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Specifies a range of ports, which is two port values separated by a hyphen. The port to the left of the hyphen should be less than the port to the right.</div> <div>This option is only valid when <code>protocol</code> is <code>tcp</code>(6) or <code>udp</code>(17).</div> </td> </tr> <tr> <td class="elbow-placeholder"></td> <td colspan="1">  <b>vlan</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Specifies VLANs to which the rule applies.</div> <div>The VLAN source refers to the packet's source.</div> </td> </tr> <tr> <td colspan="2">  <b>state</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>present</b> ←</div></li> <li>absent</li> </ul> </td> <td> <div>When <code>state</code> is <code>present</code>, ensures the rule exists.</div> <div>When <code>state</code> is <code>absent</code>, ensures the rule is removed.</div> </td> </tr> <tr> <td colspan="2">  <b>status</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li>enabled</li> <li>disabled</li> <li>scheduled</li> </ul> </td> <td> <div>Indicates the activity state of the rule or rule list.</div> <div>When <code>disabled</code>, specifies the rule or rule list does not apply at all.</div> <div>When <code>enabled</code>, specifies the system applies the firewall rule or rule list to the given context and addresses.</div> <div>When <code>scheduled</code>, specifies the system applies the rule or rule list according to the specified schedule.</div> <div>When creating a new rule, if this parameter is not provided, the default is <code>enabled</code>.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>For more information on using Ansible to manage F5 Networks devices see <a class="reference external" href="https://www.ansible.com/integrations/networks/f5">https://www.ansible.com/integrations/networks/f5</a>.</li> <li>Requires BIG-IP software version &gt;= 12.</li> <li>The F5 modules only manipulate the running configuration of the F5 product. To ensure that BIG-IP specific configuration persists to disk, be sure to include at least one task that uses the <a class="reference internal" href="bigip_config_module#ansible-collections-f5networks-f5-modules-bigip-config-module"><span class="std std-ref">f5networks.f5_modules.bigip_config</span></a> module to save the running configuration. Refer to the module’s documentation for the correct usage of the module to save your running configuration.</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml">- name: Create a new rule in the foo firewall policy
  bigip_firewall_rule:
    name: foo
    parent_policy: policy1
    protocol: tcp
    source:
      - address: 1.2.3.4
      - address: "::1"
      - address_list: foo-list1
      - address_range: 1.1.1.1-2.2.2.2
      - vlan: vlan1
      - country: US
      - port: 22
      - port_list: port-list1
      - port_range: 80-443
    destination:
      - address: 1.2.3.4
      - address: "::1"
      - address_list: foo-list1
      - address_range: 1.1.1.1-2.2.2.2
      - country: US
      - port: 22
      - port_list: port-list1
      - port_range: 80-443
    irule: irule1
    action: accept
    logging: yes
    provider:
      password: secret
      server: lb.mydomain.com
      user: admin
  delegate_to: localhost

- name: Create an ICMP specific rule
  bigip_firewall_rule:
    name: foo
    protocol: icmp
    icmp_message:
      type: 0
    source:
      - country: US
    action: drop
    logging: yes
    provider:
      password: secret
      server: lb.mydomain.com
      user: admin
  delegate_to: localhost

- name: Add a new policy rule that uses an existing rule list
  bigip_firewall_rule:
    name: foo
    parent_policy: foo_policy
    rule_list: rule-list1
    provider:
      password: secret
      server: lb.mydomain.com
      user: admin
  delegate_to: localhost
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="2">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="2">  <b>action</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>The action for the firewall rule.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">drop</div> </td> </tr> <tr> <td colspan="2">  <b>description</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>The rule description.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">MyRule</div> </td> </tr> <tr> <td colspan="2">  <b>destination</b>  <div style="font-size: small"> <span style="color: purple">complex</span> </div> </td> <td>changed</td> <td> <div>The packet destinations to which the rule applies.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">hash/dictionary of values</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>address</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>A specific IP address.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">192.168.1.1</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>address_list</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>An existing address list.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">foo-list1</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>address_range</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>The address range.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">1.1.1.1-2.2.2.2</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>country</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>A country code.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">US</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>port</b>  <div style="font-size: small"> <span style="color: purple">integer</span> </div> </td> <td>changed</td> <td> <div>Single numeric port.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">8080</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>port_list</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>An existing port list.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">port-list1</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>port_range</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>The port range.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">80-443</div> </td> </tr> <tr> <td colspan="2">  <b>icmp_message</b>  <div style="font-size: small"> <span style="color: purple">complex</span> </div> </td> <td>changed</td> <td> <div>The (ICMP) or ICMPv6 message <code>type</code> and <code>code</code> that the rule uses.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">hash/dictionary of values</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>code</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>The code returned in response to the specified ICMP message type.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">1</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>type</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>The type of ICMP message.</div> <br> </td> </tr> <tr> <td colspan="2">  <b>irule</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>The iRule that is applied to the firewall rule.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">_sys_auth_radius</div> </td> </tr> <tr> <td colspan="2">  <b>logging</b>  <div style="font-size: small"> <span style="color: purple">boolean</span> </div> </td> <td>changed</td> <td> <div>Enable or Disable logging for the firewall rule.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">True</div> </td> </tr> <tr> <td colspan="2">  <b>name</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>Name of the rule.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">FooRule</div> </td> </tr> <tr> <td colspan="2">  <b>parent_policy</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>The policy which contains the rule to be managed.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">FooPolicy</div> </td> </tr> <tr> <td colspan="2">  <b>parent_rule_list</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>The rule list which contains the rule to be managed.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">FooRuleList</div> </td> </tr> <tr> <td colspan="2">  <b>protocol</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>The protocol to which the rule applies.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">any</div> </td> </tr> <tr> <td colspan="2">  <b>rule_list</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>An existing rule list to use in the parent policy.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">rule-list-1</div> </td> </tr> <tr> <td colspan="2">  <b>schedule</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>The schedule for the firewall rule.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">Foo_schedule</div> </td> </tr> <tr> <td colspan="2">  <b>source</b>  <div style="font-size: small"> <span style="color: purple">complex</span> </div> </td> <td>changed</td> <td> <div>The packet sources to which the rule applies.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">hash/dictionary of values</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>address</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>A specific IP address.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">192.168.1.1</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>address_list</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>An existing address list.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">foo-list1</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>address_range</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>The address range.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">1.1.1.1-2.2.2.2</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>country</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>A country code.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">US</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>port</b>  <div style="font-size: small"> <span style="color: purple">integer</span> </div> </td> <td>changed</td> <td> <div>Single numeric port.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">8080</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>port_list</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>An existing port list.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">port-list1</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>port_range</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>The port range.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">80-443</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>vlan</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>Source VLANs for the packets.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">vlan1</div> </td> </tr> <tr> <td colspan="2">  <b>status</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>changed</td> <td> <div>The activity state of the rule or rule list.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">scheduled</div> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Tim Rupp (@caphrim007)</li> <li>Wojciech Wypior (@wojtek0806)</li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2018 Michael DeHaan<br>© 2018–2019 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/2.10/collections/f5networks/f5_modules/bigip_firewall_rule_module.html" class="_attribution-link">https://docs.ansible.com/ansible/2.10/collections/f5networks/f5_modules/bigip_firewall_rule_module.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
