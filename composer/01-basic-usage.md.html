
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>2. Basic Usage - Composer - W3cubDocs</title>
  
  <meta name="description" content="For our basic usage introduction, we will be installing monolog&#47;monolog, a logging library. If you have not yet installed Composer, refer to the &hellip;">
  <meta name="keywords" content="basic, usage, composer">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/composer/01-basic-usage.md.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/composer.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/composer/" class="_nav-link" title="" style="margin-left:0;">Composer</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1 id="basic-usage">Basic usage</h1> <h2 id="introduction">Introduction</h2> <p>For our basic usage introduction, we will be installing <code>monolog/monolog</code>, a logging library. If you have not yet installed Composer, refer to the <a href="00-intro.md">Intro</a> chapter.</p> <blockquote> <p><strong>Note:</strong> for the sake of simplicity, this introduction will assume you have performed a <a href="00-intro.md#locally">local</a> install of Composer.</p> </blockquote> <h2 id="composer-json-project-setup">
<code>composer.json</code>: Project setup</h2> <p>To start using Composer in your project, all you need is a <code>composer.json</code> file. This file describes the dependencies of your project and may contain other metadata as well.</p> <h3 id="the-require-key">The <code>require</code> key</h3> <p>The first (and often only) thing you specify in <code>composer.json</code> is the <a href="04-schema.md#require"><code>require</code></a> key. You are simply telling Composer which packages your project depends on.</p> <pre data-language="javascript">{
    "require": {
        "monolog/monolog": "1.0.*"
    }
}</pre> <p>As you can see, <a href="04-schema.md#require"><code>require</code></a> takes an object that maps <strong>package names</strong> (e.g. <code>monolog/monolog</code>) to <strong>version constraints</strong> (e.g. <code>1.0.*</code>).</p> <p>Composer uses this information to search for the right set of files in package "repositories" that you register using the <a href="04-schema.md#repositories"><code>repositories</code></a> key, or in Packagist, the default package repository. In the above example, since no other repository has been registered in the <code>composer.json</code> file, it is assumed that the <code>monolog/monolog</code> package is registered on Packagist. (See more about Packagist <a href="#packagist">below</a>, or read more about repositories <a href="05-repositories.md">here</a>).</p> <h3 id="package-names">Package names</h3> <p>The package name consists of a vendor name and the project's name. Often these will be identical - the vendor name only exists to prevent naming clashes. For example, it would allow two different people to create a library named <code>json</code>. One might be named <code>igorw/json</code> while the other might be <code>seldaek/json</code>.</p> <p>Read more about publishing packages and package naming <a href="02-libraries.md">here</a>. (Note that you can also specify "platform packages" as dependencies, allowing you to require certain versions of server software. See <a href="#platform-packages">platform packages</a> below.)</p> <h3 id="package-version-constraints">Package version constraints</h3> <p>In our example, we are requesting the Monolog package with the version constraint <a href="https://semver.mwl.be/#?package=monolog%2Fmonolog&amp;version=1.0.*"><code>1.0.*</code></a>. This means any version in the <code>1.0</code> development branch, or any version that is greater than or equal to 1.0 and less than 1.1 (<code>&gt;=1.0 &lt;1.1</code>).</p> <p>Please read <a href="articles/versions.md">versions</a> for more in-depth information on versions, how versions relate to each other, and on version constraints.</p> <blockquote> <p><strong>How does Composer download the right files?</strong> When you specify a dependency in <code>composer.json</code>, Composer first takes the name of the package that you have requested and searches for it in any repositories that you have registered using the <a href="04-schema.md#repositories"><code>repositories</code></a> key. If you have not registered any extra repositories, or it does not find a package with that name in the repositories you have specified, it falls back to Packagist (more <a href="#packagist">below</a>).</p> <p>When Composer finds the right package, either in Packagist or in a repo you have specified, it then uses the versioning features of the package's VCS (i.e., branches and tags) to attempt to find the best match for the version constraint you have specified. Be sure to read about versions and package resolution in the <a href="articles/versions.md">versions article</a>.</p> <p><strong>Note:</strong> If you are trying to require a package but Composer throws an error regarding package stability, the version you have specified may not meet your default minimum stability requirements. By default only stable releases are taken into consideration when searching for valid package versions in your VCS.</p> <p>You might run into this if you are trying to require dev, alpha, beta, or RC versions of a package. Read more about stability flags and the <code>minimum-stability</code> key on the <a href="04-schema.md">schema page</a>.</p> </blockquote> <h2 id="installing-dependencies">Installing dependencies</h2> <p>To install the defined dependencies for your project, run the <a href="03-cli.md#install"><code>install</code></a> command.</p> <pre>php composer.phar install</pre> <p>When you run this command, one of two things may happen:</p> <h3 id="installing-without-composer-lock">Installing without <code>composer.lock</code>
</h3> <p>If you have never run the command before and there is also no <code>composer.lock</code> file present, Composer simply resolves all dependencies listed in your <code>composer.json</code> file and downloads the latest version of their files into the <code>vendor</code> directory in your project. (The <code>vendor</code> directory is the conventional location for all third-party code in a project). In our example from above, you would end up with the Monolog source files in <code>vendor/monolog/monolog/</code>. If Monolog listed any dependencies, those would also be in folders under <code>vendor/</code>.</p> <blockquote> <p><strong>Tip:</strong> If you are using git for your project, you probably want to add <code>vendor</code> in your <code>.gitignore</code>. You really don't want to add all of that third-party code to your versioned repository.</p> </blockquote> <p>When Composer has finished installing, it writes all of the packages and the exact versions of them that it downloaded to the <code>composer.lock</code> file, locking the project to those specific versions. You should commit the <code>composer.lock</code> file to your project repo so that all people working on the project are locked to the same versions of dependencies (more below).</p> <h3 id="installing-with-composer-lock">Installing with <code>composer.lock</code>
</h3> <p>This brings us to the second scenario. If there is already a <code>composer.lock</code> file as well as a <code>composer.json</code> file when you run <code>composer install</code>, it means either you ran the <code>install</code> command before, or someone else on the project ran the <code>install</code> command and committed the <code>composer.lock</code> file to the project (which is good).</p> <p>Either way, running <code>install</code> when a <code>composer.lock</code> file is present resolves and installs all dependencies that you listed in <code>composer.json</code>, but Composer uses the exact versions listed in <code>composer.lock</code> to ensure that the package versions are consistent for everyone working on your project. As a result you will have all dependencies requested by your <code>composer.json</code> file, but they may not all be at the very latest available versions (some of the dependencies listed in the <code>composer.lock</code> file may have released newer versions since the file was created). This is by design, it ensures that your project does not break because of unexpected changes in dependencies.</p> <h3 id="commit-your-composer-lock-file-to-version-control">Commit your <code>composer.lock</code> file to version control</h3> <p>Committing this file to VC is important because it will cause anyone who sets up the project to use the exact same versions of the dependencies that you are using. Your CI server, production machines, other developers in your team, everything and everyone runs on the same dependencies, which mitigates the potential for bugs affecting only some parts of the deployments. Even if you develop alone, in six months when reinstalling the project you can feel confident the dependencies installed are still working even if your dependencies released many new versions since then. (See note below about using the <code>update</code> command.)</p> <h2 id="updating-dependencies-to-their-latest-versions">Updating dependencies to their latest versions</h2> <p>As mentioned above, the <code>composer.lock</code> file prevents you from automatically getting the latest versions of your dependencies. To update to the latest versions, use the <a href="03-cli.md#update"><code>update</code></a> command. This will fetch the latest matching versions (according to your <code>composer.json</code> file) and update the lock file with the new versions. (This is equivalent to deleting the <code>composer.lock</code> file and running <code>install</code> again.)</p> <pre>php composer.phar update</pre> <blockquote> <p><strong>Note:</strong> Composer will display a Warning when executing an <code>install</code> command if the <code>composer.lock</code> has not been updated since changes were made to the <code>composer.json</code> that might affect dependency resolution.</p> </blockquote> <p>If you only want to install or update one dependency, you can whitelist them:</p> <pre>php composer.phar update monolog/monolog [...]</pre> <blockquote> <p><strong>Note:</strong> For libraries it is not necessary to commit the lock file, see also: <a href="02-libraries.md#lock-file">Libraries - Lock file</a>.</p> </blockquote> <h2 id="packagist">Packagist</h2> <p><a href="https://packagist.org/">Packagist</a> is the main Composer repository. A Composer repository is basically a package source: a place where you can get packages from. Packagist aims to be the central repository that everybody uses. This means that you can automatically <code>require</code> any package that is available there, without further specifying where Composer should look for the package.</p> <p>If you go to the <a href="https://packagist.org/">Packagist website</a> (packagist.org), you can browse and search for packages.</p> <p>Any open source project using Composer is recommended to publish their packages on Packagist. A library does not need to be on Packagist to be used by Composer, but it enables discovery and adoption by other developers more quickly.</p> <h2 id="platform-packages">Platform packages</h2> <p>Composer has platform packages, which are virtual packages for things that are installed on the system but are not actually installable by Composer. This includes PHP itself, PHP extensions and some system libraries.</p> <ul>
<li> <p><code>php</code> represents the PHP version of the user, allowing you to apply constraints, e.g. <code>^7.1</code>. To require a 64bit version of php, you can require the <code>php-64bit</code> package.</p> </li> <li> <p><code>hhvm</code> represents the version of the HHVM runtime and allows you to apply a constraint, e.g., <code>^2.3</code>.</p> </li> <li> <p><code>ext-&lt;name&gt;</code> allows you to require PHP extensions (includes core extensions). Versioning can be quite inconsistent here, so it's often a good idea to set the constraint to <code>*</code>. An example of an extension package name is <code>ext-gd</code>.</p> </li> <li>
<code>lib-&lt;name&gt;</code> allows constraints to be made on versions of libraries used by PHP. The following are available: <code>curl</code>, <code>iconv</code>, <code>icu</code>, <code>libxml</code>, <code>openssl</code>, <code>pcre</code>, <code>uuid</code>, <code>xsl</code>.</li> </ul>
<p>You can use <a href="03-cli.md#show"><code>show --platform</code></a> to get a list of your locally available platform packages.</p> <h2 id="autoloading">Autoloading</h2> <p>For libraries that specify autoload information, Composer generates a <code>vendor/autoload.php</code> file. You can simply include this file and start using the classes that those libraries provide without any extra work:</p> <pre data-language="php">require __DIR__ . '/vendor/autoload.php';

$log = new Monolog\Logger('name');
$log-&gt;pushHandler(new Monolog\Handler\StreamHandler('app.log', Monolog\Logger::WARNING));
$log-&gt;addWarning('Foo');</pre> <p>You can even add your own code to the autoloader by adding an <a href="04-schema.md#autoload"><code>autoload</code></a> field to <code>composer.json</code>.</p> <pre data-language="javascript">{
    "autoload": {
        "psr-4": {"Acme\\": "src/"}
    }
}</pre> <p>Composer will register a <a href="http://www.php-fig.org/psr/psr-4/">PSR-4</a> autoloader for the <code>Acme</code> namespace.</p> <p>You define a mapping from namespaces to directories. The <code>src</code> directory would be in your project root, on the same level as <code>vendor</code> directory is. An example filename would be <code>src/Foo.php</code> containing an <code>Acme\Foo</code> class.</p> <p>After adding the <a href="04-schema.md#autoload"><code>autoload</code></a> field, you have to re-run <a href="03-cli.md#dump-autoload"><code>dump-autoload</code></a> to re-generate the <code>vendor/autoload.php</code> file.</p> <p>Including that file will also return the autoloader instance, so you can store the return value of the include call in a variable and add more namespaces. This can be useful for autoloading classes in a test suite, for example.</p> <pre data-language="php">$loader = require __DIR__ . '/vendor/autoload.php';
$loader-&gt;addPsr4('Acme\\Test\\', __DIR__);</pre> <p>In addition to PSR-4 autoloading, Composer also supports PSR-0, classmap and files autoloading. See the <a href="04-schema.md#autoload"><code>autoload</code></a> reference for more information.</p> <p>See also the docs on <a href="articles/autoloader-optimization.md">optimizing the autoloader</a>.</p> <blockquote> <p><strong>Note:</strong> Composer provides its own autoloader. If you don't want to use that one, you can include <code>vendor/composer/autoload_*.php</code> files, which return associative arrays allowing you to configure your own autoloader.</p> </blockquote> <p class="prev-next">← <a href="00-intro.md">Intro</a> | <a href="02-libraries.md">Libraries</a> →</p>
<div class="_attribution">
  <p class="_attribution-p">
    © Nils Adermann, Jordi Boggiano<br>Licensed under the MIT License.<br>
    <a href="https://getcomposer.org/doc/01-basic-usage.md" class="_attribution-link">https://getcomposer.org/doc/01-basic-usage.md</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
