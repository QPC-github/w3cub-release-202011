
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>6.11. Complex Numbers - GCC 12 - W3cubDocs</title>
  
  <meta name="description" content="ISO C99 supports complex floating data types, and as an extension GCC supports them in C90 mode and in C++. GCC also supports complex integer data &hellip;">
  <meta name="keywords" content="complex, numbers, gcc, gcc~12">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/gcc~12/complex.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-f16eecbe420d8b2925d31ffbb21d05646497ecbd9515f08ffe69e9bba7332f5657accc7003c7f6c72cb4a132171acf171b359ae3bae4ae5660ddfb1718f88c67.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/gcc~12.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/gcc~12/" class="_nav-link" title="" style="margin-left:0;">GCC 12</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1 class="section" id="Complex-Numbers">6.11 Complex Numbers</h1>    <p id="index-_005f_005fcomplex_005f_005f-keyword">ISO C99 supports complex floating data types, and as an extension GCC supports them in C90 mode and in C++. GCC also supports complex integer data types which are not part of ISO C99. You can declare complex types using the keyword <code>_Complex</code>. As an extension, the older GNU keyword <code>__complex__</code> is also supported. </p> <p>For example, ‘<samp>_Complex double x;</samp>’ declares <code>x</code> as a variable whose real part and imaginary part are both of type <code>double</code>. ‘<samp>_Complex short int y;</samp>’ declares <code>y</code> to have real and imaginary parts of type <code>short int</code>; this is not likely to be useful, but it shows that the set of complex types is complete. </p> <p>To write a constant with a complex data type, use the suffix ‘<samp>i</samp>’ or ‘<samp>j</samp>’ (either one; they are equivalent). For example, <code>2.5fi</code> has type <code>_Complex float</code> and <code>3i</code> has type <code>_Complex int</code>. Such a constant always has a pure imaginary value, but you can form any complex value you like by adding one to a real constant. This is a GNU extension; if you have an ISO C99 conforming C library (such as the GNU C Library), and want to construct complex constants of floating type, you should include <code>&lt;complex.h&gt;</code> and use the macros <code>I</code> or <code>_Complex_I</code> instead. </p> <p>The ISO C++14 library also defines the ‘<samp>i</samp>’ suffix, so C++14 code that includes the ‘<samp>&lt;complex&gt;</samp>’ header cannot use ‘<samp>i</samp>’ for the GNU extension. The ‘<samp>j</samp>’ suffix still has the GNU meaning. </p> <p>GCC can handle both implicit and explicit casts between the <code>_Complex</code> types and other <code>_Complex</code> types as casting both the real and imaginary parts to the scalar type. GCC can handle implicit and explicit casts from a scalar type to a <code>_Complex</code> type and where the imaginary part will be considered zero. The C front-end can handle implicit and explicit casts from a <code>_Complex</code> type to a scalar type where the imaginary part will be ignored. In C++ code, this cast is considered illformed and G++ will error out. </p> <p>GCC provides a built-in function <code>__builtin_complex</code> will can be used to construct a complex value. </p>   <p id="index-_005f_005fimag_005f_005f-keyword">GCC has a few extensions which can be used to extract the real and the imaginary part of the complex-valued expression. Note these expressions are lvalues if the <var>exp</var> is an lvalue. These expressions operands have the type of a complex type which might get prompoted to a complex type from a scalar type. E.g. <code>__real__ (int)<var>x</var></code> is the same as casting to <code>_Complex int</code> before <code>__real__</code> is done. </p> <table> <thead><tr>
<th width="40%">Expression</th>
<th width="60%">Description</th>
</tr></thead> <tr>
<td width="40%"><code>__real__ <var>exp</var></code></td>
<td width="60%">Extract the real part of <var>exp</var>.</td>
</tr> <tr>
<td width="40%"><code>__imag__ <var>exp</var></code></td>
<td width="60%">Extract the imaginary part of <var>exp</var>.</td>
</tr> </table> <p>For values of floating point, you should use the ISO C99 functions, declared in <code>&lt;complex.h&gt;</code> and also provided as built-in functions by GCC. </p> <table> <thead><tr>
<th width="40%">Expression</th>
<th width="20%">float</th>
<th width="20%">double</th>
<th width="20%">long double</th>
</tr></thead> <tr>
<td width="40%"><code>__real__ <var>exp</var></code></td>
<td width="20%"><code>crealf</code></td>
<td width="20%"><code>creal</code></td>
<td width="20%"><code>creall</code></td>
</tr> <tr>
<td width="40%"><code>__imag__ <var>exp</var></code></td>
<td width="20%"><code>cimagf</code></td>
<td width="20%"><code>cimag</code></td>
<td width="20%"><code>cimagl</code></td>
</tr> </table>  <p id="index-complex-conjugation">The operator ‘<samp>~</samp>’ performs complex conjugation when used on a value with a complex type. This is a GNU extension; for values of floating type, you should use the ISO C99 functions <code>conjf</code>, <code>conj</code> and <code>conjl</code>, declared in <code>&lt;complex.h&gt;</code> and also provided as built-in functions by GCC. Note unlike the <code>__real__</code> and <code>__imag__</code> operators, this operator will not do an implicit cast to the complex type because the ‘<samp>~</samp>’ is already a normal operator. </p> <p>GCC can allocate complex automatic variables in a noncontiguous fashion; it’s even possible for the real part to be in a register while the imaginary part is on the stack (or vice versa). Only the DWARF debug info format can represent this, so use of DWARF is recommended. If you are using the stabs debug info format, GCC describes a noncontiguous complex variable as if it were two separate variables of noncomplex type. If the variable’s actual name is <code>foo</code>, the two fictitious variables are named <code>foo$real</code> and <code>foo$imag</code>. You can examine and set these two fictitious variables with your debugger. </p> <dl> <dt>Built-in Function: <var id="index-_005f_005fbuiltin_005fcomplex">type</var> <strong>__builtin_complex</strong> (<var>real</var>, <var>imag</var>)</dt> <dd> <p>The built-in function <code>__builtin_complex</code> is provided for use in implementing the ISO C11 macros <code>CMPLXF</code>, <code>CMPLX</code> and <code>CMPLXL</code>. <var>real</var> and <var>imag</var> must have the same type, a real binary floating-point type, and the result has the corresponding complex type with real and imaginary parts <var>real</var> and <var>imag</var>. Unlike ‘<samp><var>real</var> + I * <var>imag</var></samp>’, this works even when infinities, NaNs and negative zeros are involved. </p> </dd>
</dl>  <p class="header"> </p>
<p> Next: <a href="floating-types#Floating-Types" accesskey="n" rel="next">Floating Types</a>, Previous: <a href="long-long#Long-Long" accesskey="p" rel="prev">Long Long</a>, Up: <a href="c-extensions#C-Extensions" accesskey="u" rel="up">C Extensions</a> [<a href="index#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="https://gcc.gnu.org/onlinedocs/gcc-12.2.0/gcc/Option-Index.html#Option-Index" title="Index" rel="index">Index</a>]</p> <div class="_attribution">
  <p class="_attribution-p">
    © Free Software Foundation<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://gcc.gnu.org/onlinedocs/gcc-12.2.0/gcc/Complex.html" class="_attribution-link">https://gcc.gnu.org/onlinedocs/gcc-12.2.0/gcc/Complex.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
