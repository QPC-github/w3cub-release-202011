
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>-X - Perl 5.26 - W3cubDocs</title>
  
  <meta name="description" content="A file test, where X is one of the letters listed below. This unary operator takes one argument, either a filename, a filehandle, or a dirhandle, &hellip;">
  <meta name="keywords" content="-x, perl, perl~5.26">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/perl~5.26/functions/-x.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/perl~5.26.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/perl~5.26/" class="_nav-link" title="" style="margin-left:0;">Perl 5.26</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _perl">
				
				
<h1>-X</h1>   <h2 id="-X-FILEHANDLE">-X FILEHANDLE</h2>   <h2 id="-X-EXPR">-X EXPR</h2> <h2 id="-X-DIRHANDLE">-X DIRHANDLE</h2> <h2 id="-X">-X</h2> <p>A file test, where X is one of the letters listed below. This unary operator takes one argument, either a filename, a filehandle, or a dirhandle, and tests the associated file to see if something is true about it. If the argument is omitted, tests <code class="inline"><span class="i">$_</span></code> , except for <code class="inline">-t</code> , which tests STDIN. Unless otherwise documented, it returns <code class="inline"><span class="n">1</span></code> for true and <code class="inline"><span class="q">''</span></code> for false. If the file doesn't exist or can't be examined, it returns <code class="inline"><a class="l_k" href="undef">undef</a></code> and sets <code class="inline"><span class="i">$!</span></code> (errno). Despite the funny names, precedence is the same as any other named unary operator. The operator may be any of:</p> <pre class="verbatim" data-language="perl">    -r  File is readable by effective uid/gid.
    -w  File is writable by effective uid/gid.
    -x  File is executable by effective uid/gid.
    -o  File is owned by effective uid.

    -R  File is readable by real uid/gid.
    -W  File is writable by real uid/gid.
    -X  File is executable by real uid/gid.
    -O  File is owned by real uid.

    -e  File exists.
    -z  File has zero size (is empty).
    -s  File has nonzero size (returns size in bytes).

    -f  File is a plain file.
    -d  File is a directory.
    -l  File is a symbolic link (false if symlinks aren't
        supported by the file system).
    -p  File is a named pipe (FIFO), or Filehandle is a pipe.
    -S  File is a socket.
    -b  File is a block special file.
    -c  File is a character special file.
    -t  Filehandle is opened to a tty.

    -u  File has setuid bit set.
    -g  File has setgid bit set.
    -k  File has sticky bit set.

    -T  File is an ASCII or UTF-8 text file (heuristic guess).
    -B  File is a "binary" file (opposite of -T).

    -M  Script start time minus file modification time, in days.
    -A  Same for access time.
    -C  Same for inode change time (Unix, may differ for other
platforms)
</pre>
<p>Example:</p> <pre class="verbatim" data-language="perl">while (&lt;&gt;) {
    chomp;
    next unless -f $_;  # ignore specials
    #...
}
</pre>
<p>Note that <code class="inline">-s/a/b/</code> does not do a negated substitution. Saying <code class="inline">-<a class="l_k" href="exp">exp</a><span class="s">(</span><span class="i">$foo</span><span class="s">)</span></code> still works as expected, however: only single letters following a minus are interpreted as file tests.</p> <p>These operators are exempt from the "looks like a function rule" described above. That is, an opening parenthesis after the operator does not affect how much of the following code constitutes the argument. Put the opening parentheses before the operator to separate it from code that follows (this applies only to operators with higher precedence than unary operators, of course):</p> <pre class="verbatim" data-language="perl">-s($file) + 1024   # probably wrong; same as -s($file + 1024)
(-s $file) + 1024  # correct
</pre>
<p>The interpretation of the file permission operators <code class="inline">-r</code> , <code class="inline">-R</code> , <code class="inline">-w</code> , <code class="inline">-W</code> , <code class="inline">-x</code> , and <code class="inline"><a class="l_k" href="-x">-X</a></code> is by default based solely on the mode of the file and the uids and gids of the user. There may be other reasons you can't actually read, write, or execute the file: for example network filesystem access controls, ACLs (access control lists), read-only filesystems, and unrecognized executable formats. Note that the use of these six specific operators to verify if some operation is possible is usually a mistake, because it may be open to race conditions.</p> <p>Also note that, for the superuser on the local filesystems, the <code class="inline">-r</code> , <code class="inline">-R</code> , <code class="inline">-w</code> , and <code class="inline">-W</code> tests always return 1, and <code class="inline">-x</code> and <code class="inline"><a class="l_k" href="-x">-X</a></code> return 1 if any execute bit is set in the mode. Scripts run by the superuser may thus need to do a stat() to determine the actual mode of the file, or temporarily set their effective uid to something else.</p> <p>If you are using ACLs, there is a pragma called <code class="inline"><span class="w">filetest</span></code> that may produce more accurate results than the bare stat() mode bits. When under <code class="inline"><a class="l_k" href="use">use</a> <span class="w">filetest</span> <span class="q">'access'</span></code> the above-mentioned filetests test whether the permission can(not) be granted using the access(2) family of system calls. Also note that the <code class="inline">-x</code> and <code class="inline"><a class="l_k" href="-x">-X</a></code> may under this pragma return true even if there are no execute permission bits set (nor any extra execute permission ACLs). This strangeness is due to the underlying system calls' definitions. Note also that, due to the implementation of <code class="inline"><a class="l_k" href="use">use</a> <span class="w">filetest</span> <span class="q">'access'</span></code> , the <code class="inline"><span class="w">_</span></code> special filehandle won't cache the results of the file tests when this pragma is in effect. Read the documentation for the <code class="inline"><span class="w">filetest</span></code> pragma for more information.</p> <p>The <code class="inline">-T</code> and <code class="inline">-B</code> switches work as follows. The first block or so of the file is examined to see if it is valid UTF-8 that includes non-ASCII characters. If, so it's a <code class="inline">-T</code> file. Otherwise, that same portion of the file is examined for odd characters such as strange control codes or characters with the high bit set. If more than a third of the characters are strange, it's a <code class="inline">-B</code> file; otherwise it's a <code class="inline">-T</code> file. Also, any file containing a zero byte in the examined portion is considered a binary file. (If executed within the scope of a <a href="../perllocale">use locale</a> which includes <code class="inline"><span class="w">LC_CTYPE</span></code> , odd characters are anything that isn't a printable nor space in the current locale.) If <code class="inline">-T</code> or <code class="inline">-B</code> is used on a filehandle, the current IO buffer is examined rather than the first block. Both <code class="inline">-T</code> and <code class="inline">-B</code> return true on an empty file, or a file at EOF when testing a filehandle. Because you have to read a file to do the <code class="inline">-T</code> test, on most occasions you want to use a <code class="inline">-f</code> against the file first, as in <code class="inline"><a class="l_k" href="next">next</a> unless -f <span class="i">$file</span> &amp;&amp; -T <span class="i">$file</span></code> .</p> <p>If any of the file tests (or either the <code class="inline"><a class="l_k" href="stat">stat</a></code> or <code class="inline"><a class="l_k" href="lstat">lstat</a></code> operator) is given the special filehandle consisting of a solitary underline, then the stat structure of the previous file test (or stat operator) is used, saving a system call. (This doesn't work with <code class="inline">-t</code> , and you need to remember that lstat() and <code class="inline">-l</code> leave values in the stat structure for the symbolic link, not the real file.) (Also, if the stat buffer was filled by an <code class="inline"><a class="l_k" href="lstat">lstat</a></code> call, <code class="inline">-T</code> and <code class="inline">-B</code> will reset it with the results of <code class="inline"><a class="l_k" href="stat">stat</a> <span class="w">_</span></code> ). Example:</p> <pre class="verbatim" data-language="perl">print "Can do.\n" if -r $a || -w _ || -x _;

stat($filename);
print "Readable\n" if -r _;
print "Writable\n" if -w _;
print "Executable\n" if -x _;
print "Setuid\n" if -u _;
print "Setgid\n" if -g _;
print "Sticky\n" if -k _;
print "Text\n" if -T _;
print "Binary\n" if -B _;
</pre>
<p>As of Perl 5.10.0, as a form of purely syntactic sugar, you can stack file test operators, in a way that <code class="inline">-f -w -x <span class="i">$file</span></code> is equivalent to <code class="inline">-x <span class="i">$file</span> &amp;&amp; -w <span class="i">_</span> &amp;&amp; -f <span class="i">_</span></code> . (This is only fancy syntax: if you use the return value of <code class="inline">-f <span class="i">$file</span></code> as an argument to another filetest operator, no special magic will happen.)</p> <p>Portability issues: <a href="../perlport#-X">-X in perlport</a>.</p> <p>To avoid confusing would-be users of your code with mysterious syntax errors, put something like this at the top of your script:</p> <pre class="verbatim" data-language="perl">use 5.010;  # so filetest ops can stack
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © 1993–2016 Larry Wall and others<br>Licensed under the GNU General Public License version 1 or later, or the Artistic License.<br>The Perl logo is a trademark of the Perl Foundation.<br>
    <a href="https://perldoc.perl.org/5.26.0/functions/-X.html" class="_attribution-link">https://perldoc.perl.org/5.26.0/functions/-X.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
