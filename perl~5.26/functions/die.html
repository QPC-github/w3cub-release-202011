
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Die - Perl 5.26 - W3cubDocs</title>
  
  <meta name="description" content="die raises an exception. Inside an eval the error message is stuffed into &#36;&#64; and the eval is terminated with the undefined value. If the &hellip;">
  <meta name="keywords" content="die, perl, perl~5.26">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/perl~5.26/functions/die.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/perl~5.26.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/perl~5.26/" class="_nav-link" title="" style="margin-left:0;">Perl 5.26</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _perl">
				
				
<h1>die</h1>   <h2 id="die-LIST">die LIST</h2>  <p><code class="inline"><a class="l_k" href="die">die</a></code> raises an exception. Inside an <code class="inline"><a class="l_k" href="eval">eval</a></code> the error message is stuffed into <code class="inline"><span class="i">$@</span></code> and the <code class="inline"><a class="l_k" href="eval">eval</a></code> is terminated with the undefined value. If the exception is outside of all enclosing <code class="inline"><a class="l_k" href="eval">eval</a></code>s, then the uncaught exception prints LIST to <code class="inline"><span class="w">STDERR</span></code> and exits with a non-zero value. If you need to exit the process with a specific exit code, see <a href="exit">exit</a>.</p> <p>Equivalent examples:</p> <pre class="verbatim" data-language="perl">die "Can't cd to spool: $!\n" unless chdir '/usr/spool/news';
chdir '/usr/spool/news' or die "Can't cd to spool: $!\n"
</pre>
<p>If the last element of LIST does not end in a newline, the current script line number and input line number (if any) are also printed, and a newline is supplied. Note that the "input line number" (also known as "chunk") is subject to whatever notion of "line" happens to be currently in effect, and is also available as the special variable <code class="inline"><span class="i">$.</span></code> . See <a href="../perlvar#%24%2f">$/ in perlvar</a> and <a href="../perlvar#%24.">$. in perlvar</a>.</p> <p>Hint: sometimes appending <code class="inline"><span class="q">", stopped"</span></code> to your message will cause it to make better sense when the string <code class="inline"><span class="q">"at foo line 123"</span></code> is appended. Suppose you are running script "canasta".</p> <pre class="verbatim" data-language="perl">die "/etc/games is no good";
die "/etc/games is no good, stopped";
</pre>
<p>produce, respectively</p> <pre class="verbatim" data-language="perl">/etc/games is no good at canasta line 123.
/etc/games is no good, stopped at canasta line 123.
</pre>
<p>If the output is empty and <code class="inline"><span class="i">$@</span></code> already contains a value (typically from a previous eval) that value is reused after appending <code class="inline"><span class="q">"\t...propagated"</span></code> . This is useful for propagating exceptions:</p> <pre class="verbatim" data-language="perl">eval { ... };
die unless $@ =~ /Expected exception/;
</pre>
<p>If the output is empty and <code class="inline"><span class="i">$@</span></code> contains an object reference that has a <code class="inline"><span class="w">PROPAGATE</span></code> method, that method will be called with additional file and line number parameters. The return value replaces the value in <code class="inline"><span class="i">$@</span></code> ; i.e., as if <code class="inline"><span class="i">$@</span> = <a class="l_k" href="eval">eval</a> <span class="s">{</span> <span class="i">$@</span><span class="i">-&gt;PROPAGATE</span><span class="s">(</span><span class="w">__FILE__</span><span class="cm">,</span> <span class="w">__LINE__</span><span class="s">)</span> <span class="s">}</span><span class="sc">;</span></code> were called.</p> <p>If <code class="inline"><span class="i">$@</span></code> is empty then the string <code class="inline"><span class="q">"Died"</span></code> is used.</p> <p>If an uncaught exception results in interpreter exit, the exit code is determined from the values of <code class="inline"><span class="i">$!</span></code> and <code class="inline"><span class="i">$?</span></code> with this pseudocode:</p> <pre class="verbatim" data-language="perl">exit $! if $!;              # errno
exit $? &gt;&gt; 8 if $? &gt;&gt; 8;    # child exit status
exit 255;                   # last resort
</pre>
<p>The intent is to squeeze as much possible information about the likely cause into the limited space of the system exit code. However, as <code class="inline"><span class="i">$!</span></code> is the value of C's <code class="inline"><span class="w">errno</span></code> , which can be set by any system call, this means that the value of the exit code used by <code class="inline"><a class="l_k" href="die">die</a></code> can be non-predictable, so should not be relied upon, other than to be non-zero.</p> <p>You can also call <code class="inline"><a class="l_k" href="die">die</a></code> with a reference argument, and if this is trapped within an <code class="inline"><a class="l_k" href="eval">eval</a></code>, <code class="inline"><span class="i">$@</span></code> contains that reference. This permits more elaborate exception handling using objects that maintain arbitrary state about the exception. Such a scheme is sometimes preferable to matching particular string values of <code class="inline"><span class="i">$@</span></code> with regular expressions. Because <code class="inline"><span class="i">$@</span></code> is a global variable and <code class="inline"><a class="l_k" href="eval">eval</a></code> may be used within object implementations, be careful that analyzing the error object doesn't replace the reference in the global variable. It's easiest to make a local copy of the reference before any manipulations. Here's an example:</p> <pre class="verbatim" data-language="perl">use Scalar::Util "blessed";

eval { ... ; die Some::Module::Exception-&gt;new( FOO =&gt; "bar" ) };
if (my $ev_err = $@) {
    if (blessed($ev_err)
        &amp;&amp; $ev_err-&gt;isa("Some::Module::Exception")) {
        # handle Some::Module::Exception
    }
    else {
        # handle all other possible exceptions
    }
}
</pre>
<p>Because Perl stringifies uncaught exception messages before display, you'll probably want to overload stringification operations on exception objects. See <a href="../overload">overload</a> for details about that.</p> <p>You can arrange for a callback to be run just before the <code class="inline"><a class="l_k" href="die">die</a></code> does its deed, by setting the <code class="inline"><span class="i">$SIG</span>{<span class="w">__DIE__</span>}</code> hook. The associated handler is called with the error text and can change the error message, if it sees fit, by calling <code class="inline"><a class="l_k" href="die">die</a></code> again. See <a href="../perlvar#%25SIG">%SIG in perlvar</a> for details on setting <code class="inline"><span class="i">%SIG</span></code> entries, and <a href="#eval-BLOCK">eval BLOCK</a> for some examples. Although this feature was to be run only right before your program was to exit, this is not currently so: the <code class="inline"><span class="i">$SIG</span>{<span class="w">__DIE__</span>}</code> hook is currently called even inside eval()ed blocks/strings! If one wants the hook to do nothing in such situations, put</p> <pre class="verbatim" data-language="perl">die @_ if $^S;
</pre>
<p>as the first line of the handler (see <a href="../perlvar#%24%5eS">$^S in perlvar</a>). Because this promotes strange action at a distance, this counterintuitive behavior may be fixed in a future release.</p> <p>See also exit(), warn(), and the Carp module.</p> <div class="_attribution">
  <p class="_attribution-p">
    © 1993–2016 Larry Wall and others<br>Licensed under the GNU General Public License version 1 or later, or the Artistic License.<br>The Perl logo is a trademark of the Perl Foundation.<br>
    <a href="https://perldoc.perl.org/5.26.0/functions/die.html" class="_attribution-link">https://perldoc.perl.org/5.26.0/functions/die.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
