
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Sort - Perl 5.26 - W3cubDocs</title>
  
  <meta name="description" content=" In list context, this sorts the LIST and returns the sorted list value. In scalar context, the behaviour of sort() is undefined. ">
  <meta name="keywords" content="sort, perl, perl~5.26">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/perl~5.26/functions/sort.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/perl~5.26.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/perl~5.26/" class="_nav-link" title="" style="margin-left:0;">Perl 5.26</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _perl">
				
				
<h1>sort</h1>   <h2 id="sort-SUBNAME-LIST">sort SUBNAME LIST</h2>   <h2 id="sort-BLOCK-LIST">sort BLOCK LIST</h2> <h2 id="sort-LIST">sort LIST</h2> <p>In list context, this sorts the LIST and returns the sorted list value. In scalar context, the behaviour of <code class="inline"><a class="l_k" href="sort">sort()</a></code> is undefined.</p> <p>If SUBNAME or BLOCK is omitted, <code class="inline"><a class="l_k" href="sort">sort</a></code>s in standard string comparison order. If SUBNAME is specified, it gives the name of a subroutine that returns an integer less than, equal to, or greater than <code class="inline"><span class="n">0</span></code> , depending on how the elements of the list are to be ordered. (The <code class="inline">&lt;=&gt;</code> and <code class="inline">cmp</code> operators are extremely useful in such routines.) SUBNAME may be a scalar variable name (unsubscripted), in which case the value provides the name of (or a reference to) the actual subroutine to use. In place of a SUBNAME, you can provide a BLOCK as an anonymous, in-line sort subroutine.</p> <p>If the subroutine's prototype is <code class="inline"><span class="s">(</span><span class="i">$$</span><span class="s">)</span></code> , the elements to be compared are passed by reference in <code class="inline"><span class="i">@_</span></code> , as for a normal subroutine. This is slower than unprototyped subroutines, where the elements to be compared are passed into the subroutine as the package global variables $a and $b (see example below). Note that in the latter case, it is usually highly counter-productive to declare $a and $b as lexicals.</p> <p>If the subroutine is an XSUB, the elements to be compared are pushed on to the stack, the way arguments are usually passed to XSUBs. $a and $b are not set.</p> <p>The values to be compared are always passed by reference and should not be modified.</p> <p>You also cannot exit out of the sort block or subroutine using any of the loop control operators described in <a href="../perlsyn">perlsyn</a> or with <code class="inline"><a class="l_k" href="goto">goto</a></code>.</p> <p>When <code class="inline"><a class="l_k" href="use">use</a> <span class="w">locale</span></code> (but not <code class="inline"><a class="l_k" href="use">use</a> <span class="w">locale</span> <span class="q">'not_characters'</span></code> ) is in effect, <code class="inline"><a class="l_k" href="sort">sort</a> <span class="i">LIST</span></code> sorts LIST according to the current collation locale. See <a href="../perllocale">perllocale</a>.</p> <p>sort() returns aliases into the original list, much as a for loop's index variable aliases the list elements. That is, modifying an element of a list returned by sort() (for example, in a <code class="inline">foreach</code> , <code class="inline"><a class="l_k" href="map">map</a></code> or <code class="inline"><a class="l_k" href="grep">grep</a></code>) actually modifies the element in the original list. This is usually something to be avoided when writing clear code.</p> <p>Perl 5.6 and earlier used a quicksort algorithm to implement sort. That algorithm was not stable, so <i>could</i> go quadratic. (A <i>stable</i> sort preserves the input order of elements that compare equal. Although quicksort's run time is O(NlogN) when averaged over all arrays of length N, the time can be O(N**2), <i>quadratic</i> behavior, for some inputs.) In 5.7, the quicksort implementation was replaced with a stable mergesort algorithm whose worst-case behavior is O(NlogN). But benchmarks indicated that for some inputs, on some platforms, the original quicksort was faster. 5.8 has a sort pragma for limited control of the sort. Its rather blunt control of the underlying algorithm may not persist into future Perls, but the ability to characterize the input or output in implementation independent ways quite probably will. See <a href="../sort">the sort pragma</a>.</p> <p>Examples:</p> <pre class="verbatim" data-language="perl"># sort lexically
@articles = sort @files;

# same thing, but with explicit sort routine
@articles = sort {$a cmp $b} @files;

# now case-insensitively
@articles = sort {fc($a) cmp fc($b)} @files;

# same thing in reversed order
@articles = sort {$b cmp $a} @files;

# sort numerically ascending
@articles = sort {$a &lt;=&gt; $b} @files;

# sort numerically descending
@articles = sort {$b &lt;=&gt; $a} @files;

# this sorts the %age hash by value instead of key
# using an in-line function
@eldest = sort { $age{$b} &lt;=&gt; $age{$a} } keys %age;

# sort using explicit subroutine name
sub byage {
    $age{$a} &lt;=&gt; $age{$b};  # presuming numeric
}
@sortedclass = sort byage @class;

sub backwards { $b cmp $a }
@harry  = qw(dog cat x Cain Abel);
@george = qw(gone chased yz Punished Axed);
print sort @harry;
    # prints AbelCaincatdogx
print sort backwards @harry;
    # prints xdogcatCainAbel
print sort @george, 'to', @harry;
    # prints AbelAxedCainPunishedcatchaseddoggonetoxyz

# inefficiently sort by descending numeric compare using
# the first integer after the first = sign, or the
# whole record case-insensitively otherwise

my @new = sort {
    ($b =~ /=(\d+)/)[0] &lt;=&gt; ($a =~ /=(\d+)/)[0]
                        ||
                fc($a)  cmp  fc($b)
} @old;

# same thing, but much more efficiently;
# we'll build auxiliary indices instead
# for speed
my @nums = @caps = ();
for (@old) {
    push @nums, ( /=(\d+)/ ? $1 : undef );
    push @caps, fc($_);
}

my @new = @old[ sort {
                       $nums[$b] &lt;=&gt; $nums[$a]
                                ||
                       $caps[$a] cmp $caps[$b]
                     } 0..$#old
              ];

# same thing, but without any temps
@new = map { $_-&gt;[0] }
       sort { $b-&gt;[1] &lt;=&gt; $a-&gt;[1]
                       ||
              $a-&gt;[2] cmp $b-&gt;[2]
       } map { [$_, /=(\d+)/, fc($_)] } @old;

# using a prototype allows you to use any comparison subroutine
# as a sort subroutine (including other package's subroutines)
package other;
sub backwards ($$) { $_[1] cmp $_[0]; }  # $a and $b are
                                         # not set here    
package main;
@new = sort other::backwards @old;

# guarantee stability, regardless of algorithm
use sort 'stable';
@new = sort { substr($a, 3, 5) cmp substr($b, 3, 5) } @old;

# force use of mergesort (not portable outside Perl 5.8)
use sort '_mergesort';  # note discouraging _
@new = sort { substr($a, 3, 5) cmp substr($b, 3, 5) } @old;
</pre>
<p>Warning: syntactical care is required when sorting the list returned from a function. If you want to sort the list returned by the function call <code class="inline"><span class="i">find_records</span><span class="s">(</span><span class="i">@key</span><span class="s">)</span></code> , you can use:</p> <pre class="verbatim" data-language="perl">@contact = sort { $a cmp $b } find_records @key;
@contact = sort +find_records(@key);
@contact = sort &amp;find_records(@key);
@contact = sort(find_records(@key));
</pre>
<p>If instead you want to sort the array @key with the comparison routine <code class="inline"><span class="i">find_records</span><span class="s">(</span><span class="s">)</span></code> then you can use:</p> <pre class="verbatim" data-language="perl">@contact = sort { find_records() } @key;
@contact = sort find_records(@key);
@contact = sort(find_records @key);
@contact = sort(find_records (@key));
</pre>
<p>If you're using strict, you <i>must not</i> declare $a and $b as lexicals. They are package globals. That means that if you're in the <code class="inline"><span class="w">main</span></code> package and type</p> <pre class="verbatim" data-language="perl">@articles = sort {$b &lt;=&gt; $a} @files;
</pre>
<p>then <code class="inline"><span class="i">$a</span></code> and <code class="inline"><span class="i">$b</span></code> are <code class="inline"><span class="i">$main::a</span></code> and <code class="inline"><span class="i">$main::b</span></code> (or <code class="inline"><span class="i">$::a</span></code> and <code class="inline"><span class="i">$::b</span></code> ), but if you're in the <code class="inline"><span class="w">FooPack</span></code> package, it's the same as typing</p> <pre class="verbatim" data-language="perl">@articles = sort {$FooPack::b &lt;=&gt; $FooPack::a} @files;
</pre>
<p>The comparison function is required to behave. If it returns inconsistent results (sometimes saying <code class="inline"><span class="i">$x</span>[<span class="n">1</span>]</code> is less than <code class="inline"><span class="i">$x</span>[<span class="n">2</span>]</code> and sometimes saying the opposite, for example) the results are not well-defined.</p> <p>Because <code class="inline">&lt;=&gt;</code> returns <code class="inline"><a class="l_k" href="undef">undef</a></code> when either operand is <code class="inline"><span class="w">NaN</span></code> (not-a-number), be careful when sorting with a comparison function like <code class="inline"><span class="i">$a</span> &lt;=&gt; <span class="i">$b</span></code> any lists that might contain a <code class="inline"><span class="w">NaN</span></code> . The following example takes advantage that <code class="inline"><span class="w">NaN</span> != <span class="w">NaN</span></code> to eliminate any <code class="inline"><span class="w">NaN</span></code> s from the input list.</p> <pre class="verbatim" data-language="perl">@result = sort { $a &lt;=&gt; $b } grep { $_ == $_ } @input;
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © 1993–2016 Larry Wall and others<br>Licensed under the GNU General Public License version 1 or later, or the Artistic License.<br>The Perl logo is a trademark of the Perl Foundation.<br>
    <a href="https://perldoc.perl.org/5.26.0/functions/sort.html" class="_attribution-link">https://perldoc.perl.org/5.26.0/functions/sort.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
