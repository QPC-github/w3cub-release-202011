
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Keys - Perl 5.26 - W3cubDocs</title>
  
  <meta name="description" content="Called in list context, returns a list consisting of all the keys of the named hash, or in Perl 5.12 or later only, the indices of an array. Perl &hellip;">
  <meta name="keywords" content="keys, perl, perl~5.26">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/perl~5.26/functions/keys.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/perl~5.26.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/perl~5.26/" class="_nav-link" title="" style="margin-left:0;">Perl 5.26</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _perl">
				
				
<h1>keys</h1>   <h2 id="keys-HASH">keys HASH</h2>   <h2 id="keys-ARRAY">keys ARRAY</h2> <h2 id="keys-EXPR">keys EXPR</h2> <p>Called in list context, returns a list consisting of all the keys of the named hash, or in Perl 5.12 or later only, the indices of an array. Perl releases prior to 5.12 will produce a syntax error if you try to use an array argument. In scalar context, returns the number of keys or indices.</p> <p>Hash entries are returned in an apparently random order. The actual random order is specific to a given hash; the exact same series of operations on two hashes may result in a different order for each hash. Any insertion into the hash may change the order, as will any deletion, with the exception that the most recent key returned by <code class="inline"><a class="l_k" href="each">each</a></code> or <code class="inline"><a class="l_k" href="keys">keys</a></code> may be deleted without changing the order. So long as a given hash is unmodified you may rely on <code class="inline"><a class="l_k" href="keys">keys</a></code>, <code class="inline"><a class="l_k" href="values">values</a></code> and <code class="inline"><a class="l_k" href="each">each</a></code> to repeatedly return the same order as each other. See <a href="../perlsec#Algorithmic-Complexity-Attacks">Algorithmic Complexity Attacks in perlsec</a> for details on why hash order is randomized. Aside from the guarantees provided here the exact details of Perl's hash algorithm and the hash traversal order are subject to change in any release of Perl. Tied hashes may behave differently to Perl's hashes with respect to changes in order on insertion and deletion of items.</p> <p>As a side effect, calling keys() resets the internal iterator of the HASH or ARRAY (see <a href="each">each</a>). In particular, calling keys() in void context resets the iterator with no other overhead.</p> <p>Here is yet another way to print your environment:</p> <pre class="verbatim" data-language="perl">@keys = keys %ENV;
@values = values %ENV;
while (@keys) {
    print pop(@keys), '=', pop(@values), "\n";
}
</pre>
<p>or how about sorted by key:</p> <pre class="verbatim" data-language="perl">foreach $key (sort(keys %ENV)) {
    print $key, '=', $ENV{$key}, "\n";
}
</pre>
<p>The returned values are copies of the original keys in the hash, so modifying them will not affect the original hash. Compare <a href="values">values</a>.</p> <p>To sort a hash by value, you'll need to use a <code class="inline"><a class="l_k" href="sort">sort</a></code> function. Here's a descending numeric sort of a hash by its values:</p> <pre class="verbatim" data-language="perl">foreach $key (sort { $hash{$b} &lt;=&gt; $hash{$a} } keys %hash) {
    printf "%4d %s\n", $hash{$key}, $key;
}
</pre>
<p>Used as an lvalue, <code class="inline"><a class="l_k" href="keys">keys</a></code> allows you to increase the number of hash buckets allocated for the given hash. This can gain you a measure of efficiency if you know the hash is going to get big. (This is similar to pre-extending an array by assigning a larger number to $#array.) If you say</p> <pre class="verbatim" data-language="perl">keys %hash = 200;
</pre>
<p>then <code class="inline"><span class="i">%hash</span></code> will have at least 200 buckets allocated for it--256 of them, in fact, since it rounds up to the next power of two. These buckets will be retained even if you do <code class="inline"><span class="i">%hash</span> = <span class="s">(</span><span class="s">)</span></code> , use <code class="inline"><a class="l_k" href="undef">undef</a>
<span class="i">%hash</span></code> if you want to free the storage while <code class="inline"><span class="i">%hash</span></code> is still in scope. You can't shrink the number of buckets allocated for the hash using <code class="inline"><a class="l_k" href="keys">keys</a></code> in this way (but you needn't worry about doing this by accident, as trying has no effect). <code class="inline"><a class="l_k" href="keys">keys</a> <span class="i">@array</span></code> in an lvalue context is a syntax error.</p> <p>Starting with Perl 5.14, <code class="inline"><a class="l_k" href="keys">keys</a></code> can take a scalar EXPR, which must contain a reference to an unblessed hash or array. The argument will be dereferenced automatically. This aspect of <code class="inline"><a class="l_k" href="keys">keys</a></code> is considered highly experimental. The exact behaviour may change in a future version of Perl.</p> <pre class="verbatim" data-language="perl">for (keys $hashref) { ... }
for (keys $obj-&gt;get_arrayref) { ... }
</pre>
<p>To avoid confusing would-be users of your code who are running earlier versions of Perl with mysterious syntax errors, put this sort of thing at the top of your file to signal that your code will work <i>only</i> on Perls of a recent vintage:</p> <pre class="verbatim" data-language="perl">use 5.012;	# so keys/values/each work on arrays
use 5.014;	# so keys/values/each work on scalars (experimental)
</pre>
<p>See also <code class="inline"><a class="l_k" href="each">each</a></code>, <code class="inline"><a class="l_k" href="values">values</a></code>, and <code class="inline"><a class="l_k" href="sort">sort</a></code>.</p> <div class="_attribution">
  <p class="_attribution-p">
    © 1993–2016 Larry Wall and others<br>Licensed under the GNU General Public License version 1 or later, or the Artistic License.<br>The Perl logo is a trademark of the Perl Foundation.<br>
    <a href="https://perldoc.perl.org/5.26.0/functions/keys.html" class="_attribution-link">https://perldoc.perl.org/5.26.0/functions/keys.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
