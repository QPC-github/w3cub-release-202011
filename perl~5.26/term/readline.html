
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Term&#58;&#58;ReadLine - Perl 5.26 - W3cubDocs</title>
  
  <meta name="description" content=" Term&#58;&#58;ReadLine - Perl interface to various readline packages. If no real package is found, substitutes stubs instead of basic functions. ">
  <meta name="keywords" content="term, readline, perl, perl~5.26">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/perl~5.26/term/readline.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/perl~5.26.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/perl~5.26/" class="_nav-link" title="" style="margin-left:0;">Perl 5.26</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _perl">
				
				
<h1>Term::ReadLine</h1>  <ul>
<li><a href="#NAME">NAME</a></li>
<li><a href="#SYNOPSIS">SYNOPSIS</a></li>
<li><a href="#DESCRIPTION">DESCRIPTION</a></li>
<li><a href="#Minimal-set-of-supported-functions">Minimal set of supported functions</a></li>
<li><a href="#Additional-supported-functions">Additional supported functions</a></li>
<li><a href="#EXPORTS">EXPORTS</a></li>
<li><a href="#ENVIRONMENT">ENVIRONMENT</a></li>
</ul>
<h2 id="NAME">NAME</h2> <p>Term::ReadLine - Perl interface to various <code class="inline"><a class="l_k" href="../functions/readline">readline</a></code> packages. If no real package is found, substitutes stubs instead of basic functions.</p> <h2 id="SYNOPSIS">SYNOPSIS</h2> <pre class="verbatim" data-language="perl">use Term::ReadLine;
my $term = Term::ReadLine-&gt;new('Simple Perl calc');
my $prompt = "Enter your arithmetic expression: ";
my $OUT = $term-&gt;OUT || \*STDOUT;
while ( defined ($_ = $term-&gt;readline($prompt)) ) {
  my $res = eval($_);
  warn $@ if $@;
  print $OUT $res, "\n" unless $@;
  $term-&gt;addhistory($_) if /\S/;
}
</pre>
<h2 id="DESCRIPTION">DESCRIPTION</h2> <p>This package is just a front end to some other packages. It's a stub to set up a common interface to the various ReadLine implementations found on CPAN (under the <code class="inline"><span class="w">Term::ReadLine::</span>*</code> namespace).</p> <h2 id="Minimal-set-of-supported-functions">Minimal set of supported functions</h2> <p>All the supported functions should be called as methods, i.e., either as</p> <pre class="verbatim" data-language="perl">$term = Term::ReadLine-&gt;new('name');
</pre>
<p>or as</p> <pre class="verbatim" data-language="perl">$term-&gt;addhistory('row');
</pre>
<p>where $term is a return value of Term::ReadLine-&gt;new().</p> <ul> <li id="ReadLine">
<b><code class="inline"><span class="w">ReadLine</span></code> </b> <p>returns the actual package that executes the commands. Among possible values are <code class="inline"><span class="w">Term::ReadLine::Gnu</span></code> , <code class="inline"><span class="w">Term::ReadLine::Perl</span></code> , <code class="inline"><span class="w">Term::ReadLine::Stub</span></code> .</p> </li> <li id="new">
<b><code class="inline"><span class="w">new</span></code> </b> <p>returns the handle for subsequent calls to following functions. Argument is the name of the application. Optionally can be followed by two arguments for <code class="inline"><span class="w">IN</span></code> and <code class="inline"><span class="w">OUT</span></code> filehandles. These arguments should be globs.</p> </li> <li id="readline">
<b><code class="inline"><a class="l_k" href="../functions/readline">readline</a></code></b> <p>gets an input line, <i>possibly</i> with actual <code class="inline"><a class="l_k" href="../functions/readline">readline</a></code> support. Trailing newline is removed. Returns <code class="inline"><a class="l_k" href="../functions/undef">undef</a></code> on <code class="inline"><span class="w">EOF</span></code> .</p> </li> <li id="addhistory">
<b><code class="inline"><span class="w">addhistory</span></code> </b> <p>adds the line to the history of input, from where it can be used if the actual <code class="inline"><a class="l_k" href="../functions/readline">readline</a></code> is present.</p> </li> <li id="IN%2c-OUT">
<b><code class="inline"><span class="w">IN</span></code> , <code class="inline"><span class="w">OUT</span></code> </b> <p>return the filehandles for input and output or <code class="inline"><a class="l_k" href="../functions/undef">undef</a></code> if <code class="inline"><a class="l_k" href="../functions/readline">readline</a></code> input and output cannot be used for Perl.</p> </li> <li id="MinLine">
<b><code class="inline"><span class="w">MinLine</span></code> </b> <p>If argument is specified, it is an advice on minimal size of line to be included into history. <code class="inline"><a class="l_k" href="../functions/undef">undef</a></code> means do not include anything into history. Returns the old value.</p> </li> <li id="findConsole">
<b><code class="inline"><span class="w">findConsole</span></code> </b> <p>returns an array with two strings that give most appropriate names for files for input and output using conventions <code class="inline"><span class="q">"&lt;$in"</span></code> , <code class="inline"><span class="q">"&gt;out"</span></code> .</p> </li> <li id="Attribs">
<b>Attribs</b> <p>returns a reference to a hash which describes internal configuration of the package. Names of keys in this hash conform to standard conventions with the leading <code class="inline"><span class="w">rl_</span></code> stripped.</p> </li> <li id="Features">
<b><code class="inline"><span class="w">Features</span></code> </b> <p>Returns a reference to a hash with keys being features present in current implementation. Several optional features are used in the minimal interface: <code class="inline"><span class="w">appname</span></code> should be present if the first argument to <code class="inline"><span class="w">new</span></code> is recognized, and <code class="inline"><span class="w">minline</span></code> should be present if <code class="inline"><span class="w">MinLine</span></code> method is not dummy. <code class="inline"><span class="w">autohistory</span></code> should be present if lines are put into history automatically (maybe subject to <code class="inline"><span class="w">MinLine</span></code> ), and <code class="inline"><span class="w">addhistory</span></code> if <code class="inline"><span class="w">addhistory</span></code> method is not dummy.</p> <p>If <code class="inline"><span class="w">Features</span></code> method reports a feature <code class="inline"><span class="w">attribs</span></code> as present, the method <code class="inline"><span class="w">Attribs</span></code> is not dummy.</p> </li> </ul> <h2 id="Additional-supported-functions">Additional supported functions</h2> <p>Actually <code class="inline"><span class="w">Term::ReadLine</span></code> can use some other package, that will support a richer set of commands.</p> <p>All these commands are callable via method interface and have names which conform to standard conventions with the leading <code class="inline"><span class="w">rl_</span></code> stripped.</p> <p>The stub package included with the perl distribution allows some additional methods:</p> <ul> <li id="tkRunning">
<b><code class="inline"><span class="w">tkRunning</span></code> </b> <p>makes Tk event loop run when waiting for user input (i.e., during <code class="inline"><a class="l_k" href="../functions/readline">readline</a></code> method).</p> </li> <li id="event_loop">
<b><code class="inline"><span class="w">event_loop</span></code> </b> <p>Registers call-backs to wait for user input (i.e., during <code class="inline"><a class="l_k" href="../functions/readline">readline</a></code> method). This supersedes tkRunning.</p> <p>The first call-back registered is the call back for waiting. It is expected that the callback will call the current event loop until there is something waiting to get on the input filehandle. The parameter passed in is the return value of the second call back.</p> <p>The second call-back registered is the call back for registration. The input filehandle (often STDIN, but not necessarily) will be passed in.</p> <p>For example, with AnyEvent:</p> <pre class="verbatim" data-language="perl">$term-&gt;event_loop(sub {
  my $data = shift;
  $data-&gt;[1] = AE::cv();
  $data-&gt;[1]-&gt;recv();
}, sub {
  my $fh = shift;
  my $data = [];
  $data-&gt;[0] = AE::io($fh, 0, sub { $data-&gt;[1]-&gt;send() });
  $data;
});
</pre>
<p>The second call-back is optional if the call back is registered prior to the call to $term-&gt;readline.</p> <p>Deregistration is done in this case by calling event_loop with <code class="inline"><a class="l_k" href="../functions/undef">undef</a></code> as its parameter:</p> <pre class="verbatim" data-language="perl">$term-&gt;event_loop(undef);
</pre>
<p>This will cause the data array ref to be removed, allowing normal garbage collection to clean it up. With AnyEvent, that will cause $data-&gt;[0] to be cleaned up, and AnyEvent will automatically cancel the watcher at that time. If another loop requires more than that to clean up a file watcher, that will be up to the caller to handle.</p> </li> <li id="ornaments">
<b><code class="inline"><span class="w">ornaments</span></code> </b> <p>makes the command line stand out by using termcap data. The argument to <code class="inline"><span class="w">ornaments</span></code> should be 0, 1, or a string of a form <code class="inline"><span class="q">"aa,bb,cc,dd"</span></code> . Four components of this string should be names of <i>terminal capacities</i>, first two will be issued to make the prompt standout, last two to make the input line standout.</p> </li> <li id="newTTY">
<b><code class="inline"><span class="w">newTTY</span></code> </b> <p>takes two arguments which are input filehandle and output filehandle. Switches to use these filehandles.</p> </li> </ul> <p>One can check whether the currently loaded ReadLine package supports these methods by checking for corresponding <code class="inline"><span class="w">Features</span></code> .</p> <h2 id="EXPORTS">EXPORTS</h2> <p>None</p> <h2 id="ENVIRONMENT">ENVIRONMENT</h2> <p>The environment variable <code class="inline"><span class="w">PERL_RL</span></code> governs which ReadLine clone is loaded. If the value is false, a dummy interface is used. If the value is true, it should be tail of the name of the package to use, such as <code class="inline"><span class="w">Perl</span></code> or <code class="inline"><span class="w">Gnu</span></code> .</p> <p>As a special case, if the value of this variable is space-separated, the tail might be used to disable the ornaments by setting the tail to be <code class="inline"><span class="w">o</span>=<span class="n">0</span></code> or <code class="inline"><span class="w">ornaments</span>=<span class="n">0</span></code> . The head should be as described above, say</p> <p>If the variable is not set, or if the head of space-separated list is empty, the best available package is loaded.</p> <pre class="verbatim" data-language="perl">export "PERL_RL=Perl o=0" # Use Perl ReadLine sans ornaments
export "PERL_RL= o=0"     # Use best available ReadLine sans ornaments
</pre>
<p>(Note that processing of <code class="inline"><span class="w">PERL_RL</span></code> for ornaments is in the discretion of the particular used <code class="inline"><span class="w">Term::ReadLine::</span>*</code> package).</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 1993–2016 Larry Wall and others<br>Licensed under the GNU General Public License version 1 or later, or the Artistic License.<br>The Perl logo is a trademark of the Perl Foundation.<br>
    <a href="https://perldoc.perl.org/5.26.0/Term/ReadLine.html" class="_attribution-link">https://perldoc.perl.org/5.26.0/Term/ReadLine.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
