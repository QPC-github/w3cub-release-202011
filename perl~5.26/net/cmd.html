
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Net&#58;&#58;Cmd - Perl 5.26 - W3cubDocs</title>
  
  <meta name="description" content=" Net&#58;&#58;Cmd - Network Command class (as used by FTP, SMTP etc) ">
  <meta name="keywords" content="net, cmd, perl, perl~5.26">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/perl~5.26/net/cmd.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/perl~5.26.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/perl~5.26/" class="_nav-link" title="" style="margin-left:0;">Perl 5.26</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _perl">
				
				
<h1>Net::Cmd</h1>  <ul>
<li><a href="#NAME">NAME</a></li>
<li><a href="#SYNOPSIS">SYNOPSIS</a></li>
<li><a href="#DESCRIPTION">DESCRIPTION</a></li>
<li><a href="#USER-METHODS">USER METHODS</a></li>
<li><a href="#CLASS-METHODS">CLASS METHODS</a></li>
<li><a href="#PSEUDO-RESPONSES">PSEUDO RESPONSES</a></li>
<li><a href="#EXPORTS">EXPORTS</a></li>
<li><a href="#AUTHOR">AUTHOR</a></li>
<li><a href="#COPYRIGHT">COPYRIGHT</a></li>
</ul>
<h2 id="NAME">NAME</h2> <p>Net::Cmd - Network Command class (as used by FTP, SMTP etc)</p> <h2 id="SYNOPSIS">SYNOPSIS</h2> <pre class="verbatim" data-language="perl">use Net::Cmd;

@ISA = qw(Net::Cmd);
</pre>
<h2 id="DESCRIPTION">DESCRIPTION</h2> <p><code class="inline"><span class="w">Net::Cmd</span></code> is a collection of methods that can be inherited by a sub class of <code class="inline"><span class="w">IO::Handle</span></code> . These methods implement the functionality required for a command based protocol, for example FTP and SMTP.</p> <h2 id="USER-METHODS">USER METHODS</h2> <p>These methods provide a user interface to the <code class="inline"><span class="w">Net::Cmd</span></code> object.</p> <ul> <li id="debug-(-VALUE-)">
<b>debug ( VALUE )</b> <p>Set the level of debug information for this object. If <code class="inline"><span class="w">VALUE</span></code> is not given then the current state is returned. Otherwise the state is changed to <code class="inline"><span class="w">VALUE</span></code> and the previous state returned.</p> <p>Different packages may implement different levels of debug but a non-zero value results in copies of all commands and responses also being sent to STDERR.</p> <p>If <code class="inline"><span class="w">VALUE</span></code> is <code class="inline"><a class="l_k" href="../functions/undef">undef</a></code> then the debug level will be set to the default debug level for the class.</p> <p>This method can also be called as a <i>static</i> method to set/get the default debug level for a given class.</p> </li> <li id="message-()">
<b>message ()</b> <p>Returns the text message returned from the last command. In a scalar context it returns a single string, in a list context it will return each line as a separate element. (See <a href="#PSEUDO-RESPONSES">PSEUDO RESPONSES</a> below.)</p> </li> <li id="code-()">
<b>code ()</b> <p>Returns the 3-digit code from the last command. If a command is pending then the value 0 is returned. (See <a href="#PSEUDO-RESPONSES">PSEUDO RESPONSES</a> below.)</p> </li> <li id="ok-()">
<b>ok ()</b> <p>Returns non-zero if the last code value was greater than zero and less than 400. This holds true for most command servers. Servers where this does not hold may override this method.</p> </li> <li id="status-()">
<b>status ()</b> <p>Returns the most significant digit of the current status code. If a command is pending then <code class="inline"><span class="w">CMD_PENDING</span></code> is returned.</p> </li> <li id="datasend-(-DATA-)">
<b>datasend ( DATA )</b> <p>Send data to the remote server, converting LF to CRLF. Any line starting with a '.' will be prefixed with another '.'. <code class="inline"><span class="w">DATA</span></code> may be an array or a reference to an array.</p> </li> <li id="dataend-()">
<b>dataend ()</b> <p>End the sending of data to the remote server. This is done by ensuring that the data already sent ends with CRLF then sending '.CRLF' to end the transmission. Once this data has been sent <code class="inline"><span class="w">dataend</span></code> calls <code class="inline"><span class="w">response</span></code> and returns true if <code class="inline"><span class="w">response</span></code> returns CMD_OK.</p> </li> </ul> <h2 id="CLASS-METHODS">CLASS METHODS</h2> <p>These methods are not intended to be called by the user, but used or over-ridden by a sub-class of <code class="inline"><span class="w">Net::Cmd</span></code> </p> <ul> <li id="debug_print-(-DIR%2c-TEXT-)">
<b>debug_print ( DIR, TEXT )</b> <p>Print debugging information. <code class="inline"><span class="w">DIR</span></code> denotes the direction <i>true</i> being data being sent to the server. Calls <code class="inline"><span class="w">debug_text</span></code> before printing to STDERR.</p> </li> <li id="debug_text-(-DIR%2c-TEXT-)">
<b>debug_text ( DIR, TEXT )</b> <p>This method is called to print debugging information. TEXT is the text being sent. The method should return the text to be printed.</p> <p>This is primarily meant for the use of modules such as FTP where passwords are sent, but we do not want to display them in the debugging information.</p> </li> <li id="command-(-CMD-%5b%2c-ARGS%2c-...-%5d)">
<b>command ( CMD [, ARGS, ... ])</b> <p>Send a command to the command server. All arguments are first joined with a space character and CRLF is appended, this string is then sent to the command server.</p> <p>Returns undef upon failure.</p> </li> <li id="unsupported-()">
<b>unsupported ()</b> <p>Sets the status code to 580 and the response text to 'Unsupported command'. Returns zero.</p> </li> <li id="response-()">
<b>response ()</b> <p>Obtain a response from the server. Upon success the most significant digit of the status code is returned. Upon failure, timeout etc., <i>CMD_ERROR</i> is returned.</p> </li> <li id="parse_response-(-TEXT-)">
<b>parse_response ( TEXT )</b> <p>This method is called by <code class="inline"><span class="w">response</span></code> as a method with one argument. It should return an array of 2 values, the 3-digit status code and a flag which is true when this is part of a multi-line response and this line is not the last.</p> </li> <li id="getline-()">
<b>getline ()</b> <p>Retrieve one line, delimited by CRLF, from the remote server. Returns <i>undef</i> upon failure.</p> <p><b>NOTE</b>: If you do use this method for any reason, please remember to add some <code class="inline"><span class="w">debug_print</span></code> calls into your method.</p> </li> <li id="ungetline-(-TEXT-)">
<b>ungetline ( TEXT )</b> <p>Unget a line of text from the server.</p> </li> <li id="rawdatasend-(-DATA-)">
<b>rawdatasend ( DATA )</b> <p>Send data to the remote server without performing any conversions. <code class="inline"><span class="w">DATA</span></code> is a scalar.</p> </li> <li id="read_until_dot-()">
<b>read_until_dot ()</b> <p>Read data from the remote server until a line consisting of a single '.'. Any lines starting with '..' will have one of the '.'s removed.</p> <p>Returns a reference to a list containing the lines, or <i>undef</i> upon failure.</p> </li> <li id="tied_fh-()">
<b>tied_fh ()</b> <p>Returns a filehandle tied to the Net::Cmd object. After issuing a command, you may read from this filehandle using read() or &lt;&gt;. The filehandle will return EOF when the final dot is encountered. Similarly, you may write to the filehandle in order to send data to the server after issuing a command that expects data to be written.</p> <p>See the Net::POP3 and Net::SMTP modules for examples of this.</p> </li> </ul> <h2 id="PSEUDO-RESPONSES">PSEUDO RESPONSES</h2> <p>Normally the values returned by <code class="inline"><span class="i">message</span><span class="s">(</span><span class="s">)</span></code> and <code class="inline"><span class="i">code</span><span class="s">(</span><span class="s">)</span></code> are obtained from the remote server, but in a few circumstances, as detailed below, <code class="inline"><span class="w">Net::Cmd</span></code> will return values that it sets. You can alter this behavior by overriding DEF_REPLY_CODE() to specify a different default reply code, or overriding one of the specific error handling methods below.</p> <ul> <li id="Initial-value">
<b>Initial value</b> <p>Before any command has executed or if an unexpected error occurs <code class="inline"><span class="i">code</span><span class="s">(</span><span class="s">)</span></code> will return "421" (temporary connection failure) and <code class="inline"><span class="i">message</span><span class="s">(</span><span class="s">)</span></code> will return undef.</p> </li> <li id="Connection-closed">
<b>Connection closed</b> <p>If the underlying <code class="inline"><span class="w">IO::Handle</span></code> is closed, or if there are any read or write failures, the file handle will be forced closed, and <code class="inline"><span class="i">code</span><span class="s">(</span><span class="s">)</span></code> will return "421" (temporary connection failure) and <code class="inline"><span class="i">message</span><span class="s">(</span><span class="s">)</span></code> will return "[$pkg] Connection closed" (where $pkg is the name of the class that subclassed <code class="inline"><span class="w">Net::Cmd</span></code> ). The _set_status_closed() method can be overridden to set a different message (by calling set_status()) or otherwise trap this error.</p> </li> <li id="Timeout">
<b>Timeout</b> <p>If there is a read or write timeout <code class="inline"><span class="i">code</span><span class="s">(</span><span class="s">)</span></code> will return "421" (temporary connection failure) and <code class="inline"><span class="i">message</span><span class="s">(</span><span class="s">)</span></code> will return "[$pkg] Timeout" (where $pkg is the name of the class that subclassed <code class="inline"><span class="w">Net::Cmd</span></code> ). The _set_status_timeout() method can be overridden to set a different message (by calling set_status()) or otherwise trap this error.</p> </li> </ul> <h2 id="EXPORTS">EXPORTS</h2> <p><code class="inline"><span class="w">Net::Cmd</span></code> exports six subroutines, five of these, <code class="inline"><span class="w">CMD_INFO</span></code> , <code class="inline"><span class="w">CMD_OK</span></code> , <code class="inline"><span class="w">CMD_MORE</span></code> , <code class="inline"><span class="w">CMD_REJECT</span></code> and <code class="inline"><span class="w">CMD_ERROR</span></code> , correspond to possible results of <code class="inline"><span class="w">response</span></code> and <code class="inline"><span class="w">status</span></code> . The sixth is <code class="inline"><span class="w">CMD_PENDING</span></code> .</p> <h2 id="AUTHOR">AUTHOR</h2> <p>Graham Barr &lt;<i>gbarr@pobox.com</i>&gt;</p> <p>Steve Hay &lt;<i>shay@cpan.org</i>&gt; is now maintaining libnet as of version 1.22_02</p> <h2 id="COPYRIGHT">COPYRIGHT</h2> <p>Versions up to 2.29_1 Copyright (c) 1995-2006 Graham Barr. All rights reserved. Changes in Version 2.29_2 onwards Copyright (C) 2013-2014 Steve Hay. All rights reserved.</p> <p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 1993–2016 Larry Wall and others<br>Licensed under the GNU General Public License version 1 or later, or the Artistic License.<br>The Perl logo is a trademark of the Perl Foundation.<br>
    <a href="https://perldoc.perl.org/5.26.0/Net/Cmd.html" class="_attribution-link">https://perldoc.perl.org/5.26.0/Net/Cmd.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
