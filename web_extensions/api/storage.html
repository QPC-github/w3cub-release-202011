
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Storage - Web Extensions - W3cubDocs</title>
  
  <meta name="description" content=" Enables extensions to store and retrieve data, and listen for changes to stored items. ">
  <meta name="keywords" content="storage, web, extensions, web_extensions">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/web_extensions/api/storage.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/web_extensions.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/web_extensions/" class="_nav-link" title="" style="margin-left:0;">Web Extensions</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<h1>storage</h1> <p>Enables extensions to store and retrieve data, and listen for changes to stored items.</p> <p>The storage system is based on the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API">Web Storage API</a>, with a few differences. Among other differences, these include:</p> <ul> <li>It's asynchronous.</li> <li>Values are scoped to the extension, not to a specific domain (i.e. the same set of key/value pairs are available to all scripts in the background context and content scripts).</li> <li>The values stored can be any JSON-ifiable value, not just <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a></code>. Among other things, this includes: <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></code> and <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>, but only when their contents can be represented as JSON, which does not include DOM nodes. You don't need to convert your values to JSON <code>Strings</code> prior to storing them, but they are represented as JSON internally, thus the requirement that they be JSON-ifiable.</li> <li>Multiple key/value pairs can be set or retrieved in the same API call.</li> </ul> <p>To use this API you need to include the <code>"storage"</code> <a href="../manifest.json/permissions">permission</a> in your <code><a href="../manifest.json">manifest.json</a></code> file.</p> <p>Each extension has its own storage area, which can be split into different types of storage.</p> <p>Although this API is similar to <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage"><code>Window.localStorage</code></a> it is recommended that you don't use <code>Window.localStorage</code> in the extension code to store extension-related data. Firefox will clear data stored by extensions using the localStorage API in various scenarios where users clear their browsing history and data for privacy reasons, while data saved using the <code><a href="storage/local">storage.local</a></code> API will be correctly persisted in these scenarios.</p> <p>You can examine the stored data under the Extension Storage item in the <a href="https://developer.mozilla.org/en-US/docs/Tools/Storage_Inspector">Storage Inspector</a> tab of the <a href="https://extensionworkshop.com/documentation/develop/debugging/" rel=" noopener">developer toolbox</a>, accessible from <code>about:debugging</code>.</p> <div class="note notecard"><p><strong>Note:</strong> The storage area is not encrypted and shouldn't be used for storing confidential user information.</p></div>
<h2 id="types">Types</h2>
<dl> <dt><a href="storage/storagearea"><code>storage.StorageArea</code></a></dt> <dd>An object representing a storage area.</dd> <dt><a href="storage/storagechange"><code>storage.StorageChange</code></a></dt> <dd>An object representing a change to a storage area.</dd> </dl>
<h2 id="properties">Properties</h2>
<p><code>storage</code> has three properties, which represent the different types of available storage area.</p> <dl> <dt><a href="storage/sync"><code>storage.sync</code></a></dt> <dd>Represents the <code>sync</code> storage area. Items in <code>sync</code> storage are synced by the browser, and are available across all instances of that browser that the user is logged into, across different devices.</dd> <dt><a href="storage/local"><code>storage.local</code></a></dt> <dd>Represents the <code>local</code> storage area. Items in <code>local</code> storage are local to the machine the extension was installed on.</dd> <dt><a href="storage/managed"><code>storage.managed</code></a></dt> <dd>Represents the <code>managed</code> storage area. Items in <code>managed</code> storage are set by the domain administrator and are read-only for the extension. Trying to modify this namespace results in an error.</dd> </dl>
<h2 id="events">Events</h2>
<dl> <dt><a href="storage/onchanged"><code>storage.onChanged</code></a></dt> <dd>Fired when one or more items change in a storage area.</dd> </dl>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>StorageArea</code></th>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>14</div></td>
<td class="bc-supports-yes"><div>45</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>14</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>48</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
</tr>
<tr>
<th><code>StorageChange</code></th>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>14</div></td>
<td class="bc-supports-yes"><div>45</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>14</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>48</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
</tr>
<tr>
<th><code>local</code></th>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>14</div></td>
<td class="bc-supports-yes">
<div>45</div>
<div>The storage API is supported in content scripts from version 48.</div>
</td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>14</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>48</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
</tr>
<tr>
<th><code>managed</code></th>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>79</div></td>
<td class="bc-supports-yes">
<div>57</div>
<div>["Platform-specific storage backends, such as Windows registry keys, are not supported.", "Enforcement of extension-provided storage schemas is not supported.", "The <code>onChanged</code> event is not supported."]</div>
</td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
</tr>
<tr>
<th><code>onChanged</code></th>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>14</div></td>
<td class="bc-supports-yes"><div>45</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>14</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>48</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
</tr>
<tr>
<th><code>sync</code></th>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>15</div></td>
<td class="bc-supports-yes">
<div>53</div>
<div>Before version 79, storage quota limits are not enforced.</div>
</td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes">
<div>14</div>
<div>Safari does not sync items saved in the <code>sync</code> storage area, i.e. it behaves the same as the <code>local</code> storage area.</div>
</td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
</tr>
</tbody>
</table>

 
<h2 id="example_extensions">Example extensions</h2>
<ul>
<li><a href="https://github.com/mdn/webextensions-examples/tree/master/annotate-page" rel=" noopener">annotate-page</a></li>
<li><a href="https://github.com/mdn/webextensions-examples/tree/master/favourite-colour" rel=" noopener">favourite-colour</a></li>
<li><a href="https://github.com/mdn/webextensions-examples/tree/master/forget-it" rel=" noopener">forget-it</a></li>
<li><a href="https://github.com/mdn/webextensions-examples/tree/master/navigation-stats" rel=" noopener">navigation-stats</a></li>
<li><a href="https://github.com/mdn/webextensions-examples/tree/master/proxy-blocker" rel=" noopener">proxy-blocker</a></li>
<li><a href="https://github.com/mdn/webextensions-examples/tree/master/quicknote" rel=" noopener">quicknote</a></li>
<li><a href="https://github.com/mdn/webextensions-examples/tree/master/stored-credentials" rel=" noopener">stored-credentials</a></li>
</ul>
 <div class="note notecard">
<p><strong>Note:</strong> This API is based on Chromium's <a href="https://developer.chrome.com/extensions/storage" rel=" noopener"><code>chrome.storage</code></a> API. This documentation is derived from <a href="https://chromium.googlesource.com/chromium/src/+/master/extensions/common/api/storage.json" rel=" noopener"><code>storage.json</code></a> in the Chromium code.</p> <p>Microsoft Edge compatibility data is supplied by Microsoft Corporation and is included here under the Creative Commons Attribution 3.0 United States License.</p> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2021 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/storage" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/storage</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
