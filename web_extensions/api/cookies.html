
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Cookies - Web Extensions - W3cubDocs</title>
  
  <meta name="description" content=" Enables extensions to get and set cookies, and be notified when they change. ">
  <meta name="keywords" content="cookies, web, extensions, web_extensions">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/web_extensions/api/cookies.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/web_extensions.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/web_extensions/" class="_nav-link" title="" style="margin-left:0;">Web Extensions</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<h1>cookies</h1> <p>Enables extensions to get and set cookies, and be notified when they change.</p> <p>To use this API, you need to include the "cookies" <a href="../manifest.json/permissions#api_permissions">API permission</a> in your <a href="../manifest.json">manifest.json</a> file, as well as <a href="../manifest.json/permissions#host_permissions">host permissions</a> for the sites whose cookies you need to access. See <a href="cookies#permissions" aria-current="page">cookie Permissions</a>.</p>
<h2 id="permissions">Permissions</h2>
<p>In order to use this API, an add-on must specify the "cookies" <a href="../manifest.json/permissions#api_permissions">API permission</a> in its manifest, along with <a href="../manifest.json/permissions#host_permissions">host permissions</a> for any sites for which it wishes to access cookies. The add-on may read or write any cookies which could be read or written by a URL matching the host permissions. For example:</p> <dl> <dt><code>http://*.example.com/</code></dt> <dd> <p>An add-on with this host permission may:</p> <ul> <li>Read a non-secure cookie for <code>www.example.com</code>, with any path.</li> <li>Write a secure or non-secure cookie for <code>www.example.com</code>, with any path.</li> </ul> <p>It may <em>not</em>:</p> <ul> <li>Read a secure cookie for <code>www.example.com</code>.</li> </ul> </dd> <dt><code>http://www.example.com/</code></dt> <dd> <p>An add-on with this host permission may:</p> <ul> <li>Read a non-secure cookie for <code>www.example.com</code>, with any path.</li> <li>Read a non-secure cookie for <code>.example.com</code>, with any path.</li> <li>Write a secure or non-secure cookie for <code>www.example.com</code> with any path.</li> <li>Write a secure or non-secure cookie for <code>.example.com</code> with any path.</li> </ul> <p>It may <em>not</em>:</p> <ul> <li>Read or write a cookie for <code>foo.example.com</code>.</li> <li>Read or write a cookie for <code>foo.www.example.com</code>.</li> </ul> </dd> <dt><code>*://*.example.com/</code></dt> <dd> <p>An add-on with this host permission may:</p> <ul> <li>Read or write a secure or non-secure cookie for <code>www.example.com</code> with any path.</li> </ul> </dd> </dl>
<h2 id="first-party_isolation">First-party isolation</h2>
<p>Third-party cookies are cookies that are set by a website other than the one you are currently on. For example:</p> <ol> <li>You visit <a href="https://bbc.com" rel=" noopener">bbc.com</a>. It contains an ad from <a href="http://tracker.com" rel=" noopener">tracker.com</a> that sets a cookie associated with the "<a href="http://tracker.com" rel=" noopener">tracker.com</a>" domain.</li> <li>You visit <a href="https://cnn.com" rel=" noopener">cnn.com</a>. It also contains an ad from <a href="http://tracker.com" rel=" noopener">tracker.com</a> that sets a cookie associated with the "<a href="http://tracker.com" rel=" noopener">tracker.com</a>" domain.</li> <li>Eventually both cookies can be sent to <a href="http://tracker.com" rel=" noopener">tracker.com</a>. who can then figure out that the same user visited both sites.</li> </ol> <p>When first-party isolation is on, cookies are further qualified by the domain of the original page the user visited (essentially, the domain shown to the user in the URL bar, also known as the "first party domain"). This means it's not possible for a tracker to correlate its cookie from <a href="https://bbc.com" rel=" noopener">bbc.com</a> with its cookie from <a href="https://cnn.com" rel=" noopener">cnn.com</a>, so the tracker can't track a single user across both sites.</p> <p>First-party isolation can be enabled directly by the user by adjusting the browser's configuration, and can be set by extensions using the <code><a href="privacy/websites#properties">firstPartyIsolate</a></code> setting in the <code><a href="privacy">privacy</a></code> API. Note that first-party isolation is enabled by default in <a href="https://www.torproject.org/" rel=" noopener">Tor Browser</a>.</p> <p>In the <code>cookies</code> API, the first party domain is represented using the <code>firstPartyDomain</code> attribute. All cookies set while first-party isolation is on will have this attribute set to the domain of the original page. In the example above, this would be "<a href="https://bbc.com" rel=" noopener">bbc.com</a>" for one cookie and "<a href="https://cnn.com" rel=" noopener">cnn.com</a>" for the other. All cookies set by websites while first-party isolation is off will have this property set to an empty string.<br> <br> The <a href="cookies/get"><code>cookies.get()</code></a>, <a href="cookies/getall"><code>cookies.getAll()</code></a>, <a href="cookies/set"><code>cookies.set()</code></a> and <a href="cookies/remove"><code>cookies.remove()</code></a> APIs all accept a <code>firstPartyDomain</code> option.<br> When first-party isolation is on, you must provide this option or the API call will fail and return a rejected promise. For <code>get()</code>, <code>set()</code>, and <code>remove()</code> you must pass a string value. For <code>getAll()</code>, you may also pass <code>null</code> here, and this will get all cookies, whether or not they have a non-empty value for <code>firstPartyDomain</code>.<br> When first-party isolation is off, the <code>firstPartyDomain</code> parameter is optional and defaults to an empty string. A non-empty string can be used to retrieve or modify first-party isolation cookies. Likewise, passing <code>null</code> as <code>firstPartyDomain</code> to <code>getAll()</code> will return all cookies.</p>
<h2 id="types">Types</h2>
<dl> <dt><a href="cookies/cookie"><code>cookies.Cookie</code></a></dt> <dd>Represents information about an HTTP cookie.</dd> <dt><a href="cookies/cookiestore"><code>cookies.CookieStore</code></a></dt> <dd>Represents a cookie store in the browser.</dd> <dt><a href="cookies/onchangedcause"><code>cookies.OnChangedCause</code></a></dt> <dd>Represents the reason a cookie changed.</dd> <dt><a href="cookies/samesitestatus"><code>cookies.SameSiteStatus</code></a></dt> <dd>Represents the same-site status of the cookie.</dd> </dl>
<h2 id="methods">Methods</h2>
<dl> <dt><a href="cookies/get"><code>cookies.get()</code></a></dt> <dd>Retrieves information about a single cookie.</dd> <dt><a href="cookies/getall"><code>cookies.getAll()</code></a></dt> <dd>Retrieves all cookies that match a given set of filters.</dd> <dt><a href="cookies/set"><code>cookies.set()</code></a></dt> <dd>Sets a cookie with the given cookie data; may overwrite equivalent cookies if they exist.</dd> <dt><a href="cookies/remove"><code>cookies.remove()</code></a></dt> <dd>Deletes a cookie by name.</dd> <dt><a href="cookies/getallcookiestores"><code>cookies.getAllCookieStores()</code></a></dt> <dd>Lists all existing cookie stores.</dd> </dl>
<h2 id="event_handlers">Event handlers</h2>
<dl> <dt><a href="cookies/onchanged"><code>cookies.onChanged</code></a></dt> <dd>Fired when a cookie is set or removed.</dd> </dl>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>Cookie</code></th>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>14</div></td>
<td class="bc-supports-yes"><div>45</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>14</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>48</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
</tr>
<tr>
<th><code>CookieStore</code></th>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>14</div></td>
<td class="bc-supports-yes"><div>45</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>14</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>48</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
</tr>
<tr>
<th><code>OnChangedCause</code></th>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>79</div></td>
<td class="bc-supports-yes"><div>45</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>48</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
</tr>
<tr>
<th><code>get</code></th>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>14</div></td>
<td class="bc-supports-yes">
<div>45</div>
<div>Provides access to cookies from private browsing mode and container tabs since version 52.</div>
</td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes">
<div>14</div>
<div>HTTPOnly cookies are not retrieved.</div>
</td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>48</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
</tr>
<tr>
<th><code>getAll</code></th>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes">
<div>14</div>
<div>If no URL is provided, cookies are retrieved only for URLs in currently opened tabs. In Chrome, this gets all cookies on a user's machine.</div>
</td>
<td class="bc-supports-yes">
<div>45</div>
<div>Before version 52, the 'tabIds' list was empty and only cookies from the default cookie store were returned. From version 52 onwards, this has been fixed and the result includes cookies from private browsing mode and container tabs.</div>
</td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes">
<div>14</div>
<div>["Only the cookies in the default cookie store are retrieved.", "HTTPOnly cookies are not retrieved."]</div>
</td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>48</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
</tr>
<tr>
<th><code>getAllCookieStores</code></th>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes">
<div>14</div>
<div>Always returns the same default cookie store with ID 0. All cookies belong to this store.</div>
</td>
<td class="bc-supports-yes">
<div>45</div>
<div>Before version 52, only the default cookie store was visible. From version 52 onwards, the cookie stores for private browsing mode and container tabs are also readable.</div>
</td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes">
<div>14</div>
<div>Always returns the same default cookie store with ID 0.</div>
</td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>48</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
</tr>
<tr>
<th><code>onChanged</code></th>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>79</div></td>
<td class="bc-supports-yes"><div>45</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>48</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
</tr>
<tr>
<th><code>remove</code></th>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>14</div></td>
<td class="bc-supports-yes">
<div>45</div>
<div>Before version 56, this function did not remove cookies from private browsing mode. From version 56 onwards this is fixed.</div>
</td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>14</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes">
<div>48</div>
<div>Before version 56, this function did not remove cookies from private browsing mode. From version 56 onwards this is fixed.</div>
</td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
</tr>
<tr>
<th><code>sameSiteStatus</code></th>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>79</div></td>
<td class="bc-supports-yes"><div>63</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes">
<div>14</div>
<div>Only supports explicit.</div>
</td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>63</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
</tr>
<tr>
<th><code>set</code></th>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>14</div></td>
<td class="bc-supports-yes">
<div>45</div>
<div>Before version 56, this function did not modify cookies in private browsing mode. From version 56 onwards this is fixed.</div>
</td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>14</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes">
<div>48</div>
<div>Before version 56, this function did not modify cookies in private browsing mode. From version 56 onwards this is fixed.</div>
</td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
</tr>
</tbody>
</table>

 
<h2 id="example_extensions">Example extensions</h2>
<ul>
<li><a href="https://github.com/mdn/webextensions-examples/tree/master/cookie-bg-picker" rel=" noopener">cookie-bg-picker</a></li>
<li><a href="https://github.com/mdn/webextensions-examples/tree/master/list-cookies" rel=" noopener">list-cookies</a></li>
</ul>
 <div class="note notecard">
<p><strong>Note:</strong> This API is based on Chromium's <a href="https://developer.chrome.com/extensions/cookies" rel=" noopener"><code>chrome.cookies</code></a> API. This documentation is derived from <a href="https://chromium.googlesource.com/chromium/src/+/master/chrome/common/extensions/api/cookies.json" rel=" noopener"><code>cookies.json</code></a> in the Chromium code.</p> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2021 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/cookies" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/cookies</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
