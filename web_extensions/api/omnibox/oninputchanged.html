
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>omnibox.onInputChanged - Web Extensions - W3cubDocs</title>
  
  <meta name="description" content="Fired whenever the user changes their input, after they have started interacting with your extension by entering its keyword in the address bar and &hellip;">
  <meta name="keywords" content="omnibox, oninputchanged, web, extensions, web_extensions">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/web_extensions/api/omnibox/oninputchanged.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/web_extensions.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/web_extensions/" class="_nav-link" title="" style="margin-left:0;">Web Extensions</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<h1>omnibox.onInputChanged</h1> <p>Fired whenever the user changes their input, after they have started interacting with your extension by entering its keyword in the address bar and then pressing the space key.</p> <p>This is the event you'll use to populate the address bar's drop-down list with suggestions. The event listener is passed:</p> <ul> <li>the current user input (not including the keyword itself or the space after it)</li> <li>a callback function which the listener can call with an array of <a href="suggestresult"><code>omnibox.SuggestResult</code></a> objects, one for each suggestion. Only the first six suggestions will be displayed.</li> </ul>
<h2 id="syntax">Syntax</h2>
<div class="code-example"><pre data-language="js">browser<span class="token punctuation">.</span>omnibox<span class="token punctuation">.</span>onInputChanged<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span>
browser<span class="token punctuation">.</span>omnibox<span class="token punctuation">.</span>onInputChanged<span class="token punctuation">.</span><span class="token function">removeListener</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span>
browser<span class="token punctuation">.</span>omnibox<span class="token punctuation">.</span>onInputChanged<span class="token punctuation">.</span><span class="token function">hasListener</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span>
</pre></div> <p>Events have three functions:</p> <dl> <dt><code>addListener(listener)</code></dt> <dd>Adds a listener to this event.</dd> <dt><code>removeListener(listener)</code></dt> <dd>Stop listening to this event. The <code>listener</code> argument is the listener to remove.</dd> <dt><code>hasListener(listener)</code></dt> <dd>Check whether <code>listener</code> is registered for this event. Returns <code>true</code> if it is listening, <code>false</code> otherwise.</dd> </dl>
<h2 id="addlistener_syntax">addListener syntax</h2>
<p>The listener function will be passed two parameters: a string <code>text</code>, and a callback function <code>suggest</code>.</p>
<h3 id="parameters">Parameters</h3>
<dl> <dt><code>text</code></dt> <dd> <p><code>String</code>. The current user input in the address bar, not including the extension's keyword itself or the space after the keyword. Use this to decide which suggestions to display in the drop-down list.</p> </dd> <dt><code>suggest</code></dt> <dd> <p><code>Function</code>. A callback function that the event listener can call to supply suggestions for the address bar's drop-down list. The callback function expects to receive an array of <a href="suggestresult"><code>omnibox.SuggestResult</code></a> objects, one for each suggestion. Only the first six suggestions will be displayed.</p> </dd> </dl>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>onInputChanged</code></th>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-yes"><div>79</div></td>
<td class="bc-supports-yes"><div>52</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-yes"><div>Yes</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
</tr></tbody>
</table>


<h2 id="examples">Examples</h2>
<p>This example interprets the user's input as a CSS property name and populates the drop-down list with one <a href="suggestresult"><code>omnibox.SuggestResult</code></a> object for each CSS property matching the input. The <code>SuggestResult</code> <code>description</code> is the full name of the property, and the <code>content</code> is the MDN page for that property.</p> <p>The example also listens to <a href="oninputentered"><code>omnibox.onInputEntered</code></a>, and opens the MDN page corresponding to the selection, according to the <a href="oninputentereddisposition"><code>omnibox.OnInputEnteredDisposition</code></a> argument.</p> <div class="code-example"><pre data-language="js">browser<span class="token punctuation">.</span>omnibox<span class="token punctuation">.</span><span class="token function">setDefaultSuggestion</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  description<span class="token operator">:</span> <span class="token string">"Type the name of a CSS property"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
Very short list of a few CSS properties.
*/</span>
<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">"animation"</span><span class="token punctuation">,</span>
  <span class="token string">"background"</span><span class="token punctuation">,</span>
  <span class="token string">"border"</span><span class="token punctuation">,</span>
  <span class="token string">"box-shadow"</span><span class="token punctuation">,</span>
  <span class="token string">"color"</span><span class="token punctuation">,</span>
  <span class="token string">"display"</span><span class="token punctuation">,</span>
  <span class="token string">"flex"</span><span class="token punctuation">,</span>
  <span class="token string">"flex"</span><span class="token punctuation">,</span>
  <span class="token string">"float"</span><span class="token punctuation">,</span>
  <span class="token string">"font"</span><span class="token punctuation">,</span>
  <span class="token string">"grid"</span><span class="token punctuation">,</span>
  <span class="token string">"margin"</span><span class="token punctuation">,</span>
  <span class="token string">"opacity"</span><span class="token punctuation">,</span>
  <span class="token string">"overflow"</span><span class="token punctuation">,</span>
  <span class="token string">"padding"</span><span class="token punctuation">,</span>
  <span class="token string">"position"</span><span class="token punctuation">,</span>
  <span class="token string">"transform"</span><span class="token punctuation">,</span>
  <span class="token string">"transition"</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> baseURL <span class="token operator">=</span> <span class="token string">"https://developer.mozilla.org/en-US/docs/Web/CSS/"</span><span class="token punctuation">;</span>

<span class="token comment">/*
Return an array of SuggestResult objects,
one for each CSS property that matches the user's input.
*/</span>
<span class="token keyword">function</span> <span class="token function">getMatchingProperties</span><span class="token punctuation">(</span><span class="token parameter">input</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>prop <span class="token keyword">of</span> props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>prop<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> suggestion <span class="token operator">=</span> <span class="token punctuation">{</span>
        content<span class="token operator">:</span> baseURL <span class="token operator">+</span> prop<span class="token punctuation">,</span>
        description<span class="token operator">:</span> prop
      <span class="token punctuation">}</span>
      result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>suggestion<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>length <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

browser<span class="token punctuation">.</span>omnibox<span class="token punctuation">.</span>onInputChanged<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">input<span class="token punctuation">,</span> suggest</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">suggest</span><span class="token punctuation">(</span><span class="token function">getMatchingProperties</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

browser<span class="token punctuation">.</span>omnibox<span class="token punctuation">.</span>onInputEntered<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> disposition</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>disposition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">"currentTab"</span><span class="token operator">:</span>
      browser<span class="token punctuation">.</span>tabs<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span>url<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">"newForegroundTab"</span><span class="token operator">:</span>
      browser<span class="token punctuation">.</span>tabs<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>url<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">"newBackgroundTab"</span><span class="token operator">:</span>
      browser<span class="token punctuation">.</span>tabs<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>url<span class="token punctuation">,</span> active<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</pre></div> 
<h3 id="example_extensions">Example extensions</h3>
<ul><li><a href="https://github.com/mdn/webextensions-examples/tree/master/firefox-code-search" rel=" noopener">firefox-code-search</a></li></ul>
 <div class="note notecard">
<p><strong>Note:</strong> This API is based on Chromium's <a href="https://developer.chrome.com/extensions/omnibox" rel=" noopener"><code>chrome.omnibox</code></a> API.</p> <p>Microsoft Edge compatibility data is supplied by Microsoft Corporation and is included here under the Creative Commons Attribution 3.0 United States License.</p> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2021 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/omnibox/onInputChanged" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/omnibox/onInputChanged</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
