
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Timers - Pony - W3cubDocs</title>
  
  <meta name="description" content=" [Source] ">
  <meta name="keywords" content="timers, pony">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/pony/time-timers.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/pony.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/pony/" class="_nav-link" title="" style="margin-left:0;">Pony</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1 id="timers">Timers</h1> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/time/timers/#L13">[Source]</a></span></p> <p>A hierarchical set of timing wheels.</p> <pre>actor tag Timers
</pre> <h2 id="constructors">Constructors</h2> <h3 id="create">create</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/time/timers/#L24">[Source]</a></span></p> <p>Create a timer handler with the specified number of slop bits. No slop bits means trying for nanosecond resolution. 10 slop bits is approximately microsecond resolution, 20 slop bits is approximately millisecond resolution.</p> <pre>new tag create(
  slop: USize val = 20)
: Timers tag^
</pre> <h4 id="parameters">Parameters</h4> <ul> <li>slop: <a href="builtin-usize">USize</a> val = 20</li> </ul> <h4 id="returns">Returns</h4> <ul> <li>
<a href="index">Timers</a> tag^</li> </ul>  <h2 id="public-behaviours">Public Behaviours</h2> <h3 id="apply">apply</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/time/timers/#L38">[Source]</a></span></p> <p>Sets a timer. Fire it if need be, schedule it on the right timing wheel, then rearm the timer.</p> <pre>be apply(
  timer: Timer iso)
</pre> <h4 id="parameters_1">Parameters</h4> <ul> <li>timer: <a href="time-timer">Timer</a> iso</li> </ul>  <h3 id="cancel">cancel</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/time/timers/#L49">[Source]</a></span></p> <p>Cancels a timer.</p> <pre>be cancel(
  timer: Timer tag)
</pre> <h4 id="parameters_2">Parameters</h4> <ul> <li>timer: <a href="time-timer">Timer</a> tag</li> </ul>  <h3 id="dispose">dispose</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/time/timers/#L64">[Source]</a></span></p> <p>Dispose of this set of timing wheels.</p> <pre>be dispose()
</pre>  <h2 id="private-behaviours">Private Behaviours</h2> <h3 id="_event_notify">_event_notify</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/time/timers/#L78">[Source]</a></span></p> <p>When the event fires, advance the timing wheels.</p> <pre>be _event_notify(
  event: Pointer[AsioEvent val] tag,
  flags: U32 val,
  arg: U32 val)
</pre> <h4 id="parameters_3">Parameters</h4> <ul> <li>event: <a href="builtin-pointer">Pointer</a>[<a href="builtin-asioevent">AsioEvent</a> val] tag</li> <li>flags: <a href="builtin-u32">U32</a> val</li> <li>arg: <a href="builtin-u32">U32</a> val</li> </ul>  <h2 id="private-functions">Private Functions</h2> <h3 id="_advance">_advance</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/time/timers/#L88">[Source]</a></span></p> <p>Update the current time, process all the timing wheels, and set the event for the next time we need to advance.</p> <pre>fun ref _advance()
: None val
</pre> <h4 id="returns_1">Returns</h4> <ul> <li>
<a href="builtin-none">None</a> val</li> </ul>  <h3 id="_fire">_fire</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/time/timers/#L128">[Source]</a></span></p> <p>Fire a timer if necessary, then schedule it on the correct timing wheel based on how long it is until it expires.</p> <pre>fun ref _fire(
  timer: Timer ref)
: None val
</pre> <h4 id="parameters_4">Parameters</h4> <ul> <li>timer: <a href="time-timer">Timer</a> ref</li> </ul> <h4 id="returns_2">Returns</h4> <ul> <li>
<a href="builtin-none">None</a> val</li> </ul>  <h3 id="_next">_next</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/time/timers/#L145">[Source]</a></span></p> <p>Return the next time at which the timing wheels should be advanced. This is adjusted for slop, so it yields nanoseconds. If no events are pending, this returns -1.</p> <pre>fun box _next()
: U64 val
</pre> <h4 id="returns_3">Returns</h4> <ul> <li>
<a href="builtin-u64">U64</a> val</li> </ul>  <h3 id="_set_time">_set_time</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/time/timers/#L165">[Source]</a></span></p> <p>Set the current time with precision reduced by the slop bits. Return the elapsed time.</p> <pre>fun ref _set_time()
: U64 val
</pre> <h4 id="returns_4">Returns</h4> <ul> <li>
<a href="builtin-u64">U64</a> val</li> </ul>  <h3 id="_get_wheel">_get_wheel</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/time/timers/#L173">[Source]</a></span></p> <p>Get the hierarchical timing wheel for the given time until expiration.</p> <pre>fun ref _get_wheel(
  rem: U64 val)
: _TimingWheel ref ?
</pre> <h4 id="parameters_5">Parameters</h4> <ul> <li>rem: <a href="builtin-u64">U64</a> val</li> </ul> <h4 id="returns_5">Returns</h4> <ul> <li>
<a href="time-_timingwheel">_TimingWheel</a> ref ?</li> </ul>  <h3 id="_expiration_max">_expiration_max</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/time/timers/#L181">[Source]</a></span></p> <p>Get the maximum time the timing wheels cover. Anything beyond this is scheduled on the last timing wheel.</p> <pre>fun tag _expiration_max()
: U64 val
</pre> <h4 id="returns_6">Returns</h4> <ul> <li>
<a href="builtin-u64">U64</a> val</li> </ul>  <h3 id="_wheels">_wheels</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/time/timers/#L188">[Source]</a></span></p> <pre>fun tag _wheels()
: USize val
</pre> <h4 id="returns_7">Returns</h4> <ul> <li>
<a href="builtin-usize">USize</a> val</li> </ul>  <h3 id="_bits">_bits</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/time/timers/#L189">[Source]</a></span></p> <pre>fun tag _bits()
: USize val
</pre> <h4 id="returns_8">Returns</h4> <ul> <li>
<a href="builtin-usize">USize</a> val</li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    © 2016-2018, The Pony Developers<br>© 2014-2015, Causality Ltd.<br>Licensed under the BSD 2-Clause License.<br>
    <a href="https://stdlib.ponylang.io/time-Timers" class="_attribution-link">https://stdlib.ponylang.io/time-Timers</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
