
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>ActionDispatch&#58;&#58;Http&#58;&#58;Headers - Ruby on Rails 6.0 - W3cubDocs</title>
  
  <meta name="description" content=" Provides access to the request&#39;s HTTP headers from the environment. ">
  <meta name="keywords" content="class, actiondispatch, http, headers, ruby, on, rails, rails~6.0">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/rails~6.0/actiondispatch/http/headers.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/rails~6.0.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/rails~6.0/" class="_nav-link" title="" style="margin-left:0;">Ruby on Rails 6.0</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _rdoc">
				
				
<h1 id="class-ActionDispatch::Http::Headers" class="class"> class ActionDispatch::Http::Headers </h1>
<dl class="meta">
<dt>Parent:</dt>
<dd class="meta-parent"><a href="../../object">Object</a></dd>
<dt>Included modules:</dt>
<dd class="meta-includes"><a class="include" href="../../enumerable">Enumerable</a></dd>
</dl> <section class="description"> <p>Provides access to the request's HTTP headers from the environment.</p> <pre class="ruby" data-language="ruby">env     = { "CONTENT_TYPE" =&gt; "text/plain", "HTTP_USER_AGENT" =&gt; "curl/7.43.0" }
headers = ActionDispatch::Http::Headers.from_hash(env)
headers["Content-Type"] # =&gt; "text/plain"
headers["User-Agent"] # =&gt; "curl/7.43.0"
</pre> <p>Also note that when headers are mapped to CGI-like variables by the Rack server, both dashes and underscores are converted to underscores. This ambiguity cannot be resolved at this stage anymore. Both underscores and dashes have to be interpreted as if they were originally sent as dashes.</p> <pre class="ruby" data-language="ruby"># GET / HTTP/1.1
# ...
# User-Agent: curl/7.43.0
# X_Custom_Header: token

headers["X_Custom_Header"] # =&gt; nil
headers["X-Custom-Header"] # =&gt; "token"
</pre> </section> <section id="5Buntitled-5D" class="documentation-section"> <section class="constants-list"> <header> <h3>Constants</h3> </header> <dl> <dt id="CGI_VARIABLES">CGI_VARIABLES </dt>

<dt id="HTTP_HEADER">HTTP_HEADER </dt>

</dl> </section> <section id="public-class-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Class Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-c-from_hash"> <span class="method-name">from_hash</span><span class="method-args">(hash)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="from_hash-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/http/headers.rb, line 50
def self.from_hash(hash)
  new ActionDispatch::Request.new hash
end</pre> </div>  </div> </div> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-i-5B-5D"> <span class="method-name">[]</span><span class="method-args">(key)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="5B-5D-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/http/headers.rb, line 59
def [](key)
  @req.get_header env_name(key)
end</pre> </div> <p>Returns the value for the given key mapped to @env.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-5B-5D-3D"> <span class="method-name">[]=</span><span class="method-args">(key, value)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="5B-5D-3D-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/http/headers.rb, line 64
def []=(key, value)
  @req.set_header env_name(key), value
end</pre> </div> <p>Sets the given value for the key mapped to @env.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-add"> <span class="method-name">add</span><span class="method-args">(key, value)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="add-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/http/headers.rb, line 69
def add(key, value)
  @req.add_header env_name(key), value
end</pre> </div> <p>Add a value to a multivalued header like Vary or Accept-Encoding.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-each"> <span class="method-name">each</span><span class="method-args">(&amp;block)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="each-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/http/headers.rb, line 95
def each(&amp;block)
  @req.each_header(&amp;block)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-env"> <span class="method-name">env</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="env-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/http/headers.rb, line 116
def env; @req.env.dup; end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-fetch"> <span class="method-name">fetch</span><span class="method-args">(key, default = DEFAULT) { || ... }</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="fetch-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/http/headers.rb, line 87
def fetch(key, default = DEFAULT)
  @req.fetch_header(env_name(key)) do
    return default unless default == DEFAULT
    return yield if block_given?
    raise KeyError, key
  end
end</pre> </div> <p>Returns the value for the given key mapped to @env.</p> <p>If the key is not found and an optional code block is not provided, raises a <code>KeyError</code> exception.</p> <p>If the code block is provided, then it will be run and its result returned.</p>  </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-include-3F"> <span class="method-name">include?</span><span class="method-args">(key)</span> </div>  <div class="aliases"> Alias for: <a href="headers#method-i-key-3F">key?</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-key-3F"> <span class="method-name">key?</span><span class="method-args">(key)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="key-3F-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/http/headers.rb, line 73
def key?(key)
  @req.has_header? env_name(key)
end</pre> </div>  </div> <div class="aliases"> Also aliased as: <a href="headers#method-i-include-3F">include?</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-merge"> <span class="method-name">merge</span><span class="method-args">(headers_or_env)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="merge-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/http/headers.rb, line 101
def merge(headers_or_env)
  headers = @req.dup.headers
  headers.merge!(headers_or_env)
  headers
end</pre> </div> <p>Returns a new <a href="headers">Http::Headers</a> instance containing the contents of <code>headers_or_env</code> and the original instance.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-merge-21"> <span class="method-name">merge!</span><span class="method-args">(headers_or_env)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="merge-21-source"> <pre class="ruby" data-language="ruby"># File actionpack/lib/action_dispatch/http/headers.rb, line 110
def merge!(headers_or_env)
  headers_or_env.each do |key, value|
    @req.set_header env_name(key), value
  end
end</pre> </div> <p>Adds the contents of <code>headers_or_env</code> to original instance entries; duplicate keys are overwritten with the values from <code>headers_or_env</code>.</p>  </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    © 2004–2019 David Heinemeier Hansson<br>Licensed under the MIT License.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
