
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>engines.hipchat - SaltStack - W3cubDocs</title>
  
  <meta name="description" content="An engine that reads messages from Hipchat and sends them to the Salt event bus. Alternatively Salt commands can be sent to the Salt master via &hellip;">
  <meta name="keywords" content="salt, engines, hipchat, module, saltstack">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/saltstack/ref/engines/all/salt.engines.hipchat.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/saltstack.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/saltstack/" class="_nav-link" title="" style="margin-left:0;">SaltStack</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>salt.engines.hipchat module</h1> <p>An engine that reads messages from Hipchat and sends them to the Salt event bus. Alternatively Salt commands can be sent to the Salt master via Hipchat by setting the control parameter to <code class="docutils literal notranslate"><span class="pre">True</span></code> and using command prefaced with a <code class="docutils literal notranslate"><span class="pre">!</span></code>. Only token key is required, but room and control keys make the engine interactive.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">depends:</th>
<td class="field-body">
<p class="first">hypchat</p> </td> </tr> <tr class="field-even field">
<th class="field-name">configuration:</th>
<td class="field-body">
<p class="first">Example configuration</p> <div class="last highlight-yaml notranslate">
<div class="highlight"><pre><span class="nt">engines</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">hipchat</span><span class="p">:</span>
        <span class="nt">api_url</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">http://api.hipchat.myteam.com</span>
        <span class="nt">token</span><span class="p">:</span> <span class="s">'XXXXXX'</span>
        <span class="nt">room</span><span class="p">:</span> <span class="s">'salt'</span>
        <span class="nt">control</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
        <span class="nt">valid_users</span><span class="p">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">SomeUser</span>
        <span class="nt">valid_commands</span><span class="p">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">test.ping</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">cmd.run</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">list_jobs</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">list_commands</span>
        <span class="nt">aliases</span><span class="p">:</span>
            <span class="nt">list_jobs</span><span class="p">:</span>
                <span class="nt">cmd</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">jobs.list_jobs</span>
            <span class="nt">list_commands</span><span class="p">:</span>
                <span class="nt">cmd</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pillar.get salt:engines:hipchat:valid_commands target=saltmaster</span>
        <span class="nt">max_rooms</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
        <span class="nt">wait_time</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div> </div> </td> </tr> </tbody> </table> <dl class="function"> <h3 id="salt.engines.hipchat.start"> salt.engines.hipchat.start(token, room='salt', aliases=None, valid_users=None, valid_commands=None, control=False, trigger='!', tag='salt/engines/hipchat/incoming', api_key=None, api_url=None, max_rooms=None, wait_time=None, output_type='file', outputter='nested')</h3> <dd>
<p>Listen to Hipchat messages and forward them to Salt.</p> <dl class="docutils"> <dt>token</dt> <dd>The HipChat API key. It requires a key for global usgae, assigned per user, rather than room.</dd> <dt>room</dt> <dd>The HipChat room name.</dd> <dt>aliases</dt> <dd>Define custom aliases.</dd> <dt>valid_users</dt> <dd>Restrict access only to certain users.</dd> <dt>valid_commands</dt> <dd>Restrict the execution to a limited set of commands.</dd> <dt>control</dt> <dd>Send commands to the master.</dd> <dt>trigger: <code class="docutils literal notranslate"><span class="pre">!</span></code>
</dt> <dd>Special character that triggers the execution of salt commands.</dd> <dt>tag: <code class="docutils literal notranslate"><span class="pre">salt/engines/hipchat/incoming</span></code>
</dt> <dd>The event tag on the Salt bus.</dd> <dt>api_url: <code class="docutils literal notranslate"><span class="pre">https://api.hipchat.com</span></code>
</dt> <dd>
<p class="first">The URL to the HipChat API.</p> <div class="last versionadded"> <p><span class="versionmodified">New in version 2017.7.0.</span></p> </div> </dd> <dt>max_rooms: <code class="docutils literal notranslate"><span class="pre">1000</span></code>
</dt> <dd>Maximum number of rooms allowed to fetch. If set to 0, it is able to retrieve the entire list of rooms.</dd> <dt>wait_time: <code class="docutils literal notranslate"><span class="pre">5</span></code>
</dt> <dd>Maximum wait time, in seconds.</dd> <dt>output_type: <code class="docutils literal notranslate"><span class="pre">file</span></code>
</dt> <dd>
<p class="first">The type of the output. Choose bewteen:</p> <blockquote> <div>
<ul class="simple"> <li>
<code class="docutils literal notranslate"><span class="pre">file</span></code>: save the output into a temporary file and upload</li> <li>
<code class="docutils literal notranslate"><span class="pre">html</span></code>: send the output as HTML</li> <li>
<code class="docutils literal notranslate"><span class="pre">code</span></code>: send the output as code</li> </ul> </div>
</blockquote> <p>This can be overridden when executing a command, using the <code class="docutils literal notranslate"><span class="pre">--out-type</span></code> argument.</p> <div class="last versionadded"> <p><span class="versionmodified">New in version 2017.7.0.</span></p> </div> </dd> <dt>outputter: <code class="docutils literal notranslate"><span class="pre">nested</span></code>
</dt> <dd>
<p class="first">The format to display the data, using the outputters available on the CLI. This argument can also be overridden when executing a command, using the <code class="docutils literal notranslate"><span class="pre">--out</span></code> option.</p> <div class="last versionadded"> <p><span class="versionmodified">New in version 2017.7.0.</span></p> </div> </dd> </dl> <p>HipChat Example:</p> <pre class="highlight-text notranslate" data-language="text">! test.ping
! test.ping target=minion1
! test.ping --out=nested
! test.ping --out-type=code --out=table</pre> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    Â© 2019 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltstack.com/en/latest/ref/engines/all/salt.engines.hipchat.html" class="_attribution-link">https://docs.saltstack.com/en/latest/ref/engines/all/salt.engines.hipchat.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
