
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>modules.publish - SaltStack - W3cubDocs</title>
  
  <meta name="description" content=" Publish a command from a minion to a target ">
  <meta name="keywords" content="salt, modules, publish, saltstack">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/saltstack/ref/modules/all/salt.modules.publish.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/saltstack.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/saltstack/" class="_nav-link" title="" style="margin-left:0;">SaltStack</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>salt.modules.publish</h1> <p>Publish a command from a minion to a target</p> <dl class="function"> <h3 id="salt.modules.publish.full_data"> salt.modules.publish.full_data(tgt, fun, arg=None, tgt_type='glob', returner='', timeout=5)</h3> <dd>
<p>Return the full data about the publication, this is invoked in the same way as the publish function</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt system.example.com publish.full_data '*' cmd.run 'ls -la /tmp'</pre> <div class="admonition-attention admonition"> <p class="first admonition-title">Attention</p> <p>If you need to pass a value to a function argument and that value contains an equal sign, you <strong>must</strong> include the argument name. For example:</p> <div class="last highlight-bash notranslate">
<div class="highlight"><pre>salt <span class="s1">'*'</span> publish.full_data test.kwarg <span class="nv">arg</span><span class="o">=</span><span class="s1">'cheese=spam'</span>
</pre></div> </div> </div> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.publish.publish"> salt.modules.publish.publish(tgt, fun, arg=None, tgt_type='glob', returner='', timeout=5, via_master=None)</h3> <dd>
<p>Publish a command from the minion out to other minions.</p> <p>Publications need to be enabled on the Salt master and the minion needs to have permission to publish the command. The Salt master will also prevent a recursive publication loop, this means that a minion cannot command another minion to command another minion as that would create an infinite command loop.</p> <p>The <code class="docutils literal notranslate"><span class="pre">tgt_type</span></code> argument is used to pass a target other than a glob into the execution, the available options are:</p> <ul class="simple"> <li>glob</li> <li>pcre</li> <li>grain</li> <li>grain_pcre</li> <li>pillar</li> <li>pillar_pcre</li> <li>ipcidr</li> <li>range</li> <li>compound</li> </ul> <div class="versionchanged"> <p><span class="versionmodified">Changed in version 2017.7.0: </span>The <code class="docutils literal notranslate"><span class="pre">expr_form</span></code> argument has been renamed to <code class="docutils literal notranslate"><span class="pre">tgt_type</span></code>, earlier releases must use <code class="docutils literal notranslate"><span class="pre">expr_form</span></code>.</p> </div> <p>Note that for pillar matches must be exact, both in the pillar matcher and the compound matcher. No globbing is supported.</p> <p>The arguments sent to the minion publish function are separated with commas. This means that for a minion executing a command with multiple args it will look like this:</p> <pre class="highlight-bash notranslate" data-language="bash">salt system.example.com publish.publish '*' user.add 'foo,1020,1020'
salt system.example.com publish.publish 'os:Fedora' network.interfaces '' grain</pre> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt system.example.com publish.publish '*' cmd.run 'ls -la /tmp'</pre> <div class="admonition-attention admonition"> <p class="first admonition-title">Attention</p> <p>If you need to pass a value to a function argument and that value contains an equal sign, you <strong>must</strong> include the argument name. For example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' publish.publish test.kwarg arg='cheese=spam'</pre> <p>Multiple keyword arguments should be passed as a list.</p> <div class="last highlight-bash notranslate">
<div class="highlight"><pre>salt <span class="s1">'*'</span> publish.publish test.kwarg <span class="nv">arg</span><span class="o">=</span><span class="s2">"['cheese=spam','spam=cheese']"</span>
</pre></div> </div> </div> <p>When running via salt-call, the <cite>via_master</cite> flag may be set to specific which master the publication should be sent to. Only one master may be specified. If unset, the publication will be sent only to the first master in minion configuration.</p> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.publish.runner"> salt.modules.publish.runner(fun, arg=None, timeout=5)</h3> <dd>
<p>Execute a runner on the master and return the data from the runner function</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt publish.runner manage.down</pre> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    Â© 2019 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.publish.html" class="_attribution-link">https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.publish.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
