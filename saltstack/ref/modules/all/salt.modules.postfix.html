
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>modules.postfix - SaltStack - W3cubDocs</title>
  
  <meta name="description" content=" Support for Postfix ">
  <meta name="keywords" content="salt, modules, postfix, saltstack">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/saltstack/ref/modules/all/salt.modules.postfix.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/saltstack.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/saltstack/" class="_nav-link" title="" style="margin-left:0;">SaltStack</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>salt.modules.postfix</h1> <p>Support for Postfix</p> <p>This module is currently little more than a config file viewer and editor. It is able to read the master.cf file (which is one style) and files in the style of main.cf (which is a different style, that is used in multiple postfix configuration files).</p> <p>The design of this module is such that when files are edited, a minimum of changes are made to them. Each file should look as if it has been edited by hand; order, comments and whitespace are all preserved.</p> <dl class="function"> <h3 id="salt.modules.postfix.delete"> salt.modules.postfix.delete(queue_id)</h3> <dd>
<p>Delete message(s) from the mail queue</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' postfix.delete 5C33CA0DEA

salt '*' postfix.delete ALL</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.postfix.hold"> salt.modules.postfix.hold(queue_id)</h3> <dd>
<p>Put message(s) on hold from the mail queue</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' postfix.hold 5C33CA0DEA

salt '*' postfix.hold ALL</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.postfix.requeue"> salt.modules.postfix.requeue(queue_id)</h3> <dd>
<p>Requeue message(s) in the mail queue</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' postfix.requeue 5C33CA0DEA

salt '*' postfix.requeue ALL</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.postfix.set_main"> salt.modules.postfix.set_main(key, value, path='/etc/postfix/main.cf')</h3> <dd>
<p>Set a single config value in the main.cf file. If the value does not already exist, it will be appended to the end.</p> <p>CLI Example:</p> <blockquote> <div>salt &lt;minion&gt; postfix.set_main mailq_path /usr/bin/mailq</div>
</blockquote> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.postfix.set_master"> salt.modules.postfix.set_master(service, conn_type, private='y', unpriv='y', chroot='y', wakeup='n', maxproc='100', command='', write_conf=True, path='/etc/postfix/master.cf')</h3> <dd>
<p>Set a single config value in the master.cf file. If the value does not already exist, it will be appended to the end.</p> <p>Because of shell parsing issues, '-' cannot be set as a value, as is normal in the master.cf file; either 'y', 'n' or a number should be used when calling this function from the command line. If the value used matches the default, it will internally be converted to a '-'. Calling this function from the Python API is not affected by this limitation</p> <p>The settings and their default values, in order, are: service (required), conn_type (required), private (y), unpriv (y), chroot (y), wakeup (n), maxproc (100), command (required).</p> <p>By default, this function will write out the changes to the master.cf file, and then returns the full contents of the file. By setting the <code class="docutils literal notranslate"><span class="pre">write_conf</span></code> option to <code class="docutils literal notranslate"><span class="pre">False</span></code>, it will skip writing the file.</p> <p>CLI Example:</p> <blockquote> <div>salt &lt;minion&gt; postfix.set_master smtp inet n y n n 100 smtpd</div>
</blockquote> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.postfix.show_main"> salt.modules.postfix.show_main(path='/etc/postfix/main.cf')</h3> <dd>
<p>Return a dict of active config values. This does not include comments, spacing or order. Bear in mind that order is functionally important in the main.cf file, since keys can be referred to as variables. This means that the data returned from this function should not be used for direct modification of the main.cf file; other functions are available for that.</p> <p>CLI Examples:</p> <blockquote> <div>salt &lt;minion&gt; postfix.show_main salt &lt;minion&gt; postfix.show_main path=/path/to/main.cf</div>
</blockquote> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.postfix.show_master"> salt.modules.postfix.show_master(path='/etc/postfix/master.cf')</h3> <dd>
<p>Return a dict of active config values. This does not include comments, spacing or order.</p> <p>The data returned from this function should not be used for direct modification of the main.cf file; other functions are available for that.</p> <p>CLI Examples:</p> <blockquote> <div>salt &lt;minion&gt; postfix.show_master salt &lt;minion&gt; postfix.show_master path=/path/to/master.cf</div>
</blockquote> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.postfix.show_queue"> salt.modules.postfix.show_queue()</h3> <dd>
<p>Show contents of the mail queue</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' postfix.show_queue</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.postfix.unhold"> salt.modules.postfix.unhold(queue_id)</h3> <dd>
<p>Set held message(s) in the mail queue to unheld</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' postfix.unhold 5C33CA0DEA

salt '*' postfix.unhold ALL</pre> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    Â© 2019 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.postfix.html" class="_attribution-link">https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.postfix.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
