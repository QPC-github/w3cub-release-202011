
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>modules.mandrill - SaltStack - W3cubDocs</title>
  
  <meta name="description" content=" Send out emails using the Mandrill API. ">
  <meta name="keywords" content="salt, modules, mandrill, saltstack">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/saltstack/ref/modules/all/salt.modules.mandrill.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/saltstack.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/saltstack/" class="_nav-link" title="" style="margin-left:0;">SaltStack</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>salt.modules.mandrill</h1> <div class="section" id="mandrill"> <h2>Mandrill</h2> <p>Send out emails using the <a class="reference external" href="https://mandrillapp.com">Mandrill</a> <a class="reference external" href="https://mandrillapp.com/api/docs/">API</a>.</p> <p>In the minion configuration file, the following block is required:</p> <pre class="highlight-yaml notranslate" data-language="yaml">mandrill:
  key: &lt;API_KEY&gt;</pre> <div class="versionadded"> <p><span class="versionmodified">New in version 2018.3.0.</span></p> </div> <dl class="function"> <h3 id="salt.modules.mandrill.send"> salt.modules.mandrill.send(message, asynchronous=False, ip_pool=None, send_at=None, api_url=None, api_version=None, api_key=None, **kwargs)</h3> <dd>
<p>Send out the email using the details from the <code class="docutils literal notranslate"><span class="pre">message</span></code> argument.</p> <dl class="docutils"> <dt>message</dt> <dd>The information on the message to send. This argument must be sent as dictionary with at fields as specified in the Mandrill API documentation.</dd> <dt>asynchronous: <code class="docutils literal notranslate"><span class="pre">False</span></code>
</dt> <dd>Enable a background sending mode that is optimized for bulk sending. In asynchronous mode, messages/send will immediately return a status of "queued" for every recipient. To handle rejections when sending in asynchronous mode, set up a webhook for the 'reject' event. Defaults to false for messages with no more than 10 recipients; messages with more than 10 recipients are always sent asynchronously, regardless of the value of asynchronous.</dd> <dt>ip_pool</dt> <dd>The name of the dedicated ip pool that should be used to send the message. If you do not have any dedicated IPs, this parameter has no effect. If you specify a pool that does not exist, your default pool will be used instead.</dd> <dt>send_at</dt> <dd>When this message should be sent as a UTC timestamp in <code class="docutils literal notranslate"><span class="pre">YYYY-MM-DD</span> <span class="pre">HH:MM:SS</span></code> format. If you specify a time in the past, the message will be sent immediately. An additional fee applies for scheduled email, and this feature is only available to accounts with a positive balance.</dd> </dl> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Fur further details please consult the <a class="reference external" href="https://mandrillapp.com/api/docs/messages.dart.html">API documentation</a>.</p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">$ salt '*' mandrill.send message="{'subject': 'Hi', 'from_email': 'test@example.com', 'to': [{'email': 'recv@example.com', 'type': 'to'}]}"</pre> <p><code class="docutils literal notranslate"><span class="pre">message</span></code> structure example (as YAML for readability):</p> <pre class="highlight-yaml notranslate" data-language="yaml">message:
    text: |
        This is the body of the email.
        This is the second line.
    subject: Email subject
    from_name: Test At Example Dot Com
    from_email: test@example.com
    to:
      - email: recv@example.com
        type: to
        name: Recv At Example Dot Com
      - email: cc@example.com
        type: cc
        name: CC At Example Dot Com
    important: true
    track_clicks: true
    track_opens: true
    attachments:
      - type: text/x-yaml
        name: yaml_file.yml
        content: aV9hbV9zdXBlcl9jdXJpb3VzOiB0cnVl</pre> <p>Output example:</p> <pre class="highlight-bash notranslate" data-language="bash">minion:
    ----------
    comment:
    out:
        |_
          ----------
          _id:
              c4353540a3c123eca112bbdd704ab6
          email:
              recv@example.com
          reject_reason:
              None
          status:
              sent
    result:
        True</pre> </dd>
</dl> </div>
<div class="_attribution">
  <p class="_attribution-p">
    Â© 2019 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.mandrill.html" class="_attribution-link">https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.mandrill.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
