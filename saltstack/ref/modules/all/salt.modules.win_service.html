
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>modules.win_service - SaltStack - W3cubDocs</title>
  
  <meta name="description" content=" Windows Service module. ">
  <meta name="keywords" content="salt, modules, win, service, saltstack">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/saltstack/ref/modules/all/salt.modules.win_service.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/saltstack.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/saltstack/" class="_nav-link" title="" style="margin-left:0;">SaltStack</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>salt.modules.win_service</h1> <p>Windows Service module.</p> <div class="versionchanged"> <p><span class="versionmodified">Changed in version 2016.11.0: </span>- Rewritten to use PyWin32</p> </div> <dl class="function"> <h3 id="salt.modules.win_service.available"> salt.modules.win_service.available(name)</h3> <dd>
<p>Check if a service is available on the system.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The name of the service to check</td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<code class="docutils literal notranslate"><span class="pre">True</span></code> if the service is available, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.available &lt;service name&gt;</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_service.create"> salt.modules.win_service.create(name, bin_path, exe_args=None, display_name=None, description=None, service_type='own', start_type='manual', start_delayed=False, error_control='normal', load_order_group=None, dependencies=None, account_name='.\\LocalSystem', account_password=None, run_interactive=False, **kwargs)</h3> <dd>
<p>Create the named service.</p> <div class="versionadded"> <p><span class="versionmodified">New in version 2015.8.0.</span></p> </div> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- Specifies the service name. This is not the display_name</li> <li>
<strong>bin_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- Specifies the path to the service binary file. Backslashes must be escaped, eg: <code class="docutils literal notranslate"><span class="pre">C:\path\to\binary.exe</span></code>
</li> <li>
<strong>exe_args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- Any additional arguments required by the service binary.</li> <li>
<strong>display_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The name to be displayed in the service manager. If not passed, the <code class="docutils literal notranslate"><span class="pre">name</span></code> will be used</li> <li>
<strong>description</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- A description of the service</li> <li>
<strong>service_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- <p>Specifies the service type. Default is <code class="docutils literal notranslate"><span class="pre">own</span></code>. Valid options are as follows:</p> <ul> <li>kernel: Driver service</li> <li>filesystem: File system driver service</li> <li>adapter: Adapter driver service (reserved)</li> <li>recognizer: Recognizer driver service (reserved)</li> <li>own (default): Service runs in its own process</li> <li>share: Service shares a process with one or more other services</li> </ul> </li> <li>
<strong>start_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- <p>Specifies the service start type. Valid options are as follows:</p> <ul> <li>boot: Device driver that is loaded by the boot loader</li> <li>system: Device driver that is started during kernel initialization</li> <li>auto: Service that automatically starts</li> <li>manual (default): Service must be started manually</li> <li>disabled: Service cannot be started</li> </ul> </li> <li>
<strong>start_delayed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Set the service to Auto(Delayed Start). Only valid if the start_type is set to <code class="docutils literal notranslate"><span class="pre">Auto</span></code>. If service_type is not passed, but the service is already set to <code class="docutils literal notranslate"><span class="pre">Auto</span></code>, then the flag will be set. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>
</li> <li>
<strong>error_control</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- <p>The severity of the error, and action taken, if this service fails to start. Valid options are as follows:</p> <ul> <li>normal (normal): Error is logged and a message box is displayed</li> <li>severe: Error is logged and computer attempts a restart with the last known good configuration</li> <li>critical: Error is logged, computer attempts to restart with the last known good configuration, system halts on failure</li> <li>ignore: Error is logged and startup continues, no notification is given to the user</li> </ul> </li> <li>
<strong>load_order_group</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The name of the load order group to which this service belongs</li> <li>
<strong>dependencies</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) -- A list of services or load ordering groups that must start before this service</li> <li>
<strong>account_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- <p>The name of the account under which the service should run. For <code class="docutils literal notranslate"><span class="pre">own</span></code> type services this should be in the <code class="docutils literal notranslate"><span class="pre">domain\username</span></code> format. The following are examples of valid built-in service accounts:</p> <ul> <li>NT AuthorityLocalService</li> <li>NT AuthorityNetworkService</li> <li>NT AuthorityLocalSystem</li> <li>.LocalSystem</li> </ul> </li> <li>
<strong>account_password</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The password for the account name specified in <code class="docutils literal notranslate"><span class="pre">account_name</span></code>. For the above built-in accounts, this can be None. Otherwise a password must be specified.</li> <li>
<strong>run_interactive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- If this setting is True, the service will be allowed to interact with the user. Not recommended for services that run with elevated privileges.</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">A dictionary containing information about the new service</p> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.create &lt;service name&gt; &lt;path to exe&gt; display_name='&lt;display name&gt;'</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_service.create_win_salt_restart_task"> salt.modules.win_service.create_win_salt_restart_task()</h3> <dd>
<p>Create a task in Windows task scheduler to enable restarting the salt-minion</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Returns:</th>
<td class="field-body">
<code class="docutils literal notranslate"><span class="pre">True</span></code> if successful, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code>
</td> </tr> <tr class="field-even field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.create_win_salt_restart_task()</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_service.delete"> salt.modules.win_service.delete(name, timeout=90)</h3> <dd>
<p>Delete the named service</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The name of the service to delete</li> <li>
<strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- <p>The time in seconds to wait for the service to be deleted before returning. This is necessary because a service must be stopped before it can be deleted. Default is 90 seconds</p> <div class="versionadded"> <p><span class="versionmodified">New in version 2017.7.9,2018.3.4.</span></p> </div> </li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">

<dl class="docutils"> <dt>
<code class="docutils literal notranslate"><span class="pre">True</span></code> if successful, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code>. Also returns <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt> <dd>
<p class="first last">if the service is not present</p> </dd> </dl> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.delete &lt;service name&gt;</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_service.disable"> salt.modules.win_service.disable(name, **kwargs)</h3> <dd>
<p>Disable the named service to start at boot</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The name of the service to disable</td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<code class="docutils literal notranslate"><span class="pre">True</span></code> if disabled, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.disable &lt;service name&gt;</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_service.disabled"> salt.modules.win_service.disabled(name)</h3> <dd>
<p>Check to see if the named service is disabled to start on boot</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The name of the service to check</td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">True if the service is disabled</td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.disabled &lt;service name&gt;</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_service.enable"> salt.modules.win_service.enable(name, start_type='auto', start_delayed=False, **kwargs)</h3> <dd>
<p>Enable the named service to start at boot</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The name of the service to enable.</li> <li>
<strong>start_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- <p>Specifies the service start type. Valid options are as follows:</p> <ul> <li>boot: Device driver that is loaded by the boot loader</li> <li>system: Device driver that is started during kernel initialization</li> <li>auto: Service that automatically starts</li> <li>manual: Service must be started manually</li> <li>disabled: Service cannot be started</li> </ul> </li> <li>
<strong>start_delayed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Set the service to Auto(Delayed Start). Only valid if the start_type is set to <code class="docutils literal notranslate"><span class="pre">Auto</span></code>. If service_type is not passed, but the service is already set to <code class="docutils literal notranslate"><span class="pre">Auto</span></code>, then the flag will be set.</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><code class="docutils literal notranslate"><span class="pre">True</span></code> if successful, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.enable &lt;service name&gt;</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_service.enabled"> salt.modules.win_service.enabled(name, **kwargs)</h3> <dd>
<p>Check to see if the named service is enabled to start on boot</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The name of the service to check</td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">True if the service is set to start</td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.enabled &lt;service name&gt;</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_service.execute_salt_restart_task"> salt.modules.win_service.execute_salt_restart_task()</h3> <dd>
<p>Run the Windows Salt restart task</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Returns:</th>
<td class="field-body">
<code class="docutils literal notranslate"><span class="pre">True</span></code> if successful, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code>
</td> </tr> <tr class="field-even field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.execute_salt_restart_task()</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_service.get_all"> salt.modules.win_service.get_all()</h3> <dd>
<p>Return all installed services</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Returns:</th>
<td class="field-body">Returns a list of all services on the system.</td> </tr> <tr class="field-even field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.get_all</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_service.get_disabled"> salt.modules.win_service.get_disabled()</h3> <dd>
<p>Return a list of disabled services. Disabled is defined as a service that is marked 'Disabled' or 'Manual'.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Returns:</th>
<td class="field-body">A list of disabled services.</td> </tr> <tr class="field-even field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.get_disabled</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_service.get_enabled"> salt.modules.win_service.get_enabled()</h3> <dd>
<p>Return a list of enabled services. Enabled is defined as a service that is marked to Auto Start.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Returns:</th>
<td class="field-body">A list of enabled services</td> </tr> <tr class="field-even field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.get_enabled</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_service.get_service_name"> salt.modules.win_service.get_service_name(*args)</h3> <dd>
<p>The Display Name is what is displayed in Windows when services.msc is executed. Each Display Name has an associated Service Name which is the actual name of the service. This function allows you to discover the Service Name by returning a dictionary of Display Names and Service Names, or filter by adding arguments of Display Names.</p> <p>If no args are passed, return a dict of all services where the keys are the service Display Names and the values are the Service Names.</p> <p>If arguments are passed, create a dict of Display Names and Service Names</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Returns:</th>
<td class="field-body">A dictionary of display names and service names</td> </tr> <tr class="field-even field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></td> </tr> </tbody> </table> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.get_service_name
salt '*' service.get_service_name 'Google Update Service (gupdate)' 'DHCP Client'</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_service.getsid"> salt.modules.win_service.getsid(name)</h3> <dd>
<p>Return the SID for this windows service</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The name of the service for which to return the SID</td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">A string representing the SID for the service</td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.getsid &lt;service name&gt;</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_service.info"> salt.modules.win_service.info(name)</h3> <dd>
<p>Get information about a service on the system</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The name of the service. This is not the display name. Use <code class="docutils literal notranslate"><span class="pre">get_service_name</span></code> to find the service name.</td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">A dictionary containing information about the service.</td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.info spooler</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_service.missing"> salt.modules.win_service.missing(name)</h3> <dd>
<p>The inverse of service.available.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The name of the service to check</td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<code class="docutils literal notranslate"><span class="pre">True</span></code> if the service is missing, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.missing &lt;service name&gt;</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_service.modify"> salt.modules.win_service.modify(name, bin_path=None, exe_args=None, display_name=None, description=None, service_type=None, start_type=None, start_delayed=None, error_control=None, load_order_group=None, dependencies=None, account_name=None, account_password=None, run_interactive=None)</h3> <dd>
<p>Modify a service's parameters. Changes will not be made for parameters that are not passed.</p> <div class="versionadded"> <p><span class="versionmodified">New in version 2016.11.0.</span></p> </div> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The name of the service. Can be found using the <code class="docutils literal notranslate"><span class="pre">service.get_service_name</span></code> function</li> <li>
<strong>bin_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The path to the service executable. Backslashes must be escaped, eg: <code class="docutils literal notranslate"><span class="pre">C:\path\to\binary.exe</span></code>
</li> <li>
<strong>exe_args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- Any arguments required by the service executable</li> <li>
<strong>display_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The name to display in the service manager</li> <li>
<strong>description</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The description to display for the service</li> <li>
<strong>service_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- <p>Specifies the service type. Default is <code class="docutils literal notranslate"><span class="pre">own</span></code>. Valid options are as follows:</p> <ul> <li>kernel: Driver service</li> <li>filesystem: File system driver service</li> <li>adapter: Adapter driver service (reserved)</li> <li>recognizer: Recognizer driver service (reserved)</li> <li>own (default): Service runs in its own process</li> <li>share: Service shares a process with one or more other services</li> </ul> </li> <li>
<strong>start_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- <p>Specifies the service start type. Valid options are as follows:</p> <ul> <li>boot: Device driver that is loaded by the boot loader</li> <li>system: Device driver that is started during kernel initialization</li> <li>auto: Service that automatically starts</li> <li>manual: Service must be started manually</li> <li>disabled: Service cannot be started</li> </ul> </li> <li>
<strong>start_delayed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Set the service to Auto(Delayed Start). Only valid if the start_type is set to <code class="docutils literal notranslate"><span class="pre">Auto</span></code>. If service_type is not passed, but the service is already set to <code class="docutils literal notranslate"><span class="pre">Auto</span></code>, then the flag will be set.</li> <li>
<strong>error_control</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- <p>The severity of the error, and action taken, if this service fails to start. Valid options are as follows:</p> <ul> <li>normal: Error is logged and a message box is displayed</li> <li>severe: Error is logged and computer attempts a restart with the last known good configuration</li> <li>critical: Error is logged, computer attempts to restart with the last known good configuration, system halts on failure</li> <li>ignore: Error is logged and startup continues, no notification is given to the user</li> </ul> </li> <li>
<strong>load_order_group</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The name of the load order group to which this service belongs</li> <li>
<strong>dependencies</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) -- A list of services or load ordering groups that must start before this service</li> <li>
<strong>account_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- <p>The name of the account under which the service should run. For <code class="docutils literal notranslate"><span class="pre">own</span></code> type services this should be in the <code class="docutils literal notranslate"><span class="pre">domain\username</span></code> format. The following are examples of valid built-in service accounts:</p> <ul> <li>NT AuthorityLocalService</li> <li>NT AuthorityNetworkService</li> <li>NT AuthorityLocalSystem</li> <li>.LocalSystem</li> </ul> </li> <li>
<strong>account_password</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The password for the account name specified in <code class="docutils literal notranslate"><span class="pre">account_name</span></code>. For the above built-in accounts, this can be None. Otherwise a password must be specified.</li> <li>
<strong>run_interactive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- If this setting is True, the service will be allowed to interact with the user. Not recommended for services that run with elevated privileges.</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">a dictionary of changes made</p> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.modify spooler start_type=disabled</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_service.restart"> salt.modules.win_service.restart(name, timeout=90)</h3> <dd>
<p>Restart the named service. This issues a stop command followed by a start.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>name</strong> -- <p>The name of the service to restart.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">If the name passed is <code class="docutils literal notranslate"><span class="pre">salt-minion</span></code> a scheduled task is created and executed to restart the salt-minion service.</p> </div> </li> <li>
<strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- <p>The time in seconds to wait for the service to stop and start before returning. Default is 90 seconds</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">The timeout is cumulative meaning it is applied to the stop and then to the start command. A timeout of 90 could take up to 180 seconds if the service is long in stopping and starting</p> </div> <div class="versionadded"> <p><span class="versionmodified">New in version 2017.7.9,2018.3.4.</span></p> </div> </li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><code class="docutils literal notranslate"><span class="pre">True</span></code> if successful, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code></p> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.restart &lt;service name&gt;</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_service.start"> salt.modules.win_service.start(name, timeout=90)</h3> <dd>
<p>Start the specified service.</p> <div class="admonition warning"> <p class="first admonition-title">Warning</p> <p class="last">You cannot start a disabled service in Windows. If the service is disabled, it will be changed to <code class="docutils literal notranslate"><span class="pre">Manual</span></code> start.</p> </div> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The name of the service to start</li> <li>
<strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- <p>The time in seconds to wait for the service to start before returning. Default is 90 seconds</p> <div class="versionadded"> <p><span class="versionmodified">New in version 2017.7.9,2018.3.4.</span></p> </div> </li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">

<dl class="docutils"> <dt>
<code class="docutils literal notranslate"><span class="pre">True</span></code> if successful, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code>. Also returns <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt> <dd>
<p class="first last">if the service is already started</p> </dd> </dl> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.start &lt;service name&gt;</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_service.status"> salt.modules.win_service.status(name, *args, **kwargs)</h3> <dd>
<p>Return the status for a service. If the name contains globbing, a dict mapping service name to True/False values is returned.</p> <div class="versionchanged"> <p><span class="versionmodified">Changed in version 2018.3.0: </span>The service name can now be a glob (e.g. <code class="docutils literal notranslate"><span class="pre">salt*</span></code>)</p> </div> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The name of the service to check</td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">True if running, False otherwise dict: Maps service name to True if running, False otherwise</td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.status &lt;service name&gt;</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_service.stop"> salt.modules.win_service.stop(name, timeout=90)</h3> <dd>
<p>Stop the specified service</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The name of the service to stop</li> <li>
<strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) -- <p>The time in seconds to wait for the service to stop before returning. Default is 90 seconds</p> <div class="versionadded"> <p><span class="versionmodified">New in version 2017.7.9,2018.3.4.</span></p> </div> </li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">

<dl class="docutils"> <dt>
<code class="docutils literal notranslate"><span class="pre">True</span></code> if successful, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code>. Also returns <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt> <dd>
<p class="first last">if the service is already stopped</p> </dd> </dl> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.stop &lt;service name&gt;</pre> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 2019 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.win_service.html" class="_attribution-link">https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.win_service.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
