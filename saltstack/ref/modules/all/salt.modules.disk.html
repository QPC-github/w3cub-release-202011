
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>modules.disk - SaltStack - W3cubDocs</title>
  
  <meta name="description" content=" Module for managing disks and blockdevices ">
  <meta name="keywords" content="salt, modules, disk, saltstack">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/saltstack/ref/modules/all/salt.modules.disk.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/saltstack.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/saltstack/" class="_nav-link" title="" style="margin-left:0;">SaltStack</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>salt.modules.disk</h1> <p>Module for managing disks and blockdevices</p> <dl class="function"> <h3 id="salt.modules.disk.blkid"> salt.modules.disk.blkid(device=None)</h3> <dd>
<p>Return block device attributes: UUID, LABEL, etc. This function only works on systems where blkid is available.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' disk.blkid
salt '*' disk.blkid /dev/sda</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.disk.dump"> salt.modules.disk.dump(device, args=None)</h3> <dd>
<p>Return all contents of dumpe2fs for a specified device</p> <p>CLI Example: .. code-block:: bash</p> <blockquote> <div>salt '*' disk.dump /dev/sda1</div>
</blockquote> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.disk.format_"> salt.modules.disk.format_(device, fs_type='ext4', inode_size=None, lazy_itable_init=None, force=False)</h3> <dd>
<p>Format a filesystem onto a device</p> <div class="versionadded"> <p><span class="versionmodified">New in version 2016.11.0.</span></p> </div> <dl class="docutils"> <dt>device</dt> <dd>The device in which to create the new filesystem</dd> <dt>fs_type</dt> <dd>The type of filesystem to create</dd> <dt>inode_size</dt> <dd>
<p class="first">Size of the inodes</p> <p class="last">This option is only enabled for ext and xfs filesystems</p> </dd> <dt>lazy_itable_init</dt> <dd>
<p class="first">If enabled and the uninit_bg feature is enabled, the inode table will not be fully initialized by mke2fs. This speeds up filesystem initialization noticeably, but it requires the kernel to finish initializing the filesystem in the background when the filesystem is first mounted. If the option value is omitted, it defaults to 1 to enable lazy inode table zeroing.</p> <p class="last">This option is only enabled for ext filesystems</p> </dd> <dt>force</dt> <dd>
<p class="first">Force mke2fs to create a filesystem, even if the specified device is not a partition on a block special device. This option is only enabled for ext and xfs filesystems</p> <p class="last">This option is dangerous, use it with caution.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' disk.format /dev/sdX1</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.disk.fstype"> salt.modules.disk.fstype(device)</h3> <dd>
<p>Return the filesystem name of the specified device</p> <div class="versionadded"> <p><span class="versionmodified">New in version 2016.11.0.</span></p> </div> <dl class="docutils"> <dt>device</dt> <dd>The name of the device</dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' disk.fstype /dev/sdX1</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.disk.hdparms"> salt.modules.disk.hdparms(disks, args=None)</h3> <dd>
<p>Retrieve all info's for all disks parse 'em into a nice dict (which, considering hdparms output, is quite a hassle)</p> <div class="versionadded"> <p><span class="versionmodified">New in version 2016.3.0.</span></p> </div> <p>CLI Example: .. code-block:: bash</p> <blockquote> <div>salt '*' disk.hdparms /dev/sda</div>
</blockquote> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.disk.hpa"> salt.modules.disk.hpa(disks, size=None)</h3> <dd>
<p>Get/set Host Protected Area settings</p> <p>T13 INCITS 346-2001 (1367D) defines the BEER (Boot Engineering Extension Record) and PARTIES (Protected Area Run Time Interface Extension Services), allowing for a Host Protected Area on a disk.</p> <p>It's often used by OEMS to hide parts of a disk, and for overprovisioning SSD's</p> <div class="admonition warning"> <p class="first admonition-title">Warning</p> <p class="last">Setting the HPA might clobber your data, be very careful with this on active disks!</p> </div> <div class="versionadded"> <p><span class="versionmodified">New in version 2016.3.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' disk.hpa /dev/sda
salt '*' disk.hpa /dev/sda 5%
salt '*' disk.hpa /dev/sda 10543256</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.disk.inodeusage"> salt.modules.disk.inodeusage(args=None)</h3> <dd>
<p>Return inode usage information for volumes mounted on this minion</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' disk.inodeusage</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.disk.iostat"> salt.modules.disk.iostat(interval=1, count=5, disks=None)</h3> <dd>
<p>Gather and return (averaged) IO stats.</p> <div class="versionadded"> <p><span class="versionmodified">New in version 2016.3.0.</span></p> </div> <div class="versionchanged"> <p><span class="versionmodified">Changed in version 2016.11.4: </span>Added support for AIX</p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' disk.iostat 1 5 disks=sda</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.disk.percent"> salt.modules.disk.percent(args=None)</h3> <dd>
<p>Return partition information for volumes mounted on this minion</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' disk.percent /var</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.disk.resize2fs"> salt.modules.disk.resize2fs(device)</h3> <dd>
<p>Resizes the filesystem.</p> <p>CLI Example: .. code-block:: bash</p> <blockquote> <div>salt '*' disk.resize2fs /dev/sda1</div>
</blockquote> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.disk.smart_attributes"> salt.modules.disk.smart_attributes(dev, attributes=None, values=None)</h3> <dd>
<p>Fetch SMART attributes Providing attributes will deliver only requested attributes Providing values will deliver only requested values for attributes</p> <p>Default is the Backblaze recommended set (<a class="reference external" href="https://www.backblaze.com/blog/hard-drive-smart-stats/">https://www.backblaze.com/blog/hard-drive-smart-stats/</a>): (5,187,188,197,198)</p> <div class="versionadded"> <p><span class="versionmodified">New in version 2016.3.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' disk.smart_attributes /dev/sda
salt '*' disk.smart_attributes /dev/sda attributes=(5,187,188,197,198)</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.disk.tune"> salt.modules.disk.tune(device, **kwargs)</h3> <dd>
<p>Set attributes for the specified device</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' disk.tune /dev/sda1 read-ahead=1024 read-write=True</pre> <p>Valid options are: <code class="docutils literal notranslate"><span class="pre">read-ahead</span></code>, <code class="docutils literal notranslate"><span class="pre">filesystem-read-ahead</span></code>, <code class="docutils literal notranslate"><span class="pre">read-only</span></code>, <code class="docutils literal notranslate"><span class="pre">read-write</span></code>.</p> <p>See the <code class="docutils literal notranslate"><span class="pre">blockdev(8)</span></code> manpage for a more complete description of these options.</p> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.disk.usage"> salt.modules.disk.usage(args=None)</h3> <dd>
<p>Return usage information for volumes mounted on this minion</p> <div class="versionchanged"> <p><span class="versionmodified">Changed in version 2019.2.0: </span>Default for SunOS changed to 1 kilobyte blocks</p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' disk.usage</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.disk.wipe"> salt.modules.disk.wipe(device)</h3> <dd>
<p>Remove the filesystem information</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' disk.wipe /dev/sda1</pre> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 2019 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.disk.html" class="_attribution-link">https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.disk.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
