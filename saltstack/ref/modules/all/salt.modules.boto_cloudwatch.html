
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>modules.boto_cloudwatch - SaltStack - W3cubDocs</title>
  
  <meta name="description" content=" Connection module for Amazon CloudWatch ">
  <meta name="keywords" content="salt, modules, boto, cloudwatch, saltstack">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/saltstack/ref/modules/all/salt.modules.boto_cloudwatch.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/saltstack.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/saltstack/" class="_nav-link" title="" style="margin-left:0;">SaltStack</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>salt.modules.boto_cloudwatch</h1> <p>Connection module for Amazon CloudWatch</p> <div class="versionadded"> <p><span class="versionmodified">New in version 2014.7.0.</span></p> </div> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">configuration:</th>
<td class="field-body">
<p class="first">This module accepts explicit credentials but can also utilize IAM roles assigned to the instance through Instance Profiles. Dynamic credentials are then automatically obtained from AWS API and no further configuration is necessary. More Information available at:</p> <pre class="highlight-text notranslate" data-language="text">http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html</pre> <p>If IAM roles are not used you need to specify them either in a pillar or in the minion's config file:</p> <pre class="highlight-yaml notranslate" data-language="yaml">cloudwatch.keyid: GKTADJGHEIQSXMKKRBJ08H
cloudwatch.key: askdjghsdfjkghWupUjasdflkdfklgjsdfjajkghs</pre> <p>A region may also be specified in the configuration:</p> <pre class="highlight-yaml notranslate" data-language="yaml">cloudwatch.region: us-east-1</pre> <p>If a region is not specified, the default is us-east-1.</p> <p>It's also possible to specify key, keyid and region via a profile, either as a passed in dict, or as a string to pull from pillars or minion config:</p> <pre class="highlight-yaml notranslate" data-language="yaml">myprofile:
    keyid: GKTADJGHEIQSXMKKRBJ08H
    key: askdjghsdfjkghWupUjasdflkdfklgjsdfjajkghs
    region: us-east-1</pre> </td> </tr> <tr class="field-even field">
<th class="field-name">depends:</th>
<td class="field-body">
<p class="first last">boto</p> </td> </tr> </tbody> </table> <dl class="function"> <h3 id="salt.modules.boto_cloudwatch.convert_to_arn"> salt.modules.boto_cloudwatch.convert_to_arn(arns, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Convert a list of strings into actual arns. Converts convenience names such as 'scaling_policy:...'</p> <p>CLI Example:</p> <pre class="highlight-default notranslate" data-language="default">salt '*' convert_to_arn 'scaling_policy:'</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.boto_cloudwatch.create_or_update_alarm"> salt.modules.boto_cloudwatch.create_or_update_alarm(connection=None, name=None, metric=None, namespace=None, statistic=None, comparison=None, threshold=None, period=None, evaluation_periods=None, unit=None, description='', dimensions=None, alarm_actions=None, insufficient_data_actions=None, ok_actions=None, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Create or update a cloudwatch alarm.</p> <dl class="docutils"> <dt>Params are the same as:</dt> <dd>
<a class="reference external" href="https://boto.readthedocs.io/en/latest/ref/cloudwatch.html#boto.ec2.cloudwatch.alarm.MetricAlarm">https://boto.readthedocs.io/en/latest/ref/cloudwatch.html#boto.ec2.cloudwatch.alarm.MetricAlarm</a>.</dd> </dl> <p>Dimensions must be a dict. If the value of Dimensions is a string, it will be json decoded to produce a dict. alarm_actions, insufficient_data_actions, and ok_actions must be lists of string. If the passed-in value is a string, it will be split on "," to produce a list. The strings themselves for alarm_actions, insufficient_data_actions, and ok_actions must be Amazon resource names (ARN's); however, this method also supports an arn lookup notation, as follows:</p> <blockquote> <div>arn:aws:.... ARN as per http://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html scaling_policy:&lt;as_name&gt;:&lt;scaling_policy_name&gt; The named autoscale group scaling policy, for the named group (e.g. scaling_policy:my-asg:ScaleDown)</div>
</blockquote> <p>This is convenient for setting up autoscaling as follows. First specify a boto_asg.present state for an ASG with scaling_policies, and then set up boto_cloudwatch_alarm.present states which have alarm_actions that reference the scaling_policy.</p> <p>CLI example:</p> <blockquote> <div>salt myminion boto_cloudwatch.create_alarm name=myalarm ... region=us-east-1</div>
</blockquote> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.boto_cloudwatch.delete_alarm"> salt.modules.boto_cloudwatch.delete_alarm(name, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Delete a cloudwatch alarm</p> <p>CLI example to delete a queue:</p> <pre class="highlight-default notranslate" data-language="default">salt myminion boto_cloudwatch.delete_alarm myalarm region=us-east-1</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.boto_cloudwatch.get_alarm"> salt.modules.boto_cloudwatch.get_alarm(name, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Get alarm details. Also can be used to check to see if an alarm exists.</p> <p>CLI example:</p> <pre class="highlight-default notranslate" data-language="default">salt myminion boto_cloudwatch.get_alarm myalarm region=us-east-1</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.boto_cloudwatch.get_all_alarms"> salt.modules.boto_cloudwatch.get_all_alarms(region=None, prefix=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Get all alarm details. Produces results that can be used to create an sls file.</p> <p>If prefix parameter is given, alarm names in the output will be prepended with the prefix; alarms that have the prefix will be skipped. This can be used to convert existing alarms to be managed by salt, as follows:</p> <blockquote> <div>
<ol class="arabic simple"> <li>
<dl class="first docutils"> <dt>Make a "backup" of all existing alarms</dt> <dd>$ salt-call boto_cloudwatch.get_all_alarms --out=txt | sed "s/local: //" &gt; legacy_alarms.sls</dd> </dl> </li> <li>
<dl class="first docutils"> <dt>Get all alarms with new prefixed names</dt> <dd>$ salt-call boto_cloudwatch.get_all_alarms "prefix=**MANAGED BY SALT** " --out=txt | sed "s/local: //" &gt; managed_alarms.sls</dd> </dl> </li> <li>
<dl class="first docutils"> <dt>Insert the managed alarms into cloudwatch</dt> <dd>$ salt-call state.template managed_alarms.sls</dd> </dl> </li> <li>Manually verify that the new alarms look right</li> <li>Delete the original alarms $ sed s/present/absent/ legacy_alarms.sls &gt; remove_legacy_alarms.sls $ salt-call state.template remove_legacy_alarms.sls</li> <li>Get all alarms again, verify no changes $ salt-call boto_cloudwatch.get_all_alarms --out=txt | sed "s/local: //" &gt; final_alarms.sls $ diff final_alarms.sls managed_alarms.sls</li> </ol> </div>
</blockquote> <p>CLI example:</p> <pre class="highlight-default notranslate" data-language="default">salt myminion boto_cloudwatch.get_all_alarms region=us-east-1 --out=txt</pre> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 2019 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.boto_cloudwatch.html" class="_attribution-link">https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.boto_cloudwatch.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
