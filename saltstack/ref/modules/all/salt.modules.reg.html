
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>modules.reg - SaltStack - W3cubDocs</title>
  
  <meta name="description" content=" Manage the Windows registry ">
  <meta name="keywords" content="salt, modules, reg, saltstack">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/saltstack/ref/modules/all/salt.modules.reg.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/saltstack.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/saltstack/" class="_nav-link" title="" style="margin-left:0;">SaltStack</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>salt.modules.reg</h1> <p>Manage the Windows registry</p> <div class="section" id="hives"> <h2>Hives</h2> <p>Hives are the main sections of the registry and all begin with the word HKEY.</p> <ul class="simple"> <li>HKEY_LOCAL_MACHINE</li> <li>HKEY_CURRENT_USER</li> <li>HKEY_USER</li> </ul> </div> <div class="section" id="keys"> <h2>Keys</h2> <p>Keys are the folders in the registry. Keys can have many nested subkeys. Keys can have a value assigned to them under the (Default)</p> <p>When passing a key on the CLI it must be quoted correctly depending on the backslashes being used (<code class="docutils literal notranslate"><span class="pre">\</span></code> vs <code class="docutils literal notranslate"><span class="pre">\\</span></code>). The following are valid methods of passing the the key on the CLI:</p> <dl class="docutils"> <dt>Using single backslashes:</dt> <dd>
<code class="docutils literal notranslate"><span class="pre">"SOFTWARE\Python"</span></code> <code class="docutils literal notranslate"><span class="pre">'SOFTWARE\Python'</span></code> (will not work on a Windows Master)</dd> <dt>Using double backslashes:</dt> <dd><code class="docutils literal notranslate"><span class="pre">SOFTWARE\\Python</span></code></dd> </dl> <div class="section" id="values-or-entries"> <h3>Values or Entries</h3> <p>Values or Entries are the name/data pairs beneath the keys and subkeys. All keys have a default name/data pair. The name is <code class="docutils literal notranslate"><span class="pre">(Default)</span></code> with a displayed value of <code class="docutils literal notranslate"><span class="pre">(value</span> <span class="pre">not</span> <span class="pre">set)</span></code>. The actual value is Null.</p> <p class="rubric">Example</p> <p>The following example is an export from the Windows startup portion of the registry:</p> <pre class="highlight-bash notranslate" data-language="bash">[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Run]
"RTHDVCPL"="\"C:\\Program Files\\Realtek\\Audio\\HDA\\RtkNGUI64.exe\" -s"
"NvBackend"="\"C:\\Program Files (x86)\\NVIDIA Corporation\\Update Core\\NvBackend.exe\""
"BTMTrayAgent"="rundll32.exe \"C:\\Program Files (x86)\\Intel\\Bluetooth\\btmshellex.dll\",TrayApp"</pre> <p>In this example these are the values for each:</p> <dl class="docutils"> <dt>Hive:</dt> <dd><code class="docutils literal notranslate"><span class="pre">HKEY_LOCAL_MACHINE</span></code></dd> <dt>Key and subkeys:</dt> <dd><code class="docutils literal notranslate"><span class="pre">SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run</span></code></dd> <dt>Value:</dt> <dd>
<ul class="first last simple"> <li>
<dl class="first docutils"> <dt>There are 3 value names:</dt> <dd>
<ul class="first last"> <li><cite>RTHDVCPL</cite></li> <li><cite>NvBackend</cite></li> <li><cite>BTMTrayAgent</cite></li> </ul> </dd> </dl> </li> <li>Each value name has a corresponding value</li> </ul> </dd> </dl> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">depends:</th>
<td class="field-body">
<ul class="first last simple"> <li>salt.utils.win_reg</li> </ul> </td> </tr> </tbody> </table> <dl class="function"> <h3 id="salt.modules.reg.broadcast_change"> salt.modules.reg.broadcast_change()</h3> <dd>
<p>Refresh the windows environment.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">This will only effect new processes and windows. Services will not see the change until the system restarts.</p> </div> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Returns:</th>
<td class="field-body">True if successful, otherwise False</td> </tr> <tr class="field-even field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <blockquote> <div>
<pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.broadcast_change</pre> </div>
</blockquote> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.reg.delete_key_recursive"> salt.modules.reg.delete_key_recursive(hive, key, use_32bit_registry=False)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified">New in version 2015.5.4.</span></p> </div> <p>Delete a registry key to include all subkeys and value/data pairs.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<strong>hive</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- <p>The name of the hive. Can be one of the following</p> <blockquote> <div>
<ul class="simple"> <li>HKEY_LOCAL_MACHINE or HKLM</li> <li>HKEY_CURRENT_USER or HKCU</li> <li>HKEY_USER or HKU</li> <li>HKEY_CLASSES_ROOT or HKCR</li> <li>HKEY_CURRENT_CONFIG or HKCC</li> </ul> </div>
</blockquote> <dl class="docutils"> <dt>key (str):</dt> <dd>The key to remove (looks like a path)</dd> <dt>use_32bit_registry (bool):</dt> <dd>Deletes the 32bit portion of the registry on 64bit installations. On 32bit machines this is ignored.</dd> </dl> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<dl class="docutils"> <dt>A dictionary listing the keys that deleted successfully as well as</dt> <dd>those that failed to delete.</dd> </dl> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <blockquote> <div>
<p>The following example will remove <code class="docutils literal notranslate"><span class="pre">delete_me</span></code> and all its subkeys from the <code class="docutils literal notranslate"><span class="pre">SOFTWARE</span></code> key in <code class="docutils literal notranslate"><span class="pre">HKEY_LOCAL_MACHINE</span></code>:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.delete_key_recursive HKLM SOFTWARE\\delete_me</pre> </div>
</blockquote> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.reg.delete_value"> salt.modules.reg.delete_value(hive, key, vname=None, use_32bit_registry=False)</h3> <dd>
<p>Delete a registry value entry or the default value for a key.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>hive</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- <p>The name of the hive. Can be one of the following</p> <blockquote> <div>
<ul> <li>HKEY_LOCAL_MACHINE or HKLM</li> <li>HKEY_CURRENT_USER or HKCU</li> <li>HKEY_USER or HKU</li> <li>HKEY_CLASSES_ROOT or HKCR</li> <li>HKEY_CURRENT_CONFIG or HKCC</li> </ul> </div>
</blockquote> </li> <li>
<strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The key (looks like a path) to the value name.</li> <li>
<strong>vname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The value name. These are the individual name/data pairs under the key. If not passed, the key (Default) value will be deleted.</li> <li>
<strong>use_32bit_registry</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Deletes the 32bit portion of the registry on 64bit installations. On 32bit machines this is ignored.</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">True if successful, otherwise False</p> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <blockquote> <div>
<pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.delete_value HKEY_CURRENT_USER 'SOFTWARE\\Salt' 'version'</pre> </div>
</blockquote> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.reg.import_file"> salt.modules.reg.import_file(source, use_32bit_registry=False)</h3> <dd>
<p>Import registry settings from a Windows <code class="docutils literal notranslate"><span class="pre">REG</span></code> file by invoking <code class="docutils literal notranslate"><span class="pre">REG.EXE</span></code>.</p> <div class="versionadded"> <p><span class="versionmodified">New in version 2018.3.0.</span></p> </div> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The full path of the <code class="docutils literal notranslate"><span class="pre">REG</span></code> file. This can be either a local file path or a URL type supported by salt (e.g. <code class="docutils literal notranslate"><span class="pre">salt://salt_master_path</span></code>)</li> <li>
<strong>use_32bit_registry</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- If the value of this parameter is <code class="docutils literal notranslate"><span class="pre">True</span></code> then the <code class="docutils literal notranslate"><span class="pre">REG</span></code> file will be imported into the Windows 32 bit registry. Otherwise the Windows 64 bit registry will be used.</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">True if successful, otherwise an error is raised</p> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p> </td> </tr> <tr class="field-even field">
<th class="field-name">Raises:</th>
<td class="field-body">
<ul class="first last simple"> <li>
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> -- If the value of <code class="docutils literal notranslate"><span class="pre">source</span></code> is an invalid path or otherwise causes <code class="docutils literal notranslate"><span class="pre">cp.cache_file</span></code> to return <code class="docutils literal notranslate"><span class="pre">False</span></code>
</li> <li>
<code class="xref py py-exc docutils literal notranslate"><span class="pre">CommandExecutionError</span></code> -- If <code class="docutils literal notranslate"><span class="pre">reg.exe</span></code> exits with a non-0 exit code</li> </ul> </td> </tr> </tbody> </table> <p>CLI Example:</p> <blockquote> <div>
<pre class="highlight-bash notranslate" data-language="bash">salt machine1 reg.import_file salt://win/printer_config/110_Canon/postinstall_config.reg</pre> </div>
</blockquote> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.reg.key_exists"> salt.modules.reg.key_exists(hive, key, use_32bit_registry=False)</h3> <dd>
<p>Check that the key is found in the registry. This refers to keys and not value/data pairs.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>hive</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The hive to connect to</li> <li>
<strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The key to check</li> <li>
<strong>use_32bit_registry</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Look in the 32bit portion of the registry</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">True if exists, otherwise False</p> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <blockquote> <div>
<pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.key_exists HKLM SOFTWARE\Microsoft</pre> </div>
</blockquote> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.reg.list_keys"> salt.modules.reg.list_keys(hive, key=None, use_32bit_registry=False)</h3> <dd>
<p>Enumerates the subkeys in a registry key or hive.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>hive</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- <p>The name of the hive. Can be one of the following:</p> <blockquote> <div>
<ul> <li>HKEY_LOCAL_MACHINE or HKLM</li> <li>HKEY_CURRENT_USER or HKCU</li> <li>HKEY_USER or HKU</li> <li>HKEY_CLASSES_ROOT or HKCR</li> <li>HKEY_CURRENT_CONFIG or HKCC</li> </ul> </div>
</blockquote> </li> <li>
<strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The key (looks like a path) to the value name. If a key is not passed, the keys under the hive will be returned.</li> <li>
<strong>use_32bit_registry</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Accesses the 32bit portion of the registry on 64 bit installations. On 32bit machines this is ignored.</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">A list of keys/subkeys under the hive or key.</p> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <blockquote> <div>
<pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.list_keys HKLM 'SOFTWARE'</pre> </div>
</blockquote> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.reg.list_values"> salt.modules.reg.list_values(hive, key=None, use_32bit_registry=False, include_default=True)</h3> <dd>
<p>Enumerates the values in a registry key or hive.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>hive</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- <p>The name of the hive. Can be one of the following:</p> <blockquote> <div>
<ul> <li>HKEY_LOCAL_MACHINE or HKLM</li> <li>HKEY_CURRENT_USER or HKCU</li> <li>HKEY_USER or HKU</li> <li>HKEY_CLASSES_ROOT or HKCR</li> <li>HKEY_CURRENT_CONFIG or HKCC</li> </ul> </div>
</blockquote> </li> <li>
<strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The key (looks like a path) to the value name. If a key is not passed, the values under the hive will be returned.</li> <li>
<strong>use_32bit_registry</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Accesses the 32bit portion of the registry on 64 bit installations. On 32bit machines this is ignored.</li> <li>
<strong>include_default</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Toggle whether to include the '(Default)' value.</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">A list of values under the hive or key.</p> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <blockquote> <div>
<pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.list_values HKLM 'SYSTEM\\CurrentControlSet\\Services\\Tcpip'</pre> </div>
</blockquote> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.reg.read_value"> salt.modules.reg.read_value(hive, key, vname=None, use_32bit_registry=False)</h3> <dd>
<p>Reads a registry value entry or the default value for a key. To read the default value, don't pass <code class="docutils literal notranslate"><span class="pre">vname</span></code></p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>hive</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- <p>The name of the hive. Can be one of the following:</p> <ul> <li>HKEY_LOCAL_MACHINE or HKLM</li> <li>HKEY_CURRENT_USER or HKCU</li> <li>HKEY_USER or HKU</li> <li>HKEY_CLASSES_ROOT or HKCR</li> <li>HKEY_CURRENT_CONFIG or HKCC</li> </ul> </li> <li>
<strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The key (looks like a path) to the value name.</li> <li>
<strong>vname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The value name. These are the individual name/data pairs under the key. If not passed, the key (Default) value will be returned.</li> <li>
<strong>use_32bit_registry</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Accesses the 32bit portion of the registry on 64bit installations. On 32bit machines this is ignored.</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">

<p>A dictionary containing the passed settings as well as the value_data if successful. If unsuccessful, sets success to False.</p> <p>bool: Returns False if the key is not found</p> <p>If vname is not passed:</p> <blockquote> <div>
<ul class="simple"> <li>Returns the first unnamed value (Default) as a string.</li> <li>Returns none if first unnamed value is empty.</li> </ul> </div>
</blockquote> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <blockquote> <div>
<p>The following will get the value of the <code class="docutils literal notranslate"><span class="pre">version</span></code> value name in the <code class="docutils literal notranslate"><span class="pre">HKEY_LOCAL_MACHINE\\SOFTWARE\\Salt</span></code> key</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.read_value HKEY_LOCAL_MACHINE 'SOFTWARE\Salt' 'version'</pre> </div>
</blockquote> <p>CLI Example:</p> <blockquote> <div>
<p>The following will get the default value of the <code class="docutils literal notranslate"><span class="pre">HKEY_LOCAL_MACHINE\\SOFTWARE\\Salt</span></code> key</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.read_value HKEY_LOCAL_MACHINE 'SOFTWARE\Salt'</pre> </div>
</blockquote> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.reg.set_value"> salt.modules.reg.set_value(hive, key, vname=None, vdata=None, vtype='REG_SZ', use_32bit_registry=False, volatile=False)</h3> <dd>
<p>Sets a value in the registry. If <code class="docutils literal notranslate"><span class="pre">vname</span></code> is passed, it will be the value for that value name, otherwise it will be the default value for the specified key</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>hive</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- <p>The name of the hive. Can be one of the following</p> <blockquote> <div>
<ul> <li>HKEY_LOCAL_MACHINE or HKLM</li> <li>HKEY_CURRENT_USER or HKCU</li> <li>HKEY_USER or HKU</li> <li>HKEY_CLASSES_ROOT or HKCR</li> <li>HKEY_CURRENT_CONFIG or HKCC</li> </ul> </div>
</blockquote> </li> <li>
<strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The key (looks like a path) to the value name.</li> <li>
<strong>vname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The value name. These are the individual name/data pairs under the key. If not passed, the key (Default) value will be set.</li> <li>
<strong>vdata</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.7)"><em>bytes</em></a>) -- <p>The value you'd like to set. If a value name (vname) is passed, this will be the data for that value name. If not, this will be the (Default) value for the key.</p> <p>The type of data this parameter expects is determined by the value type specified in <code class="docutils literal notranslate"><span class="pre">vtype</span></code>. The correspondence is as follows:</p> <blockquote> <div>
<ul> <li>REG_BINARY: Binary data (str in Py2, bytes in Py3)</li> <li>REG_DWORD: int</li> <li>REG_EXPAND_SZ: str</li> <li>REG_MULTI_SZ: list of str</li> <li>REG_QWORD: int</li> <li>REG_SZ: str</li> </ul> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">When setting REG_BINARY, string data will be converted to binary.</p> </div> </div>
</blockquote> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">The type for the (Default) value is always REG_SZ and cannot be changed.</p> </div> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">This parameter is optional. If <code class="docutils literal notranslate"><span class="pre">vdata</span></code> is not passed, the Key will be created with no associated item/value pairs.</p> </div> </li> <li>
<strong>vtype</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The value type. The possible values of the vtype parameter are indicated above in the description of the vdata parameter.</li> <li>
<strong>use_32bit_registry</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- Sets the 32bit portion of the registry on 64bit installations. On 32bit machines this is ignored.</li> <li>
<strong>volatile</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) -- When this parameter has a value of True, the registry key will be made volatile (i.e. it will not persist beyond a system reset or shutdown). This parameter only has an effect when a key is being created and at no other time.</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">True if successful, otherwise False</p> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <blockquote> <div>
<p>This will set the version value to 2015.5.2 in the SOFTWARESalt key in the HKEY_LOCAL_MACHINE hive</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.set_value HKEY_LOCAL_MACHINE 'SOFTWARE\Salt' 'version' '2015.5.2'</pre> </div>
</blockquote> <p>CLI Example:</p> <blockquote> <div>
<p>This function is strict about the type of vdata. For instance this example will fail because vtype has a value of REG_SZ and vdata has a type of int (as opposed to str as expected).</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.set_value HKEY_LOCAL_MACHINE 'SOFTWARE\Salt' 'str_data' 1.2</pre> </div>
</blockquote> <p>CLI Example:</p> <blockquote> <div>
<p>In this next example vdata is properly quoted and should succeed.</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.set_value HKEY_LOCAL_MACHINE 'SOFTWARE\Salt' 'str_data' vtype=REG_SZ vdata="'1.2'"</pre> </div>
</blockquote> <p>CLI Example:</p> <blockquote> <div>
<p>This is an example of using vtype REG_BINARY.</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.set_value HKEY_LOCAL_MACHINE 'SOFTWARE\Salt' 'bin_data' vtype=REG_BINARY vdata='Salty Data'</pre> </div>
</blockquote> <p>CLI Example:</p> <blockquote> <div>
<p>An example of using vtype REG_MULTI_SZ is as follows:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.set_value HKEY_LOCAL_MACHINE 'SOFTWARE\Salt' 'list_data' vtype=REG_MULTI_SZ vdata='["Salt", "is", "great"]'</pre> </div>
</blockquote> </dd>
</dl> </div> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2019 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.reg.html" class="_attribution-link">https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.reg.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
