
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>modules.ldapmod - SaltStack - W3cubDocs</title>
  
  <meta name="description" content=" Salt interface to LDAP commands ">
  <meta name="keywords" content="salt, modules, ldapmod, saltstack">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/saltstack/ref/modules/all/salt.modules.ldapmod.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/saltstack.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/saltstack/" class="_nav-link" title="" style="margin-left:0;">SaltStack</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>salt.modules.ldapmod</h1> <p>Salt interface to LDAP commands</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">depends:</th>
<td class="field-body">
<ul class="first simple"> <li>ldap Python module</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">configuration:</th>
<td class="field-body">
<p class="first">In order to connect to LDAP, certain configuration is required in the minion config on the LDAP server. The minimum configuration items that must be set are:</p> <pre class="highlight-yaml notranslate" data-language="yaml">ldap.basedn: dc=acme,dc=com (example values, adjust to suit)</pre> <p>If your LDAP server requires authentication then you must also set:</p> <pre class="highlight-yaml notranslate" data-language="yaml">ldap.anonymous: False
ldap.binddn: admin
ldap.bindpw: password</pre> <p>In addition, the following optional values may be set:</p> <div class="last highlight-yaml notranslate">
<div class="highlight"><pre><span class="nt">ldap.server</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">localhost (default=localhost, see warning below)</span>
<span class="nt">ldap.port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">389 (default=389, standard port)</span>
<span class="nt">ldap.tls</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">False (default=False, no TLS)</span>
<span class="nt">ldap.no_verify</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">False (default=False, verify TLS)</span>
<span class="nt">ldap.anonymous</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True (default=True, bind anonymous)</span>
<span class="nt">ldap.scope</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2 (default=2, ldap.SCOPE_SUBTREE)</span>
<span class="nt">ldap.attrs</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">saltAttr</span><span class="p p-Indicator">]</span> <span class="l l-Scalar l-Scalar-Plain">(default=None, return all attributes)</span>
</pre></div> </div> </td> </tr> </tbody> </table> <div class="admonition warning"> <p class="first admonition-title">Warning</p> <p class="last">At the moment this module only recommends connection to LDAP services listening on <code class="docutils literal notranslate"><span class="pre">localhost</span></code>. This is deliberate to avoid the potentially dangerous situation of multiple minions sending identical update commands to the same LDAP server. It's easy enough to override this behavior, but badness may ensue - you have been warned.</p> </div> <dl class="function"> <h3 id="salt.modules.ldapmod.search"> salt.modules.ldapmod.search(filter, dn=None, scope=None, attrs=None, **kwargs)</h3> <dd>
<p>Run an arbitrary LDAP query and return the results.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt 'ldaphost' ldap.search "filter=cn=myhost"</pre> <p>Return data:</p> <pre class="highlight-python notranslate" data-language="python">{'myhost': {'count': 1,
            'results': [['cn=myhost,ou=hosts,o=acme,c=gb',
                         {'saltKeyValue': ['ntpserver=ntp.acme.local',
                                           'foo=myfoo'],
                          'saltState': ['foo', 'bar']}]],
            'time': {'human': '1.2ms', 'raw': '0.00123'}}}</pre> <p>Search and connection options can be overridden by specifying the relevant option as key=value pairs, for example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt 'ldaphost' ldap.search filter=cn=myhost dn=ou=hosts,o=acme,c=gb
scope=1 attrs='' server='localhost' port='7393' tls=True bindpw='ssh'</pre> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    Â© 2019 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.ldapmod.html" class="_attribution-link">https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.ldapmod.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
