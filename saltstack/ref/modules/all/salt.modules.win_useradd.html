
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>modules.win_useradd - SaltStack - W3cubDocs</title>
  
  <meta name="description" content=" Module for managing Windows Users ">
  <meta name="keywords" content="salt, modules, win, useradd, saltstack">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/saltstack/ref/modules/all/salt.modules.win_useradd.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/saltstack.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/saltstack/" class="_nav-link" title="" style="margin-left:0;">SaltStack</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>salt.modules.win_useradd</h1> <p>Module for managing Windows Users</p> <div class="admonition important"> <p class="first admonition-title">Important</p> <p class="last">If you feel that Salt should be using this module to manage users on a minion, and it is using a different module (or gives an error similar to <em>'user.info' is not available</em>), see <a class="reference internal" href="https://docs.saltstack.com/en/latest/ref/modules/index.html#module-provider-override"><span class="std std-ref">here</span></a>.</p> </div> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">depends:</th>
<td class="field-body">
<ul class="first last simple"> <li>pywintypes</li> <li>win32api</li> <li>win32con</li> <li>win32net</li> <li>win32netcon</li> <li>win32profile</li> <li>win32security</li> <li>win32ts</li> <li>wmi</li> </ul> </td> </tr> </tbody> </table> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">This currently only works with local user accounts, not domain accounts</p> </div> <dl class="function"> <h3 id="salt.modules.win_useradd.add"> salt.modules.win_useradd.add(name, password=None, fullname=None, description=None, groups=None, home=None, homedrive=None, profile=None, logonscript=None)</h3> <dd>
<p>Add a user to the minion.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- User name</li> <li>
<strong>password</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) -- User's password in plain text.</li> <li>
<strong>fullname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) -- The user's full name.</li> <li>
<strong>description</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) -- A brief description of the user account.</li> <li>
<strong>groups</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) -- A list of groups to add the user to. (see chgroups)</li> <li>
<strong>home</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) -- The path to the user's home directory.</li> <li>
<strong>homedrive</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) -- The drive letter to assign to the home directory. Must be the Drive Letter followed by a colon. ie: U:</li> <li>
<strong>profile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) -- An explicit path to a profile. Can be a UNC or a folder on the system. If left blank, windows uses it's default profile directory.</li> <li>
<strong>logonscript</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) -- Path to a login script to run when the user logs on.</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">True if successful. False is unsuccessful.</p> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.add name password</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_useradd.addgroup"> salt.modules.win_useradd.addgroup(name, group)</h3> <dd>
<p>Add user to a group</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The user name to add to the group</li> <li>
<strong>group</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The name of the group to which to add the user</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">True if successful, otherwise False</p> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.addgroup jsnuffy 'Power Users'</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_useradd.chfullname"> salt.modules.win_useradd.chfullname(name, fullname)</h3> <dd>
<p>Change the full name of the user</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The user name for which to change the full name</li> <li>
<strong>fullname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The new value for the full name</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">True if successful, otherwise False</p> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.chfullname user 'First Last'</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_useradd.chgroups"> salt.modules.win_useradd.chgroups(name, groups, append=True)</h3> <dd>
<p>Change the groups this user belongs to, add append=False to make the user a member of only the specified groups</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The user name for which to change groups</li> <li>
<strong>groups</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) -- A single group or a list of groups to assign to the user. For multiple groups this can be a comma delimited string or a list.</li> <li>
<strong>append</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- True adds the passed groups to the user's current groups. False sets the user's groups to the passed groups only. Default is True.</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">True if successful, otherwise False</p> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.chgroups jsnuffy Administrators,Users True</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_useradd.chhome"> salt.modules.win_useradd.chhome(name, home, **kwargs)</h3> <dd>
<p>Change the home directory of the user, pass True for persist to move files to the new home directory if the old home directory exist.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The name of the user whose home directory you wish to change</li> <li>
<strong>home</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The new location of the home directory</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">True if successful, otherwise False</p> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.chhome foo \\fileserver\home\foo True</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_useradd.chprofile"> salt.modules.win_useradd.chprofile(name, profile)</h3> <dd>
<p>Change the profile directory of the user</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The name of the user whose profile you wish to change</li> <li>
<strong>profile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The new location of the profile</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">True if successful, otherwise False</p> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.chprofile foo \\fileserver\profiles\foo</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_useradd.current"> salt.modules.win_useradd.current(sam=False)</h3> <dd>
<p>Get the username that salt-minion is running under. If salt-minion is running as a service it should return the Local System account. If salt is running from a command prompt it should return the username that started the command prompt.</p> <div class="versionadded"> <p><span class="versionmodified">New in version 2015.5.6.</span></p> </div> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<strong>sam</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- False returns just the username without any domain notation. True returns the domain with the username in the SAM format. Ie: <code class="docutils literal notranslate"><span class="pre">domain\username</span></code>
</td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">Returns username</td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.current</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_useradd.delete"> salt.modules.win_useradd.delete(name, purge=False, force=False)</h3> <dd>
<p>Remove a user from the minion</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The name of the user to delete</li> <li>
<strong>purge</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Boolean value indicating that the user profile should also be removed when the user account is deleted. If set to True the profile will be removed. Default is False.</li> <li>
<strong>force</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Boolean value indicating that the user account should be deleted even if the user is logged in. True will log the user out and delete user.</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">True if successful, otherwise False</p> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.delete name</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_useradd.getUserSid"> salt.modules.win_useradd.getUserSid(username)</h3> <dd>
<p>Get the Security ID for the user</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<strong>username</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The user name for which to look up the SID</td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">The user SID</td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.getUserSid jsnuffy</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_useradd.getent"> salt.modules.win_useradd.getent(refresh=False)</h3> <dd>
<p>Return the list of all info for all users</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<strong>refresh</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Refresh the cached user information. Useful when used from within a state function. Default is False.</td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">A dictionary containing information about all users on the system</td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.getent</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_useradd.info"> salt.modules.win_useradd.info(name)</h3> <dd>
<p>Return user information</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- Username for which to display information</td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<dl class="docutils"> <dt>A dictionary containing user information</dt> <dd>
<ul class="first last simple"> <li>fullname</li> <li>username</li> <li>SID</li> <li>passwd (will always return None)</li> <li>comment (same as description, left here for backwards compatibility)</li> <li>description</li> <li>active</li> <li>logonscript</li> <li>profile</li> <li>home</li> <li>homedrive</li> <li>groups</li> <li>password_changed</li> <li>successful_logon_attempts</li> <li>failed_logon_attempts</li> <li>last_logon</li> <li>account_disabled</li> <li>account_locked</li> <li>password_never_expires</li> <li>disallow_change_password</li> <li>gid</li> </ul> </dd> </dl> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.info jsnuffy</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_useradd.list_groups"> salt.modules.win_useradd.list_groups(name)</h3> <dd>
<p>Return a list of groups the named user belongs to</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The user name for which to list groups</td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">A list of groups to which the user belongs</td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.list_groups foo</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_useradd.list_users"> salt.modules.win_useradd.list_users()</h3> <dd>
<p>Return a list of all users on Windows</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Returns:</th>
<td class="field-body">A list of all users on the system</td> </tr> <tr class="field-even field">
<th class="field-name">Return type:</th>
<td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a></td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.list_users</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_useradd.removegroup"> salt.modules.win_useradd.removegroup(name, group)</h3> <dd>
<p>Remove user from a group</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The user name to remove from the group</li> <li>
<strong>group</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The name of the group from which to remove the user</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">True if successful, otherwise False</p> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.removegroup jsnuffy 'Power Users'</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_useradd.rename"> salt.modules.win_useradd.rename(name, new_name)</h3> <dd>
<p>Change the username for a named user</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The user name to change</li> <li>
<strong>new_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The new name for the current user</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">True if successful, otherwise False</p> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.rename jsnuffy jshmoe</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_useradd.setpassword"> salt.modules.win_useradd.setpassword(name, password)</h3> <dd>
<p>Set the user's password</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The user name for which to set the password</li> <li>
<strong>password</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The new password</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">True if successful, otherwise False</p> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.setpassword jsnuffy sup3rs3cr3t</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.win_useradd.update"> salt.modules.win_useradd.update(name, password=None, fullname=None, description=None, home=None, homedrive=None, logonscript=None, profile=None, expiration_date=None, expired=None, account_disabled=None, unlock_account=None, password_never_expires=None, disallow_change_password=None)</h3> <dd>
<p>Updates settings for the windows user. Name is the only required parameter. Settings will only be changed if the parameter is passed a value.</p> <div class="versionadded"> <p><span class="versionmodified">New in version 2015.8.0.</span></p> </div> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) -- The user name to update.</li> <li>
<strong>password</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) -- New user password in plain text.</li> <li>
<strong>fullname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) -- The user's full name.</li> <li>
<strong>description</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) -- A brief description of the user account.</li> <li>
<strong>home</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) -- The path to the user's home directory.</li> <li>
<strong>homedrive</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) -- The drive letter to assign to the home directory. Must be the Drive Letter followed by a colon. ie: U:</li> <li>
<strong>logonscript</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) -- The path to the logon script.</li> <li>
<strong>profile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) -- The path to the user's profile directory.</li> <li>
<strong>expiration_date</strong> (<em>date</em><em>, </em><em>optional</em>) -- The date and time when the account expires. Can be a valid date/time string. To set to never expire pass the string 'Never'.</li> <li>
<strong>expired</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- Pass <cite>True</cite> to expire the account. The user will be prompted to change their password at the next logon. Pass <cite>False</cite> to mark the account as 'not expired'. You can't use this to negate the expiration if the expiration was caused by the account expiring. You'll have to change the <cite>expiration_date</cite> as well.</li> <li>
<strong>account_disabled</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- True disables the account. False enables the account.</li> <li>
<strong>unlock_account</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- True unlocks a locked user account. False is ignored.</li> <li>
<strong>password_never_expires</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- True sets the password to never expire. False allows the password to expire.</li> <li>
<strong>disallow_change_password</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) -- True blocks the user from changing the password. False allows the user to change the password.</li> </ul> </td> </tr> <tr class="field-even field">
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first">True if successful. False is unsuccessful.</p> </td> </tr> <tr class="field-odd field">
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></p> </td> </tr> </tbody> </table> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.update bob password=secret profile=C:\Users\Bob
         home=\server\homeshareob homedrive=U:</pre> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 2019 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.win_useradd.html" class="_attribution-link">https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.win_useradd.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
