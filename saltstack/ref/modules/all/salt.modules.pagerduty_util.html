
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>modules.pagerduty_util - SaltStack - W3cubDocs</title>
  
  <meta name="description" content=" Module for manageing PagerDuty resource ">
  <meta name="keywords" content="salt, modules, pagerduty, util, saltstack">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/saltstack/ref/modules/all/salt.modules.pagerduty_util.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/saltstack.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/saltstack/" class="_nav-link" title="" style="margin-left:0;">SaltStack</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>salt.modules.pagerduty_util</h1> <p>Module for manageing PagerDuty resource</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field">
<th class="field-name">configuration:</th>
<td class="field-body">
<p class="first">This module can be used by specifying the name of a configuration profile in the minion config, minion pillar, or master config. The default configuration profile name is 'pagerduty.'</p> <p>For example:</p> <div class="last highlight-yaml notranslate">
<div class="highlight"><pre><span class="nt">pagerduty</span><span class="p">:</span>
    <span class="nt">pagerduty.api_key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">F3Rbyjbve43rfFWf2214</span>
    <span class="nt">pagerduty.subdomain</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mysubdomain</span>
</pre></div> </div> </td> </tr> </tbody> </table> <p>For PagerDuty API details, see <a class="reference external" href="https://developer.pagerduty.com/documentation/rest">https://developer.pagerduty.com/documentation/rest</a></p> <dl class="function"> <h3 id="salt.modules.pagerduty_util.create_or_update_resource"> salt.modules.pagerduty_util.create_or_update_resource(resource_name, identifier_fields, data, diff=None, profile='pagerduty', subdomain=None, api_key=None)</h3> <dd>
<p>create or update any pagerduty resource Helper method for present().</p> <p>Determining if two resources are the same is different for different PD resource, so this method accepts a diff function. The diff function will be invoked as diff(state_information, object_returned_from_pagerduty), and should return a dict of data to pass to the PagerDuty update API method, or None if no update is to be performed. If no diff method is provided, the default behavor is to scan the keys in the state_information, comparing the matching values in the object_returned_from_pagerduty, and update any values that differ.</p> <p class="rubric">Examples</p> <p>create_or_update_resource("user", ["id","name","email"]) create_or_update_resource("escalation_policies", ["id","name"], diff=my_diff_function)</p> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.pagerduty_util.delete_resource"> salt.modules.pagerduty_util.delete_resource(resource_name, key, identifier_fields, profile='pagerduty', subdomain=None, api_key=None)</h3> <dd>
<p>delete any pagerduty resource</p> <p>Helper method for absent()</p> <p class="rubric">Example</p> <p>delete_resource("users", key, ["id","name","email"]) # delete by id or name or email</p> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.pagerduty_util.get_escalation_policies"> salt.modules.pagerduty_util.get_escalation_policies(profile='pagerduty', subdomain=None, api_key=None)</h3> <dd>
<p>List escalation_policies belonging to this account</p> <p>CLI Example:</p> <blockquote> <div>salt myminion pagerduty.get_escalation_policies</div>
</blockquote> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.pagerduty_util.get_resource"> salt.modules.pagerduty_util.get_resource(resource_name, key, identifier_fields, profile='pagerduty', subdomain=None, api_key=None)</h3> <dd>
<p>Get any single pagerduty resource by key.</p> <p>We allow flexible lookup by any of a list of identifier_fields. So, for example, you can look up users by email address or name by calling:</p> <blockquote> <div>get_resource('users', key, ['name', 'email'], ...)</div>
</blockquote> <p>This method is mainly used to translate state sls into pagerduty id's for dependent objects. For example, a pagerduty escalation policy contains one or more schedules, which must be passed by their pagerduty id. We look up the schedules by name (using this method), and then translate the names into id's.</p> <p>This method is implemented by getting all objects of the resource type (cached into __context__), then brute force searching through the list and trying to match any of the identifier_fields. The __context__ cache is purged after any create, update or delete to the resource.</p> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.pagerduty_util.get_schedules"> salt.modules.pagerduty_util.get_schedules(profile='pagerduty', subdomain=None, api_key=None)</h3> <dd>
<p>List schedules belonging to this account</p> <p>CLI Example:</p> <blockquote> <div>salt myminion pagerduty.get_schedules</div>
</blockquote> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.pagerduty_util.get_services"> salt.modules.pagerduty_util.get_services(profile='pagerduty', subdomain=None, api_key=None)</h3> <dd>
<p>List services belonging to this account</p> <p>CLI Example:</p> <blockquote> <div>salt myminion pagerduty.get_services</div>
</blockquote> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.pagerduty_util.get_users"> salt.modules.pagerduty_util.get_users(profile='pagerduty', subdomain=None, api_key=None)</h3> <dd>
<p>List users belonging to this account</p> <p>CLI Example:</p> <blockquote> <div>salt myminion pagerduty.get_users</div>
</blockquote> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.pagerduty_util.resource_absent"> salt.modules.pagerduty_util.resource_absent(resource, identifier_fields, profile='pagerduty', subdomain=None, api_key=None, **kwargs)</h3> <dd>
<p>Generic resource.absent state method. Pagerduty state modules should be a thin wrapper over this method, with a custom diff function.</p> <p>This method calls delete_resource() and formats the result as a salt state return value.</p> <p class="rubric">Example</p> <p>resource_absent("users", ["id","name","email"])</p> </dd>
</dl> <dl class="function"> <h3 id="salt.modules.pagerduty_util.resource_present"> salt.modules.pagerduty_util.resource_present(resource, identifier_fields, diff=None, profile='pagerduty', subdomain=None, api_key=None, **kwargs)</h3> <dd>
<p>Generic resource.present state method. Pagerduty state modules should be a thin wrapper over this method, with a custom diff function.</p> <p>This method calls create_or_update_resource() and formats the result as a salt state return value.</p> <p class="rubric">Example</p> <p>resource_present("users", ["id","name","email"])</p> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    Â© 2019 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.pagerduty_util.html" class="_attribution-link">https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.pagerduty_util.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
