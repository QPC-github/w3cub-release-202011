
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>pillar.netbox - SaltStack - W3cubDocs</title>
  
  <meta name="description" content=" A module that adds data to the Pillar structure from a NetBox API. ">
  <meta name="keywords" content="salt, pillar, netbox, saltstack">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/saltstack/ref/pillar/all/salt.pillar.netbox.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/saltstack.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/saltstack/" class="_nav-link" title="" style="margin-left:0;">SaltStack</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>salt.pillar.netbox</h1> <p>A module that adds data to the Pillar structure from a NetBox API.</p> <div class="versionadded"> <p><span class="versionmodified">New in version 2019.2.0.</span></p> </div> <div class="section" id="configuring-the-netbox-ext-pillar"> <h2>Configuring the NetBox ext_pillar</h2> <pre class="highlight-yaml notranslate" data-language="yaml">ext_pillar:
  - netbox:
      api_url: http://netbox_url.com/api/
      api_token: 123abc</pre> <p>Create a token in your NetBox instance at <a class="reference external" href="#">http://netbox_url.com/user/api-tokens/</a></p> <p>The following options are optional, and determine whether or not the module will attempt to configure the <code class="docutils literal notranslate"><span class="pre">proxy</span></code> pillar data for use with the napalm proxy-minion:</p> <pre class="highlight-yaml notranslate" data-language="yaml">proxy_return: True
proxy_username: admin</pre> <p>By default, this module will query the NetBox API for the platform associated with the device, and use the 'NAPALM driver' field to set the napalm proxy-minion driver. (Currently only 'napalm' is supported for drivertype.)</p> <p>This module currently only supports the napalm proxy minion and assumes you will use SSH keys to authenticate to the network device. If password authentication is desired, it is recommended to create another <code class="docutils literal notranslate"><span class="pre">proxy</span></code> key in pillar_roots (or git_pillar) with just the <code class="docutils literal notranslate"><span class="pre">passwd</span></code> key and use <a class="reference internal" href="../../renderers/all/salt.renderers.gpg#module-salt.renderers.gpg" title="salt.renderers.gpg"><code class="xref py py-func docutils literal notranslate"><span class="pre">salt.renderers.gpg</span></code></a> to encrypt the value. If any additional options for the proxy setup are needed they should also be configured in pillar_roots.</p> <p>Other available options:</p> <dl class="docutils"> <dt>site_details: <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt> <dd>Whether should retrieve details of the site the device belongs to.</dd> <dt>site_prefixes: <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt> <dd>Whether should retrieve the prefixes of the site the device belongs to.</dd> </dl> <dl class="function"> <h3 id="salt.pillar.netbox.ext_pillar"> salt.pillar.netbox.ext_pillar(minion_id, pillar, *args, **kwargs)</h3> <dd>
<p>Query NetBox API for minion data</p> </dd>
</dl> </div>
<div class="_attribution">
  <p class="_attribution-p">
    Â© 2019 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltstack.com/en/latest/ref/pillar/all/salt.pillar.netbox.html" class="_attribution-link">https://docs.saltstack.com/en/latest/ref/pillar/all/salt.pillar.netbox.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
