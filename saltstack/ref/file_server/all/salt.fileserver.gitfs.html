
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>fileserver.gitfs - SaltStack - W3cubDocs</title>
  
  <meta name="description" content=" Git Fileserver Backend ">
  <meta name="keywords" content="salt, fileserver, gitfs, saltstack">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/saltstack/ref/file_server/all/salt.fileserver.gitfs.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/saltstack.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/saltstack/" class="_nav-link" title="" style="margin-left:0;">SaltStack</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>salt.fileserver.gitfs</h1> <p>Git Fileserver Backend</p> <p>With this backend, branches and tags in a remote git repository are exposed to salt as different environments.</p> <p>To enable, add <code class="docutils literal notranslate"><span class="pre">gitfs</span></code> to the <a class="reference internal" href="https://docs.saltstack.com/en/latest/ref/configuration/master.html#std:conf_master-fileserver_backend"><code class="xref std std-conf_master docutils literal notranslate"><span class="pre">fileserver_backend</span></code></a> option in the Master config file.</p> <pre class="highlight-yaml notranslate" data-language="yaml">fileserver_backend:
  - gitfs</pre> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last"><code class="docutils literal notranslate"><span class="pre">git</span></code> also works here. Prior to the 2018.3.0 release, <em>only</em> <code class="docutils literal notranslate"><span class="pre">git</span></code> would work.</p> </div> <p>The Git fileserver backend supports both <a class="reference external" href="https://github.com/libgit2/pygit2">pygit2</a> and <a class="reference external" href="https://github.com/gitpython-developers/GitPython">GitPython</a>, to provide the Python interface to git. If both are present, the order of preference for which one will be chosen is the same as the order in which they were listed: pygit2, then GitPython.</p> <p>An optional master config parameter (<a class="reference internal" href="https://docs.saltstack.com/en/latest/ref/configuration/master.html#std:conf_master-gitfs_provider"><code class="xref std std-conf_master docutils literal notranslate"><span class="pre">gitfs_provider</span></code></a>) can be used to specify which provider should be used, in the event that compatible versions of both <a class="reference external" href="https://github.com/libgit2/pygit2">pygit2</a> and <a class="reference external" href="https://github.com/gitpython-developers/GitPython">GitPython</a> are installed.</p> <p>More detailed information on how to use GitFS can be found in the <a class="reference internal" href="https://docs.saltstack.com/en/latest/topics/tutorials/gitfs.html#tutorial-gitfs"><span class="std std-ref">GitFS Walkthrough</span></a>.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p>Minimum requirements</p> <p>To use <a class="reference external" href="https://github.com/libgit2/pygit2">pygit2</a> for GitFS requires a minimum <a class="reference external" href="https://github.com/libgit2/pygit2">pygit2</a> version of 0.20.3. <a class="reference external" href="https://github.com/libgit2/pygit2">pygit2</a> 0.20.3 requires <a class="reference external" href="https://libgit2.github.com/">libgit2</a> 0.20.0. <a class="reference external" href="https://github.com/libgit2/pygit2">pygit2</a> and <a class="reference external" href="https://libgit2.github.com/">libgit2</a> are developed alongside one another, so it is recommended to keep them both at the same major release to avoid unexpected behavior. For example, <a class="reference external" href="https://github.com/libgit2/pygit2">pygit2</a> 0.21.x requires <a class="reference external" href="https://libgit2.github.com/">libgit2</a> 0.21.x, <a class="reference external" href="https://github.com/libgit2/pygit2">pygit2</a> 0.22.x will require <a class="reference external" href="https://libgit2.github.com/">libgit2</a> 0.22.x, etc.</p> <p>To use <a class="reference external" href="https://github.com/gitpython-developers/GitPython">GitPython</a> for GitFS requires a minimum GitPython version of 0.3.0, as well as the git CLI utility. Instructions for installing GitPython can be found <a class="reference internal" href="https://docs.saltstack.com/en/latest/topics/tutorials/gitfs.html#gitfs-dependencies"><span class="std std-ref">here</span></a>.</p> <p class="last">To clear stale refs the git CLI utility must also be installed.</p> </div>
<div class="_attribution">
  <p class="_attribution-p">
    Â© 2019 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltstack.com/en/latest/ref/file_server/all/salt.fileserver.gitfs.html" class="_attribution-link">https://docs.saltstack.com/en/latest/ref/file_server/all/salt.fileserver.gitfs.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
