
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>states.ipmi - SaltStack - W3cubDocs</title>
  
  <meta name="description" content=" The following configuration defaults can be defined in the minion, master config or pillar&#58; ">
  <meta name="keywords" content="salt, states, ipmi, saltstack">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/saltstack/ref/states/all/salt.states.ipmi.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/saltstack.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/saltstack/" class="_nav-link" title="" style="margin-left:0;">SaltStack</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>salt.states.ipmi</h1> <div class="section" id="manage-ipmi-devices-over-lan"> <h2>Manage IPMI devices over LAN</h2> <p>The following configuration defaults can be defined in the minion, master config or pillar:</p> <pre class="highlight-yaml notranslate" data-language="yaml">ipmi.config:
    api_host: 127.0.0.1
    api_user: admin
    api_pass: apassword
    api_port: 623
    api_kg: None</pre> <p>Every call can override the config defaults:</p> <pre class="highlight-yaml notranslate" data-language="yaml">ensure myipmi system is set to network boot:
    ipmi.boot_device:
        - name: network
        - api_host: myipmi.hostname.com
        - api_user: root
        - api_pass: apassword
        - api_kg: None

ensure myipmi system is powered on:
    ipmi.power:
        - name: boot
        - api_host: myipmi.hostname.com
        - api_user: root
        - api_pass: apassword</pre> <dl class="function"> <h3 id="salt.states.ipmi.boot_device"> salt.states.ipmi.boot_device(name='default', **kwargs)</h3> <dd>
<p>Request power state change</p> <dl class="docutils"> <dt>name = <code class="docutils literal notranslate"><span class="pre">default</span></code>
</dt> <dd>
<ul class="first last simple"> <li>network -- Request network boot</li> <li>hd -- Boot from hard drive</li> <li>safe -- Boot from hard drive, requesting 'safe mode'</li> <li>optical -- boot from CD/DVD/BD drive</li> <li>setup -- Boot into setup utility</li> <li>default -- remove any IPMI directed boot device request</li> </ul> </dd> <dt>kwargs</dt> <dd>
<ul class="first last simple"> <li>api_host=localhost</li> <li>api_user=admin</li> <li>api_pass=</li> <li>api_port=623</li> <li>api_kg=None</li> </ul> </dd> </dl> </dd>
</dl> <dl class="function"> <h3 id="salt.states.ipmi.power"> salt.states.ipmi.power(name='power_on', wait=300, **kwargs)</h3> <dd>
<p>Request power state change</p> <dl class="docutils"> <dt>name</dt> <dd>
<dl class="first last docutils"> <dt>Ensure power state one of:</dt> <dd>
<ul class="first last simple"> <li>power_on -- system turn on</li> <li>power_off -- system turn off (without waiting for OS)</li> <li>shutdown -- request OS proper shutdown</li> <li>reset -- reset (without waiting for OS)</li> <li>boot -- If system is off, then 'on', else 'reset'</li> </ul> </dd> </dl> </dd> <dt>wait</dt> <dd>wait X seconds for the job to complete before forcing. (defaults to 300 seconds)</dd> <dt>kwargs</dt> <dd>
<ul class="first last simple"> <li>api_host=localhost</li> <li>api_user=admin</li> <li>api_pass=</li> <li>api_port=623</li> <li>api_kg=None</li> </ul> </dd> </dl> </dd>
</dl> <dl class="function"> <h3 id="salt.states.ipmi.user_absent"> salt.states.ipmi.user_absent(name, channel=14, **kwargs)</h3> <dd>
<p>Remove user Delete all user (uid) records having the matching name.</p> <dl class="docutils"> <dt>name</dt> <dd>string name of user to delete</dd> <dt>channel</dt> <dd>channel to remove user access from defaults to 14 for auto.</dd> <dt>kwargs</dt> <dd>
<ul class="first last simple"> <li>api_host=localhost</li> <li>api_user=admin</li> <li>api_pass=</li> <li>api_port=623</li> <li>api_kg=None</li> </ul> </dd> </dl> </dd>
</dl> <dl class="function"> <h3 id="salt.states.ipmi.user_present"> salt.states.ipmi.user_present(name, uid, password, channel=14, callback=False, link_auth=True, ipmi_msg=True, privilege_level='administrator', **kwargs)</h3> <dd>
<p>Ensure IPMI user and user privileges.</p> <dl class="docutils"> <dt>name</dt> <dd>name of user (limit 16 bytes)</dd> <dt>uid</dt> <dd>user id number (1 to 7)</dd> <dt>password</dt> <dd>user password (limit 16 bytes)</dd> <dt>channel</dt> <dd>ipmi channel defaults to 14 for auto</dd> <dt>callback</dt> <dd>
<p class="first">User Restricted to Callback</p> <dl class="last docutils"> <dt>False = User Privilege Limit is determined by the User Privilege Limit</dt> <dd>parameter privilege_level, for both callback and non-callback connections.</dd> <dt>True = User Privilege Limit is determined by the privilege_level</dt> <dd>parameter for callback connections, but is restricted to Callback level for non-callback connections. Thus, a user can only initiate a Callback when they 'call in' to the BMC, but once the callback connection has been made, the user could potentially establish a session as an Operator.</dd> </dl> </dd> <dt>link_auth</dt> <dd>User Link authentication True/False user name and password information will be used for link authentication, e.g. PPP CHAP) for the given channel. Link authentication itself is a global setting for the channel and is enabled/disabled via the serial/modem configuration parameters.</dd> <dt>ipmi_msg</dt> <dd>User IPMI Messaging True/False user name and password information will be used for IPMI Messaging. In this case, 'IPMI Messaging' refers to the ability to execute generic IPMI commands that are not associated with a particular payload type. For example, if IPMI Messaging is disabled for a user, but that user is enabled for activating the SOL payload type, then IPMI commands associated with SOL and session management, such as Get SOL Configuration Parameters and Close Session are available, but generic IPMI commands such as Get SEL Time are unavailable.) ipmi_msg</dd> <dt>privilege_level</dt> <dd>
<ul class="first last simple"> <li>callback</li> <li>user</li> <li>operator</li> <li>administrator</li> <li>proprietary</li> <li>no_access</li> </ul> </dd> <dt>kwargs</dt> <dd>
<ul class="first last simple"> <li>api_host=localhost</li> <li>api_user=admin</li> <li>api_pass=</li> <li>api_port=623</li> <li>api_kg=None</li> </ul> </dd> </dl> </dd>
</dl> </div>
<div class="_attribution">
  <p class="_attribution-p">
    Â© 2019 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltstack.com/en/latest/ref/states/all/salt.states.ipmi.html" class="_attribution-link">https://docs.saltstack.com/en/latest/ref/states/all/salt.states.ipmi.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
