
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>states.net_napalm_yang - SaltStack - W3cubDocs</title>
  
  <meta name="description" content=" Manage the configuration of network devices according to the YANG models (OpenConfig&#47;IETF). ">
  <meta name="keywords" content="salt, states, net, napalm, yang, saltstack">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/saltstack/ref/states/all/salt.states.net_napalm_yang.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/saltstack.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/saltstack/" class="_nav-link" title="" style="margin-left:0;">SaltStack</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>salt.states.net_napalm_yang</h1> <div class="section" id="napalm-yang-state"> <h2>NAPALM YANG state</h2> <p>Manage the configuration of network devices according to the YANG models (OpenConfig/IETF).</p> <div class="versionadded"> <p><span class="versionmodified">New in version 2017.7.0.</span></p> </div> <div class="section" id="dependencies"> <h3>Dependencies</h3> <ul class="simple"> <li>napalm-yang</li> <li>pyangbing &gt; 0.5.11</li> </ul> <p>To be able to load configuration on network devices, it requires <a class="reference external" href="https://napalm.readthedocs.io">NAPALM</a> library to be installed: <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">napalm</span></code>. Please check <a class="reference external" href="https://napalm.readthedocs.io/en/latest/installation.html">Installation</a> for complete details.</p> <dl class="function"> <h3 id="salt.states.net_napalm_yang.configured"> salt.states.net_napalm_yang.configured(name, data, **kwargs)</h3> <dd>
<p>Configure the network device, given the input data strucuted according to the YANG models.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">The main difference between this function and <code class="docutils literal notranslate"><span class="pre">managed</span></code> is that the later generates and loads the configuration only when there are differences between the existing configuration on the device and the expected configuration. Depending on the platform and hardware capabilities, one could be more optimal than the other. Additionally, the output of the <code class="docutils literal notranslate"><span class="pre">managed</span></code> is different, in such a way that the <code class="docutils literal notranslate"><span class="pre">pchange</span></code> field in the output contains structured data, rather than text.</p> </div> <dl class="docutils"> <dt>data</dt> <dd>YANG structured data.</dd> <dt>models</dt> <dd>A list of models to be used when generating the config.</dd> <dt>profiles: <code class="docutils literal notranslate"><span class="pre">None</span></code>
</dt> <dd>Use certain profiles to generate the config. If not specified, will use the platform default profile(s).</dd> <dt>test: <code class="docutils literal notranslate"><span class="pre">False</span></code>
</dt> <dd>Dry run? If set as <code class="docutils literal notranslate"><span class="pre">True</span></code>, will apply the config, discard and return the changes. Default: <code class="docutils literal notranslate"><span class="pre">False</span></code> and will commit the changes on the device.</dd> <dt>commit: <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt> <dd>Commit? Default: <code class="docutils literal notranslate"><span class="pre">True</span></code>.</dd> <dt>debug: <code class="docutils literal notranslate"><span class="pre">False</span></code>
</dt> <dd>Debug mode. Will insert a new key under the output dictionary, as <code class="docutils literal notranslate"><span class="pre">loaded_config</span></code> containing the raw configuration loaded on the device.</dd> <dt>replace: <code class="docutils literal notranslate"><span class="pre">False</span></code>
</dt> <dd>Should replace the config with the new generate one?</dd> </dl> <p>State SLS example:</p> <pre class="highlight-jinja notranslate" data-language="jinja">{%- set expected_config =  pillar.get('openconfig_interfaces_cfg') -%}
interfaces_config:
  napalm_yang.configured:
    - data: {{ expected_config | json }}
    - models:
      - models.openconfig_interfaces
    - debug: true</pre> <p>Pillar example:</p> <pre class="highlight-yaml notranslate" data-language="yaml">openconfig_interfaces_cfg:
  _kwargs:
    filter: true
  interfaces:
    interface:
      Et1:
        config:
          mtu: 9000
      Et2:
        config:
          description: "description example"</pre> </dd>
</dl> <dl class="function"> <h3 id="salt.states.net_napalm_yang.managed"> salt.states.net_napalm_yang.managed(name, data, **kwargs)</h3> <dd>
<p>Manage the device configuration given the input data structured according to the YANG models.</p> <dl class="docutils"> <dt>data</dt> <dd>YANG structured data.</dd> <dt>models</dt> <dd>A list of models to be used when generating the config.</dd> <dt>profiles: <code class="docutils literal notranslate"><span class="pre">None</span></code>
</dt> <dd>Use certain profiles to generate the config. If not specified, will use the platform default profile(s).</dd> <dt>compliance_report: <code class="docutils literal notranslate"><span class="pre">False</span></code>
</dt> <dd>
<p class="first">Return the compliance report in the comment.</p> <div class="last versionadded"> <p><span class="versionmodified">New in version 2017.7.3.</span></p> </div> </dd> <dt>test: <code class="docutils literal notranslate"><span class="pre">False</span></code>
</dt> <dd>Dry run? If set as <code class="docutils literal notranslate"><span class="pre">True</span></code>, will apply the config, discard and return the changes. Default: <code class="docutils literal notranslate"><span class="pre">False</span></code> and will commit the changes on the device.</dd> <dt>commit: <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt> <dd>Commit? Default: <code class="docutils literal notranslate"><span class="pre">True</span></code>.</dd> <dt>debug: <code class="docutils literal notranslate"><span class="pre">False</span></code>
</dt> <dd>Debug mode. Will insert a new key under the output dictionary, as <code class="docutils literal notranslate"><span class="pre">loaded_config</span></code> containing the raw configuration loaded on the device.</dd> <dt>replace: <code class="docutils literal notranslate"><span class="pre">False</span></code>
</dt> <dd>Should replace the config with the new generate one?</dd> </dl> <p>State SLS example:</p> <pre class="highlight-jinja notranslate" data-language="jinja">{%- set expected_config =  pillar.get('openconfig_interfaces_cfg') -%}
interfaces_config:
  napalm_yang.managed:
    - data: {{ expected_config | json }}
    - models:
      - models.openconfig_interfaces
    - debug: true</pre> <p>Pillar example:</p> <pre class="highlight-yaml notranslate" data-language="yaml">openconfig_interfaces_cfg:
  _kwargs:
    filter: true
  interfaces:
    interface:
      Et1:
        config:
          mtu: 9000
      Et2:
        config:
          description: "description example"</pre> </dd>
</dl> </div> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2019 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltstack.com/en/latest/ref/states/all/salt.states.net_napalm_yang.html" class="_attribution-link">https://docs.saltstack.com/en/latest/ref/states/all/salt.states.net_napalm_yang.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
