
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>OptionParser&#58;&#58;List - Ruby 3 - W3cubDocs</title>
  
  <meta name="description" content="Simple option list providing mapping from short and&#47;or long option string to OptionParser&#58;&#58;Switch and mapping from acceptable argument &hellip;">
  <meta name="keywords" content="class, optionparser, list, ruby, ruby~3">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/ruby~3/optionparser/list.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/ruby~3.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ruby~3/" class="_nav-link" title="" style="margin-left:0;">Ruby 3</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _rdoc">
				
				
<h1 id="class-OptionParser::List" class="class"> class OptionParser::List </h1>
<dl class="meta">
<dt>Parent:</dt>
<dd class="meta-parent"><a href="../object">Object</a></dd>
</dl> <section class="description"> <p>Simple option list providing mapping from short and/or long option string to <a href="switch"><code>OptionParser::Switch</code></a> and mapping from acceptable argument to matching pattern and converter pair. Also provides summary feature.</p> </section> <section id="5Buntitled-5D" class="documentation-section"> <section class="attribute-method-details"> <header> <h3>Attributes</h3> </header> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-atype"> <span class="method-name">atype</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>Map from acceptable argument types to pattern and converter pairs.</p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-list"> <span class="method-name">list</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p><a href="list"><code>List</code></a> of all switches and summary string.</p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-long"> <span class="method-name">long</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>Map from long style option switches to actual switch objects.</p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-short"> <span class="method-name">short</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>Map from short style option switches to actual switch objects.</p> </div> </div> </section> <section id="public-class-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Class Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-c-new"> <span class="method-name">new</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="new-source"> <pre class="ruby" data-language="ruby"># File lib/optparse.rb, line 771
def initialize
  @atype = {}
  @short = OptionMap.new
  @long = OptionMap.new
  @list = []
end</pre> </div> <p>Just initializes all instance variables.</p>  </div> </div> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-i-accept"> <span class="method-name">accept</span><span class="method-args">(t, pat = /.*/m, &amp;block)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="accept-source"> <pre class="ruby" data-language="ruby"># File lib/optparse.rb, line 781
def accept(t, pat = /.*/m, &amp;block)
  if pat
    pat.respond_to?(:match) or
      raise TypeError, "has no `match'", ParseError.filter_backtrace(caller(2))
  else
    pat = t if t.respond_to?(:match)
  end
  unless block
    block = pat.method(:convert).to_proc if pat.respond_to?(:convert)
  end
  @atype[t] = [pat, block]
end</pre> </div> <p>See <a href="../optionparser#method-c-accept"><code>OptionParser.accept</code></a>.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-append"> <span class="method-name">append</span><span class="method-args">(*args)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="append-source"> <pre class="ruby" data-language="ruby"># File lib/optparse.rb, line 845
def append(*args)
  update(*args)
  @list.push(args[0])
end</pre> </div> <p>Appends <code>switch</code> at the tail of the list, and associates short, long and negated long options. Arguments are:</p> <dl class="rdoc-list note-list">
<dt>
<code>switch</code> </dt>
<dd> <p><a href="switch"><code>OptionParser::Switch</code></a> instance to be inserted.</p> </dd>
<dt>
<code>short_opts</code> </dt>
<dd> <p><a href="list"><code>List</code></a> of short style options.</p> </dd>
<dt>
<code>long_opts</code> </dt>
<dd> <p><a href="list"><code>List</code></a> of long style options.</p> </dd>
<dt>
<code>nolong_opts</code> </dt>
<dd> <p><a href="list"><code>List</code></a> of long style options with “no-” prefix.</p> </dd>
</dl> <pre class="ruby" data-language="ruby">append(switch, short_opts, long_opts, nolong_opts)
</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-complete"> <span class="method-name">complete</span><span class="method-args">(id, opt, icase = false, *pat, &amp;block)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="complete-source"> <pre class="ruby" data-language="ruby"># File lib/optparse.rb, line 867
def complete(id, opt, icase = false, *pat, &amp;block)
  __send__(id).complete(opt, icase, *pat, &amp;block)
end</pre> </div> <p>Searches list <code>id</code> for <code>opt</code> and the optional patterns for completion <code>pat</code>. If <code>icase</code> is true, the search is case insensitive. The result is returned or yielded if a block is given. If it isn't found, nil is returned.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-each_option"> <span class="method-name">each_option</span><span class="method-args">(&amp;block)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="each_option-source"> <pre class="ruby" data-language="ruby"># File lib/optparse.rb, line 878
def each_option(&amp;block)
  list.each(&amp;block)
end</pre> </div> <p>Iterates over each option, passing the option to the <code>block</code>.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-get_candidates"> <span class="method-name">get_candidates</span><span class="method-args">(id) { |__send__(id).keys| ... }</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="get_candidates-source"> <pre class="ruby" data-language="ruby"># File lib/optparse.rb, line 871
def get_candidates(id)
  yield __send__(id).keys
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-prepend"> <span class="method-name">prepend</span><span class="method-args">(*args)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="prepend-source"> <pre class="ruby" data-language="ruby"># File lib/optparse.rb, line 829
def prepend(*args)
  update(*args)
  @list.unshift(args[0])
end</pre> </div> <p>Inserts <code>switch</code> at the head of the list, and associates short, long and negated long options. Arguments are:</p> <dl class="rdoc-list note-list">
<dt>
<code>switch</code> </dt>
<dd> <p><a href="switch"><code>OptionParser::Switch</code></a> instance to be inserted.</p> </dd>
<dt>
<code>short_opts</code> </dt>
<dd> <p><a href="list"><code>List</code></a> of short style options.</p> </dd>
<dt>
<code>long_opts</code> </dt>
<dd> <p><a href="list"><code>List</code></a> of long style options.</p> </dd>
<dt>
<code>nolong_opts</code> </dt>
<dd> <p><a href="list"><code>List</code></a> of long style options with “no-” prefix.</p> </dd>
</dl> <pre class="ruby" data-language="ruby">prepend(switch, short_opts, long_opts, nolong_opts)
</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-reject"> <span class="method-name">reject</span><span class="method-args">(t)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="reject-source"> <pre class="ruby" data-language="ruby"># File lib/optparse.rb, line 797
def reject(t)
  @atype.delete(t)
end</pre> </div> <p>See <a href="../optionparser#method-c-reject"><code>OptionParser.reject</code></a>.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-search"> <span class="method-name">search</span><span class="method-args">(id, key) { |val| ... }</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="search-source"> <pre class="ruby" data-language="ruby"># File lib/optparse.rb, line 854
def search(id, key)
  if list = __send__(id)
    val = list.fetch(key) {return nil}
    block_given? ? yield(val) : val
  end
end</pre> </div> <p>Searches <code>key</code> in <code>id</code> list. The result is returned or yielded if a block is given. If it isn't found, nil is returned.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-summarize"> <span class="method-name">summarize</span><span class="method-args">(*args, &amp;block)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="summarize-source"> <pre class="ruby" data-language="ruby"># File lib/optparse.rb, line 887
def summarize(*args, &amp;block)
  sum = []
  list.reverse_each do |opt|
    if opt.respond_to?(:summarize) # perhaps OptionParser::Switch
      s = []
      opt.summarize(*args) {|l| s &lt;&lt; l}
      sum.concat(s.reverse)
    elsif !opt or opt.empty?
      sum &lt;&lt; ""
    elsif opt.respond_to?(:each_line)
      sum.concat([*opt.each_line].reverse)
    else
      sum.concat([*opt.each].reverse)
    end
  end
  sum.reverse_each(&amp;block)
end</pre> </div> <p>Creates the summary table, passing each line to the <code>block</code> (without newline). The arguments <code>args</code> are passed along to the summarize method which is called on every option.</p>  </div> </div> </section> <section id="private-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Private Instance Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-i-update"> <span class="method-name">update</span><span class="method-args">(sw, sopts, lopts, nsw = nil, nlopts = nil)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="update-source"> <pre class="ruby" data-language="ruby"># File lib/optparse.rb, line 809
def update(sw, sopts, lopts, nsw = nil, nlopts = nil)
  sopts.each {|o| @short[o] = sw} if sopts
  lopts.each {|o| @long[o] = sw} if lopts
  nlopts.each {|o| @long[o] = nsw} if nsw and nlopts
  used = @short.invert.update(@long.invert)
  @list.delete_if {|o| Switch === o and !used[o]}
end</pre> </div> <p>Adds <code>sw</code> according to <code>sopts</code>, <code>lopts</code> and <code>nlopts</code>.</p> <dl class="rdoc-list note-list">
<dt>
<code>sw</code> </dt>
<dd> <p><a href="switch"><code>OptionParser::Switch</code></a> instance to be added.</p> </dd>
<dt>
<code>sopts</code> </dt>
<dd> <p>Short style option list.</p> </dd>
<dt>
<code>lopts</code> </dt>
<dd> <p>Long style option list.</p> </dd>
<dt>
<code>nlopts</code> </dt>
<dd> <p>Negated long style options list.</p> </dd>
</dl>  </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    Ruby Core © 1993–2020 Yukihiro Matsumoto<br>Licensed under the Ruby License.<br>Ruby Standard Library © contributors<br>Licensed under their own licenses.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
