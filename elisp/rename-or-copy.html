
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Backup by Renaming or by Copying? - Elisp - W3cubDocs</title>
  
  <meta name="description" content=" There are two ways that Emacs can make a backup file&#58; ">
  <meta name="keywords" content="backup, renaming, or, copying, elisp">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/elisp/rename-or-copy.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/elisp.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/elisp/" class="_nav-link" title="" style="margin-left:0;">Elisp</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _elisp">
				
				
<h4 class="subsection">Backup by Renaming or by Copying?</h4>  <p>There are two ways that Emacs can make a backup file: </p> <ul> <li> Emacs can rename the original file so that it becomes a backup file, and then write the buffer being saved into a new file. After this procedure, any other names (i.e., hard links) of the original file now refer to the backup file. The new file is owned by the user doing the editing, and its group is the default for new files written by the user in that directory. </li>
<li> Emacs can copy the original file into a backup file, and then overwrite the original file with new contents. After this procedure, any other names (i.e., hard links) of the original file continue to refer to the current (updated) version of the file. The file’s owner and group will be unchanged. </li>
</ul> <p>The first method, renaming, is the default. </p> <p>The variable <code>backup-by-copying</code>, if non-<code>nil</code>, says to use the second method, which is to copy the original file and overwrite it with the new buffer contents. The variable <code>file-precious-flag</code>, if non-<code>nil</code>, also has this effect (as a sideline of its main significance). See <a href="saving-buffers#Saving-Buffers">Saving Buffers</a>. </p> <dl> <dt id="backup-by-copying">
User Option: <strong>backup-by-copying</strong>
</dt> <dd><p>If this variable is non-<code>nil</code>, Emacs always makes backup files by copying. The default is <code>nil</code>. </p></dd>
</dl> <p>The following three variables, when non-<code>nil</code>, cause the second method to be used in certain special cases. They have no effect on the treatment of files that don’t fall into the special cases. </p> <dl> <dt id="backup-by-copying-when-linked">
User Option: <strong>backup-by-copying-when-linked</strong>
</dt> <dd>
<p>If this variable is non-<code>nil</code>, Emacs makes backups by copying for files with multiple names (hard links). The default is <code>nil</code>. </p> <p>This variable is significant only if <code>backup-by-copying</code> is <code>nil</code>, since copying is always used when that variable is non-<code>nil</code>. </p>
</dd>
</dl> <dl> <dt id="backup-by-copying-when-mismatch">
User Option: <strong>backup-by-copying-when-mismatch</strong>
</dt> <dd>
<p>If this variable is non-<code>nil</code> (the default), Emacs makes backups by copying in cases where renaming would change either the owner or the group of the file. </p> <p>The value has no effect when renaming would not alter the owner or group of the file; that is, for files which are owned by the user and whose group matches the default for a new file created there by the user. </p> <p>This variable is significant only if <code>backup-by-copying</code> is <code>nil</code>, since copying is always used when that variable is non-<code>nil</code>. </p>
</dd>
</dl> <dl> <dt id="backup-by-copying-when-privileged-mismatch">
User Option: <strong>backup-by-copying-when-privileged-mismatch</strong>
</dt> <dd>
<p>This variable, if non-<code>nil</code>, specifies the same behavior as <code>backup-by-copying-when-mismatch</code>, but only for certain user-id and group-id values: namely, those less than or equal to a certain number. You set this variable to that number. </p> <p>Thus, if you set <code>backup-by-copying-when-privileged-mismatch</code> to 0, backup by copying is done for the superuser and group 0 only, when necessary to prevent a change in the owner of the file. </p> <p>The default is 200. </p>
</dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    Copyright © 1990-1996, 1998-2019 Free Software Foundation, Inc. <br>Licensed under the GNU GPL license.<br>
    <a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Rename-or-Copy.html" class="_attribution-link">https://www.gnu.org/software/emacs/manual/html_node/elisp/Rename-or-Copy.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
