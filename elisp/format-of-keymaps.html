
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Format of Keymaps - Elisp - W3cubDocs</title>
  
  <meta name="description" content="Each keymap is a list whose CAR is the symbol keymap. The remaining elements of the list define the key bindings of the keymap. A symbol whose &hellip;">
  <meta name="keywords" content="format, keymaps, elisp">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/elisp/format-of-keymaps.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/elisp.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/elisp/" class="_nav-link" title="" style="margin-left:0;">Elisp</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _elisp">
				
				
<h3 class="section">Format of Keymaps</h3>     <p>Each keymap is a list whose <small>CAR</small> is the symbol <code>keymap</code>. The remaining elements of the list define the key bindings of the keymap. A symbol whose function definition is a keymap is also a keymap. Use the function <code>keymapp</code> (see below) to test whether an object is a keymap. </p> <p>Several kinds of elements may appear in a keymap, after the symbol <code>keymap</code> that begins it: </p> <dl compact> <dt><code>(<var>type</var> . <var>binding</var>)</code></dt> <dd>
<p>This specifies one binding, for events of type <var>type</var>. Each ordinary binding applies to events of a particular <em>event type</em>, which is always a character or a symbol. See <a href="classifying-events#Classifying-Events">Classifying Events</a>. In this kind of binding, <var>binding</var> is a command. </p> </dd> <dt><code>(<var>type</var> <var>item-name</var> . <var>binding</var>)</code></dt> <dd>
<p>This specifies a binding which is also a simple menu item that displays as <var>item-name</var> in the menu. See <a href="simple-menu-items#Simple-Menu-Items">Simple Menu Items</a>. </p> </dd> <dt><code>(<var>type</var> <var>item-name</var> <var>help-string</var> . <var>binding</var>)</code></dt> <dd>
<p>This is a simple menu item with help string <var>help-string</var>. </p> </dd> <dt><code>(<var>type</var> menu-item . <var>details</var>)</code></dt> <dd>
<p>This specifies a binding which is also an extended menu item. This allows use of other features. See <a href="extended-menu-items#Extended-Menu-Items">Extended Menu Items</a>. </p> </dd> <dt><code>(t . <var>binding</var>)</code></dt> <dd>
 <p>This specifies a <em>default key binding</em>; any event not bound by other elements of the keymap is given <var>binding</var> as its binding. Default bindings allow a keymap to bind all possible event types without having to enumerate all of them. A keymap that has a default binding completely masks any lower-precedence keymap, except for events explicitly bound to <code>nil</code> (see below). </p> </dd> <dt><code><var>char-table</var></code></dt> <dd>
<p>If an element of a keymap is a char-table, it counts as holding bindings for all character events with no modifier bits (see <a href="other-char-bits#modifier-bits">modifier bits</a>): the element whose index is <var>c</var> is the binding for the character <var>c</var>. This is a compact way to record lots of bindings. A keymap with such a char-table is called a <em>full keymap</em>. Other keymaps are called <em>sparse keymaps</em>. </p> </dd> <dt><code><var>vector</var></code></dt> <dd>
<p>This kind of element is similar to a char-table: the element whose index is <var>c</var> is the binding for the character <var>c</var>. Since the range of characters that can be bound this way is limited by the vector size, and vector creation allocates space for all character codes from 0 up, this format should not be used except for creating menu keymaps (see <a href="menu-keymaps#Menu-Keymaps">Menu Keymaps</a>), where the bindings themselves don’t matter. </p> </dd> <dt><code><var>string</var></code></dt> <dd>
   <p>Aside from elements that specify bindings for keys, a keymap can also have a string as an element. This is called the <em>overall prompt string</em> and makes it possible to use the keymap as a menu. See <a href="defining-menus#Defining-Menus">Defining Menus</a>. </p> </dd> <dt><code>(keymap …)</code></dt> <dd><p>If an element of a keymap is itself a keymap, it counts as if this inner keymap were inlined in the outer keymap. This is used for multiple-inheritance, such as in <code>make-composed-keymap</code>. </p></dd> </dl> <p>When the binding is <code>nil</code>, it doesn’t constitute a definition but it does take precedence over a default binding or a binding in the parent keymap. On the other hand, a binding of <code>nil</code> does <em>not</em> override lower-precedence keymaps; thus, if the local map gives a binding of <code>nil</code>, Emacs uses the binding from the global map. </p>  <p>Keymaps do not directly record bindings for the meta characters. Instead, meta characters are regarded for purposes of key lookup as sequences of two characters, the first of which is <tt class="key">ESC</tt> (or whatever is currently the value of <code>meta-prefix-char</code>). Thus, the key <kbd>M-a</kbd> is internally represented as <kbd><span class="key">ESC</span> a</kbd>, and its global binding is found at the slot for <kbd>a</kbd> in <code>esc-map</code> (see <a href="prefix-keys#Prefix-Keys">Prefix Keys</a>). </p> <p>This conversion applies only to characters, not to function keys or other input events; thus, <kbd>M-<span class="key">end</span></kbd> has nothing to do with <kbd><span class="key">ESC</span> <span class="key">end</span></kbd>. </p> <p>Here as an example is the local keymap for Lisp mode, a sparse keymap. It defines bindings for <tt class="key">DEL</tt>, <kbd>C-c C-z</kbd>, <kbd>C-M-q</kbd>, and <kbd>C-M-x</kbd> (the actual value also contains a menu binding, which is omitted here for the sake of brevity). </p> <div class="example"> <pre class="example">lisp-mode-map
⇒
</pre>
<pre class="example">(keymap
 (3 keymap
    ;; <kbd>C-c C-z</kbd>
    (26 . run-lisp))
</pre>
<pre class="example"> (27 keymap
     ;; <span class="roman"><kbd>C-M-x</kbd>, treated as <kbd><span class="key">ESC</span> C-x</kbd></span>
     (24 . lisp-send-defun))
</pre>
<pre class="example"> ;; <span class="roman">This part is inherited from <code>lisp-mode-shared-map</code>.</span>
 keymap
 ;; <span class="key">DEL</span>
 (127 . backward-delete-char-untabify)
</pre>
<pre class="example"> (27 keymap
     ;; <span class="roman"><kbd>C-M-q</kbd>, treated as <kbd><span class="key">ESC</span> C-q</kbd></span>
     (17 . indent-sexp)))
</pre>
</div> <dl> <dt id="keymapp">
Function: <strong>keymapp</strong> <em>object</em>
</dt> <dd>
<p>This function returns <code>t</code> if <var>object</var> is a keymap, <code>nil</code> otherwise. More precisely, this function tests for a list whose <small>CAR</small> is <code>keymap</code>, or for a symbol whose function definition satisfies <code>keymapp</code>. </p> <div class="example"> <pre class="example">(keymapp '(keymap))
    ⇒ t
</pre>
<pre class="example">(fset 'foo '(keymap))
(keymapp 'foo)
    ⇒ t
</pre>
<pre class="example">(keymapp (current-global-map))
    ⇒ t
</pre>
</div> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    Copyright © 1990-1996, 1998-2019 Free Software Foundation, Inc. <br>Licensed under the GNU GPL license.<br>
    <a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Format-of-Keymaps.html" class="_attribution-link">https://www.gnu.org/software/emacs/manual/html_node/elisp/Format-of-Keymaps.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
