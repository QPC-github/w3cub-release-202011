
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Docker-machine Create - Docker 19 - W3cubDocs</title>
  
  <meta name="description" content="Create a machine. Requires the --driver flag to indicate which provider (VirtualBox, DigitalOcean, AWS, etc.) the machine should be created on, and &hellip;">
  <meta name="keywords" content="docker-machine, create, docker, docker~19">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/docker~19/machine/reference/create/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/docker~19.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/docker~19/" class="_nav-link" title="" style="margin-left:0;">Docker 19</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>docker-machine create</h1>  <p>Create a machine. Requires the <code class="highlighter-rouge">--driver</code> flag to indicate which provider (VirtualBox, DigitalOcean, AWS, etc.) the machine should be created on, and an argument to indicate the name of the created machine.</p> <blockquote class="important"> <p>Looking for the full list of available drivers?</p> <p>For a full list of drivers that work with <code class="highlighter-rouge">docker-machine create</code> and information on how to use them, see <a href="../../drivers/index">Machine drivers</a>.</p> </blockquote> <h2 id="example">Example</h2> <p>Here is an example of using the <code class="highlighter-rouge">--virtualbox</code> driver to create a machine called <code class="highlighter-rouge">dev</code>.</p> <pre data-language="">$ docker-machine create --driver virtualbox dev
Creating CA: /home/username/.docker/machine/certs/ca.pem
Creating client certificate: /home/username/.docker/machine/certs/cert.pem
Image cache does not exist, creating it at /home/username/.docker/machine/cache...
No default boot2docker iso found locally, downloading the latest release...
Downloading https://github.com/boot2docker/boot2docker/releases/download/v1.6.2/boot2docker.iso to /home/username/.docker/machine/cache/boot2docker.iso...
Creating VirtualBox VM...
Creating SSH key...
Starting VirtualBox VM...
Starting VM...
To see how to connect Docker to this machine, run: docker-machine env dev
</pre> <h2 id="accessing-driver-specific-flags-in-the-help-text">Accessing driver-specific flags in the help text</h2> <p>The <code class="highlighter-rouge">docker-machine create</code> command has some flags which apply to all drivers. These largely control aspects of Machine’s provisioning process (including the creation of Docker Swarm containers) that the user may wish to customize.</p> <pre data-language="">$ docker-machine create
Docker Machine Version: 0.5.0 (45e3688)
Usage: docker-machine create [OPTIONS] [arg...]

Create a machine.

Run 'docker-machine create --driver name' to include the create flags for that driver in the help text.

Options:

   --driver, -d "none"                                                                                  Driver to create machine with.
   --engine-install-url "https://get.docker.com"                                                        Custom URL to use for engine installation [$MACHINE_DOCKER_INSTALL_URL]
   --engine-opt [--engine-opt option --engine-opt option]                                               Specify arbitrary flags to include with the created engine in the form flag=value
   --engine-insecure-registry [--engine-insecure-registry option --engine-insecure-registry option]     Specify insecure registries to allow with the created engine
   --engine-registry-mirror [--engine-registry-mirror option --engine-registry-mirror option]           Specify registry mirrors to use [$ENGINE_REGISTRY_MIRROR]
   --engine-label [--engine-label option --engine-label option]                                         Specify labels for the created engine
   --engine-storage-driver                                                                              Specify a storage driver to use with the engine
   --engine-env [--engine-env option --engine-env option]                                               Specify environment variables to set in the engine
   --swarm                                                                                              Configure Machine with Swarm
   --swarm-image "swarm:latest"                                                                         Specify Docker image to use for Swarm [$MACHINE_SWARM_IMAGE]
   --swarm-master                                                                                       Configure Machine to be a Swarm master
   --swarm-discovery                                                                                    Discovery service to use with Swarm
   --swarm-strategy "spread"                                                                            Define a default scheduling strategy for Swarm
   --swarm-opt [--swarm-opt option --swarm-opt option]                                                  Define arbitrary flags for swarm
   --swarm-host "tcp://0.0.0.0:3376"                                                                    ip/socket to listen on for Swarm master
   --swarm-addr                                                                                         addr to advertise for Swarm (default: detect and use the machine IP)
   --swarm-experimental                                                                                 Enable Swarm experimental features
</pre> <p>Additionally, drivers can specify flags that Machine can accept as part of their plugin code. These allow users to customize the provider-specific parameters of the created machine, such as size (<code class="highlighter-rouge">--amazonec2-instance-type m1.medium</code>), geographical region (<code class="highlighter-rouge">--amazonec2-region us-west-1</code>), and so on.</p> <p>To see the provider-specific flags, simply pass a value for <code class="highlighter-rouge">--driver</code> when invoking the <code class="highlighter-rouge">create</code> help text.</p> <pre data-language="">$ docker-machine create --driver virtualbox --help
Usage: docker-machine create [OPTIONS] [arg...]

Create a machine.

Run 'docker-machine create --driver name' to include the create flags for that driver in the help text.

Options:

   --driver, -d "none"                                                                                  Driver to create machine with.
   --engine-env [--engine-env option --engine-env option]                                               Specify environment variables to set in the engine
   --engine-insecure-registry [--engine-insecure-registry option --engine-insecure-registry option]     Specify insecure registries to allow with the created engine
   --engine-install-url "https://get.docker.com"                                                        Custom URL to use for engine installation [$MACHINE_DOCKER_INSTALL_URL]
   --engine-label [--engine-label option --engine-label option]                                         Specify labels for the created engine
   --engine-opt [--engine-opt option --engine-opt option]                                               Specify arbitrary flags to include with the created engine in the form flag=value
   --engine-registry-mirror [--engine-registry-mirror option --engine-registry-mirror option]           Specify registry mirrors to use [$ENGINE_REGISTRY_MIRROR]
   --engine-storage-driver                                                                              Specify a storage driver to use with the engine
   --swarm                                                                                              Configure Machine with Swarm
   --swarm-addr                                                                                         addr to advertise for Swarm (default: detect and use the machine IP)
   --swarm-discovery                                                                                    Discovery service to use with Swarm
   --swarm-experimental                                                                                 Enable Swarm experimental features
   --swarm-host "tcp://0.0.0.0:3376"                                                                    ip/socket to listen on for Swarm master
   --swarm-image "swarm:latest"                                                                         Specify Docker image to use for Swarm [$MACHINE_SWARM_IMAGE]
   --swarm-master                                                                                       Configure Machine to be a Swarm master
   --swarm-opt [--swarm-opt option --swarm-opt option]                                                  Define arbitrary flags for swarm
   --swarm-strategy "spread"                                                                            Define a default scheduling strategy for Swarm
   --virtualbox-boot2docker-url                                                                         The URL of the boot2docker image. Defaults to the latest available version [$VIRTUALBOX_BOOT2DOCKER_URL]
   --virtualbox-cpu-count "1"                                                                           number of CPUs for the machine (-1 to use the number of CPUs available) [$VIRTUALBOX_CPU_COUNT]
   --virtualbox-disk-size "20000"                                                                       Size of disk for host in MB [$VIRTUALBOX_DISK_SIZE]
   --virtualbox-host-dns-resolver                                                                       Use the host DNS resolver [$VIRTUALBOX_HOST_DNS_RESOLVER]
   --virtualbox-dns-proxy                                                                               Proxy all DNS requests to the host [$VIRTUALBOX_DNS_PROXY]
   --virtualbox-hostonly-cidr "192.168.99.1/24"                                                         Specify the Host Only CIDR [$VIRTUALBOX_HOSTONLY_CIDR]
   --virtualbox-hostonly-nicpromisc "deny"                                                              Specify the Host Only Network Adapter Promiscuous Mode [$VIRTUALBOX_HOSTONLY_NIC_PROMISC]
   --virtualbox-hostonly-nictype "82540EM"                                                              Specify the Host Only Network Adapter Type [$VIRTUALBOX_HOSTONLY_NIC_TYPE]
   --virtualbox-import-boot2docker-vm                                                                   The name of a Boot2Docker VM to import
   --virtualbox-memory "1024"                                                                           Size of memory for host in MB [$VIRTUALBOX_MEMORY_SIZE]
   --virtualbox-no-share                                                                                Disable the mount of your home directory
</pre> <p>You may notice that some flags specify environment variables that they are associated with as well (located to the far left hand side of the row). If these environment variables are set when <code class="highlighter-rouge">docker-machine create</code> is invoked, Docker Machine uses them for the default value of the flag.</p> <h2 id="specifying-configuration-options-for-the-created-docker-engine">Specifying configuration options for the created Docker engine</h2> <p>As part of the process of creation, Docker Machine installs Docker and configures it with some sensible defaults. For instance, it allows connection from the outside world over TCP with TLS-based encryption and defaults to AUFS as the <a href="../../../engine/reference/commandline/dockerd/index#daemon-storage-driver-option">storage driver</a> when available.</p> <p>There are several cases where the user might want to set options for the created Docker engine (also known as the Docker <em>daemon</em>) themselves. For example, they may want to allow connection to a <a href="https://docs.docker.com/registry/">registry</a> that they are running themselves using the <code class="highlighter-rouge">--insecure-registry</code> flag for the daemon. Docker Machine supports the configuration of such options for the created engines via the <code class="highlighter-rouge">create</code> command flags which begin with <code class="highlighter-rouge">--engine</code>.</p> <p>Docker Machine only sets the configured parameters on the daemon and does not set up any of the “dependencies” for you. For instance, if you specify that the created daemon should use <code class="highlighter-rouge">btrfs</code> as a storage driver, you still must ensure that the proper dependencies are installed, the BTRFS filesystem has been created, and so on.</p> <p>The following is an example usage:</p> <pre data-language="">$ docker-machine create -d virtualbox \
    --engine-label foo=bar \
    --engine-label spam=eggs \
    --engine-storage-driver overlay \
    --engine-insecure-registry registry.myco.com \
    foobarmachine
</pre> <p>This creates a virtual machine running locally in VirtualBox which uses the <code class="highlighter-rouge">overlay</code> storage backend, has the key-value pairs <code class="highlighter-rouge">foo=bar</code> and <code class="highlighter-rouge">spam=eggs</code> as labels on the engine, and allows pushing / pulling from the insecure registry located at <code class="highlighter-rouge">registry.myco.com</code>. You can verify much of this by inspecting the output of <code class="highlighter-rouge">docker info</code>:</p> <pre data-language="">$ eval $(docker-machine env foobarmachine)
$ docker info
Containers: 0
Images: 0
Storage Driver: overlay
...
Name: foobarmachine
...
Labels:
 foo=bar
 spam=eggs
 provider=virtualbox
</pre> <p>The supported flags are as follows:</p> <ul> <li>
<code class="highlighter-rouge">--engine-insecure-registry</code>: Specify <a href="../../../engine/reference/commandline/cli/index#insecure-registries">insecure registries</a> to allow with the created engine</li> <li>
<code class="highlighter-rouge">--engine-registry-mirror</code>: Specify <a href="https://docs.docker.com/registry/recipes/mirror/">registry mirrors</a> to use</li> <li>
<code class="highlighter-rouge">--engine-label</code>: Specify <a href="https://docs.docker.com/config#daemon-labels">labels</a> for the created engine</li> <li>
<code class="highlighter-rouge">--engine-storage-driver</code>: Specify a <a href="../../../engine/reference/commandline/cli/index#daemon-storage-driver-option">storage driver</a> to use with the engine</li> </ul> <p>If the engine supports specifying the flag multiple times (such as with <code class="highlighter-rouge">--label</code>), then so does Docker Machine.</p> <p>In addition to this subset of daemon flags which are directly supported, Docker Machine also supports an additional flag, <code class="highlighter-rouge">--engine-opt</code>, which can be used to specify arbitrary daemon options with the syntax <code class="highlighter-rouge">--engine-opt flagname=value</code>. For example, to specify that the daemon should use <code class="highlighter-rouge">8.8.8.8</code> as the DNS server for all containers, and always use the <code class="highlighter-rouge">syslog</code> <a href="../../../engine/reference/run/index#logging-drivers-log-driver">log driver</a> you could run the following create command:</p> <pre data-language="">$ docker-machine create -d virtualbox \
    --engine-opt dns=8.8.8.8 \
    --engine-opt log-driver=syslog \
    gdns
</pre> <p>Additionally, Docker Machine supports a flag, <code class="highlighter-rouge">--engine-env</code>, which can be used to specify arbitrary environment variables to be set within the engine with the syntax <code class="highlighter-rouge">--engine-env name=value</code>. For example, to specify that the engine should use <code class="highlighter-rouge">example.com</code> as the proxy server, you could run the following create command:</p> <div class="highlight"><pre class="highlight" data-language="">$ docker-machine create -d virtualbox \
    --engine-env HTTP_PROXY=http://example.com:8080 \
    --engine-env HTTPS_PROXY=https://example.com:8080 \
    --engine-env NO_PROXY=example2.com \
    proxbox
</pre></div> <h2 id="specifying-docker-swarm-options-for-the-created-machine">Specifying Docker Swarm options for the created machine</h2> <p>In addition to configuring Docker Engine options as listed above, you can use Machine to specify how the created swarm manager is configured. There is a <code class="highlighter-rouge">--swarm-strategy</code> flag, which you can use to specify the <a href="https://docs.docker.com/swarm/scheduler/strategy/">scheduling strategy</a> which Docker Swarm should use (Machine defaults to the <code class="highlighter-rouge">spread</code> strategy). There is also a general purpose <code class="highlighter-rouge">--swarm-opt</code> option which works similar to the aforementioned <code class="highlighter-rouge">--engine-opt</code> option, except that it specifies options for the <code class="highlighter-rouge">swarm manage</code> command (used to boot a master node) instead of the base command. You can use this to configure features that power users might be interested in, such as configuring the heartbeat interval or Swarm’s willingness to over-commit resources. There is also the <code class="highlighter-rouge">--swarm-experimental</code> flag, that allows you to access <a href="https://github.com/docker/swarm/tree/master/experimental">experimental features</a> in Docker Swarm.</p> <p>If you’re not sure how to configure these options, it is best to not specify configuration at all. Docker Machine chooses sensible defaults for you and you don’t need to worry about it.</p> <p>Example create:</p> <pre data-language="">$ docker-machine create -d virtualbox \
    --swarm \
    --swarm-master \
    --swarm-discovery token://&lt;token&gt; \
    --swarm-strategy binpack \
    --swarm-opt heartbeat=5s \
    upbeat
</pre> <p>This sets the swarm scheduling strategy to “binpack” (pack in containers as tightly as possible per host instead of spreading them out), and the “heartbeat” interval to 5 seconds.</p> <h2 id="pre-create-check">Pre-create check</h2> <p>Many drivers require a certain set of conditions to be in place before machines can be created. For instance, VirtualBox needs to be installed before the <code class="highlighter-rouge">virtualbox</code> driver can be used. For this reason, Docker Machine has a “pre-create check” which is specified at the driver level.</p> <p>If this pre-create check succeeds, Docker Machine proceeds with the creation as normal. If the pre-create check fails, the Docker Machine process exits with status code 3 to indicate that the source of the non-zero exit was the pre-create check failing.</p>  
<p><a href="https://docs.docker.com/glossary/?term=machine">machine</a>, <a href="https://docs.docker.com/glossary/?term=create">create</a>, <a href="https://docs.docker.com/glossary/?term=subcommand">subcommand</a></p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2019 Docker, Inc.<br>Licensed under the Apache License, Version 2.0.<br>Docker and the Docker logo are trademarks or registered trademarks of Docker, Inc. in the United States and/or other countries.<br>Docker, Inc. and other parties may also have trademark rights in other terms used herein.<br>
    <a href="https://docs.docker.com/machine/reference/create/" class="_attribution-link">https://docs.docker.com/machine/reference/create/</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
