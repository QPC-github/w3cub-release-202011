
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>23. SFC Style Features - Vue.js 3 - W3cubDocs</title>
  
  <meta name="description" content="When a &#60;style&#62; tag has the scoped attribute, its CSS will apply to elements of the current component only. This is similar to the style &hellip;">
  <meta name="keywords" content="sfc, style, features, vue, js, vue~3">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/vue~3/api/sfc-style.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/vue~3.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/vue~3/" class="_nav-link" title="" style="margin-left:0;">Vue.js 3</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _vue">
				
				
<div class="theme-default-content content__default">
<h1 id="sfc-style-features"> SFC Style Features</h1> <h2 id="style-scoped"> <code>&lt;style scoped&gt;</code>
</h2> <p>When a <code>&lt;style&gt;</code> tag has the <code>scoped</code> attribute, its CSS will apply to elements of the current component only. This is similar to the style encapsulation found in Shadow DOM. It comes with some caveats, but doesn't require any polyfills. It is achieved by using PostCSS to transform the following:</p> <div class="language-vue line-numbers-mode">
<pre class="language-vue" data-language="javascript">&lt;style scoped&gt;
.example {
  color: red;
}
&lt;/style&gt;

&lt;template&gt;
  &lt;div class="example"&gt;hi&lt;/div&gt;
&lt;/template&gt;</pre> </div>
<p>Into the following:</p> <div class="language-vue line-numbers-mode">
<pre class="language-vue" data-language="javascript">&lt;style&gt;
.example[data-v-f3f3eg9] {
  color: red;
}
&lt;/style&gt;

&lt;template&gt;
  &lt;div class="example" data-v-f3f3eg9&gt;hi&lt;/div&gt;
&lt;/template&gt;</pre> </div>
<h3 id="child-component-root-elements"> Child Component Root Elements</h3> <p>With <code>scoped</code>, the parent component's styles will not leak into child components. However, a child component's root node will be affected by both the parent's scoped CSS and the child's scoped CSS. This is by design so that the parent can style the child root element for layout purposes.</p> <h3 id="deep-selectors"> Deep Selectors</h3> <p>If you want a selector in <code>scoped</code> styles to be "deep", i.e. affecting child components, you can use the <code>:deep()</code> pseudo-class:</p> <div class="language-vue line-numbers-mode">
<pre class="language-vue" data-language="javascript">&lt;style scoped&gt;
.a :deep(.b) {
  /* ... */
}
&lt;/style&gt;</pre> </div>
<p>The above will be compiled into:</p> <div class="language-css line-numbers-mode">
<pre class="language-css" data-language="javascript">.a[data-v-f3f3eg9] .b {
  /* ... */
}</pre> </div>
<div class="custom-block tip">
<strong class="custom-block-title">TIP</strong> <p>DOM content created with <code>v-html</code> are not affected by scoped styles, but you can still style them using deep selectors.</p>
</div> <h3 id="slotted-selectors"> Slotted Selectors</h3> <p>By default, scoped styles do not affect contents rendered by <code>&lt;slot/&gt;</code>, as they are considered to be owned by the parent component passing them in. To explicitly target slot content, use the <code>:slotted</code> pseudo-class:</p> <div class="language-vue line-numbers-mode">
<pre class="language-vue" data-language="javascript">&lt;style scoped&gt;
:slotted(div) {
  color: red;
}
&lt;/style&gt;</pre> </div>
<h3 id="global-selectors"> Global Selectors</h3> <p>If you want just one rule to apply globally, you can use the <code>:global</code> pseudo-class rather than creating another <code>&lt;style&gt;</code> (see below):</p> <div class="language-vue line-numbers-mode">
<pre class="language-vue" data-language="javascript">&lt;style scoped&gt;
:global(.red) {
  color: red;
}
&lt;/style&gt;</pre> </div>
<h3 id="mixing-local-and-global-styles"> Mixing Local and Global Styles</h3> <p>You can also include both scoped and non-scoped styles in the same component:</p> <div class="language-vue line-numbers-mode">
<pre class="language-vue" data-language="javascript">&lt;style&gt;
/* global styles */
&lt;/style&gt;

&lt;style scoped&gt;
/* local styles */
&lt;/style&gt;</pre> </div>
<h3 id="scoped-style-tips"> Scoped Style Tips</h3> <ul>
<li><p><strong>Scoped styles do not eliminate the need for classes</strong>. Due to the way browsers render various CSS selectors, <code>p { color: red }</code> will be many times slower when scoped (i.e. when combined with an attribute selector). If you use classes or ids instead, such as in <code>.example { color: red }</code>, then you virtually eliminate that performance hit.</p></li> <li><p><strong>Be careful with descendant selectors in recursive components!</strong> For a CSS rule with the selector <code>.a .b</code>, if the element that matches <code>.a</code> contains a recursive child component, then all <code>.b</code> in that child component will be matched by the rule.</p></li>
</ul> <h2 id="style-module"> <code>&lt;style module&gt;</code>
</h2> <p>A <code>&lt;style module&gt;</code> tag is compiled as <a href="https://github.com/css-modules/css-modules" target="_blank" rel="noopener noreferrer">CSS Modules<span> <span class="sr-only">(opens new window)</span></span></a> and exposes the resulting CSS classes to the component as an object under the key of <code>$style</code>:</p> <div class="language-vue line-numbers-mode">
<pre class="language-vue" data-language="javascript">&lt;template&gt;
  &lt;p :class="$style.red"&gt;
    This should be red
  &lt;/p&gt;
&lt;/template&gt;

&lt;style module&gt;
.red {
  color: red;
}
&lt;/style&gt;</pre> </div>
<p>The resulting classes are hashed to avoid collision, achieving the same effect of scoping the CSS to the current component only.</p> <p>Refer to the <a href="https://github.com/css-modules/css-modules" target="_blank" rel="noopener noreferrer">CSS Modules spec<span> <span class="sr-only">(opens new window)</span></span></a> for more details such as <a href="https://github.com/css-modules/css-modules#exceptions" target="_blank" rel="noopener noreferrer">global exceptions<span> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://github.com/css-modules/css-modules#composition" target="_blank" rel="noopener noreferrer">composition<span> <span class="sr-only">(opens new window)</span></span></a>.</p> <h3 id="custom-inject-name"> Custom Inject Name</h3> <p>You can customize the property key of the injected classes object by giving the <code>module</code> attribute a value:</p> <div class="language-vue line-numbers-mode">
<pre class="language-vue" data-language="javascript">&lt;template&gt;
  &lt;p :class="classes.red"&gt;red&lt;/p&gt;
&lt;/template&gt;

&lt;style module="classes"&gt;
.red {
  color: red;
}
&lt;/style&gt;</pre> </div>
<h3 id="usage-with-composition-api"> Usage with Composition API</h3> <p>The injected classes can be accessed in <code>setup()</code> and <code>&lt;script setup&gt;</code> via the <a href="global-api#usecssmodule"><code>useCssModule</code></a> API. For <code>&lt;style module&gt;</code> blocks with custom injection names, <code>useCssModule</code> accepts the matching <code>module</code> attribute value as the first argument:</p> <div class="language-js line-numbers-mode">
<pre class="language-js" data-language="javascript">// default, returns classes for &lt;style module&gt;
useCssModule()

// named, returns classes for &lt;style module="classes"&gt;
useCssModule('classes')</pre> </div>
<h2 id="state-driven-dynamic-css"> State-Driven Dynamic CSS</h2> <p>SFC <code>&lt;style&gt;</code> tags support linking CSS values to dynamic component state using the <code>v-bind</code> CSS function:</p> <div class="language-vue line-numbers-mode">
<pre class="language-vue" data-language="javascript">&lt;template&gt;
  &lt;div class="text"&gt;hello&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  data() {
    return {
      color: 'red'
    }
  }
}
&lt;/script&gt;

&lt;style&gt;
.text {
  color: v-bind(color);
}
&lt;/style&gt;</pre> </div>
<p>The syntax works with <a href="sfc-script-setup"><code>&lt;script setup&gt;</code></a>, and supports JavaScript expressions (must be wrapped in quotes):</p> <div class="language-vue line-numbers-mode">
<pre class="language-vue" data-language="javascript">&lt;script setup&gt;
const theme = {
  color: 'red'
}
&lt;/script&gt;

&lt;template&gt;
  &lt;p&gt;hello&lt;/p&gt;
&lt;/template&gt;

&lt;style scoped&gt;
p {
  color: v-bind('theme.color');
}
&lt;/style&gt;</pre> </div>
<p>The actual value will be compiled into a hashed CSS custom property, so the CSS is still static. The custom property will be applied to the component's root element via inline styles and reactively updated if the source value changes.</p>
</div>   <div class="_attribution">
  <p class="_attribution-p">
    © 2013–present Yuxi Evan You<br>Licensed under the MIT License.<br>
    <a href="https://v3.vuejs.org/api/sfc-style" class="_attribution-link">https://v3.vuejs.org/api/sfc-style</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
