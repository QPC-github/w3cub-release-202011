
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Server API - Socket.IO - W3cubDocs</title>
  
  <meta name="description" content=" Exposed by require(&#39;socket.io&#39;). ">
  <meta name="keywords" content="server, api, socket, io, socketio">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/socketio/server-api.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/socketio.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/socketio/" class="_nav-link" title="" style="margin-left:0;">Socket.IO</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _socketio">
				
				
<h1>Server API</h1> <h3 id="server">Server</h3> <p>Exposed by <code>require('socket.io')</code>.</p> <h3 id="server">Server()</h3> <p>Creates a new <code>Server</code>. Works with and without <code>new</code>:</p> <pre data-language="javascript">var io = require('socket.io')();
// or
var Server = require('socket.io');
var io = new Server();</pre> <h3 id="server-opts-object">Server(opts:Object)</h3> <p>Optionally, the first or second argument (see below) of the <code>Server</code> constructor can be an options object.</p> <p>The following options are supported:</p> <ul> <li>
<code>serveClient</code> sets the value for Server#serveClient()</li> <li>
<code>path</code> sets the value for Server#path()</li> </ul> <p>The same options passed to socket.io are always passed to the <code>engine.io</code> <code>Server</code> that gets created. See engine.io <a href="https://github.com/learnboost/engine.io#methods-1">options</a> as reference.</p> <h3 id="server-srv-http-server-opts-object">Server(srv:http#Server, opts:Object)</h3> <p>Creates a new <code>Server</code> and attaches it to the given <code>srv</code>. Optionally <code>opts</code> can be passed.</p> <h3 id="server-port-number-opts-object">Server(port:Number, opts:Object)</h3> <p>Binds socket.io to a new <code>http.Server</code> that listens on <code>port</code>.</p> <h3 id="server-serveclient-v-boolean-server">Server#serveClient(v:Boolean):Server</h3> <p>If <code>v</code> is <code>true</code> the attached server (see <code>Server#attach</code>) will serve the client files. Defaults to <code>true</code>.</p> <p>This method has no effect after <code>attach</code> is called.</p> <pre data-language="javascript">// pass a server and the `serveClient` option
var io = require('socket.io')(http, { serveClient: false });

// or pass no server and then you can call the method
var io = require('socket.io')();
io.serveClient(false);
io.attach(http);</pre> <p>If no arguments are supplied this method returns the current value.</p> <h3 id="server-path-v-string-server">Server#path(v:String):Server</h3> <p>Sets the path <code>v</code> under which <code>engine.io</code> and the static files will be served. Defaults to <code>/socket.io</code>.</p> <p>If no arguments are supplied this method returns the current value.</p> <h3 id="server-adapter-v-adapter-server">Server#adapter(v:Adapter):Server</h3> <p>Sets the adapter <code>v</code>. Defaults to an instance of the <code>Adapter</code> that ships with socket.io which is memory based. See <a href="https://github.com/learnboost/socket.io-adapter">socket.io-adapter</a>.</p> <p>If no arguments are supplied this method returns the current value.</p> <h3 id="server-origins-v-string-server">Server#origins(v:String):Server</h3> <p>Sets the allowed origins <code>v</code>. Defaults to any origins being allowed.</p> <p>If no arguments are supplied this method returns the current value.</p> <h3 id="server-sockets-namespace">Server#sockets:Namespace</h3> <p>The default (<code>/</code>) namespace.</p> <h3 id="server-attach-srv-http-server-opts-object-server">Server#attach(srv:http#Server, opts:Object):Server</h3> <p>Attaches the <code>Server</code> to an engine.io instance on <code>srv</code> with the supplied <code>opts</code> (optionally).</p> <h3 id="server-attach-port-number-opts-object-server">Server#attach(port:Number, opts:Object):Server</h3> <p>Attaches the <code>Server</code> to an engine.io instance that is bound to <code>port</code> with the given <code>opts</code> (optionally).</p> <h3 id="server-listen">Server#listen</h3> <p>Synonym of <code>Server#attach</code>.</p> <h3 id="server-bind-srv-engine-server-server">Server#bind(srv:engine#Server):Server</h3> <p>Advanced use only. Binds the server to a specific engine.io <code>Server</code> (or compatible API) instance.</p> <h3 id="server-onconnection-socket-engine-socket-server">Server#onconnection(socket:engine#Socket):Server</h3> <p>Advanced use only. Creates a new <code>socket.io</code> client from the incoming engine.io (or compatible API) <code>socket</code>.</p> <h3 id="server-of-nsp-string-namespace">Server#of(nsp:String):Namespace</h3> <p>Initializes and retrieves the given <code>Namespace</code> by its pathname identifier <code>nsp</code>.</p> <p>If the namespace was already initialized it returns it right away.</p> <h3 id="server-emit">Server#emit</h3> <p>Emits an event to all connected clients. The following two are equivalent:</p> <pre data-language="javascript">var io = require('socket.io')();
io.sockets.emit('an event sent to all connected clients');
io.emit('an event sent to all connected clients');</pre> <p>For other available methods, see <code>Namespace</code> below.</p> <h3 id="server-use">Server#use</h3> <p>See <code>Namespace#use</code> below.</p> <h3 id="namespace">Namespace</h3> <p>Represents a pool of sockets connected under a given scope identified by a pathname (eg: <code>/chat</code>).</p> <p>By default the client always connects to <code>/</code>.</p> <h4 id="events">Events</h4> <ul> <li>
<code>connection</code> / <code>connect</code>. Fired upon a connection. <p>Parameters:</p> <ul> <li>
<code>Socket</code> the incoming socket.</li> </ul> </li> </ul> <h3 id="namespace-name-string">Namespace#name:String</h3> <p>The namespace identifier property.</p> <h3 id="namespace-connected-object">Namespace#connected:Object
</h3> <p>Hash of <code>Socket</code> objects that are connected to this namespace indexed by <code>id</code>.</p> <h3 id="namespace-use-fn-function-namespace">Namespace#use(fn:Function):Namespace</h3> <p>Registers a middleware, which is a function that gets executed for every incoming <code>Socket</code> and receives as parameter the socket and a function to optionally defer execution to the next registered middleware.</p> <pre data-language="javascript">var io = require('socket.io')();
io.use(function(socket, next){
  if (socket.request.headers.cookie) return next();
  next(new Error('Authentication error'));
});</pre> <p>Errors passed to middleware callbacks are sent as special <code>error</code> packets to clients.</p> <h3 id="socket">Socket</h3> <p>A <code>Socket</code> is the fundamental class for interacting with browser clients. A <code>Socket</code> belongs to a certain <code>Namespace</code> (by default <code>/</code>) and uses an underlying <code>Client</code> to communicate.</p> <h3 id="socket-rooms-array">Socket#rooms:Array</h3> <p>A list of strings identifying the rooms this socket is in.</p> <h3 id="socket-client-client">Socket#client:Client</h3> <p>A reference to the underlying <code>Client</code> object.</p> <h3 id="socket-conn-socket">Socket#conn:Socket</h3> <p>A reference to the underyling <code>Client</code> transport connection (engine.io <code>Socket</code> object).</p> <h3 id="socket-request-request">Socket#request:Request</h3> <p>A getter proxy that returns the reference to the <code>request</code> that originated the underlying engine.io <code>Client</code>. Useful for accessing request headers such as <code>Cookie</code> or <code>User-Agent</code>.</p> <h3 id="socket-id-string">Socket#id:String</h3> <p>A unique identifier for the socket session, that comes from the underlying <code>Client</code>.</p> <h3 id="socket-emit-name-string-socket">Socket#emit(name:String[, …]):Socket</h3> <p>Emits an event to the socket identified by the string <code>name</code>. Any other parameters can be included.</p> <p>All datastructures are supported, including <code>Buffer</code>. JavaScript functions can’t be serialized/deserialized.</p> <pre data-language="javascript">var io = require('socket.io')();
io.on('connection', function(socket){
  socket.emit('an event', { some: 'data' });
});</pre> <h3 id="socket-join-name-string-fn-function-socket">Socket#join(name:String[, fn:Function]):Socket</h3> <p>Adds the socket to the <code>room</code>, and fires optionally a callback <code>fn</code> with <code>err</code> signature (if any).</p> <p>The socket is automatically a member of a room identified with its session id (see <code>Socket#id</code>).</p> <p>The mechanics of joining rooms are handled by the <code>Adapter</code> that has been configured (see <code>Server#adapter</code> above), defaulting to <a href="https://github.com/socket.io/socket.io-adapter">socket.io-adapter</a>.</p> <h3 id="socket-leave-name-string-fn-function-socket">Socket#leave(name:String[, fn:Function]):Socket</h3> <p>Removes the socket from <code>room</code>, and fires optionally a callback <code>fn</code> with <code>err</code> signature (if any).</p> <p><strong>Rooms are left automatically upon disconnection</strong>.</p> <p>The mechanics of leaving rooms are handled by the <code>Adapter</code> that has been configured (see <code>Server#adapter</code> above), defaulting to <a href="https://github.com/socket.io/socket.io-adapter">socket.io-adapter</a>.</p> <h3 id="socket-to-room-string-socket">Socket#to(room:String):Socket</h3> <h3 id="socket-in-room-string-socket">Socket#in(room:String):Socket</h3> <p>Sets a modifier for a subsequent event emission that the event will only be <em>broadcasted</em> to sockets that have joined the given <code>room</code>.</p> <p>To emit to multiple rooms, you can call <code>to</code> several times.</p> <pre data-language="javascript">var io = require('socket.io')();
io.on('connection', function(socket){
  socket.to('others').emit('an event', { some: 'data' });
});</pre> <h3 id="client">Client</h3> <p>The <code>Client</code> class represents an incoming transport (engine.io) connection. A <code>Client</code> can be associated with many multiplexed <code>Socket</code> that belong to different <code>Namespace</code>s.</p> <h3 id="client-conn">Client#conn</h3> <p>A reference to the underlying <code>engine.io</code> <code>Socket</code> connection.</p> <h3 id="client-request">Client#request</h3> <p>A getter proxy that returns the reference to the <code>request</code> that originated the engine.io connection. Useful for accessing request headers such as <code>Cookie</code> or <code>User-Agent</code>.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2014–2015 Automattic<br>Licensed under the MIT License.<br>
    <a href="http://socket.io/docs/server-api" class="_attribution-link">http://socket.io/docs/server-api</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
