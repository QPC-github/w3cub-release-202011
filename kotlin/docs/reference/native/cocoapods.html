
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>CocoaPods Integration - Kotlin - W3cubDocs</title>
  
  <meta name="description" content="Kotlin&#47;Native provides integration with the CocoaPods dependency manager. You can add dependencies on Pod libraries stored in the CocoaPods &hellip;">
  <meta name="keywords" content="cocoapods, integration, kotlin">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/kotlin/docs/reference/native/cocoapods.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/kotlin.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/kotlin/" class="_nav-link" title="" style="margin-left:0;">Kotlin</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _kotlin">
				
				
<h1 class="typo-header typo-h1" id="cocoapods-integration">CocoaPods integration</h1> <p class="typo-para">Kotlin/Native provides integration with the <a class="typo-link" href="https://cocoapods.org/">CocoaPods dependency manager</a>. You can add dependencies on Pod libraries stored in the CocoaPods repository or locally as well as use a multiplatform project with native targets as a CocoaPods dependency (Kotlin Pod).</p> <p class="typo-para">You can manage Pod dependencies directly in IntelliJ IDEA and enjoy all the additional features such as code highlighting and completion. You can build the whole Kotlin project with Gradle and not ever have to switch to Xcode. Use Xcode only when you need to write Swift/Objective-C code or run your application on a simulator or device.</p> <p class="typo-para">Depending on your project and purposes, you can add dependencies between:</p> <ul class="typo-list typo-list_type_simple"> <li class="typo-list__item"><a class="typo-link" href="#add-a-dependency-on-a-pod-library-from-the-cocoapods-repository">A Kotlin project and a Pod library from the CocoaPods repository</a></li> <li class="typo-list__item"><a class="typo-link" href="#add-a-dependency-on-a-pod-library-stored-locally">A Kotlin project and a Pod library stored locally</a></li> <li class="typo-list__item">
<a class="typo-link" href="#add-a-dependency-between-a-kotlin-pod-and-xcode-project-with-one-target">A Kotlin Pod and an Xcode project with one target</a> or <a class="typo-link" href="#add-a-dependency-between-a-kotlin-pod-with-an-xcode-project-with-several-targets">several targets</a>
</li> </ul> <blockquote class="note typo-quote"> <p class="typo-para">You can also add dependencies between a Kotlin Pod and multiple Xcode projects. However, in this case you need to add a dependency by calling <code>pod install</code> manually for each Xcode project. In other cases, it's done automatically.</p> </blockquote> <h2 class="typo-header typo-h2" id="install-the-cocoapods-dependency-manager-and-plugin">Install the CocoaPods dependency manager and plugin</h2> <ol class="typo-list typo-list_type_ordered"> <li class="typo-list__item"> <p class="typo-para">Install the <a class="typo-link" href="https://cocoapods.org/">CocoaPods dependency manager</a>.</p> <div class="sample" mode="ruby"> <pre> $ sudo gem install cocoapods
</pre> </div> </li> <li class="typo-list__item"> <p class="typo-para">Install the <a class="typo-link" href="https://github.com/square/cocoapods-generate"><code>cocoapods-generate</code></a> plugin.</p> <div class="sample" mode="ruby"> <pre> $ sudo gem install cocoapods-generate
</pre> </div> </li> <li class="typo-list__item"> <p class="typo-para">In <code>build.gradle.kts</code> (or <code>build.gradle</code>) of your IDEA project, apply the CocoaPods plugin as well as the Kotlin Multiplatform plugin.</p> <div class="sample"> <pre data-language="kotlin"> plugins {
    kotlin("multiplatform") version "1.4.10"
    kotlin("native.cocoapods") version "1.4.10"
 }
</pre> </div> </li> <li class="typo-list__item"> <p class="typo-para">Configure <code>summary</code>, <code>homepage</code>, and <code>frameworkName</code>of the <code>Podspec</code> file in the <code>cocoapods</code> block.<br> <code>version</code> is a version of the Gradle project.</p> <div class="sample"> <pre data-language="kotlin"> plugins {
     kotlin("multiplatform") version "1.4.10"
     kotlin("native.cocoapods") version "1.4.10"
 }
    
 // CocoaPods requires the podspec to have a version.
 version = "1.0"
    
 kotlin {
     cocoapods {
         // Configure fields required by CocoaPods.
         summary = "Some description for a Kotlin/Native module"
         homepage = "Link to a Kotlin/Native module homepage"
    
         // You can change the name of the produced framework.
         // By default, it is the name of the Gradle project.
         frameworkName = "my_framework"
     }
 }
</pre> </div> </li> <li class="typo-list__item"> <p class="typo-para">Re-import the project.</p> </li> </ol> <p class="typo-para">When applied, the CocoaPods plugin does the following:</p> <ul class="typo-list typo-list_type_simple"> <li class="typo-list__item">Adds both <code>debug</code> and <code>release</code> frameworks as output binaries for all macOS, iOS, tvOS, and watchOS targets.</li> <li class="typo-list__item">Creates a <code>podspec</code> task which generates a <a class="typo-link" href="https://guides.cocoapods.org/syntax/podspec.html">Podspec</a> file for the project.</li> </ul> <p class="typo-para">The <code>Podspec</code> file includes a path to an output framework and script phases that automate building this framework during the build process of an Xcode project.</p> <h2 class="typo-header typo-h2" id="add-dependencies-on-pod-libraries">Add dependencies on Pod libraries</h2> <p class="typo-para">You can add dependencies between a Kotlin project and Pod libraries <a class="typo-link" href="#add-a-dependency-on-a-pod-library-from-the-cocoapods-repository">stored in the CocoaPods repository</a> and <a class="typo-link" href="#add-a-dependency-on-a-pod-library-stored-locally">stored locally</a>.</p> <p class="typo-para"><a class="typo-link" href="#install-the-cocoapods-dependency-manager-and-plugin">Complete the initial configuration</a>, and when you add a new dependency and re-import the project in IntelliJ IDEA; the new dependency will be added automatically. There are no additional steps required.</p> <h3 class="typo-header typo-h3" id="add-a-dependency-on-a-pod-library-from-the-cocoapods-repository">Add a dependency on a Pod library from the CocoaPods repository</h3> <ol class="typo-list typo-list_type_ordered"> <li class="typo-list__item">Add dependencies on a Pod library that you want to use from the CocoaPods repository with <code>pod()</code> to <code>build.gradle.kts</code> (<code>build.gradle</code>) of your project. <blockquote class="typo-quote"> <p class="typo-para">You can also add dependencies on subspecs. {:.note} &gt;</p> </blockquote> <div class="sample"> <pre data-language="kotlin"> kotlin {
     ios()
    
     cocoapods {
         summary = "CocoaPods test library"
         homepage = "https://github.com/JetBrains/kotlin"
         pod("AFNetworking", "~&gt; 4.0.0")
            
         pod("SDWebImage/MapKit")
     }
 }
</pre> </div> </li> <li class="typo-list__item">Re-import the project.</li> </ol> <p class="typo-para">To use these dependencies from the Kotlin code, import the packages <code>cocoapods.&lt;library-name&gt;</code>.</p> <div class="sample"> <pre data-language="kotlin">import cocoapods.AFNetworking.*
import cocoapods.SDWebImage.*
</pre> </div> <p class="typo-para">You can find a sample project <a class="typo-link" href="https://github.com/Kotlin/kotlin-with-cocoapods-sample">here</a>.</p> <h3 class="typo-header typo-h3" id="add-a-dependency-on-a-pod-library-stored-locally">Add a dependency on a Pod library stored locally</h3> <ol class="typo-list typo-list_type_ordered"> <li class="typo-list__item">Add a dependency on a Pod library stored locally with <code>pod()</code> to <code>build.gradle.kts</code> (<code>build.gradle</code>) of your project.<br> As the third parameter, specify the path to <code>Podspec</code> of the local Pod using <code>project.file(..)</code>. <blockquote class="note typo-quote"> <p class="typo-para">You can add local dependencies on subspecs as well.<br> The <code>cocoapods</code> block can include dependencies to Pods stored locally and Pods from the CocoaPods repository at the same time.</p> </blockquote> <div class="sample"> <pre data-language="kotlin"> kotlin {
     ios()
    
     cocoapods {
         summary = "CocoaPods test library"
         homepage = "https://github.com/JetBrains/kotlin"
         pod("pod_dependency", "1.0", project.file("../pod_dependency/pod_dependency.podspec"))
         pod("subspec_dependency/Core", "1.0", project.file("../subspec_dependency/subspec_dependency.podspec"))
            
         pod("AFNetworking", "~&gt; 4.0.0")
         pod("SDWebImage/MapKit")
     }
 }
</pre> </div> </li> <li class="typo-list__item">Re-import the project.</li> </ol> <p class="typo-para">If you want to use dependencies on local pods from Kotlin code, import the corresponding packages.</p> <div class="sample"> <pre data-language="kotlin">import cocoapods.pod_dependency.*
import cocoapods.subspec_dependency.*
</pre> </div> <p class="typo-para">You can find a sample project <a class="typo-link" href="https://github.com/Kotlin/kotlin-with-cocoapods-sample">here</a>.</p> <h2 class="typo-header typo-h2" id="use-a-kotlin-gradle-project-as-a-cocoapods-dependency">Use a Kotlin Gradle project as a CocoaPods dependency</h2> <p class="typo-para">You can use a Kotlin Multiplatform project with native targets as a CocoaPods dependency (Kotlin Pod). You can include such a dependency in the Podfile of the Xcode project by its name and path to the project directory containing the generated Podspec. This dependency will be automatically built (and rebuilt) along with this project. Such an approach simplifies importing to Xcode by removing a need to write the corresponding Gradle tasks and Xcode build steps manually.</p> <p class="typo-para">You can add dependencies between:</p> <ul class="typo-list typo-list_type_simple"> <li class="typo-list__item"><a class="typo-link" href="#add-a-dependency-between-a-kotlin-pod-and-xcode-project-with-one-target">A Kotlin Pod and an Xcode project with one target</a></li> <li class="typo-list__item"><a class="typo-link" href="#add-a-dependency-between-a-kotlin-pod-with-an-xcode-project-with-several-targets">A Kotlin Pod and an Xcode project with several targets</a></li> </ul> <blockquote class="note typo-quote"> <p class="typo-para">To correctly import the dependencies into the Kotlin/Native module, the <code>Podfile</code> must contain either <a class="typo-link" href="https://guides.cocoapods.org/syntax/podfile.html#use_modular_headers_bang"><code>use_modular_headers!</code></a> or <a class="typo-link" href="https://guides.cocoapods.org/syntax/podfile.html#use_frameworks_bang"><code>use_frameworks!</code></a> directive.</p> </blockquote> <h3 class="typo-header typo-h3" id="add-a-dependency-between-a-kotlin-pod-and-xcode-project-with-one-target">Add a dependency between a Kotlin Pod and Xcode project with one target</h3> <ol class="typo-list typo-list_type_ordered"> <li class="typo-list__item">Create an Xcode project with a <code>Podfile</code> if you haven’t done so yet.</li> <li class="typo-list__item">Add the path to your Xcode project <code>Podfile</code> with <code>podfile = project.file(..)</code> to <code>build.gradle.kts</code> (<code>build.gradle</code>) of your Kotlin project.<br> This step helps synchronize your Xcode project with Kotlin Pod dependencies by calling <code>pod install</code> for your <code>Podfile</code>.</li> <li class="typo-list__item">Specify the minimum target version for the Pod library. <blockquote class="note typo-quote"> <p class="typo-para">If you don't specify the minimum target version and a dependency Pod requires a higher deployment target, you may get an error.</p> </blockquote> <div class="sample"> <pre data-language="kotlin"> kotlin {
     ios()
    
     cocoapods {
         summary = "CocoaPods test library"
         homepage = "https://github.com/JetBrains/kotlin"
         ios.deploymentTarget = "13.5"
         pod("AFNetworking", "~&gt; 4.0.0")
         podfile = project.file("../ios-app/Podfile")
     }
 }
</pre> </div> </li> <li class="typo-list__item"> <p class="typo-para">Add the name and path of the Kotlin Pod you want to include in the Xcode project to <code>Podfile</code>.</p> <div class="sample" mode="ruby"> <pre> use_frameworks!
    
 platform :ios, '9.0'
    
 target 'ios-app' do
         pod 'kotlin_library', :path =&gt; '../kotlin-library'
 end
</pre> </div> </li> <li class="typo-list__item">Re-import the project.</li> </ol> <h3 class="typo-header typo-h3" id="add-a-dependency-between-a-kotlin-pod-with-an-xcode-project-with-several-targets">Add a dependency between a Kotlin Pod with an Xcode project with several targets</h3> <ol class="typo-list typo-list_type_ordered"> <li class="typo-list__item">Create an Xcode project with a <code>Podfile</code> if you haven’t done so yet.</li> <li class="typo-list__item">Add the path to your Xcode project <code>Podfile</code> with <code>podfile = project.file(..)</code> to <code>build.gradle.kts</code> (<code>build.gradle</code>) of your Kotlin project.<br> This step helps synchronize your Xcode project with Kotlin Pod dependencies by calling <code>pod install</code> for your <code>Podfile</code>.</li> <li class="typo-list__item">Add dependencies to the Pod libraries that you want to use in your project with <code>pod()</code>.</li> <li class="typo-list__item"> <p class="typo-para">For each target, specify the minimum target version for the Pod library.</p> <div class="sample"> <pre data-language="kotlin"> kotlin {
     ios()
     tvos()
    
     cocoapods {
         summary = "CocoaPods test library"
         homepage = "https://github.com/JetBrains/kotlin"
         ios.deploymentTarget = "13.5"
         tvos.deploymentTarget = "13.4"
       
         pod("AFNetworking", "~&gt; 4.0.0")
         podfile = project.file("../severalTargetsXcodeProject/Podfile") // specify the path to Podfile
     }
 }
</pre> </div> </li> <li class="typo-list__item"> <p class="typo-para">Add the name and path of the Kotlin Pod you want to include in the Xcode project to the <code>Podfile</code>.</p> <div class="sample" mode="ruby"> <pre> target 'iosApp' do
   use_frameworks!
   platform :ios, '13.5'
   # Pods for iosApp
   pod 'kotlin_library', :path =&gt; '../kotlin-library'
 end
    
 target 'TVosApp' do
   use_frameworks!
   platform :tvos, '13.4'
      
   # Pods for TVosApp
   pod 'kotlin_library', :path =&gt; '../kotlin-library'
 end
</pre> </div> </li> <li class="typo-list__item">Re-import the project.</li> </ol> <p class="typo-para">You can find a sample project <a class="typo-link" href="https://github.com/Kotlin/multitarget-xcode-with-kotlin-cocoapods-sample">here</a>.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2010–2020 JetBrains s.r.o. and Kotlin Programming Language contributors<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://kotlinlang.org/docs/reference/native/cocoapods.html" class="_attribution-link">https://kotlinlang.org/docs/reference/native/cocoapods.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
