
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Std&#58;&#58;basic_stringbuf&#58;&#58;overflow - C++ - W3cubDocs</title>
  
  <meta name="description" content=" Appends the character c to the output character sequence. ">
  <meta name="keywords" content="std, basic, stringbuf, chart, traits, allocator, overflow, c++, cpp">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/cpp/io/basic_stringbuf/overflow.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/cpp.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cpp/" class="_nav-link" title="" style="margin-left:0;">C++</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _c">
				
				
<h1 id="firstHeading" class="firstHeading">std::basic_stringbuf&lt;CharT,Traits,Allocator&gt;::overflow</h1>            <table class="t-dcl-begin"> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">protected:
virtual int_type overflow ( int_type c = Traits::eof() );</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr>  </table> <p>Appends the character <code>c</code> to the output character sequence.</p>
<p>If <code>c</code> is the end-of-file indicator (<code>traits::eq_int_type(c,traits::eof()) == true</code>), then there is no character to append. The function does nothing and returns an unspecified value other than <code>traits::eof()</code>.</p>
<p>Otherwise, if the output sequence has a write position available or this function can successfully make a write position available, then calls <code>sputc(c)</code> and returns <code>c</code>.</p>
<p>This function can make a write position available if the stringbuf is open for output (<code>mode &amp; ios_base::out) != 0</code>): in this case, it reallocates (or initially allocates) the buffer big enough to hold the entire current buffer plus at least one more character. If the stringbuf is also open for input (<code>(mode &amp; ios_base::in) != 0</code>), then <code>overflow</code> also increases the size of the get area by moving <code>egptr()</code> to point just past the new write position.</p>
<h3 id="Parameters">Parameters</h3> <table class="t-par-begin"> <tr class="t-par"> <td> c </td> <td> - </td> <td> the character to store in the put area </td>
</tr>
</table> <h3 id="Return_value">Return value</h3> <p><code>Traits::eof()</code> to indicate failure, <code>c</code> if the character <code>c</code> was successfully appended, or some value other than <code>Traits::eof()</code> if called with <code>Traits::eof()</code> as the argument.</p>
<h3 id="Notes">Notes</h3> <p>This function is different from a typical <code>overflow()</code> which moves the contents of the buffer to the associated character sequence because for a <code><a href="../basic_stringbuf"><span class="kw1665">std::<span class="me2">basic_stringbuf</span></span></a></code>, the buffer and the associated sequence are one and the same.</p>
<h3 id="Example">Example</h3> <div class="t-example">
<p>In the implementation used to execute this example, overflow() over-allocates the put area to 512 bytes: a call to str() would only return the four initialized bytes, but the next 508 calls to sputc() would not require new calls to overflow().</p>
<div class="cpp source-cpp"><pre data-language="cpp">#include &lt;sstream&gt;
#include &lt;iostream&gt;
 
struct mybuf : std::stringbuf
{
    mybuf(const std::string&amp; new_str,
          std::ios_base::openmode which = std::ios_base::in|std::ios_base::out)
           : std::stringbuf(new_str, which) {}
    int_type overflow(int_type c = EOF) override
    {
        std::cout &lt;&lt; "stringbuf::overflow('" &lt;&lt; char(c) &lt;&lt; "') called\n"
                  &lt;&lt; "Before: size of get area: " &lt;&lt; egptr() - eback() &lt;&lt; '\n'
                  &lt;&lt; "        size of put area: " &lt;&lt; epptr() - pbase() &lt;&lt; '\n';
        int_type ret = std::stringbuf::overflow(c);
        std::cout &lt;&lt; "After : size of get area: " &lt;&lt; egptr() - eback() &lt;&lt; '\n'
                  &lt;&lt; "        size of put area: " &lt;&lt; epptr() - pbase() &lt;&lt; '\n';
        return ret;
    }
};
 
int main()
{
    std::cout &lt;&lt; "read-write stream:\n";
    mybuf sbuf("   "); // read-write stream
    std::iostream stream(&amp;sbuf);
    stream &lt;&lt; 1234;
    std::cout &lt;&lt; sbuf.str() &lt;&lt; '\n';
 
    std::cout &lt;&lt; "\nread-only stream:\n";
    mybuf ro_buf("   ", std::ios_base::in); // read-only stream
    std::iostream ro_stream(&amp;ro_buf);
    ro_stream &lt;&lt; 1234;
 
    std::cout &lt;&lt; "\nwrite-only stream:\n";
    mybuf wr_buf("   ", std::ios_base::out); // write-only stream
    std::iostream wr_stream(&amp;wr_buf);
    wr_stream &lt;&lt; 1234;
}</pre></div> <p>Possible output:</p>
<div class="text source-text"><pre data-language="c">read-write stream:
stringbuf::overflow('4') called
Before: size of get area: 3
        size of put area: 3
After : size of get area: 4
        size of put area: 512
1234
 
read-only stream:
stringbuf::overflow('1') called
Before: size of get area: 3
        size of put area: 0
After : size of get area: 3
        size of put area: 0
 
write-only stream:
stringbuf::overflow('4') called
Before: size of get area: 0
        size of put area: 3
After : size of get area: 0
        size of put area: 512</pre></div> </div> <h3 id="See_also">See also</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="../basic_streambuf/overflow" title="cpp/io/basic streambuf/overflow"> <span class="t-lines"><span>overflow</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">[virtual]</span></span></span></div> </td> <td> writes characters to the associated output sequence from the put area <br> <span class="t-mark">(virtual protected member function of <code>std::basic_streambuf&lt;CharT,Traits&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="underflow" title="cpp/io/basic stringbuf/underflow"> <span class="t-lines"><span>underflow</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">[virtual]</span></span></span></div> </td> <td> returns the next character available in the input sequence <br> <span class="t-mark">(virtual protected member function)</span> </td>
</tr> </table>          <div class="_attribution">
  <p class="_attribution-p">
    Â© cppreference.com<br>Licensed under the Creative Commons Attribution-ShareAlike Unported License v3.0.<br>
    <a href="http://en.cppreference.com/w/cpp/io/basic_stringbuf/overflow" class="_attribution-link">http://en.cppreference.com/w/cpp/io/basic_stringbuf/overflow</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
