
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Std&#58;&#58;ranges&#58;&#58;take_view&#58;&#58;take_view - C++ - W3cubDocs</title>
  
  <meta name="description" content=" Constructs a take_view. ">
  <meta name="keywords" content="std, ranges, take, view, c++, cpp">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/cpp/ranges/take_view/take_view.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-1810d67ab7e57be09d8247710d2feb6954566959eb82322d1fee3a0c9156f56974b78ebaa9928774f00767342bbe58b0799d91fcc336b92b319170b196f9b64b.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/cpp.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cpp/" class="_nav-link" title="" style="margin-left:0;">C++</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _c">
				
				
<h1 id="firstHeading" class="firstHeading">std::ranges::take_view&lt;V&gt;::take_view</h1>            <table class="t-dcl-begin"> <tr class="t-dcl t-since-cxx20"> <td> <pre data-language="cpp">take_view() requires std::default_initializable&lt;V&gt; = default;</pre>
</td> <td> (1) </td> <td> <span class="t-mark-rev t-since-cxx20">(since C++20)</span> </td> </tr> <tr class="t-dcl t-since-cxx20"> <td> <pre data-language="cpp">constexpr take_view( V base, ranges::range_difference_t&lt;V&gt; count );</pre>
</td> <td> (2) </td> <td> <span class="t-mark-rev t-since-cxx20">(since C++20)</span> </td> </tr>  </table> <p>Constructs a <code>take_view</code>.</p>
<div class="t-li1">
<span class="t-li">1)</span> Default constructor. <a href="../../language/value_initialization" title="cpp/language/value initialization">Value-initializes</a> the underlying view and initializes the count to 0. After construction, <a href="base" title="cpp/ranges/take view/base"><code>base()</code></a> returns a copy of <code>V()</code> and <a href="size" title="cpp/ranges/take view/size"><code>size()</code></a> returns <code>​0​</code>.</div> <div class="t-li1">
<span class="t-li">2)</span> Initializes the underlying view with <code>std::move(base)</code> and the count with <code>count</code>. After construction, <a href="base" title="cpp/ranges/take view/base"><code>base()</code></a> returns a copy of <code>base</code> and <a href="size" title="cpp/ranges/take view/size"><code>size()</code></a> returns the smaller of <code>count</code> and <code><a href="http://en.cppreference.com/w/cpp/ranges/size"><span class="kw3103">ranges::<span class="me2">size</span></span></a><span class="br0">(</span>base<span class="br0">)</span></code>.</div> <h3 id="Parameters"> Parameters</h3> <table class="t-par-begin"> <tr class="t-par"> <td> base </td> <td> - </td> <td> the underlying view </td>
</tr> <tr class="t-par"> <td> count </td> <td> - </td> <td> number of elements to take </td>
</tr>
</table> <h3 id="Example"> Example</h3> <div class="t-example">
<p>Prints first <code>n</code> prime numbers that are generated using <a href="https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes" class="extiw" title="enwiki:Sieve of Eratosthenes">Sieve of Eratosthenes</a> method.</p>
<div class="cpp source-cpp"><pre data-language="cpp">#include &lt;bit&gt;
#include &lt;bitset&gt;
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;ranges&gt;
 
constexpr unsigned clog2(auto x) // ~ ⌈ log₂(x) ⌉
{
    return std::numeric_limits&lt;decltype(x)&gt;::digits - std::countl_zero(x);
}
 
template &lt;unsigned Primes&gt; struct Sieve
{
    bool operator()(int n) {
        if (n &lt; 2) return false;
        if (n == 2) return true;
        if (n % 2 == 0 || bits.test(n / 2))
            return false;
        for (int i{n}, j{3}, k{}; (k = i * j) &lt; size; j += 2)
            bits.set(k / 2);
        return true;
    }
 
    static constexpr int prime_numbers = Primes;
 
    // a(n) ~= n*(log(n) + log(log(n)));
    static constexpr int size = Primes*(clog2(Primes) + clog2(clog2(Primes)));
 
    // Keep only odd numbers; 0 means it is a prime
    private: std::bitset&lt;size / 2 + 1&gt; bits;
};
 
int main()
{
    Sieve&lt;100&gt; sieve{};
    auto primes_gen = std::views::iota(1)
                    | std::views::filter(sieve);
 
    auto primes = std::ranges::take_view{ primes_gen, sieve.prime_numbers };
 
    for (int n{1}; auto prime : primes) {
        std::cout &lt;&lt; prime &lt;&lt; (n++ % 10 ? ' ' : '\n');
    }
 
    std::cout
        &lt;&lt; "\n" "sieve.prime_numbers: " &lt;&lt; sieve.prime_numbers
        &lt;&lt; "\n" "sieve.size: " &lt;&lt; sieve.size
        &lt;&lt; "\n" "sizeof(sieve): " &lt;&lt; sizeof sieve &lt;&lt; " bytes\n";
}</pre></div> <p>Output:</p>
<div class="text source-text"><pre data-language="c">2 3 5 7 11 13 17 19 23 29
31 37 41 43 47 53 59 61 67 71
73 79 83 89 97 101 103 107 109 113
127 131 137 139 149 151 157 163 167 173
179 181 191 193 197 199 211 223 227 229
233 239 241 251 257 263 269 271 277 281
283 293 307 311 313 317 331 337 347 349
353 359 367 373 379 383 389 397 401 409
419 421 431 433 439 443 449 457 461 463
467 479 487 491 499 503 509 521 523 541
 
sieve.prime_numbers: 100
sieve.size: 1000
sizeof(sieve): 64 bytes</pre></div> </div>           <div class="_attribution">
  <p class="_attribution-p">
    © cppreference.com<br>Licensed under the Creative Commons Attribution-ShareAlike Unported License v3.0.<br>
    <a href="https://en.cppreference.com/w/cpp/ranges/take_view/take_view" class="_attribution-link">https://en.cppreference.com/w/cpp/ranges/take_view/take_view</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
