
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Main Function - C++ - W3cubDocs</title>
  
  <meta name="description" content=" A program shall contain a global function named main, which is the designated start of the program. It shall have one of the following forms&#58; ">
  <meta name="keywords" content="main, function, c++, cpp">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/cpp/language/main_function.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/cpp.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cpp/" class="_nav-link" title="" style="margin-left:0;">C++</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _c">
				
				
<h1 id="firstHeading" class="firstHeading">Main function</h1>            <p>A program shall contain a global function named <code>main</code>, which is the designated start of the program. It shall have one of the following forms:</p>
<table class="t-sdsc-begin">  <tr class="t-sdsc"> <td> <code>int</code> <code>main</code> <code>()</code> <code>{</code> <span class="t-spar">body</span> <code>} </code> </td> <td> (1) </td> <td class="t-sdsc-nopad"> </td>
</tr>  <tr class="t-sdsc"> <td> <code>int</code> <code>main</code> <code>(</code><code>int</code> <span class="t-spar">argc</span><code>,</code> <code>char</code> <code>*</code><span class="t-spar">argv</span><code>[]</code><code>)</code> <code>{</code> <span class="t-spar">body</span> <code>} </code> </td> <td> (2) </td> <td class="t-sdsc-nopad"> </td>
</tr>  <tr class="t-sdsc"> <td> <code>/* another implementation-defined form, with int as return type */</code> </td> <td> (3) </td> <td class="t-sdsc-nopad"> </td>
</tr> 
</table> <table class="t-par-begin"> <tr class="t-par"> <td> argc </td> <td> - </td> <td> Non-negative value representing the number of arguments passed to the program from the environment in which the program is run. </td>
</tr> <tr class="t-par"> <td> argv </td> <td> - </td> <td> Pointer to the first element of an array of <code>argc + 1</code> pointers, of which the last one is null and the previous ones, if any, point to <a href="../string/multibyte" title="cpp/string/multibyte">null-terminated multibyte strings</a> that represent the arguments passed to the program from the execution environment. If <code>argv[0]</code> is not a null pointer (or, equivalently, if <code>argc</code> &gt; 0), it points to a string that represents the name used to invoke the program, or to an empty string. </td>
</tr> <tr class="t-par"> <td> <span class="t-spar">body</span> </td> <td> - </td> <td> The body of the main function </td>
</tr>
</table> <p>The names <code>argc</code> and <code>argv</code> are arbitrary, as well as the representation of the types of the parameters: <code>int main(int ac, char** av)</code> is equally valid.</p>
<p>A very common implementation-defined form of main() has a third argument (in addition to <code>argc</code> and <code>argv</code>), of type <code>char*[]</code>, pointing at <a rel="nofollow" class="external text" href="http://pubs.opengroup.org/onlinepubs/9699919799/functions/exec.html">an array of pointers to the execution environment variables</a>.</p>
<h3 id="Explanation">Explanation</h3> <p>The <code>main</code> function is called at program startup after <a href="initialization" title="cpp/language/initialization">initialization</a> of the non-local objects with static <a href="storage_duration" title="cpp/language/storage duration">storage duration</a>. It is the designated entry point to a program that is executed in <i>hosted</i> environment (that is, with an operating system). The entry points to <i>freestanding</i> programs (boot loaders, OS kernels, etc) are implementation-defined.</p>
<p>The parameters of the two-parameter form of the main function allow arbitrary multibyte character strings to be passed from the execution environment (these are typically known as <i>command line arguments</i>), the pointers <code>argv[1] .. argv[argc-1]</code> point at the first characters in each of these strings. <code>argv[0]</code> is the pointer to the initial character of a null-terminated multibyte string that represents the name used to invoke the program itself (or an empty string <code>""</code> if this is not supported by the execution environment). The strings are modifiable, although these modifications do not propagate back to the execution environment: they can be used, for example, with <code><a href="../string/byte/strtok" title="cpp/string/byte/strtok">std::strtok</a></code>. The size of the array pointed to by <code>argv</code> is at least <code>argc+1</code>, and the last element, <code>argv[argc]</code>, is guaranteed to be a null pointer.</p>
<p>The <code>main</code> function has several special properties:</p>
<div class="t-li1">
<span class="t-li">1)</span> It cannot be used anywhere in the program</div> <div class="t-li2">
<span class="t-li">a)</span> in particular, it cannot be called recursively</div> <div class="t-li2">
<span class="t-li">b)</span> its address cannot be taken</div> <div class="t-li1">
<span class="t-li">2)</span> It cannot be predefined and cannot be overloaded: effectively, the name <code>main</code> in the global namespace is reserved for functions (although it can be used to name classes, namespaces, enumerations, and any entity in a non-global namespace<span class="t-rev-inl t-since-cxx17"><span>, except that a function called "main" cannot be declared with C <a href="language_linkage" title="cpp/language/language linkage">language linkage</a> in any namespace</span> <span><span class="t-mark-rev t-since-cxx17">(since C++17)</span></span></span>)</div> <div class="t-li1">
<span class="t-li">3)</span> It cannot be defined as deleted or declared <span class="t-rev-inl t-since-cxx17"><span>with C <a href="language_linkage" title="cpp/language/language linkage">language linkage</a></span> <span><span class="t-mark-rev t-since-cxx17">(since C++17)</span></span></span>, <a href="inline" title="cpp/language/inline">inline</a>, <a href="static" title="cpp/language/static">static</a>, or <a href="constexpr" title="cpp/language/constexpr">constexpr</a>
</div> <div class="t-li1">
<span class="t-li">4)</span> The body of the main function does not need to contain the <a href="return" title="cpp/language/return">return statement</a>: if control reaches the end of <code>main</code> without encountering a return statement, the effect is that of executing <code>return 0;</code>.</div> <div class="t-li1">
<span class="t-li">5)</span> Execution of the return (or the implicit return upon reaching the end of main) is equivalent to first leaving the function normally (which destroys the objects with automatic storage duration) and then calling <code><a href="../utility/program/exit"><span class="kw962">std::<span class="me2">exit</span></span></a></code> with the same argument as the argument of the <a href="return" title="cpp/language/return">return</a>. (<code><a href="../utility/program/exit"><span class="kw962">std::<span class="me2">exit</span></span></a></code> then destroys static objects and terminates the program)</div> <div class="t-li1">
<span class="t-li">6)</span> <span class="t-mark-rev t-since-cxx14">(since C++14)</span> The return type of the main function cannot be deduced (<code>auto main() {...</code> is not allowed)</div> <h3 id="Notes">Notes</h3> <p>If the main function is defined with a <a href="function-try-block" title="cpp/language/function-try-block">function-try-block</a>, the exceptions thrown by the destructors of static objects (which are destroyed by the implied <code><a href="../utility/program/exit" title="cpp/utility/program/exit">std::exit</a></code>) are not caught by it.</p>
<p>The manner in which the arguments given at the OS command line are converted into the multibyte character arrays referenced by <code>argv</code> may involve implementation-defined processing:</p>
<ul>
<li> <a rel="nofollow" class="external text" href="https://msdn.microsoft.com/en-us/library/17w5ykft.aspx">Parsing C++ Command-Line Arguments</a> MSDN </li>
<li> <a rel="nofollow" class="external text" href="http://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#tag_18_01">Shell Introduction</a> POSIX </li>
</ul> <h3 id="See_also">See also</h3>           <div class="_attribution">
  <p class="_attribution-p">
    © cppreference.com<br>Licensed under the Creative Commons Attribution-ShareAlike Unported License v3.0.<br>
    <a href="http://en.cppreference.com/w/cpp/language/main_function" class="_attribution-link">http://en.cppreference.com/w/cpp/language/main_function</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
