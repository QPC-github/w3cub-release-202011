
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>ApplicationRef - Angular 11 - W3cubDocs</title>
  
  <meta name="description" content=" class ">
  <meta name="keywords" content="applicationref, angular, angular~11">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/angular~11/api/core/applicationref.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/angular~11.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/angular~11/" class="_nav-link" title="" style="margin-left:0;">Angular 11</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _angular">
				
				
<h1 id="applicationref">ApplicationRef</h1> <p><code class="api-type-label class">class</code></p>  <aio-toc class="embedded"></aio-toc> <div class="api-body">  <p>A reference to an Angular application running on a page.</p>   <pre data-language="typescript">class ApplicationRef {
  componentTypes: Type&lt;any&gt;[]
  components: ComponentRef&lt;any&gt;[]
  isStable: Observable&lt;boolean&gt;
  viewCount
  bootstrap&lt;C&gt;(componentOrFactory: ComponentFactory&lt;C&gt; | Type&lt;C&gt;, rootSelectorOrNode?: any): ComponentRef&lt;C&gt;
  tick(): void
  attachView(viewRef: ViewRef): void
  detachView(viewRef: ViewRef): void
}</pre>   <h2 id="properties">Properties</h2> <table> <thead> <tr> <th>Property</th> <th>Description</th> </tr> </thead> <tbody> <tr class="instance-property"> <td>  <code class=""><span class="member-name">componentTypes</span>: <a href="type" class="code-anchor">Type</a>&lt;any&gt;[]</code> </td> <td>
<span class="read-only-property">Read-Only</span> <p>Get a list of component types registered to this application. This list is populated even before the component is created.</p> </td> </tr> <tr class="instance-property"> <td>  <code class=""><span class="member-name">components</span>: <a href="componentref" class="code-anchor">ComponentRef</a>&lt;any&gt;[]</code> </td> <td>
<span class="read-only-property">Read-Only</span> <p>Get a list of components registered to this application.</p> </td> </tr> <tr class="instance-property"> <td>  <code class=""><span class="member-name">isStable</span>: Observable&lt;boolean&gt;</code> </td> <td>
<span class="read-only-property">Read-Only</span> <p>Returns an Observable that indicates when the application is stable or unstable.</p> <p>See also:</p> <ul> <li>
<p><a href="applicationref#is-stable-examples">Usage notes</a> for examples and caveats when using this API.</p> </li> </ul> </td> </tr> <tr class="instance-property"> <td>  <code class=""><span class="member-name">viewCount</span></code> </td> <td>
<span class="read-only-property">Read-Only</span> <p>Returns the number of attached views.</p> </td> </tr> </tbody> </table>   <h2 id="methods">Methods</h2>  <table> <thead><tr><th> <div class="with-github-links"> <span id="bootstrap"> bootstrap() </span>  </div> </th></tr></thead> <tbody> <tr> <td class="short-description"> <p>Bootstrap a new component at the root level of the application.</p> </td> </tr> <tr> <td> <div class="overload-info"> <h3 data-language="typescript"><code>bootstrap&lt;C&gt;(componentOrFactory: ComponentFactory&lt;C&gt; | Type&lt;C&gt;, rootSelectorOrNode?: any): ComponentRef&lt;C&gt;</code></h3> <h6 class="no-anchor" id="parameters">Parameters</h6> <table> <tbody> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>componentOrFactory</code> </td> <td class="param-type"><code><a href="componentfactory" class="code-anchor">ComponentFactory</a><c> | <a href="type" class="code-anchor">Type</a></c></code></td> <td class="param-description"> </td> </tr> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>rootSelectorOrNode</code> </td> <td class="param-type"><code>any</code></td> <td class="param-description"> <p>Optional. Default is <code>undefined</code>.</p> </td> </tr> </tbody> </table> <h6 class="no-anchor" id="returns">Returns</h6> <p><code><a href="componentref" class="code-anchor">ComponentRef&lt;C&gt;</a></code></p> </div> </td> </tr> <tr> <td class="usage-notes"> <h4 id="bootstrap-usage-notes">Usage Notes</h4> <h5 id="bootstrap-process">Bootstrap process</h5> <p>When bootstrapping a new root component into an application, Angular mounts the specified application component onto DOM elements identified by the componentType's selector and kicks off automatic change detection to finish initializing the component.</p> <p>Optionally, a component can be mounted onto a DOM element that does not match the componentType's selector.</p> <h5 id="example">Example</h5> <pre data-language="typescript">@Component({selector: 'my-app', template: 'Hello World'})
class MyApp {
}

const myPlatformFactory = createPlatformFactory(platformBrowserDynamic, 'myPlatform');
myPlatformFactory().bootstrapModule(MyApp);</pre> </td> </tr> </tbody> </table>  <table> <thead><tr><th> <div class="with-github-links"> <span id="tick"> tick() </span>  </div> </th></tr></thead> <tbody> <tr> <td class="short-description"> <p>Invoke this method to explicitly process change detection and its side-effects.</p> </td> </tr> <tr> <td> <div class="overload-info"> <h3 data-language="typescript"><code>tick(): void</code></h3> <h6 class="no-anchor" id="parameters-1">Parameters</h6> <p>There are no parameters.</p> <h6 class="no-anchor" id="returns-1">Returns</h6> <p><code>void</code></p> </div> </td> </tr> <tr> <td class="description"> <p>In development mode, <code><a href="testing/tick" class="code-anchor">tick</a>()</code> also performs a second change detection cycle to ensure that no further changes are detected. If additional changes are picked up during this second cycle, bindings in the app have side-effects that cannot be resolved in a single change detection pass. In this case, Angular throws an error, since an Angular application can only have one change detection pass during which all change detection must complete.</p> </td> </tr> </tbody> </table>  <table> <thead><tr><th> <div class="with-github-links"> <span id="attachview"> attachView() </span>  </div> </th></tr></thead> <tbody> <tr> <td class="short-description"> <p>Attaches a view so that it will be dirty checked. The view will be automatically detached when it is destroyed. This will throw if the view is already attached to a ViewContainer.</p> </td> </tr> <tr> <td> <div class="overload-info"> <h3 data-language="typescript"><code>attachView(viewRef: ViewRef): void</code></h3> <h6 class="no-anchor" id="parameters-2">Parameters</h6> <table> <tbody> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>viewRef</code> </td> <td class="param-type"><code><a href="viewref" class="code-anchor">ViewRef</a></code></td> <td class="param-description"> </td> </tr> </tbody> </table> <h6 class="no-anchor" id="returns-2">Returns</h6> <p><code>void</code></p> </div> </td> </tr> </tbody> </table>  <table> <thead><tr><th> <div class="with-github-links"> <span id="detachview"> detachView() </span>  </div> </th></tr></thead> <tbody> <tr> <td class="short-description"> <p>Detaches a view from dirty checking again.</p> </td> </tr> <tr> <td> <div class="overload-info"> <h3 data-language="typescript"><code>detachView(viewRef: ViewRef): void</code></h3> <h6 class="no-anchor" id="parameters-3">Parameters</h6> <table> <tbody> <tr class="instance-method-overload-parameter"> <td class="param-name">  <code>viewRef</code> </td> <td class="param-type"><code><a href="viewref" class="code-anchor">ViewRef</a></code></td> <td class="param-description"> </td> </tr> </tbody> </table> <h6 class="no-anchor" id="returns-3">Returns</h6> <p><code>void</code></p> </div> </td> </tr> </tbody> </table>   <h2 id="usage-notes">Usage notes</h2>  <h3 id="isstable-examples-and-caveats">isStable examples and caveats</h3> <p>Note two important points about <code>isStable</code>, demonstrated in the examples below:</p> <ul> <li>the application will never be stable if you start any kind of recurrent asynchronous task when the application starts (for example for a polling process, started with a <code>setInterval</code>, a <code>setTimeout</code> or using RxJS operators like <code>interval</code>);</li> <li>the <code>isStable</code> Observable runs outside of the Angular zone.</li> </ul> <p>Let's imagine that you start a recurrent task (here incrementing a counter, using RxJS <code>interval</code>), and at the same time subscribe to <code>isStable</code>.</p> <pre>constructor(appRef: ApplicationRef) {
  appRef.isStable.pipe(
     filter(stable =&gt; stable)
  ).subscribe(() =&gt; console.log('App is stable now');
  interval(1000).subscribe(counter =&gt; console.log(counter));
}</pre> <p>In this example, <code>isStable</code> will never emit <code>true</code>, and the trace "App is stable now" will never get logged.</p> <p>If you want to execute something when the app is stable, you have to wait for the application to be stable before starting your polling process.</p> <pre>constructor(appRef: ApplicationRef) {
  appRef.isStable.pipe(
    first(stable =&gt; stable),
    tap(stable =&gt; console.log('App is stable now')),
    switchMap(() =&gt; interval(1000))
  ).subscribe(counter =&gt; console.log(counter));
}</pre> <p>In this example, the trace "App is stable now" will be logged and then the counter starts incrementing every second.</p> <p>Note also that this Observable runs outside of the Angular zone, which means that the code in the subscription to this Observable will not trigger the change detection.</p> <p>Let's imagine that instead of logging the counter value, you update a field of your component and display it in its template.</p> <pre>constructor(appRef: ApplicationRef) {
  appRef.isStable.pipe(
    first(stable =&gt; stable),
    switchMap(() =&gt; interval(1000))
  ).subscribe(counter =&gt; this.value = counter);
}</pre> <p>As the <code>isStable</code> Observable runs outside the zone, the <code>value</code> field will be updated properly, but the template will not be refreshed!</p> <p>You'll have to manually trigger the change detection to update the template.</p> <pre>constructor(appRef: ApplicationRef, cd: ChangeDetectorRef) {
  appRef.isStable.pipe(
    first(stable =&gt; stable),
    switchMap(() =&gt; interval(1000))
  ).subscribe(counter =&gt; {
    this.value = counter;
    cd.detectChanges();
  });
}</pre> <p>Or make the subscription callback run inside the zone.</p> <pre>constructor(appRef: ApplicationRef, zone: NgZone) {
  appRef.isStable.pipe(
    first(stable =&gt; stable),
    switchMap(() =&gt; interval(1000))
  ).subscribe(counter =&gt; zone.run(() =&gt; this.value = counter));
}</pre>  </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2010–2021 Google, Inc.<br>Licensed under the Creative Commons Attribution License 4.0.<br>
    <a href="https://v11.angular.io/api/core/ApplicationRef" class="_attribution-link">https://v11.angular.io/api/core/ApplicationRef</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
