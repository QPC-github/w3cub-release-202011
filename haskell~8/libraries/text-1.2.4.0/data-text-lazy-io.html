
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Data.Text.Lazy.IO - Haskell 8 - W3cubDocs</title>
  
  <meta name="description" content=" Efficient locale-sensitive support for lazy text I&#47;O. ">
  <meta name="keywords" content="data, text, lazy, io, haskell, haskell~8">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/haskell~8/libraries/text-1.2.4.0/data-text-lazy-io.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/haskell~8.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/haskell~8/" class="_nav-link" title="" style="margin-left:0;">Haskell 8</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _haskell">
				
				
<h1 class="caption">Data.Text.Lazy.IO</h1>
<div class="_haskell-api">
<table class="info">
<tr>
<th valign="top">Copyright</th>
<td>(c) 2009 2010 Bryan O'Sullivan<br>(c) 2009 Simon Marlow</td>
</tr>
<tr>
<th>License</th>
<td>BSD-style</td>
</tr>
<tr>
<th>Maintainer</th>
<td>bos@serpentine.com</td>
</tr>
<tr>
<th>Portability</th>
<td>GHC</td>
</tr>
<tr>
<th>Safe Haskell</th>
<td>Trustworthy</td>
</tr>
<tr>
<th>Language</th>
<td>Haskell2010</td>
</tr>
</table>
<div id="table-of-contents"><div id="contents-list">
<h4 class="caption" onclick="window.scrollTo(0,0)">Contents</h4>
<ul>
<li><a href="#g:1">Performance</a></li>
<li><a href="#g:2">Locale support</a></li>
<li><a href="#g:3">Operations on handles</a></li>
<li><a href="#g:4">Special cases for standard input and output</a></li>
</ul>
</div></div>
<div id="description">
<h4 class="caption">Description</h4>
<p>Efficient locale-sensitive support for lazy text I/O.</p>
<p>Skip past the synopsis for some important notes on performance and portability across different versions of GHC.</p>
</div>
<a href="#g:1" id="g:1"><h2>Performance</h2></a><p>The functions in this module obey the runtime system's locale, character set encoding, and line ending conversion settings.</p>
<p>If you know in advance that you will be working with data that has a specific encoding (e.g. UTF-8), and your application is highly performance sensitive, you may find that it is faster to perform I/O with bytestrings and to encode and decode yourself than to use the functions in this module.</p>
<p>Whether this will hold depends on the version of GHC you are using, the platform you are working on, the data you are working with, and the encodings you are using, so be sure to test for yourself.</p>
<a href="#g:2" id="g:2"><h2>Locale support</h2></a><p><em>Note</em>: The behaviour of functions in this module depends on the version of GHC you are using.</p>
<p>Beginning with GHC 6.12, text I/O is performed using the system or handle's current locale and line ending conventions.</p>
<p>Under GHC 6.10 and earlier, the system I/O libraries /do not support/ locale-sensitive I/O or line ending conversion. On these versions of GHC, functions in this library all use UTF-8. What does this mean in practice?</p>
<ul>
<li>All data that is read will be decoded as UTF-8.</li>
<li>Before data is written, it is first encoded as UTF-8.</li>
<li>On both reading and writing, the platform's native newline conversion is performed.</li>
</ul>
<p>If you must use a non-UTF-8 locale on an older version of GHC, you will have to perform the transcoding yourself, e.g. as follows:</p>
<pre>import qualified Data.ByteString.Lazy as B
import Data.Text.Lazy (Text)
import Data.Text.Lazy.Encoding (encodeUtf16)

putStr_Utf16LE :: Text -&gt; IO ()
putStr_Utf16LE t = B.putStr (encodeUtf16LE t)</pre>
<p class="src"><a id="v:readFile" class="def">readFile</a> :: <a href="../base-4.13.0.0/system-io#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../base-4.13.0.0/system-io#t:IO" title="System.IO">IO</a> <a href="data-text-lazy#t:Text" title="Data.Text.Lazy">Text</a> <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/src/Data-Text-Lazy-IO.html#readFile" class="link">Source</a> </p>
<p>Read a file and return its contents as a string. The file is read lazily, as with <code><a href="data-text-lazy-io#v:getContents" title="Data.Text.Lazy.IO">getContents</a></code>.</p>
<p class="src"><a id="v:writeFile" class="def">writeFile</a> :: <a href="../base-4.13.0.0/system-io#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="data-text-lazy#t:Text" title="Data.Text.Lazy">Text</a> -&gt; <a href="../base-4.13.0.0/system-io#t:IO" title="System.IO">IO</a> () <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/src/Data-Text-Lazy-IO.html#writeFile" class="link">Source</a> </p>
<p>Write a string to a file. The file is truncated to zero length before writing begins.</p>
<p class="src"><a id="v:appendFile" class="def">appendFile</a> :: <a href="../base-4.13.0.0/system-io#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="data-text-lazy#t:Text" title="Data.Text.Lazy">Text</a> -&gt; <a href="../base-4.13.0.0/system-io#t:IO" title="System.IO">IO</a> () <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/src/Data-Text-Lazy-IO.html#appendFile" class="link">Source</a> </p>
<p>Write a string the end of a file.</p>
<a href="#g:3" id="g:3"><h2>Operations on handles</h2></a><p class="src"><a id="v:hGetContents" class="def">hGetContents</a> :: <a href="../base-4.13.0.0/ghc-io-handle#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="../base-4.13.0.0/system-io#t:IO" title="System.IO">IO</a> <a href="data-text-lazy#t:Text" title="Data.Text.Lazy">Text</a> <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/src/Data-Text-Lazy-IO.html#hGetContents" class="link">Source</a> </p>
<p>Lazily read the remaining contents of a <code><a href="../base-4.13.0.0/ghc-io-handle#t:Handle" title="GHC.IO.Handle">Handle</a></code>. The <code><a href="../base-4.13.0.0/ghc-io-handle#t:Handle" title="GHC.IO.Handle">Handle</a></code> will be closed after the read completes, or on error.</p>
<p class="src"><a id="v:hGetLine" class="def">hGetLine</a> :: <a href="../base-4.13.0.0/ghc-io-handle#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="../base-4.13.0.0/system-io#t:IO" title="System.IO">IO</a> <a href="data-text-lazy#t:Text" title="Data.Text.Lazy">Text</a> <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/src/Data-Text-Lazy-IO.html#hGetLine" class="link">Source</a> </p>
<p>Read a single line from a handle.</p>
<p class="src"><a id="v:hPutStr" class="def">hPutStr</a> :: <a href="../base-4.13.0.0/ghc-io-handle#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="data-text-lazy#t:Text" title="Data.Text.Lazy">Text</a> -&gt; <a href="../base-4.13.0.0/system-io#t:IO" title="System.IO">IO</a> () <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/src/Data-Text-Lazy-IO.html#hPutStr" class="link">Source</a> </p>
<p>Write a string to a handle.</p>
<p class="src"><a id="v:hPutStrLn" class="def">hPutStrLn</a> :: <a href="../base-4.13.0.0/ghc-io-handle#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="data-text-lazy#t:Text" title="Data.Text.Lazy">Text</a> -&gt; <a href="../base-4.13.0.0/system-io#t:IO" title="System.IO">IO</a> () <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/src/Data-Text-Lazy-IO.html#hPutStrLn" class="link">Source</a> </p>
<p>Write a string to a handle, followed by a newline.</p>
<a href="#g:4" id="g:4"><h2>Special cases for standard input and output</h2></a><p class="src"><a id="v:interact" class="def">interact</a> :: (<a href="data-text-lazy#t:Text" title="Data.Text.Lazy">Text</a> -&gt; <a href="data-text-lazy#t:Text" title="Data.Text.Lazy">Text</a>) -&gt; <a href="../base-4.13.0.0/system-io#t:IO" title="System.IO">IO</a> () <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/src/Data-Text-Lazy-IO.html#interact" class="link">Source</a> </p>
<p>The <code><a href="data-text-lazy-io#v:interact" title="Data.Text.Lazy.IO">interact</a></code> function takes a function of type <code>Text -&gt; Text</code> as its argument. The entire input from the standard input device is passed (lazily) to this function as its argument, and the resulting string is output on the standard output device.</p>
<p class="src"><a id="v:getContents" class="def">getContents</a> :: <a href="../base-4.13.0.0/system-io#t:IO" title="System.IO">IO</a> <a href="data-text-lazy#t:Text" title="Data.Text.Lazy">Text</a> <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/src/Data-Text-Lazy-IO.html#getContents" class="link">Source</a> </p>
<p>Lazily read all user input on <code><a href="../base-4.13.0.0/ghc-io-handle-fd#v:stdin" title="GHC.IO.Handle.FD">stdin</a></code> as a single string.</p>
<p class="src"><a id="v:getLine" class="def">getLine</a> :: <a href="../base-4.13.0.0/system-io#t:IO" title="System.IO">IO</a> <a href="data-text-lazy#t:Text" title="Data.Text.Lazy">Text</a> <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/src/Data-Text-Lazy-IO.html#getLine" class="link">Source</a> </p>
<p>Read a single line of user input from <code><a href="../base-4.13.0.0/ghc-io-handle-fd#v:stdin" title="GHC.IO.Handle.FD">stdin</a></code>.</p>
<p class="src"><a id="v:putStr" class="def">putStr</a> :: <a href="data-text-lazy#t:Text" title="Data.Text.Lazy">Text</a> -&gt; <a href="../base-4.13.0.0/system-io#t:IO" title="System.IO">IO</a> () <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/src/Data-Text-Lazy-IO.html#putStr" class="link">Source</a> </p>
<p>Write a string to <code><a href="../base-4.13.0.0/ghc-io-handle-fd#v:stdout" title="GHC.IO.Handle.FD">stdout</a></code>.</p>
<p class="src"><a id="v:putStrLn" class="def">putStrLn</a> :: <a href="data-text-lazy#t:Text" title="Data.Text.Lazy">Text</a> -&gt; <a href="../base-4.13.0.0/system-io#t:IO" title="System.IO">IO</a> () <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/src/Data-Text-Lazy-IO.html#putStrLn" class="link">Source</a> </p>
<p>Write a string to <code><a href="../base-4.13.0.0/ghc-io-handle-fd#v:stdout" title="GHC.IO.Handle.FD">stdout</a></code>, followed by a newline.</p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    © The University of Glasgow and others<br>Licensed under a BSD-style license (see top of the page).<br>
    <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/Data-Text-Lazy-IO.html" class="_attribution-link">https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/Data-Text-Lazy-IO.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
