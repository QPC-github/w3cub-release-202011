
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Data.Text.Unsafe - Haskell 8 - W3cubDocs</title>
  
  <meta name="description" content=" A module containing unsafe Text operations, for very very careful use in heavily tested code. ">
  <meta name="keywords" content="data, text, unsafe, haskell, haskell~8">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/haskell~8/libraries/text-1.2.4.0/data-text-unsafe.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/haskell~8.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/haskell~8/" class="_nav-link" title="" style="margin-left:0;">Haskell 8</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _haskell">
				
				
<h1 class="caption">Data.Text.Unsafe</h1>
<div class="_haskell-api">
<table class="info">
<tr>
<th valign="top">Copyright</th>
<td>(c) 2009 2010 2011 Bryan O'Sullivan</td>
</tr>
<tr>
<th>License</th>
<td>BSD-style</td>
</tr>
<tr>
<th>Maintainer</th>
<td>bos@serpentine.com</td>
</tr>
<tr>
<th>Portability</th>
<td>portable</td>
</tr>
<tr>
<th>Safe Haskell</th>
<td>None</td>
</tr>
<tr>
<th>Language</th>
<td>Haskell2010</td>
</tr>
</table>
<div id="description">
<h4 class="caption">Description</h4>
<p>A module containing unsafe <code><a href="data-text#t:Text" title="Data.Text">Text</a></code> operations, for very very careful use in heavily tested code.</p>
</div>
<p class="src"><a id="v:inlineInterleaveST" class="def">inlineInterleaveST</a> :: <a href="../base-4.13.0.0/control-monad-st-safe#t:ST" title="Control.Monad.ST.Safe">ST</a> s a -&gt; <a href="../base-4.13.0.0/control-monad-st-safe#t:ST" title="Control.Monad.ST.Safe">ST</a> s a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/src/Data-Text-Internal-Unsafe.html#inlineInterleaveST" class="link">Source</a> </p>
<p>Allow an <code><a href="../base-4.13.0.0/control-monad-st-safe#t:ST" title="Control.Monad.ST.Safe">ST</a></code> computation to be deferred lazily. When passed an action of type <code><a href="../base-4.13.0.0/control-monad-st-safe#t:ST" title="Control.Monad.ST.Safe">ST</a></code> <code>s</code> <code>a</code>, the action will only be performed when the value of <code>a</code> is demanded.</p>
<p>This function is identical to the normal unsafeInterleaveST, but is inlined and hence faster.</p>
<p><em>Note</em>: This operation is highly unsafe, as it can introduce externally visible non-determinism into an <code><a href="../base-4.13.0.0/control-monad-st-safe#t:ST" title="Control.Monad.ST.Safe">ST</a></code> action.</p>
<p class="src"><a id="v:inlinePerformIO" class="def">inlinePerformIO</a> :: <a href="../base-4.13.0.0/system-io#t:IO" title="System.IO">IO</a> a -&gt; a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/src/Data-Text-Internal-Unsafe.html#inlinePerformIO" class="link">Source</a> </p>
<p>Just like unsafePerformIO, but we inline it. Big performance gains as it exposes lots of things to further inlining. <em>Very unsafe</em>. In particular, you should do no memory allocation inside an <code><a href="data-text-unsafe#v:inlinePerformIO" title="Data.Text.Unsafe">inlinePerformIO</a></code> block. On Hugs this is just <code>unsafePerformIO</code>.</p>
<p class="src"><a id="v:unsafeDupablePerformIO" class="def">unsafeDupablePerformIO</a> :: <a href="../base-4.13.0.0/system-io#t:IO" title="System.IO">IO</a> a -&gt; a <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/base-4.13.0.0/src/GHC-IO-Unsafe.html#unsafeDupablePerformIO" class="link">Source</a> </p>
<p>This version of <code><a href="../base-4.13.0.0/system-io-unsafe#v:unsafePerformIO" title="System.IO.Unsafe">unsafePerformIO</a></code> is more efficient because it omits the check that the IO is only being performed by a single thread. Hence, when you use <code><a href="data-text-unsafe#v:unsafeDupablePerformIO" title="Data.Text.Unsafe">unsafeDupablePerformIO</a></code>, there is a possibility that the IO action may be performed multiple times (on a multiprocessor), and you should therefore ensure that it gives the same results each time. It may even happen that one of the duplicated IO actions is only run partially, and then interrupted in the middle without an exception being raised. Therefore, functions like <code><a href="../base-4.13.0.0/control-exception#v:bracket" title="Control.Exception">bracket</a></code> cannot be used safely within <code><a href="data-text-unsafe#v:unsafeDupablePerformIO" title="Data.Text.Unsafe">unsafeDupablePerformIO</a></code>.</p>
<p><span class="version">Since: base-4.4.0.0</span></p>
<p class="src">data <a id="t:Iter" class="def">Iter</a> <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/src/Data-Text-Unsafe.html#Iter" class="link">Source</a> </p>
<div class="subs constructors">
<h4 class="caption">Constructors</h4>
<table><tr>
<td class="src">
<a id="v:Iter" class="def">Iter</a> !<a href="../base-4.13.0.0/data-char#t:Char" title="Data.Char">Char</a> !<a href="../base-4.13.0.0/data-int#t:Int" title="Data.Int">Int</a>
</td>
<td class="doc empty"> </td>
</tr></table>
</div>
<p class="src"><a id="v:iter" class="def">iter</a> :: <a href="data-text#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.13.0.0/data-int#t:Int" title="Data.Int">Int</a> -&gt; <a href="data-text-unsafe#t:Iter" title="Data.Text.Unsafe">Iter</a> <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/src/Data-Text-Unsafe.html#iter" class="link">Source</a> </p>
<p><span class="complexity">O(1)</span> Iterate (unsafely) one step forwards through a UTF-16 array, returning the current character and the delta to add to give the next offset to iterate at.</p>
<p class="src"><a id="v:iter_" class="def">iter_</a> :: <a href="data-text#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.13.0.0/data-int#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.13.0.0/data-int#t:Int" title="Data.Int">Int</a> <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/src/Data-Text-Unsafe.html#iter_" class="link">Source</a> </p>
<p><span class="complexity">O(1)</span> Iterate one step through a UTF-16 array, returning the delta to add to give the next offset to iterate at.</p>
<p class="src"><a id="v:reverseIter" class="def">reverseIter</a> :: <a href="data-text#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.13.0.0/data-int#t:Int" title="Data.Int">Int</a> -&gt; (<a href="../base-4.13.0.0/data-char#t:Char" title="Data.Char">Char</a>, <a href="../base-4.13.0.0/data-int#t:Int" title="Data.Int">Int</a>) <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/src/Data-Text-Unsafe.html#reverseIter" class="link">Source</a> </p>
<p><span class="complexity">O(1)</span> Iterate one step backwards through a UTF-16 array, returning the current character and the delta to add (i.e. a negative number) to give the next offset to iterate at.</p>
<p class="src"><a id="v:reverseIter_" class="def">reverseIter_</a> :: <a href="data-text#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.13.0.0/data-int#t:Int" title="Data.Int">Int</a> -&gt; <a href="../base-4.13.0.0/data-int#t:Int" title="Data.Int">Int</a> <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/src/Data-Text-Unsafe.html#reverseIter_" class="link">Source</a> </p>
<p><span class="complexity">O(1)</span> Iterate one step backwards through a UTF-16 array, returning the delta to add (i.e. a negative number) to give the next offset to iterate at.</p>
<p><span class="version">Since: text-1.1.1.0</span></p>
<p class="src"><a id="v:unsafeHead" class="def">unsafeHead</a> :: <a href="data-text#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.13.0.0/data-char#t:Char" title="Data.Char">Char</a> <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/src/Data-Text-Unsafe.html#unsafeHead" class="link">Source</a> </p>
<p><span class="complexity">O(1)</span> A variant of <code><a href="../base-4.13.0.0/ghc-list#v:head" title="GHC.List">head</a></code> for non-empty <code><a href="data-text#t:Text" title="Data.Text">Text</a></code>. <code><a href="data-text-unsafe#v:unsafeHead" title="Data.Text.Unsafe">unsafeHead</a></code> omits the check for the empty case, so there is an obligation on the programmer to provide a proof that the <code><a href="data-text#t:Text" title="Data.Text">Text</a></code> is non-empty.</p>
<p class="src"><a id="v:unsafeTail" class="def">unsafeTail</a> :: <a href="data-text#t:Text" title="Data.Text">Text</a> -&gt; <a href="data-text#t:Text" title="Data.Text">Text</a> <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/src/Data-Text-Unsafe.html#unsafeTail" class="link">Source</a> </p>
<p><span class="complexity">O(1)</span> A variant of <code><a href="../base-4.13.0.0/ghc-list#v:tail" title="GHC.List">tail</a></code> for non-empty <code><a href="data-text#t:Text" title="Data.Text">Text</a></code>. <code><a href="data-text-unsafe#v:unsafeTail" title="Data.Text.Unsafe">unsafeTail</a></code> omits the check for the empty case, so there is an obligation on the programmer to provide a proof that the <code><a href="data-text#t:Text" title="Data.Text">Text</a></code> is non-empty.</p>
<p class="src"><a id="v:lengthWord16" class="def">lengthWord16</a> :: <a href="data-text#t:Text" title="Data.Text">Text</a> -&gt; <a href="../base-4.13.0.0/data-int#t:Int" title="Data.Int">Int</a> <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/src/Data-Text-Unsafe.html#lengthWord16" class="link">Source</a> </p>
<p><span class="complexity">O(1)</span> Return the length of a <code><a href="data-text#t:Text" title="Data.Text">Text</a></code> in units of <code>Word16</code>. This is useful for sizing a target array appropriately before using <code>unsafeCopyToPtr</code>.</p>
<p class="src"><a id="v:takeWord16" class="def">takeWord16</a> :: <a href="../base-4.13.0.0/data-int#t:Int" title="Data.Int">Int</a> -&gt; <a href="data-text#t:Text" title="Data.Text">Text</a> -&gt; <a href="data-text#t:Text" title="Data.Text">Text</a> <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/src/Data-Text-Unsafe.html#takeWord16" class="link">Source</a> </p>
<p><span class="complexity">O(1)</span> Unchecked take of <code>k</code> <code>Word16</code>s from the front of a <code><a href="data-text#t:Text" title="Data.Text">Text</a></code>.</p>
<p class="src"><a id="v:dropWord16" class="def">dropWord16</a> :: <a href="../base-4.13.0.0/data-int#t:Int" title="Data.Int">Int</a> -&gt; <a href="data-text#t:Text" title="Data.Text">Text</a> -&gt; <a href="data-text#t:Text" title="Data.Text">Text</a> <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/src/Data-Text-Unsafe.html#dropWord16" class="link">Source</a> </p>
<p><span class="complexity">O(1)</span> Unchecked drop of <code>k</code> <code>Word16</code>s from the front of a <code><a href="data-text#t:Text" title="Data.Text">Text</a></code>.</p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    © The University of Glasgow and others<br>Licensed under a BSD-style license (see top of the page).<br>
    <a href="https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/Data-Text-Unsafe.html" class="_attribution-link">https://downloads.haskell.org/~ghc/8.8.3/docs/html/libraries/text-1.2.4.0/Data-Text-Unsafe.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
