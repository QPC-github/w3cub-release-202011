
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>contrib.eager.CheckpointableSaver - TensorFlow Python - W3cubDocs</title>
  
  <meta name="description" content=" Defined in tensorflow&#47;contrib&#47;eager&#47;python&#47;checkpointable_utils.py. ">
  <meta name="keywords" content="tf, contrib, eager, checkpointablesaver, tensorflow, python, tensorflow~python">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/tensorflow~python/tf/contrib/eager/checkpointablesaver.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/tensorflow~python.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/tensorflow~python/" class="_nav-link" title="" style="margin-left:0;">TensorFlow Python</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _tensorflow">
				
				
<h1 itemprop="name" class="devsite-page-title"> tf.contrib.eager.CheckpointableSaver </h1>     <div itemscope itemtype="http://developers.google.com/ReferenceObject"> <meta itemprop="name" content="tf.contrib.eager.CheckpointableSaver"> <meta itemprop="path" content="r1.8"> <meta itemprop="property" content="__init__"> <meta itemprop="property" content="restore"> <meta itemprop="property" content="save"> </div> <h2 id="class_checkpointablesaver">Class <code>CheckpointableSaver</code>
</h2> <p>Defined in <a href="https://www.github.com/tensorflow/tensorflow/blob/r1.8/tensorflow/contrib/eager/python/checkpointable_utils.py"><code>tensorflow/contrib/eager/python/checkpointable_utils.py</code></a>.</p> <p>Saves and restores a <code>Checkpointable</code> object and its dependencies.</p> <p>See <code>Checkpointable</code> for details of dependency management. <code>Saver</code> wraps <a href="../../train/saver"><code>tf.train.Saver</code></a> for saving, including extra information about the graph of dependencies between Python objects. When restoring, it uses this information about the save-time dependency graph to more robustly match objects with their checkpointed values. When executing eagerly, it supports restoring variables on object creation (see <code>Saver.restore</code>).</p> <p>Values in a checkpoint are mapped to <code>Checkpointable</code> Python objects (<code>Variable</code>s, <code>Optimizer</code>s, <code>Layer</code>s) based on the names provided when the checkpoint was written. To avoid breaking existing checkpoints when modifying a class, dependency names (the names of attributes to which <code>Checkpointable</code> objects are assigned) may not change. These names are local to objects, in contrast to the <code>Variable.name</code>-based save/restore from <a href="../../train/saver"><code>tf.train.Saver</code></a>, and so allow additional program transformations.</p> <h2 id="methods">Methods</h2> <h3 id="__init__"><code>__init__</code></h3> <pre class="prettyprint lang-python" data-language="python">__init__(root_checkpointable)
</pre> <p>Configure saving.</p> <h4 id="args">Args:</h4> <ul> <li>
<b><code>root_checkpointable</code></b>: The root of the object graph to save/restore. This object and all of its dependencies are saved in the checkpoint. When restoring, objects are matched and restored starting from this root.</li> </ul> <h3 id="restore"><code>restore</code></h3> <pre class="prettyprint lang-python" data-language="python">restore(save_path)
</pre> <p>Restore a training checkpoint.</p> <p>Restores <code>root_checkpointable</code> and any objects that it tracks (transitive). Either assigns values immediately if variables to restore have been created already, or defers restoration until the variables are created. Dependencies added to the <code>root_checkpointable</code> passed to the constructor after this call will be matched if they have a corresponding object in the checkpoint.</p> <p>When building a graph, restorations are added to the graph but not run.</p> <p>To disallow deferred loading, assert immediately that all checkpointed variables have been matched to variable objects:</p> <pre class="prettyprint lang-python" data-language="python">saver = Saver(root)
saver.restore(path).assert_consumed()
</pre> <p>An exception will be raised unless every object was matched and its variables already exist.</p> <p>When graph building, <code>assert_consumed()</code> indicates that all of the restore ops which will be created for this checkpoint have been created. They can be run via the <code>run_restore_ops()</code> function of the status object:</p> <pre class="prettyprint lang-python" data-language="python">saver.restore(path).assert_consumed().run_restore_ops()
</pre> <p>If the checkpoint has not been consumed completely, then the list of restore ops will grow as more objects are added to the dependency graph.</p> <p>Name-based <a href="../../train/saver"><code>tf.train.Saver</code></a> checkpoints can be loaded using this method. There is no deferred loading, and names are used to match variables. No restore ops are created/run until <code>run_restore_ops()</code> or <code>initialize_or_restore()</code> are called on the returned status object, even when executing eagerly. Re-encode name-based checkpoints using this object-based <code>Saver.save</code> as soon as possible.</p> <h4 id="args_1">Args:</h4> <ul> <li>
<b><code>save_path</code></b>: The path to the checkpoint, as returned by <code>save</code> or <a href="../../train/latest_checkpoint"><code>tf.train.latest_checkpoint</code></a>. If None (as when there is no latest checkpoint for <a href="../../train/latest_checkpoint"><code>tf.train.latest_checkpoint</code></a> to return), returns an object which may run initializers for objects in the dependency graph. If the checkpoint was written by the name-based <a href="../../train/saver"><code>tf.train.Saver</code></a>, names are used to match variables.</li> </ul> <h4 id="returns">Returns:</h4> <p>A load status object, which can be used to make assertions about the status of checkpoint restoration and run initialization/restore ops (of type <code>CheckpointLoadStatus</code>, or <code>InitializationOnlyStatus</code> if <code>save_path</code> is <code>None</code>).</p> <p>If <code>save_path</code> points to a name-based checkpoint, a <code>NameBasedSaverStatus</code> object is returned which runs restore ops from a name-based saver.</p> <h3 id="save"><code>save</code></h3> <pre class="prettyprint lang-python" data-language="python">save(
    file_prefix,
    checkpoint_number=None,
    session=None
)
</pre> <p>Save a training checkpoint.</p> <p>The saved checkpoint includes variables created by this object and any Checkpointable objects it depends on at the time <code>Saver.save()</code> is called.</p> <h4 id="args_2">Args:</h4> <ul> <li>
<b><code>file_prefix</code></b>: A prefix to use for the checkpoint filenames (/path/to/directory/and_a_prefix). Names are generated based on this prefix and <code>checkpoint_number</code>, if provided.</li> <li>
<b><code>checkpoint_number</code></b>: An integer variable or Tensor, used to number checkpoints. Typically this value is saved along with other variables in training checkpoints, which will happen automatically if it was created by <code>root_checkpointable</code> or one of its dependencies (via <code>Checkpointable._add_variable</code>).</li> <li>
<b><code>session</code></b>: The session to evaluate variables in. Ignored when executing eagerly. If not provided when graph building, the default session is used.</li> </ul> <h4 id="returns_1">Returns:</h4> <p>The full path to the checkpoint.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2018 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 3.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/eager/CheckpointableSaver" class="_attribution-link">https://www.tensorflow.org/api_docs/python/tf/contrib/eager/CheckpointableSaver</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
