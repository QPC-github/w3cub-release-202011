
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>contrib.tpu.RunConfig - TensorFlow Python - W3cubDocs</title>
  
  <meta name="description" content=" Inherits From&#58; RunConfig ">
  <meta name="keywords" content="tf, contrib, tpu, runconfig, tensorflow, python, tensorflow~python">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/tensorflow~python/tf/contrib/tpu/runconfig.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/tensorflow~python.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/tensorflow~python/" class="_nav-link" title="" style="margin-left:0;">TensorFlow Python</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _tensorflow">
				
				
<h1 itemprop="name" class="devsite-page-title"> tf.contrib.tpu.RunConfig </h1>     <div itemscope itemtype="http://developers.google.com/ReferenceObject"> <meta itemprop="name" content="tf.contrib.tpu.RunConfig"> <meta itemprop="path" content="r1.8"> <meta itemprop="property" content="cluster"> <meta itemprop="property" content="cluster_spec"> <meta itemprop="property" content="evaluation_master"> <meta itemprop="property" content="global_id_in_cluster"> <meta itemprop="property" content="is_chief"> <meta itemprop="property" content="keep_checkpoint_every_n_hours"> <meta itemprop="property" content="keep_checkpoint_max"> <meta itemprop="property" content="log_step_count_steps"> <meta itemprop="property" content="master"> <meta itemprop="property" content="model_dir"> <meta itemprop="property" content="num_ps_replicas"> <meta itemprop="property" content="num_worker_replicas"> <meta itemprop="property" content="save_checkpoints_secs"> <meta itemprop="property" content="save_checkpoints_steps"> <meta itemprop="property" content="save_summary_steps"> <meta itemprop="property" content="service"> <meta itemprop="property" content="session_config"> <meta itemprop="property" content="task_id"> <meta itemprop="property" content="task_type"> <meta itemprop="property" content="tf_random_seed"> <meta itemprop="property" content="tpu_config"> <meta itemprop="property" content="train_distribute"> <meta itemprop="property" content="__init__"> <meta itemprop="property" content="replace"> </div> <h2 id="class_runconfig">Class <code>RunConfig</code>
</h2> <p>Inherits From: <a href="../../estimator/runconfig"><code>RunConfig</code></a></p> <p>Defined in <a href="https://www.github.com/tensorflow/tensorflow/blob/r1.8/tensorflow/contrib/tpu/python/tpu/tpu_config.py"><code>tensorflow/contrib/tpu/python/tpu/tpu_config.py</code></a>.</p> <p>RunConfig with TPU support.</p> <h2 id="properties">Properties</h2> <h3 id="cluster"><code>cluster</code></h3> <h3 id="cluster_spec"><code>cluster_spec</code></h3> <h3 id="evaluation_master"><code>evaluation_master</code></h3> <h3 id="global_id_in_cluster"><code>global_id_in_cluster</code></h3> <p>The global id in the training cluster.</p> <p>All global ids in the training cluster are assigned from an increasing sequence of consecutive integers. The first id is 0.</p> <blockquote class="note">
<strong>Note:</strong><span> Task id (the property field <code>task_id</code>) is tracking the index of the node among all nodes with the SAME task type. For example, given the cluster definition as follows:</span>
</blockquote> <pre class="prettyprint" data-language="python">cluster = {'chief': ['host0:2222'],
           'ps': ['host1:2222', 'host2:2222'],
           'worker': ['host3:2222', 'host4:2222', 'host5:2222']}
</pre> <p>Nodes with task type <code>worker</code> can have id 0, 1, 2. Nodes with task type <code>ps</code> can have id, 0, 1. So, <code>task_id</code> is not unique, but the pair (<code>task_type</code>, <code>task_id</code>) can uniquely determine a node in the cluster.</p> <p>Global id, i.e., this field, is tracking the index of the node among ALL nodes in the cluster. It is uniquely assigned. For example, for the cluster spec given above, the global ids are assigned as:</p> <pre class="prettyprint" data-language="python">task_type  | task_id  |  global_id
--------------------------------
chief      | 0        |  0
worker     | 0        |  1
worker     | 1        |  2
worker     | 2        |  3
ps         | 0        |  4
ps         | 1        |  5
</pre> <h4 id="returns">Returns:</h4> <p>An integer id.</p> <h3 id="is_chief"><code>is_chief</code></h3> <h3 id="keep_checkpoint_every_n_hours"><code>keep_checkpoint_every_n_hours</code></h3> <h3 id="keep_checkpoint_max"><code>keep_checkpoint_max</code></h3> <h3 id="log_step_count_steps"><code>log_step_count_steps</code></h3> <h3 id="master"><code>master</code></h3> <h3 id="model_dir"><code>model_dir</code></h3> <h3 id="num_ps_replicas"><code>num_ps_replicas</code></h3> <h3 id="num_worker_replicas"><code>num_worker_replicas</code></h3> <h3 id="save_checkpoints_secs"><code>save_checkpoints_secs</code></h3> <h3 id="save_checkpoints_steps"><code>save_checkpoints_steps</code></h3> <h3 id="save_summary_steps"><code>save_summary_steps</code></h3> <h3 id="service"><code>service</code></h3> <p>Returns the platform defined (in TF_CONFIG) service dict.</p> <h3 id="session_config"><code>session_config</code></h3> <h3 id="task_id"><code>task_id</code></h3> <h3 id="task_type"><code>task_type</code></h3> <h3 id="tf_random_seed"><code>tf_random_seed</code></h3> <h3 id="tpu_config"><code>tpu_config</code></h3> <h3 id="train_distribute"><code>train_distribute</code></h3> <p>Returns the optional <a href="../distribute/distributionstrategy"><code>tf.contrib.distribute.DistributionStrategy</code></a> object.</p> <h2 id="methods">Methods</h2> <h3 id="__init__"><code>__init__</code></h3> <pre class="prettyprint lang-python" data-language="python">__init__(
    tpu_config=None,
    evaluation_master=None,
    master=None,
    cluster=None,
    **kwargs
)
</pre> <p>Constructs a RunConfig.</p> <h4 id="args">Args:</h4> <ul> <li>
<b><code>tpu_config</code></b>: the TPUConfig that specifies TPU-specific configuration.</li> <li>
<b><code>evaluation_master</code></b>: a string. The address of the master to use for eval. Defaults to master if not set.</li> <li>
<b><code>master</code></b>: a string. The address of the master to use for training.</li> <li>
<b><code>cluster</code></b>: a ClusterResolver</li> <li>
<b><code>**kwargs</code></b>: keyword config parameters.</li> </ul> <h4 id="raises">Raises:</h4> <ul> <li>
<b><code>ValueError</code></b>: if cluster is not None and the provided session_config has a cluster_def already.</li> </ul> <h3 id="replace"><code>replace</code></h3> <pre class="prettyprint lang-python" data-language="python">replace(**kwargs)
</pre> <p>Returns a new instance of <code>RunConfig</code> replacing specified properties.</p> <p>Only the properties in the following list are allowed to be replaced:</p> <ul> <li>
<code>model_dir</code>,</li> <li>
<code>tf_random_seed</code>,</li> <li>
<code>save_summary_steps</code>,</li> <li>
<code>save_checkpoints_steps</code>,</li> <li>
<code>save_checkpoints_secs</code>,</li> <li>
<code>session_config</code>,</li> <li>
<code>keep_checkpoint_max</code>,</li> <li>
<code>keep_checkpoint_every_n_hours</code>,</li> <li>
<code>log_step_count_steps</code>,</li> <li>
<code>train_distribute</code>.</li> </ul> <p>In addition, either <code>save_checkpoints_steps</code> or <code>save_checkpoints_secs</code> can be set (should not be both).</p> <h4 id="args_1">Args:</h4> <ul> <li>
<b><code>**kwargs</code></b>: keyword named properties with new values.</li> </ul> <h4 id="raises_1">Raises:</h4> <ul> <li>
<b><code>ValueError</code></b>: If any property name in <code>kwargs</code> does not exist or is not allowed to be replaced, or both <code>save_checkpoints_steps</code> and <code>save_checkpoints_secs</code> are set.</li> </ul> <h4 id="returns_1">Returns:</h4> <p>a new instance of <code>RunConfig</code>.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2018 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 3.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/tpu/RunConfig" class="_attribution-link">https://www.tensorflow.org/api_docs/python/tf/contrib/tpu/RunConfig</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
