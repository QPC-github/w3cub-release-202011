
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>contrib.learn.RunConfig - TensorFlow Python - W3cubDocs</title>
  
  <meta name="description" content=" Inherits From&#58; RunConfig ">
  <meta name="keywords" content="tf, contrib, learn, runconfig, tensorflow, python, tensorflow~python">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/tensorflow~python/tf/contrib/learn/runconfig.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/tensorflow~python.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/tensorflow~python/" class="_nav-link" title="" style="margin-left:0;">TensorFlow Python</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _tensorflow">
				
				
<h1 itemprop="name" class="devsite-page-title"> tf.contrib.learn.RunConfig </h1>     <div itemscope itemtype="http://developers.google.com/ReferenceObject"> <meta itemprop="name" content="tf.contrib.learn.RunConfig"> <meta itemprop="path" content="r1.8"> <meta itemprop="property" content="cluster_spec"> <meta itemprop="property" content="environment"> <meta itemprop="property" content="evaluation_master"> <meta itemprop="property" content="global_id_in_cluster"> <meta itemprop="property" content="is_chief"> <meta itemprop="property" content="keep_checkpoint_every_n_hours"> <meta itemprop="property" content="keep_checkpoint_max"> <meta itemprop="property" content="log_step_count_steps"> <meta itemprop="property" content="master"> <meta itemprop="property" content="model_dir"> <meta itemprop="property" content="num_ps_replicas"> <meta itemprop="property" content="num_worker_replicas"> <meta itemprop="property" content="save_checkpoints_secs"> <meta itemprop="property" content="save_checkpoints_steps"> <meta itemprop="property" content="save_summary_steps"> <meta itemprop="property" content="service"> <meta itemprop="property" content="session_config"> <meta itemprop="property" content="task_id"> <meta itemprop="property" content="task_type"> <meta itemprop="property" content="tf_config"> <meta itemprop="property" content="tf_random_seed"> <meta itemprop="property" content="train_distribute"> <meta itemprop="property" content="__init__"> <meta itemprop="property" content="get_task_id"> <meta itemprop="property" content="replace"> <meta itemprop="property" content="uid"> </div> <h2 id="class_runconfig">Class <code>RunConfig</code>
</h2> <p>Inherits From: <a href="../../estimator/runconfig"><code>RunConfig</code></a></p> <p>Defined in <a href="https://www.github.com/tensorflow/tensorflow/blob/r1.8/tensorflow/contrib/learn/python/learn/estimators/run_config.py"><code>tensorflow/contrib/learn/python/learn/estimators/run_config.py</code></a>.</p> <p>See the guide: <a href="https://www.tensorflow.org/api_guides/python/contrib.learn#Graph_actions">Learn (contrib) &gt; Graph actions</a></p> <p>This class specifies the configurations for an <code>Estimator</code> run.</p> <p>This class is a deprecated implementation of <a href="../../estimator/runconfig"><code>tf.estimator.RunConfig</code></a> interface.</p> <h2 id="properties">Properties</h2> <h3 id="cluster_spec"><code>cluster_spec</code></h3> <h3 id="environment"><code>environment</code></h3> <h3 id="evaluation_master"><code>evaluation_master</code></h3> <h3 id="global_id_in_cluster"><code>global_id_in_cluster</code></h3> <p>The global id in the training cluster.</p> <p>All global ids in the training cluster are assigned from an increasing sequence of consecutive integers. The first id is 0.</p> <blockquote class="note">
<strong>Note:</strong><span> Task id (the property field <code>task_id</code>) is tracking the index of the node among all nodes with the SAME task type. For example, given the cluster definition as follows:</span>
</blockquote> <pre class="prettyprint" data-language="python">cluster = {'chief': ['host0:2222'],
           'ps': ['host1:2222', 'host2:2222'],
           'worker': ['host3:2222', 'host4:2222', 'host5:2222']}
</pre> <p>Nodes with task type <code>worker</code> can have id 0, 1, 2. Nodes with task type <code>ps</code> can have id, 0, 1. So, <code>task_id</code> is not unique, but the pair (<code>task_type</code>, <code>task_id</code>) can uniquely determine a node in the cluster.</p> <p>Global id, i.e., this field, is tracking the index of the node among ALL nodes in the cluster. It is uniquely assigned. For example, for the cluster spec given above, the global ids are assigned as:</p> <pre class="prettyprint" data-language="python">task_type  | task_id  |  global_id
--------------------------------
chief      | 0        |  0
worker     | 0        |  1
worker     | 1        |  2
worker     | 2        |  3
ps         | 0        |  4
ps         | 1        |  5
</pre> <h4 id="returns">Returns:</h4> <p>An integer id.</p> <h3 id="is_chief"><code>is_chief</code></h3> <h3 id="keep_checkpoint_every_n_hours"><code>keep_checkpoint_every_n_hours</code></h3> <h3 id="keep_checkpoint_max"><code>keep_checkpoint_max</code></h3> <h3 id="log_step_count_steps"><code>log_step_count_steps</code></h3> <h3 id="master"><code>master</code></h3> <h3 id="model_dir"><code>model_dir</code></h3> <h3 id="num_ps_replicas"><code>num_ps_replicas</code></h3> <h3 id="num_worker_replicas"><code>num_worker_replicas</code></h3> <h3 id="save_checkpoints_secs"><code>save_checkpoints_secs</code></h3> <h3 id="save_checkpoints_steps"><code>save_checkpoints_steps</code></h3> <h3 id="save_summary_steps"><code>save_summary_steps</code></h3> <h3 id="service"><code>service</code></h3> <p>Returns the platform defined (in TF_CONFIG) service dict.</p> <h3 id="session_config"><code>session_config</code></h3> <h3 id="task_id"><code>task_id</code></h3> <h3 id="task_type"><code>task_type</code></h3> <h3 id="tf_config"><code>tf_config</code></h3> <h3 id="tf_random_seed"><code>tf_random_seed</code></h3> <h3 id="train_distribute"><code>train_distribute</code></h3> <p>Returns the optional <a href="../distribute/distributionstrategy"><code>tf.contrib.distribute.DistributionStrategy</code></a> object.</p> <h2 id="methods">Methods</h2> <h3 id="__init__"><code>__init__</code></h3> <pre class="prettyprint lang-python" data-language="python">__init__(
    master=None,
    num_cores=0,
    log_device_placement=False,
    gpu_memory_fraction=1,
    tf_random_seed=None,
    save_summary_steps=100,
    save_checkpoints_secs=_USE_DEFAULT,
    save_checkpoints_steps=None,
    keep_checkpoint_max=5,
    keep_checkpoint_every_n_hours=10000,
    log_step_count_steps=100,
    evaluation_master='',
    model_dir=None,
    session_config=None
)
</pre> <p>Constructor. (deprecated)</p> <p>THIS FUNCTION IS DEPRECATED. It will be removed in a future version. Instructions for updating: When switching to tf.estimator.Estimator, use tf.estimator.RunConfig instead.</p> <p>The superclass <code>ClusterConfig</code> may set properties like <code>cluster_spec</code>, <code>is_chief</code>, <code>master</code> (if <code>None</code> in the args), <code>num_ps_replicas</code>, <code>task_id</code>, and <code>task_type</code> based on the <code>TF_CONFIG</code> environment variable. See <code>ClusterConfig</code> for more details.</p> <p>N.B.: If <code>save_checkpoints_steps</code> or <code>save_checkpoints_secs</code> is set, <code>keep_checkpoint_max</code> might need to be adjusted accordingly, especially in distributed training. For example, setting <code>save_checkpoints_secs</code> as 60 without adjusting <code>keep_checkpoint_max</code> (defaults to 5) leads to situation that checkpoint would be garbage collected after 5 minutes. In distributed training, the evaluation job starts asynchronously and might fail to load or find the checkpoint due to race condition.</p> <h4 id="args">Args:</h4> <ul> <li>
<b><code>master</code></b>: TensorFlow master. Defaults to empty string for local.</li> <li>
<b><code>num_cores</code></b>: Number of cores to be used. If 0, the system picks an appropriate number (default: 0).</li> <li>
<b><code>log_device_placement</code></b>: Log the op placement to devices (default: False).</li> <li>
<b><code>gpu_memory_fraction</code></b>: Fraction of GPU memory used by the process on each GPU uniformly on the same machine.</li> <li>
<b><code>tf_random_seed</code></b>: Random seed for TensorFlow initializers. Setting this value allows consistency between reruns.</li> <li>
<b><code>save_summary_steps</code></b>: Save summaries every this many steps.</li> <li>
<b><code>save_checkpoints_secs</code></b>: Save checkpoints every this many seconds. Can not be specified with <code>save_checkpoints_steps</code>.</li> <li>
<b><code>save_checkpoints_steps</code></b>: Save checkpoints every this many steps. Can not be specified with <code>save_checkpoints_secs</code>.</li> <li>
<b><code>keep_checkpoint_max</code></b>: The maximum number of recent checkpoint files to keep. As new files are created, older files are deleted. If None or 0, all checkpoint files are kept. Defaults to 5 (that is, the 5 most recent checkpoint files are kept.)</li> <li>
<b><code>keep_checkpoint_every_n_hours</code></b>: Number of hours between each checkpoint to be saved. The default value of 10,000 hours effectively disables the feature.</li> <li>
<b><code>log_step_count_steps</code></b>: The frequency, in number of global steps, that the global step/sec will be logged during training.</li> <li>
<b><code>evaluation_master</code></b>: the master on which to perform evaluation.</li> <li>
<b><code>model_dir</code></b>: directory where model parameters, graph etc are saved. If <code>None</code>, will use <code>model_dir</code> property in <code>TF_CONFIG</code> environment variable. If both are set, must have same value. If both are <code>None</code>, see <code>Estimator</code> about where the model will be saved.</li> <li>
<b><code>session_config</code></b>: a ConfigProto used to set session parameters, or None. Note - using this argument, it is easy to provide settings which break otherwise perfectly good models. Use with care.</li> </ul> <h3 id="get_task_id"><code>get_task_id</code></h3> <pre class="prettyprint lang-python" data-language="python">get_task_id()
</pre> <p>Returns task index from <code>TF_CONFIG</code> environmental variable.</p> <p>If you have a ClusterConfig instance, you can just access its task_id property instead of calling this function and re-parsing the environmental variable.</p> <h4 id="returns_1">Returns:</h4> <p><code>TF_CONFIG['task']['index']</code>. Defaults to 0.</p> <h3 id="replace"><code>replace</code></h3> <pre class="prettyprint lang-python" data-language="python">replace(**kwargs)
</pre> <p>Returns a new instance of <code>RunConfig</code> replacing specified properties.</p> <p>Only the properties in the following list are allowed to be replaced:</p> <ul> <li>
<code>model_dir</code>,</li> <li>
<code>tf_random_seed</code>,</li> <li>
<code>save_summary_steps</code>,</li> <li>
<code>save_checkpoints_steps</code>,</li> <li>
<code>save_checkpoints_secs</code>,</li> <li>
<code>session_config</code>,</li> <li>
<code>keep_checkpoint_max</code>,</li> <li>
<code>keep_checkpoint_every_n_hours</code>,</li> <li>
<code>log_step_count_steps</code>,</li> <li>
<code>train_distribute</code>.</li> </ul> <p>In addition, either <code>save_checkpoints_steps</code> or <code>save_checkpoints_secs</code> can be set (should not be both).</p> <h4 id="args_1">Args:</h4> <ul> <li>
<b><code>**kwargs</code></b>: keyword named properties with new values.</li> </ul> <h4 id="raises">Raises:</h4> <ul> <li>
<b><code>ValueError</code></b>: If any property name in <code>kwargs</code> does not exist or is not allowed to be replaced, or both <code>save_checkpoints_steps</code> and <code>save_checkpoints_secs</code> are set.</li> </ul> <h4 id="returns_2">Returns:</h4> <p>a new instance of <code>RunConfig</code>.</p> <h3 id="uid"><code>uid</code></h3> <pre class="prettyprint lang-python" data-language="python">uid(
    *args,
    **kwargs
)
</pre> <p>Generates a 'Unique Identifier' based on all internal fields. (experimental)</p> <p>THIS FUNCTION IS EXPERIMENTAL. It may change or be removed at any time, and without warning.</p> <p>Caller should use the uid string to check <code>RunConfig</code> instance integrity in one session use, but should not rely on the implementation details, which is subject to change.</p> <h4 id="args_2">Args:</h4> <ul> <li>
<b><code>whitelist</code></b>: A list of the string names of the properties uid should not include. If <code>None</code>, defaults to <code>_DEFAULT_UID_WHITE_LIST</code>, which includes most properties user allowes to change.</li> </ul> <h4 id="returns_3">Returns:</h4> <p>A uid string.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2018 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 3.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/RunConfig" class="_attribution-link">https://www.tensorflow.org/api_docs/python/tf/contrib/learn/RunConfig</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
