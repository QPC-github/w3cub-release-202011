
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>CounterCacheBehavior (Class) - CakePHP 4.1 - W3cubDocs</title>
  
  <meta name="description" content=" CounterCache behavior ">
  <meta name="keywords" content="class, countercachebehavior, cakephp, cakephp~4.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/cakephp~4.1/class-cake.orm.behavior.countercachebehavior.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/cakephp~4.1.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cakephp~4.1/" class="_nav-link" title="" style="margin-left:0;">CakePHP 4.1</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _cakephp">
				
				
<h1> Class CounterCacheBehavior </h1> <div class="description"> <p>CounterCache behavior</p> <p>Enables models to cache the amount of connections in a given relation.</p> <p>Examples with Post model belonging to User model</p> <p>Regular counter cache</p> <pre data-language="php">[
    'Users' =&gt; [
        'post_count'
    ]
]</pre> <p>Counter cache with scope</p> <pre data-language="php">[
    'Users' =&gt; [
        'posts_published' =&gt; [
            'conditions' =&gt; [
                'published' =&gt; true
            ]
        ]
    ]
]</pre> <p>Counter cache using custom find</p> <pre data-language="php">[
    'Users' =&gt; [
        'posts_published' =&gt; [
            'finder' =&gt; 'published' // Will be using findPublished()
        ]
    ]
]</pre> <p>Counter cache using lambda function returning the count This is equivalent to example #2</p> <pre data-language="php">[
    'Users' =&gt; [
        'posts_published' =&gt; function (EventInterface $event, EntityInterface $entity, Table $table) {
            $query = $table-&gt;find('all')-&gt;where([
                'published' =&gt; true,
                'user_id' =&gt; $entity-&gt;get('user_id')
            ]);
            return $query-&gt;count();
         }
    ]
]</pre> <p>When using a lambda function you can return <code>false</code> to disable updating the counter value for the current operation.</p> <p>Ignore updating the field if it is dirty</p> <pre data-language="php">[
    'Users' =&gt; [
        'posts_published' =&gt; [
            'ignoreDirty' =&gt; true
        ]
    ]
]</pre> <p>You can disable counter updates entirely by sending the <code>ignoreCounterCache</code> option to your save operation:</p> <pre data-language="php">$this-&gt;Articles-&gt;save($article, ['ignoreCounterCache' =&gt; true]);</pre> </div> <div class="info"> <b>Namespace:</b> <a href="namespace-cake.orm.behavior">Cake\ORM\Behavior</a><br> </div> <div class="section"> <h2>Properties summary</h2> <ul class="member-summary properties"> <li class="clearfix"> <div class="name"> <a href="trait-cake.core.instanceconfigtrait#%24_config">$_config</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array</code></div> <div class="description"> <p>Runtime config</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="trait-cake.core.instanceconfigtrait#%24_configInitialized">$_configInitialized</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>bool</code></div> <div class="description"> <p>Whether the config property has already been configured with defaults</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="class-cake.orm.behavior#%24_defaultConfig">$_defaultConfig</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array</code></div> <div class="description"> <p>Default configuration</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="class-cake.orm.behavior.countercachebehavior#%24_ignoreDirty">$_ignoreDirty</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array</code></div> <div class="description"> <p>Store the fields which should be ignored</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="class-cake.orm.behavior#%24_reflectionCache">$_reflectionCache</a> <span class="attributes"> <span class="label">protected</span> <span class="label">static</span> </span> </div> <div class="property-type"><code>array</code></div> <div class="description"> <p>Reflection method cache for behaviors.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="class-cake.orm.behavior#%24_table">$_table</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>\Cake\ORM\Table</code></div> <div class="description"> <p>Table instance.</p> </div> </li> </ul> </div> <div class="section"> <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <div> <a href="class-cake.orm.behavior#__construct">__construct()</a> <span class="label">public</span> <div class="description detailed"> <p>Constructor</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="trait-cake.core.instanceconfigtrait#_configDelete">_configDelete()</a> <span class="label">protected</span> <div class="description detailed"> <p>Deletes a single config key.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="trait-cake.core.instanceconfigtrait#_configRead">_configRead()</a> <span class="label">protected</span> <div class="description detailed"> <p>Reads a config key.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="trait-cake.core.instanceconfigtrait#_configWrite">_configWrite()</a> <span class="label">protected</span> <div class="description detailed"> <p>Writes a config key.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.orm.behavior.countercachebehavior#_getCount">_getCount()</a> <span class="label">protected</span> <div class="description detailed"> <p>Fetches and returns the count for a single field in an association</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.orm.behavior.countercachebehavior#_processAssociation">_processAssociation()</a> <span class="label">protected</span> <div class="description detailed"> <p>Updates counter cache for a single association</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.orm.behavior.countercachebehavior#_processAssociations">_processAssociations()</a> <span class="label">protected</span> <div class="description detailed"> <p>Iterate all associations and update counter caches.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.orm.behavior#_reflectionCache">_reflectionCache()</a> <span class="label">protected</span> <div class="description detailed"> <p>Gets the methods implemented by this behavior</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.orm.behavior#_resolveMethodAliases">_resolveMethodAliases()</a> <span class="label">protected</span> <div class="description detailed"> <p>Removes aliased methods that would otherwise be duplicated by userland configuration.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.orm.behavior.countercachebehavior#_shouldUpdateCount">_shouldUpdateCount()</a> <span class="label">protected</span> <div class="description detailed"> <p>Checks if the count should be updated given a set of conditions.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.orm.behavior.countercachebehavior#afterDelete">afterDelete()</a> <span class="label">public</span> <div class="description detailed"> <p>afterDelete callback.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.orm.behavior.countercachebehavior#afterSave">afterSave()</a> <span class="label">public</span> <div class="description detailed"> <p>afterSave callback.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.orm.behavior.countercachebehavior#beforeSave">beforeSave()</a> <span class="label">public</span> <div class="description detailed"> <p>beforeSave callback.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="trait-cake.core.instanceconfigtrait#configShallow">configShallow()</a> <span class="label">public</span> <div class="description detailed"> <p>Merge provided config with existing config. Unlike <code>config()</code> which does a recursive merge for nested keys, this method does a simple merge.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="trait-cake.core.instanceconfigtrait#getConfig">getConfig()</a> <span class="label">public</span> <div class="description detailed"> <p>Returns the config.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="trait-cake.core.instanceconfigtrait#getConfigOrFail">getConfigOrFail()</a> <span class="label">public</span> <div class="description detailed"> <p>Returns the config for this specific key.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.orm.behavior#getTable">getTable()</a> <span class="label">public</span> <div class="description detailed"> <p>Get the table instance this behavior is bound to.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.orm.behavior#implementedEvents">implementedEvents()</a> <span class="label">public</span> <div class="description detailed"> <p>Gets the Model callbacks this behavior is interested in.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.orm.behavior#implementedFinders">implementedFinders()</a> <span class="label">public</span> <div class="description detailed"> <p>implementedFinders</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.orm.behavior#implementedMethods">implementedMethods()</a> <span class="label">public</span> <div class="description detailed"> <p>implementedMethods</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.orm.behavior#initialize">initialize()</a> <span class="label">public</span> <div class="description detailed"> <p>Constructor hook method.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="trait-cake.core.instanceconfigtrait#setConfig">setConfig()</a> <span class="label">public</span> <div class="description detailed"> <p>Sets the config.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.orm.behavior#verifyConfig">verifyConfig()</a> <span class="label">public</span> <div class="description detailed"> <p>verifyConfig</p> </div> </div>
</li> </ul> </div> <div class="section"> <h2>Method Detail</h2> <div class="method-detail">  <h3 class="method-name" id="__construct"> __construct() <span class="label">public</span>  </h3> <pre data-language="php">__construct(\Cake\ORM\Table $table, array $config)</pre> <div class="description detailed"> <p>Constructor</p> <p>Merges config with the default and store in the config property</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>\Cake\ORM\Table</code> <var>$table</var> </dt> <dd><p>The table this behavior is attached to.</p></dd> <dt> <code>array</code> <var>$config</var> <span class="label">optional</span> </dt> <dd><p>The config for this behavior.</p></dd> </dl> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_configDelete"> _configDelete() <span class="label">protected</span>  </h3> <pre data-language="php">_configDelete(string $key)</pre> <div class="description detailed"> <p>Deletes a single config key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>Key to delete.</p></dd> </dl> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\Exception</code><br> if attempting to clobber existing config </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_configRead"> _configRead() <span class="label">protected</span>  </h3> <pre data-language="php">_configRead(?string $key)</pre> <div class="description detailed"> <p>Reads a config key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$key</var> </dt> <dd><p>Key to read.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_configWrite"> _configWrite() <span class="label">protected</span>  </h3> <pre data-language="php">_configWrite(mixed $key, mixed $value, mixed $merge)</pre> <div class="description detailed"> <p>Writes a config key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|array</code> <var>$key</var> </dt> <dd><p>Key to write to.</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>Value to write.</p></dd> <dt> <code>bool|string</code> <var>$merge</var> <span class="label">optional</span> </dt> <dd><p>True to merge recursively, 'shallow' for simple merge, false to overwrite, defaults to false.</p></dd> </dl> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\Exception</code><br> if attempting to clobber existing config </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_getCount"> _getCount() <span class="label">protected</span>  </h3> <pre data-language="php">_getCount(array $config, array $conditions)</pre> <div class="description detailed"> <p>Fetches and returns the count for a single field in an association</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$config</var> </dt> <dd><p>The counter cache configuration for a single field</p></dd> <dt> <code>array</code> <var>$conditions</var> </dt> <dd><p>Additional conditions given to the query</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>int</code><br> <p>The number of relations matching the given config and conditions</p> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_processAssociation"> _processAssociation() <span class="label">protected</span>  </h3> <pre data-language="php">_processAssociation(\Cake\Event\EventInterface $event, \Cake\Datasource\EntityInterface $entity, \Cake\ORM\Association $assoc, array $settings)</pre> <div class="description detailed"> <p>Updates counter cache for a single association</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>\Cake\Event\EventInterface</code> <var>$event</var> </dt> <dd><p>Event instance.</p></dd> <dt> <code>\Cake\Datasource\EntityInterface</code> <var>$entity</var> </dt> <dd><p>Entity</p></dd> <dt> <code>\Cake\ORM\Association</code> <var>$assoc</var> </dt> <dd><p>The association object</p></dd> <dt> <code>array</code> <var>$settings</var> </dt> <dd><p>The settings for for counter cache for this association</p></dd> </dl> </div> <h4>Throws</h4> <div class="list"> <code>RuntimeException</code><br> If invalid callable is passed. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_processAssociations"> _processAssociations() <span class="label">protected</span>  </h3> <pre data-language="php">_processAssociations(\Cake\Event\EventInterface $event, \Cake\Datasource\EntityInterface $entity)</pre> <div class="description detailed"> <p>Iterate all associations and update counter caches.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>\Cake\Event\EventInterface</code> <var>$event</var> </dt> <dd><p>Event instance.</p></dd> <dt> <code>\Cake\Datasource\EntityInterface</code> <var>$entity</var> </dt> <dd><p>Entity.</p></dd> </dl> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_reflectionCache"> _reflectionCache() <span class="label">protected</span>  </h3> <pre data-language="php">_reflectionCache()</pre> <div class="description detailed"> <p>Gets the methods implemented by this behavior</p> <p>Uses the implementedEvents() method to exclude callback methods. Methods starting with <code>_</code> will be ignored, as will methods declared on Cake\ORM\Behavior</p> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> <h4>Throws</h4> <div class="list"> <code>ReflectionException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_resolveMethodAliases"> _resolveMethodAliases() <span class="label">protected</span>  </h3> <pre data-language="php">_resolveMethodAliases(string $key, array $defaults, array $config)</pre> <div class="description detailed"> <p>Removes aliased methods that would otherwise be duplicated by userland configuration.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>The key to filter.</p></dd> <dt> <code>array</code> <var>$defaults</var> </dt> <dd><p>The default method mappings.</p></dd> <dt> <code>array</code> <var>$config</var> </dt> <dd><p>The customized method mappings.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> <p>A de-duped list of config data.</p> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_shouldUpdateCount"> _shouldUpdateCount() <span class="label">protected</span>  </h3> <pre data-language="php">_shouldUpdateCount(array $conditions)</pre> <div class="description detailed"> <p>Checks if the count should be updated given a set of conditions.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$conditions</var> </dt> <dd><p>Conditions to update count.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> <p>True if the count update should happen, false otherwise.</p> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="afterDelete"> afterDelete() <span class="label">public</span>  </h3> <pre data-language="php">afterDelete(\Cake\Event\EventInterface $event, \Cake\Datasource\EntityInterface $entity, \ArrayObject $options)</pre> <div class="description detailed"> <p>afterDelete callback.</p> <p>Makes sure to update counter cache when a record is deleted.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>\Cake\Event\EventInterface</code> <var>$event</var> </dt> <dd><p>The afterDelete event that was fired.</p></dd> <dt> <code>\Cake\Datasource\EntityInterface</code> <var>$entity</var> </dt> <dd><p>The entity that was deleted.</p></dd> <dt> <code>\ArrayObject</code> <var>$options</var> </dt> <dd><p>The options for the query</p></dd> </dl> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="afterSave"> afterSave() <span class="label">public</span>  </h3> <pre data-language="php">afterSave(\Cake\Event\EventInterface $event, \Cake\Datasource\EntityInterface $entity, \ArrayObject $options)</pre> <div class="description detailed"> <p>afterSave callback.</p> <p>Makes sure to update counter cache when a new record is created or updated.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>\Cake\Event\EventInterface</code> <var>$event</var> </dt> <dd><p>The afterSave event that was fired.</p></dd> <dt> <code>\Cake\Datasource\EntityInterface</code> <var>$entity</var> </dt> <dd><p>The entity that was saved.</p></dd> <dt> <code>\ArrayObject</code> <var>$options</var> </dt> <dd><p>The options for the query</p></dd> </dl> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="beforeSave"> beforeSave() <span class="label">public</span>  </h3> <pre data-language="php">beforeSave(\Cake\Event\EventInterface $event, \Cake\Datasource\EntityInterface $entity, \ArrayObject $options)</pre> <div class="description detailed"> <p>beforeSave callback.</p> <p>Check if a field, which should be ignored, is dirty</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>\Cake\Event\EventInterface</code> <var>$event</var> </dt> <dd><p>The beforeSave event that was fired</p></dd> <dt> <code>\Cake\Datasource\EntityInterface</code> <var>$entity</var> </dt> <dd><p>The entity that is going to be saved</p></dd> <dt> <code>\ArrayObject</code> <var>$options</var> </dt> <dd><p>The options for the query</p></dd> </dl> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="configShallow"> configShallow() <span class="label">public</span>  </h3> <pre data-language="php">configShallow(mixed $key, mixed $value)</pre> <div class="description detailed"> <p>Merge provided config with existing config. Unlike <code>config()</code> which does a recursive merge for nested keys, this method does a simple merge.</p> <p>Setting a specific value:</p> <pre data-language="php">$this-&gt;configShallow('key', $value);</pre> <p>Setting a nested value:</p> <pre data-language="php">$this-&gt;configShallow('some.nested.key', $value);</pre> <p>Updating multiple config settings at the same time:</p> <pre data-language="php">$this-&gt;configShallow(['one' =&gt; 'value', 'another' =&gt; 'value']);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|array</code> <var>$key</var> </dt> <dd><p>The key to set, or a complete array of configs.</p></dd> <dt> <code>mixed|null</code> <var>$value</var> <span class="label">optional</span> </dt> <dd><p>The value to set.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getConfig"> getConfig() <span class="label">public</span>  </h3> <pre data-language="php">getConfig(?string $key, mixed $default)</pre> <div class="description detailed"> <p>Returns the config.</p> <h3>Usage</h3> <p>Reading the whole config:</p> <pre data-language="php">$this-&gt;getConfig();</pre> <p>Reading a specific value:</p> <pre data-language="php">$this-&gt;getConfig('key');</pre> <p>Reading a nested value:</p> <pre data-language="php">$this-&gt;getConfig('some.nested.key');</pre> <p>Reading with default value:</p> <pre data-language="php">$this-&gt;getConfig('some-key', 'default-value');</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$key</var> <span class="label">optional</span> </dt> <dd><p>The key to get or null for the whole config.</p></dd> <dt> <code>mixed</code> <var>$default</var> <span class="label">optional</span> </dt> <dd><p>The return value when the key does not exist.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> <p>Configuration data at the named key or null if the key does not exist.</p> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getConfigOrFail"> getConfigOrFail() <span class="label">public</span>  </h3> <pre data-language="php">getConfigOrFail(string $key)</pre> <div class="description detailed"> <p>Returns the config for this specific key.</p> <p>The config value for this key must exist, it can never be null.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>The key to get.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> <p>Configuration data at the named key</p> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getTable"> getTable() <span class="label">public</span>  </h3> <pre data-language="php">getTable()</pre> <div class="description detailed"> <p>Get the table instance this behavior is bound to.</p> <h4>Returns</h4> <div class="list"> <code>\Cake\ORM\Table</code><br> <p>The bound table instance.</p> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="implementedEvents"> implementedEvents() <span class="label">public</span>  </h3> <pre data-language="php">implementedEvents()</pre> <div class="description detailed"> <p>Gets the Model callbacks this behavior is interested in.</p> <p>By defining one of the callback methods a behavior is assumed to be interested in the related event.</p> <p>Override this method if you need to add non-conventional event listeners. Or if you want your behavior to listen to non-standard events.</p> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="implementedFinders"> implementedFinders() <span class="label">public</span>  </h3> <pre data-language="php">implementedFinders()</pre> <div class="description detailed"> <p>implementedFinders</p> <p>Provides an alias-&gt;methodname map of which finders a behavior implements. Example:</p> <pre data-language="php">[
   'this' =&gt; 'findThis',
   'alias' =&gt; 'findMethodName'
 ]</pre> <p>With the above example, a call to <code>$table-&gt;find('this')</code> will call <code>$behavior-&gt;findThis()</code> and a call to <code>$table-&gt;find('alias')</code> will call <code>$behavior-&gt;findMethodName()</code></p> <p>It is recommended, though not required, to define implementedFinders in the config property of child classes such that it is not necessary to use reflections to derive the available method list. See core behaviors for examples</p> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> <h4>Throws</h4> <div class="list"> <code>ReflectionException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="implementedMethods"> implementedMethods() <span class="label">public</span>  </h3> <pre data-language="php">implementedMethods()</pre> <div class="description detailed"> <p>implementedMethods</p> <p>Provides an alias-&gt;methodname map of which methods a behavior implements. Example:</p> <pre data-language="php">[
   'method' =&gt; 'method',
   'aliasedMethod' =&gt; 'somethingElse'
 ]</pre> <p>With the above example, a call to <code>$table-&gt;method()</code> will call <code>$behavior-&gt;method()</code> and a call to <code>$table-&gt;aliasedMethod()</code> will call <code>$behavior-&gt;somethingElse()</code></p> <p>It is recommended, though not required, to define implementedFinders in the config property of child classes such that it is not necessary to use reflections to derive the available method list. See core behaviors for examples</p> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> <h4>Throws</h4> <div class="list"> <code>ReflectionException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="initialize"> initialize() <span class="label">public</span>  </h3> <pre data-language="php">initialize(array $config)</pre> <div class="description detailed"> <p>Constructor hook method.</p> <p>Implement this method to avoid having to overwrite the constructor and call parent.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$config</var> </dt> <dd><p>The configuration settings provided to this behavior.</p></dd> </dl> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setConfig"> setConfig() <span class="label">public</span>  </h3> <pre data-language="php">setConfig(mixed $key, mixed $value, mixed $merge)</pre> <div class="description detailed"> <p>Sets the config.</p> <h3>Usage</h3> <p>Setting a specific value:</p> <pre data-language="php">$this-&gt;setConfig('key', $value);</pre> <p>Setting a nested value:</p> <pre data-language="php">$this-&gt;setConfig('some.nested.key', $value);</pre> <p>Updating multiple config settings at the same time:</p> <pre data-language="php">$this-&gt;setConfig(['one' =&gt; 'value', 'another' =&gt; 'value']);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|array</code> <var>$key</var> </dt> <dd><p>The key to set, or a complete array of configs.</p></dd> <dt> <code>mixed|null</code> <var>$value</var> <span class="label">optional</span> </dt> <dd><p>The value to set.</p></dd> <dt> <code>bool</code> <var>$merge</var> <span class="label">optional</span> </dt> <dd><p>Whether to recursively merge or overwrite existing config, defaults to true.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\Exception</code><br> When trying to set a key that is invalid. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="verifyConfig"> verifyConfig() <span class="label">public</span>  </h3> <pre data-language="php">verifyConfig()</pre> <div class="description detailed"> <p>verifyConfig</p> <p>Checks that implemented keys contain values pointing at callable.</p> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\Exception</code><br> if config are invalid </div> </div> </div> </div> <div class="section"> <h2>Property Detail</h2> <div class="property-detail">  <h3 class="property-name" id="$_config"> <var>$_config</var>  <span class="label">protected</span> </h3> <div class="description detailed"> <p>Runtime config</p> <h4>Type</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_configInitialized"> <var>$_configInitialized</var>  <span class="label">protected</span> </h3> <div class="description detailed"> <p>Whether the config property has already been configured with defaults</p> <h4>Type</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_defaultConfig"> <var>$_defaultConfig</var>  <span class="label">protected</span> </h3> <div class="description detailed"> <p>Default configuration</p> <p>These are merged with user-provided configuration when the behavior is used.</p> <h4>Type</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_ignoreDirty"> <var>$_ignoreDirty</var>  <span class="label">protected</span> </h3> <div class="description detailed"> <p>Store the fields which should be ignored</p> <h4>Type</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_reflectionCache"> <var>$_reflectionCache</var>  <span class="label">protected</span> <span class="label">static</span> </h3> <div class="description detailed"> <p>Reflection method cache for behaviors.</p> <p>Stores the reflected method + finder methods per class. This prevents reflecting the same class multiple times in a single process.</p> <h4>Type</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_table"> <var>$_table</var>  <span class="label">protected</span> </h3> <div class="description detailed"> <p>Table instance.</p> <h4>Type</h4> <div class="list"> <code>\Cake\ORM\Table</code><br> </div> </div> </div> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–present The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="https://api.cakephp.org/4.1/class-Cake.ORM.Behavior.CounterCacheBehavior.html" class="_attribution-link">https://api.cakephp.org/4.1/class-Cake.ORM.Behavior.CounterCacheBehavior.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
