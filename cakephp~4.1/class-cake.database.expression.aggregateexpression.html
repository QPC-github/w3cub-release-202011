
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>AggregateExpression (Class) - CakePHP 4.1 - W3cubDocs</title>
  
  <meta name="description" content=" This represents a SQL aggregate function expression in a SQL statement. ">
  <meta name="keywords" content="class, aggregateexpression, cakephp, cakephp~4.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/cakephp~4.1/class-cake.database.expression.aggregateexpression.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/cakephp~4.1.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cakephp~4.1/" class="_nav-link" title="" style="margin-left:0;">CakePHP 4.1</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _cakephp">
				
				
<h1> Class AggregateExpression </h1> <div class="description"> <p>This represents a SQL aggregate function expression in a SQL statement.</p> <p>Calls can be constructed by passing the name of the function and a list of params. For security reasons, all params passed are quoted by default unless explicitly told otherwise.</p> </div> <div class="info"> <b>Namespace:</b> <a href="namespace-cake.database.expression">Cake\Database\Expression</a><br> </div> <div class="section"> <h2>Constants summary</h2> <ul class="member-summary constants"> <li class="clearfix">  <div class="attributes col-md-2 col-sm-2 p0"> <code>string</code> </div> <div class="name col-md-10 col-sm-10"> <b>FOLLOWING</b>  </div> <div class="col-md-10 col-md-offset-2"> <code>'FOLLOWING'</code> </div> </li> <li class="clearfix">  <div class="attributes col-md-2 col-sm-2 p0"> <code>string</code> </div> <div class="name col-md-10 col-sm-10"> <b>GROUPS</b>  </div> <div class="col-md-10 col-md-offset-2"> <code>'GROUPS'</code> </div> </li> <li class="clearfix">  <div class="attributes col-md-2 col-sm-2 p0"> <code>string</code> </div> <div class="name col-md-10 col-sm-10"> <b>PRECEDING</b>  </div> <div class="col-md-10 col-md-offset-2"> <code>'PRECEDING'</code> </div> </li> <li class="clearfix">  <div class="attributes col-md-2 col-sm-2 p0"> <code>string</code> </div> <div class="name col-md-10 col-sm-10"> <b>RANGE</b>  </div> <div class="col-md-10 col-md-offset-2"> <code>'RANGE'</code> </div> </li> <li class="clearfix">  <div class="attributes col-md-2 col-sm-2 p0"> <code>string</code> </div> <div class="name col-md-10 col-sm-10"> <b>ROWS</b>  </div> <div class="col-md-10 col-md-offset-2"> <code>'ROWS'</code> </div> </li> </ul> </div> <div class="section"> <h2>Properties summary</h2> <ul class="member-summary properties"> <li class="clearfix"> <div class="name"> <a href="class-cake.database.expression.queryexpression#%24_conditions">$_conditions</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array</code></div> <div class="description"> <p>A list of strings or other expression objects that represent the "branches" of the expression tree. For example one key of the array might look like "sum &gt; :value"</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="class-cake.database.expression.queryexpression#%24_conjunction">$_conjunction</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>string</code></div> <div class="description"> <p>String to be used for joining each of the internal expressions this object internally stores for example "AND", "OR", etc.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="class-cake.database.expression.functionexpression#%24_name">$_name</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>string</code></div> <div class="description"> <p>The name of the function to be constructed when generating the SQL string</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="trait-cake.database.typedresulttrait#%24_returnType">$_returnType</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>string</code></div> <div class="description"> <p>The type name this expression will return when executed</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="trait-cake.database.typemaptrait#%24_typeMap">$_typeMap</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>\Cake\Database\TypeMap</code></div>  </li> <li class="clearfix"> <div class="name"> <a href="class-cake.database.expression.aggregateexpression#%24filter">$filter</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>\Cake\Database\Expression\QueryExpression</code></div>  </li> <li class="clearfix"> <div class="name"> <a href="class-cake.database.expression.aggregateexpression#%24window">$window</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>\Cake\Database\Expression\WindowExpression</code></div>  </li> </ul> </div> <div class="section"> <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <div> <a href="class-cake.database.expression.aggregateexpression#__clone">__clone()</a> <span class="label">public</span> <div class="description detailed"> <p>Clone this object and its subtree of expressions.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.functionexpression#__construct">__construct()</a> <span class="label">public</span> <div class="description detailed"> <p>Constructor. Takes a name for the function to be invoked and a list of params to be passed into the function. Optionally you can pass a list of types to be used for each bound param.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#_addConditions">_addConditions()</a> <span class="label">protected</span> <div class="description detailed"> <p>Auxiliary function used for decomposing a nested array of conditions and build a tree structure inside this object to represent the full SQL expression.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#_calculateType">_calculateType()</a> <span class="label">protected</span> <div class="description detailed"> <p>Returns the type name for the passed field if it was stored in the typeMap</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="trait-cake.database.type.expressiontypecastertrait#_castToExpression">_castToExpression()</a> <span class="label">protected</span> <div class="description detailed"> <p>Conditionally converts the passed value to an ExpressionInterface object if the type class implements the ExpressionTypeInterface. Otherwise, returns the value unmodified.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#_parseCondition">_parseCondition()</a> <span class="label">protected</span> <div class="description detailed"> <p>Parses a string conditions by trying to extract the operator inside it if any and finally returning either an adequate QueryExpression object or a plain string representation of the condition. This function is responsible for generating the placeholders and replacing the values by them, while storing the value elsewhere for future binding.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="trait-cake.database.type.expressiontypecastertrait#_requiresToExpressionCasting">_requiresToExpressionCasting()</a> <span class="label">protected</span> <div class="description detailed"> <p>Returns an array with the types that require values to be casted to expressions, out of the list of type names passed as parameter.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.functionexpression#add">add()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds one or more arguments for the function call.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#addCase">addCase()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds a new case expression to the expression object</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#and">and()</a> <span class="label">public</span> <div class="description detailed"> <p>Returns a new QueryExpression object containing all the conditions passed and set up the conjunction to be "AND"</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#and_">and_()</a> <span class="label">public</span> <div class="description detailed"> <p>Returns a new QueryExpression object containing all the conditions passed and set up the conjunction to be "AND"</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#between">between()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field BETWEEN from AND to".</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.aggregateexpression#count">count()</a> <span class="label">public</span> <div class="description detailed"> <p>The name of the function is in itself an expression to generate, thus always adding 1 to the amount of expressions stored in this object.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#eq">eq()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field = value".</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#equalFields">equalFields()</a> <span class="label">public</span> <div class="description detailed"> <p>Builds equal condition or assignment with identifier wrapping.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.aggregateexpression#excludeCurrent">excludeCurrent()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds current row frame exclusion.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.aggregateexpression#excludeGroup">excludeGroup()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds group frame exclusion.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.aggregateexpression#excludeTies">excludeTies()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds ties frame exclusion.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#exists">exists()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "EXISTS (...)".</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.aggregateexpression#filter">filter()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds conditions to the FILTER clause. The conditions are the same format as <code>Query::where()</code>.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.aggregateexpression#frame">frame()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds a frame to the window.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#getConjunction">getConjunction()</a> <span class="label">public</span> <div class="description detailed"> <p>Gets the currently configured conjunction for the conditions at this level of the expression tree.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="trait-cake.database.typemaptrait#getDefaultTypes">getDefaultTypes()</a> <span class="label">public</span> <div class="description detailed"> <p>Gets default types of current type map.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.functionexpression#getName">getName()</a> <span class="label">public</span> <div class="description detailed"> <p>Gets the name of the SQL function to be invoke in this expression.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="trait-cake.database.typedresulttrait#getReturnType">getReturnType()</a> <span class="label">public</span> <div class="description detailed"> <p>Gets the type of the value this object will generate.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="trait-cake.database.typemaptrait#getTypeMap">getTypeMap()</a> <span class="label">public</span> <div class="description detailed"> <p>Returns the existing type map.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.aggregateexpression#groups">groups()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds a simple groups frame to the window.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#gt">gt()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field &gt; value".</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#gte">gte()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field &gt;= value".</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#hasNestedExpression">hasNestedExpression()</a> <span class="label">public</span> <div class="description detailed"> <p>Returns true if this expression contains any other nested ExpressionInterface objects</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#in">in()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field IN (value1, value2)".</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#isCallable">isCallable()</a> <span class="label">public</span> <div class="description detailed"> <p>Check whether or not a callable is acceptable.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#isNotNull">isNotNull()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field IS NOT NULL".</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#isNull">isNull()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field IS NULL".</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#iterateParts">iterateParts()</a> <span class="label">public</span> <div class="description detailed"> <p>Executes a callable function for each of the parts that form this expression.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#like">like()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field LIKE value".</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#lt">lt()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field &lt; value".</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#lte">lte()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field &lt;= value".</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#not">not()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds a new set of conditions to this level of the tree and negates the final result by prepending a NOT, it will look like "NOT ( (condition1) AND (conditions2) )" conjunction depends on the one currently configured for this object.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#notEq">notEq()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field != value".</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#notExists">notExists()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "NOT EXISTS (...)".</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#notIn">notIn()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field NOT IN (value1, value2)".</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#notLike">notLike()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field NOT LIKE value".</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#or">or()</a> <span class="label">public</span> <div class="description detailed"> <p>Returns a new QueryExpression object containing all the conditions passed and set up the conjunction to be "OR"</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#or_">or_()</a> <span class="label">public</span> <div class="description detailed"> <p>Returns a new QueryExpression object containing all the conditions passed and set up the conjunction to be "OR"</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.aggregateexpression#order">order()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds one or more order clauses to the window.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.aggregateexpression#over">over()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds an empty <code>OVER()</code> window expression or a named window epression.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.aggregateexpression#partition">partition()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds one or more partition expressions to the window.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.aggregateexpression#range">range()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds a simple range frame to the window.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.aggregateexpression#rows">rows()</a> <span class="label">public</span> <div class="description detailed"> <p>Adds a simple rows frame to the window.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.queryexpression#setConjunction">setConjunction()</a> <span class="label">public</span> <div class="description detailed"> <p>Changes the conjunction for the conditions at this level of the expression tree.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="trait-cake.database.typemaptrait#setDefaultTypes">setDefaultTypes()</a> <span class="label">public</span> <div class="description detailed"> <p>Overwrite the default type mappings for fields in the implementing object.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.functionexpression#setName">setName()</a> <span class="label">public</span> <div class="description detailed"> <p>Sets the name of the SQL function to be invoke in this expression.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="trait-cake.database.typedresulttrait#setReturnType">setReturnType()</a> <span class="label">public</span> <div class="description detailed"> <p>Sets the type of the value this object will generate.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="trait-cake.database.typemaptrait#setTypeMap">setTypeMap()</a> <span class="label">public</span> <div class="description detailed"> <p>Creates a new TypeMap if $typeMap is an array, otherwise exchanges it for the given one.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.aggregateexpression#sql">sql()</a> <span class="label">public</span> <div class="description detailed"> <p>Returns the string representation of this object so that it can be used in a SQL query. Note that values condition values are not included in the string, in their place placeholders are put and can be replaced by the quoted values accordingly.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.database.expression.aggregateexpression#traverse">traverse()</a> <span class="label">public</span> <div class="description detailed"> <p>Traverses the tree structure of this query expression by executing a callback function for each of the conditions that are included in this object.</p> </div> </div>
</li> </ul> </div> <div class="section"> <h2>Method Detail</h2> <div class="method-detail">  <h3 class="method-name" id="__clone"> __clone() <span class="label">public</span>  </h3> <pre data-language="php">__clone()</pre> <div class="description detailed"> <p>Clone this object and its subtree of expressions.</p> </div> </div> <div class="method-detail">  <h3 class="method-name" id="__construct"> __construct() <span class="label">public</span>  </h3> <pre data-language="php">__construct(string $name, array $params, array $types, string $returnType)</pre> <div class="description detailed"> <p>Constructor. Takes a name for the function to be invoked and a list of params to be passed into the function. Optionally you can pass a list of types to be used for each bound param.</p> <p>By default, all params that are passed will be quoted. If you wish to use literal arguments, you need to explicitly hint this function.</p> <h3>Examples:</h3> <p><code>$f = new FunctionExpression('CONCAT', ['CakePHP', ' rules']);</code></p> <p>Previous line will generate <code>CONCAT('CakePHP', ' rules')</code></p> <p><code>$f = new FunctionExpression('CONCAT', ['name' =&gt; 'literal', ' rules']);</code></p> <p>Will produce <code>CONCAT(name, ' rules')</code></p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>the name of the function to be constructed</p></dd> <dt> <code>array</code> <var>$params</var> <span class="label">optional</span> </dt> <dd><p>list of arguments to be passed to the function If associative the key would be used as argument when value is 'literal'</p></dd> <dt> <code>array</code> <var>$types</var> <span class="label">optional</span> </dt> <dd><p>associative array of types to be associated with the passed arguments</p></dd> <dt> <code>string</code> <var>$returnType</var> <span class="label">optional</span> </dt> <dd><p>The return type of this expression</p></dd> </dl> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_addConditions"> _addConditions() <span class="label">protected</span>  </h3> <pre data-language="php">_addConditions(array $conditions, array $types)</pre> <div class="description detailed"> <p>Auxiliary function used for decomposing a nested array of conditions and build a tree structure inside this object to represent the full SQL expression.</p> <p>String conditions are stored directly in the conditions, while any other representation is wrapped around an adequate instance or of this class.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$conditions</var> </dt> <dd><p>list of conditions to be stored in this object</p></dd> <dt> <code>array</code> <var>$types</var> </dt> <dd><p>list of types associated on fields referenced in $conditions</p></dd> </dl> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_calculateType"> _calculateType() <span class="label">protected</span>  </h3> <pre data-language="php">_calculateType(mixed $field)</pre> <div class="description detailed"> <p>Returns the type name for the passed field if it was stored in the typeMap</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|\Cake\Database\ExpressionInterface</code> <var>$field</var> </dt> <dd><p>The field name to get a type for.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string|null</code><br> <p>The computed type or null, if the type is unknown.</p> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_castToExpression"> _castToExpression() <span class="label">protected</span>  </h3> <pre data-language="php">_castToExpression(mixed $value, ?string $type)</pre> <div class="description detailed"> <p>Conditionally converts the passed value to an ExpressionInterface object if the type class implements the ExpressionTypeInterface. Otherwise, returns the value unmodified.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>The value to converto to ExpressionInterface</p></dd> <dt> <code>string|null</code> <var>$type</var> <span class="label">optional</span> </dt> <dd><p>The type name</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_parseCondition"> _parseCondition() <span class="label">protected</span>  </h3> <pre data-language="php">_parseCondition(string $field, mixed $value)</pre> <div class="description detailed"> <p>Parses a string conditions by trying to extract the operator inside it if any and finally returning either an adequate QueryExpression object or a plain string representation of the condition. This function is responsible for generating the placeholders and replacing the values by them, while storing the value elsewhere for future binding.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>The value from which the actual field and operator will be extracted.</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>The value to be bound to a placeholder for the field</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string|\Cake\Database\ExpressionInterface</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> If operator is invalid or missing on NULL usage. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_requiresToExpressionCasting"> _requiresToExpressionCasting() <span class="label">protected</span>  </h3> <pre data-language="php">_requiresToExpressionCasting(array $types)</pre> <div class="description detailed"> <p>Returns an array with the types that require values to be casted to expressions, out of the list of type names passed as parameter.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$types</var> </dt> <dd><p>List of type names</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="add"> add() <span class="label">public</span>  </h3> <pre data-language="php">add(mixed $conditions, array $types, bool $prepend)</pre> <div class="description detailed"> <p>Adds one or more arguments for the function call.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$conditions</var> </dt> <dd><p>list of arguments to be passed to the function If associative the key would be used as argument when value is 'literal'</p></dd> <dt> <code>array</code> <var>$types</var> <span class="label">optional</span> </dt> <dd><p>associative array of types to be associated with the passed arguments</p></dd> <dt> <code>bool</code> <var>$prepend</var> <span class="label">optional</span> </dt> <dd><p>Whether to prepend or append to the list of arguments</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\Database\Expression\FunctionExpression::__construct()<br> for more details. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="addCase"> addCase() <span class="label">public</span>  </h3> <pre data-language="php">addCase(mixed $conditions, mixed $values, mixed $types)</pre> <div class="description detailed"> <p>Adds a new case expression to the expression object</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array|\Cake\Database\ExpressionInterface</code> <var>$conditions</var> </dt> <dd><p>The conditions to test. Must be a ExpressionInterface instance, or an array of ExpressionInterface instances.</p></dd> <dt> <code>array|\Cake\Database\ExpressionInterface</code> <var>$values</var> <span class="label">optional</span> </dt> <dd><p>associative array of values to be associated with the conditions passed in $conditions. If there are more $values than $conditions, the last $value is used as the <code>ELSE</code> value.</p></dd> <dt> <code>array</code> <var>$types</var> <span class="label">optional</span> </dt> <dd><p>associative array of types to be associated with the values passed in $values</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="and"> and() <span class="label">public</span>  </h3> <pre data-language="php">and(mixed $conditions, mixed $types)</pre> <div class="description detailed"> <p>Returns a new QueryExpression object containing all the conditions passed and set up the conjunction to be "AND"</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>\Closure|string|array|\Cake\Database\ExpressionInterface</code> <var>$conditions</var> </dt> <dd><p>to be joined with AND</p></dd> <dt> <code>array</code> <var>$types</var> <span class="label">optional</span> </dt> <dd><p>associative array of fields pointing to the type of the values that are being passed. Used for correctly binding values to statements.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>\Cake\Database\Expression\QueryExpression</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="and_"> and_() <span class="label">public</span>  </h3> <pre data-language="php">and_(mixed $conditions, mixed $types)</pre> <div class="description detailed"> <p>Returns a new QueryExpression object containing all the conditions passed and set up the conjunction to be "AND"</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>\Closure|string|array|\Cake\Database\ExpressionInterface</code> <var>$conditions</var> </dt> <dd><p>to be joined with AND</p></dd> <dt> <code>array</code> <var>$types</var> <span class="label">optional</span> </dt> <dd><p>associative array of fields pointing to the type of the values that are being passed. Used for correctly binding values to statements.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>\Cake\Database\Expression\QueryExpression</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="between"> between() <span class="label">public</span>  </h3> <pre data-language="php">between(mixed $field, mixed $from, mixed $to, mixed $type)</pre> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field BETWEEN from AND to".</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|\Cake\Database\ExpressionInterface</code> <var>$field</var> </dt> <dd><p>The field name to compare for values inbetween the range.</p></dd> <dt> <code>mixed</code> <var>$from</var> </dt> <dd><p>The initial value of the range.</p></dd> <dt> <code>mixed</code> <var>$to</var> </dt> <dd><p>The ending value in the comparison range.</p></dd> <dt> <code>string|null</code> <var>$type</var> <span class="label">optional</span> </dt> <dd><p>the type name for $value as configured using the Type map.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="count"> count() <span class="label">public</span>  </h3> <pre data-language="php">count()</pre> <div class="description detailed"> <p>The name of the function is in itself an expression to generate, thus always adding 1 to the amount of expressions stored in this object.</p> <h4>Returns</h4> <div class="list"> <code>int</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="eq"> eq() <span class="label">public</span>  </h3> <pre data-language="php">eq(mixed $field, mixed $value, ?string $type)</pre> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field = value".</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|\Cake\Database\ExpressionInterface</code> <var>$field</var> </dt> <dd><p>Database field to be compared against value</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>The value to be bound to $field for comparison</p></dd> <dt> <code>string|null</code> <var>$type</var> <span class="label">optional</span> </dt> <dd><p>the type name for $value as configured using the Type map. If it is suffixed with "[]" and the value is an array then multiple placeholders will be created, one per each value in the array.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="equalFields"> equalFields() <span class="label">public</span>  </h3> <pre data-language="php">equalFields(string $left, string $right)</pre> <div class="description detailed"> <p>Builds equal condition or assignment with identifier wrapping.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$left</var> </dt> <dd><p>Left join condition field name.</p></dd> <dt> <code>string</code> <var>$right</var> </dt> <dd><p>Right join condition field name.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="excludeCurrent"> excludeCurrent() <span class="label">public</span>  </h3> <pre data-language="php">excludeCurrent()</pre> <div class="description detailed"> <p>Adds current row frame exclusion.</p> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="excludeGroup"> excludeGroup() <span class="label">public</span>  </h3> <pre data-language="php">excludeGroup()</pre> <div class="description detailed"> <p>Adds group frame exclusion.</p> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="excludeTies"> excludeTies() <span class="label">public</span>  </h3> <pre data-language="php">excludeTies()</pre> <div class="description detailed"> <p>Adds ties frame exclusion.</p> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="exists"> exists() <span class="label">public</span>  </h3> <pre data-language="php">exists(\Cake\Database\ExpressionInterface $query)</pre> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "EXISTS (...)".</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>\Cake\Database\ExpressionInterface</code> <var>$query</var> </dt> <dd><p>the inner query</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="filter"> filter() <span class="label">public</span>  </h3> <pre data-language="php">filter(mixed $conditions, array $types)</pre> <div class="description detailed"> <p>Adds conditions to the FILTER clause. The conditions are the same format as <code>Query::where()</code>.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|array|\Cake\Database\ExpressionInterface|\Closure</code> <var>$conditions</var> </dt> <dd><p>The conditions to filter on.</p></dd> <dt> <code>array</code> <var>$types</var> <span class="label">optional</span> </dt> <dd><p>associative array of type names used to bind values to query</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\Database\Query::where()<br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="frame"> frame() <span class="label">public</span>  </h3> <pre data-language="php">frame(string $type, mixed $startOffset, string $startDirection, mixed $endOffset, string $endDirection)</pre> <div class="description detailed"> <p>Adds a frame to the window.</p> <p>Use the <code>range()</code>, <code>rows()</code> or <code>groups()</code> helpers if you need simple 'BETWEEN offset PRECEDING and offset FOLLOWING' frames.</p> <p>You can specify any direction for both frame start and frame end.</p> <p>With both <code>$startOffset</code> and <code>$endOffset</code>:</p> <ul> <li>
<code>0</code> - 'CURRENT ROW'</li> <li>
<code>null</code> - 'UNBOUNDED'</li> </ul> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$type</var> </dt> <dd><p>Frame type</p></dd> <dt> <code>int|string|\Cake\Database\ExpressionInterface|null</code> <var>$startOffset</var> </dt> <dd><p>Frame start offset</p></dd> <dt> <code>string</code> <var>$startDirection</var> </dt> <dd><p>Frame start direction</p></dd> <dt> <code>int|string|\Cake\Database\ExpressionInterface|null</code> <var>$endOffset</var> </dt> <dd><p>Frame end offset</p></dd> <dt> <code>string</code> <var>$endDirection</var> </dt> <dd><p>Frame end direction</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> WHen offsets are negative. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getConjunction"> getConjunction() <span class="label">public</span>  </h3> <pre data-language="php">getConjunction()</pre> <div class="description detailed"> <p>Gets the currently configured conjunction for the conditions at this level of the expression tree.</p> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getDefaultTypes"> getDefaultTypes() <span class="label">public</span>  </h3> <pre data-language="php">getDefaultTypes()</pre> <div class="description detailed"> <p>Gets default types of current type map.</p> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getName"> getName() <span class="label">public</span>  </h3> <pre data-language="php">getName()</pre> <div class="description detailed"> <p>Gets the name of the SQL function to be invoke in this expression.</p> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getReturnType"> getReturnType() <span class="label">public</span>  </h3> <pre data-language="php">getReturnType()</pre> <div class="description detailed"> <p>Gets the type of the value this object will generate.</p> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getTypeMap"> getTypeMap() <span class="label">public</span>  </h3> <pre data-language="php">getTypeMap()</pre> <div class="description detailed"> <p>Returns the existing type map.</p> <h4>Returns</h4> <div class="list"> <code>\Cake\Database\TypeMap</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="groups"> groups() <span class="label">public</span>  </h3> <pre data-language="php">groups(?int $start, ?int $end)</pre> <div class="description detailed"> <p>Adds a simple groups frame to the window.</p> <p>See <code>range()</code> for details.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>int|null</code> <var>$start</var> </dt> <dd><p>Frame start</p></dd> <dt> <code>int|null</code> <var>$end</var> <span class="label">optional</span> </dt> <dd><p>Frame end If not passed in, only frame start SQL will be generated.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="gt"> gt() <span class="label">public</span>  </h3> <pre data-language="php">gt(mixed $field, mixed $value, mixed $type)</pre> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field &gt; value".</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|\Cake\Database\ExpressionInterface</code> <var>$field</var> </dt> <dd><p>Database field to be compared against value</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>The value to be bound to $field for comparison</p></dd> <dt> <code>string|null</code> <var>$type</var> <span class="label">optional</span> </dt> <dd><p>the type name for $value as configured using the Type map.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="gte"> gte() <span class="label">public</span>  </h3> <pre data-language="php">gte(mixed $field, mixed $value, mixed $type)</pre> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field &gt;= value".</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|\Cake\Database\ExpressionInterface</code> <var>$field</var> </dt> <dd><p>Database field to be compared against value</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>The value to be bound to $field for comparison</p></dd> <dt> <code>string|null</code> <var>$type</var> <span class="label">optional</span> </dt> <dd><p>the type name for $value as configured using the Type map.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="hasNestedExpression"> hasNestedExpression() <span class="label">public</span>  </h3> <pre data-language="php">hasNestedExpression()</pre> <div class="description detailed"> <p>Returns true if this expression contains any other nested ExpressionInterface objects</p> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="in"> in() <span class="label">public</span>  </h3> <pre data-language="php">in(mixed $field, mixed $values, mixed $type)</pre> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field IN (value1, value2)".</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|\Cake\Database\ExpressionInterface</code> <var>$field</var> </dt> <dd><p>Database field to be compared against value</p></dd> <dt> <code>string|array|\Cake\Database\ExpressionInterface</code> <var>$values</var> </dt> <dd><p>the value to be bound to $field for comparison</p></dd> <dt> <code>string|null</code> <var>$type</var> <span class="label">optional</span> </dt> <dd><p>the type name for $value as configured using the Type map.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="isCallable"> isCallable() <span class="label">public</span>  </h3> <pre data-language="php">isCallable(mixed $c)</pre> <div class="description detailed"> <p>Check whether or not a callable is acceptable.</p> <p>We don't accept ['class', 'method'] style callbacks, as they often contain user input and arrays of strings are easy to sneak in.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>callable|string|array|\Cake\Database\ExpressionInterface</code> <var>$c</var> </dt> <dd><p>The callable to check.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> <p>Valid callable.</p> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="isNotNull"> isNotNull() <span class="label">public</span>  </h3> <pre data-language="php">isNotNull(mixed $field)</pre> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field IS NOT NULL".</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|\Cake\Database\ExpressionInterface</code> <var>$field</var> </dt> <dd><p>database field to be tested for not null</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="isNull"> isNull() <span class="label">public</span>  </h3> <pre data-language="php">isNull(mixed $field)</pre> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field IS NULL".</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|\Cake\Database\ExpressionInterface</code> <var>$field</var> </dt> <dd><p>database field to be tested for null</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="iterateParts"> iterateParts() <span class="label">public</span>  </h3> <pre data-language="php">iterateParts(callable $visitor)</pre> <div class="description detailed"> <p>Executes a callable function for each of the parts that form this expression.</p> <p>The callable function is required to return a value with which the currently visited part will be replaced. If the callable function returns null then the part will be discarded completely from this expression.</p> <p>The callback function will receive each of the conditions as first param and the key as second param. It is possible to declare the second parameter as passed by reference, this will enable you to change the key under which the modified part is stored.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>callable</code> <var>$visitor</var> </dt> <dd><p>The callable to apply to each part.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="like"> like() <span class="label">public</span>  </h3> <pre data-language="php">like(mixed $field, mixed $value, mixed $type)</pre> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field LIKE value".</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|\Cake\Database\ExpressionInterface</code> <var>$field</var> </dt> <dd><p>Database field to be compared against value</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>The value to be bound to $field for comparison</p></dd> <dt> <code>string|null</code> <var>$type</var> <span class="label">optional</span> </dt> <dd><p>the type name for $value as configured using the Type map.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="lt"> lt() <span class="label">public</span>  </h3> <pre data-language="php">lt(mixed $field, mixed $value, mixed $type)</pre> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field &lt; value".</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|\Cake\Database\ExpressionInterface</code> <var>$field</var> </dt> <dd><p>Database field to be compared against value</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>The value to be bound to $field for comparison</p></dd> <dt> <code>string|null</code> <var>$type</var> <span class="label">optional</span> </dt> <dd><p>the type name for $value as configured using the Type map.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="lte"> lte() <span class="label">public</span>  </h3> <pre data-language="php">lte(mixed $field, mixed $value, mixed $type)</pre> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field &lt;= value".</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|\Cake\Database\ExpressionInterface</code> <var>$field</var> </dt> <dd><p>Database field to be compared against value</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>The value to be bound to $field for comparison</p></dd> <dt> <code>string|null</code> <var>$type</var> <span class="label">optional</span> </dt> <dd><p>the type name for $value as configured using the Type map.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="not"> not() <span class="label">public</span>  </h3> <pre data-language="php">not(mixed $conditions, mixed $types)</pre> <div class="description detailed"> <p>Adds a new set of conditions to this level of the tree and negates the final result by prepending a NOT, it will look like "NOT ( (condition1) AND (conditions2) )" conjunction depends on the one currently configured for this object.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|array|\Cake\Database\ExpressionInterface</code> <var>$conditions</var> </dt> <dd><p>to be added and negated</p></dd> <dt> <code>array</code> <var>$types</var> <span class="label">optional</span> </dt> <dd><p>associative array of fields pointing to the type of the values that are being passed. Used for correctly binding values to statements.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="notEq"> notEq() <span class="label">public</span>  </h3> <pre data-language="php">notEq(mixed $field, mixed $value, mixed $type)</pre> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field != value".</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|\Cake\Database\ExpressionInterface</code> <var>$field</var> </dt> <dd><p>Database field to be compared against value</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>The value to be bound to $field for comparison</p></dd> <dt> <code>string|null</code> <var>$type</var> <span class="label">optional</span> </dt> <dd><p>the type name for $value as configured using the Type map. If it is suffixed with "[]" and the value is an array then multiple placeholders will be created, one per each value in the array.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="notExists"> notExists() <span class="label">public</span>  </h3> <pre data-language="php">notExists(\Cake\Database\ExpressionInterface $query)</pre> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "NOT EXISTS (...)".</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>\Cake\Database\ExpressionInterface</code> <var>$query</var> </dt> <dd><p>the inner query</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="notIn"> notIn() <span class="label">public</span>  </h3> <pre data-language="php">notIn(mixed $field, mixed $values, mixed $type)</pre> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field NOT IN (value1, value2)".</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|\Cake\Database\ExpressionInterface</code> <var>$field</var> </dt> <dd><p>Database field to be compared against value</p></dd> <dt> <code>array|\Cake\Database\ExpressionInterface</code> <var>$values</var> </dt> <dd><p>the value to be bound to $field for comparison</p></dd> <dt> <code>string|null</code> <var>$type</var> <span class="label">optional</span> </dt> <dd><p>the type name for $value as configured using the Type map.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="notLike"> notLike() <span class="label">public</span>  </h3> <pre data-language="php">notLike(mixed $field, mixed $value, mixed $type)</pre> <div class="description detailed"> <p>Adds a new condition to the expression object in the form "field NOT LIKE value".</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|\Cake\Database\ExpressionInterface</code> <var>$field</var> </dt> <dd><p>Database field to be compared against value</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>The value to be bound to $field for comparison</p></dd> <dt> <code>string|null</code> <var>$type</var> <span class="label">optional</span> </dt> <dd><p>the type name for $value as configured using the Type map.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="or"> or() <span class="label">public</span>  </h3> <pre data-language="php">or(mixed $conditions, mixed $types)</pre> <div class="description detailed"> <p>Returns a new QueryExpression object containing all the conditions passed and set up the conjunction to be "OR"</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>\Closure|string|array|\Cake\Database\ExpressionInterface</code> <var>$conditions</var> </dt> <dd><p>to be joined with OR</p></dd> <dt> <code>array</code> <var>$types</var> <span class="label">optional</span> </dt> <dd><p>associative array of fields pointing to the type of the values that are being passed. Used for correctly binding values to statements.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>\Cake\Database\Expression\QueryExpression</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="or_"> or_() <span class="label">public</span>  </h3> <pre data-language="php">or_(mixed $conditions, mixed $types)</pre> <div class="description detailed"> <p>Returns a new QueryExpression object containing all the conditions passed and set up the conjunction to be "OR"</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>\Closure|string|array|\Cake\Database\ExpressionInterface</code> <var>$conditions</var> </dt> <dd><p>to be joined with OR</p></dd> <dt> <code>array</code> <var>$types</var> <span class="label">optional</span> </dt> <dd><p>associative array of fields pointing to the type of the values that are being passed. Used for correctly binding values to statements.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>\Cake\Database\Expression\QueryExpression</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="order"> order() <span class="label">public</span>  </h3> <pre data-language="php">order(mixed $fields)</pre> <div class="description detailed"> <p>Adds one or more order clauses to the window.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>\Closure|(\Cake\Database\ExpressionInterface|string)[]|\Cake\Database\ExpressionInterface|string</code> <var>$fields</var> </dt> <dd><p>Order expressions</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="over"> over() <span class="label">public</span>  </h3> <pre data-language="php">over(?string $name)</pre> <div class="description detailed"> <p>Adds an empty <code>OVER()</code> window expression or a named window epression.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$name</var> <span class="label">optional</span> </dt> <dd><p>Window name</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="partition"> partition() <span class="label">public</span>  </h3> <pre data-language="php">partition(mixed $partitions)</pre> <div class="description detailed"> <p>Adds one or more partition expressions to the window.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>\Closure|(\Cake\Database\ExpressionInterface|string)[]|\Cake\Database\ExpressionInterface|string</code> <var>$partitions</var> </dt> <dd><p>Partition expressions</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="range"> range() <span class="label">public</span>  </h3> <pre data-language="php">range(mixed $start, mixed $end)</pre> <div class="description detailed"> <p>Adds a simple range frame to the window.</p> <p><code>$start</code>:</p> <ul> <li>
<code>0</code> - 'CURRENT ROW'</li> <li>
<code>null</code> - 'UNBOUNDED PRECEDING'</li> <li>offset - 'offset PRECEDING'</li> </ul> <p><code>$end</code>:</p> <ul> <li>
<code>0</code> - 'CURRENT ROW'</li> <li>
<code>null</code> - 'UNBOUNDED FOLLOWING'</li> <li>offset - 'offset FOLLOWING'</li> </ul> <p>If you need to use 'FOLLOWING' with frame start or 'PRECEDING' with frame end, use <code>frame()</code> instead.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>int|string|\Cake\Database\ExpressionInterface|null</code> <var>$start</var> </dt> <dd><p>Frame start</p></dd> <dt> <code>int|string|\Cake\Database\ExpressionInterface|null</code> <var>$end</var> <span class="label">optional</span> </dt> <dd><p>Frame end If not passed in, only frame start SQL will be generated.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="rows"> rows() <span class="label">public</span>  </h3> <pre data-language="php">rows(?int $start, ?int $end)</pre> <div class="description detailed"> <p>Adds a simple rows frame to the window.</p> <p>See <code>range()</code> for details.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>int|null</code> <var>$start</var> </dt> <dd><p>Frame start</p></dd> <dt> <code>int|null</code> <var>$end</var> <span class="label">optional</span> </dt> <dd><p>Frame end If not passed in, only frame start SQL will be generated.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setConjunction"> setConjunction() <span class="label">public</span>  </h3> <pre data-language="php">setConjunction(string $conjunction)</pre> <div class="description detailed"> <p>Changes the conjunction for the conditions at this level of the expression tree.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$conjunction</var> </dt> <dd><p>Value to be used for joining conditions</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setDefaultTypes"> setDefaultTypes() <span class="label">public</span>  </h3> <pre data-language="php">setDefaultTypes(array $types)</pre> <div class="description detailed"> <p>Overwrite the default type mappings for fields in the implementing object.</p> <p>This method is useful if you need to set type mappings that are shared across multiple functions/expressions in a query.</p> <p>To add a default without overwriting existing ones use <code>getTypeMap()-&gt;addDefaults()</code></p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$types</var> </dt> <dd><p>The array of types to set.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\Database\TypeMap::setDefaults()<br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setName"> setName() <span class="label">public</span>  </h3> <pre data-language="php">setName(string $name)</pre> <div class="description detailed"> <p>Sets the name of the SQL function to be invoke in this expression.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The name of the function</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setReturnType"> setReturnType() <span class="label">public</span>  </h3> <pre data-language="php">setReturnType(string $type)</pre> <div class="description detailed"> <p>Sets the type of the value this object will generate.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$type</var> </dt> <dd><p>The name of the type that is to be returned</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setTypeMap"> setTypeMap() <span class="label">public</span>  </h3> <pre data-language="php">setTypeMap(mixed $typeMap)</pre> <div class="description detailed"> <p>Creates a new TypeMap if $typeMap is an array, otherwise exchanges it for the given one.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array|\Cake\Database\TypeMap</code> <var>$typeMap</var> </dt> <dd><p>Creates a TypeMap if array, otherwise sets the given TypeMap</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="sql"> sql() <span class="label">public</span>  </h3> <pre data-language="php">sql(\Cake\Database\ValueBinder $generator)</pre> <div class="description detailed"> <p>Returns the string representation of this object so that it can be used in a SQL query. Note that values condition values are not included in the string, in their place placeholders are put and can be replaced by the quoted values accordingly.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>\Cake\Database\ValueBinder</code> <var>$generator</var> </dt> <dd><p>Placeholder generator object</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="traverse"> traverse() <span class="label">public</span>  </h3> <pre data-language="php">traverse(\Closure $visitor)</pre> <div class="description detailed"> <p>Traverses the tree structure of this query expression by executing a callback function for each of the conditions that are included in this object.</p> <p>Useful for compiling the final expression, or doing introspection in the structure.</p> <p>Callback function receives as only argument an instance of ExpressionInterface</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>\Closure</code> <var>$visitor</var> </dt> <dd><p>The callable to apply to all sub-expressions.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> </div> <div class="section"> <h2>Property Detail</h2> <div class="property-detail">  <h3 class="property-name" id="$_conditions"> <var>$_conditions</var>  <span class="label">protected</span> </h3> <div class="description detailed"> <p>A list of strings or other expression objects that represent the "branches" of the expression tree. For example one key of the array might look like "sum &gt; :value"</p> <h4>Type</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_conjunction"> <var>$_conjunction</var>  <span class="label">protected</span> </h3> <div class="description detailed"> <p>String to be used for joining each of the internal expressions this object internally stores for example "AND", "OR", etc.</p> <h4>Type</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_name"> <var>$_name</var>  <span class="label">protected</span> </h3> <div class="description detailed"> <p>The name of the function to be constructed when generating the SQL string</p> <h4>Type</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_returnType"> <var>$_returnType</var>  <span class="label">protected</span> </h3> <div class="description detailed"> <p>The type name this expression will return when executed</p> <h4>Type</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_typeMap"> <var>$_typeMap</var>  <span class="label">protected</span> </h3> <div class="description detailed"> <h4>Type</h4> <div class="list"> <code>\Cake\Database\TypeMap</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$filter"> <var>$filter</var>  <span class="label">protected</span> </h3> <div class="description detailed"> <h4>Type</h4> <div class="list"> <code>\Cake\Database\Expression\QueryExpression</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$window"> <var>$window</var>  <span class="label">protected</span> </h3> <div class="description detailed"> <h4>Type</h4> <div class="list"> <code>\Cake\Database\Expression\WindowExpression</code><br> </div> </div> </div> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–present The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="https://api.cakephp.org/4.1/class-Cake.Database.Expression.AggregateExpression.html" class="_attribution-link">https://api.cakephp.org/4.1/class-Cake.Database.Expression.AggregateExpression.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
