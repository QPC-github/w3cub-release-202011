
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>FallbackPasswordHasher (Class) - CakePHP 4.1 - W3cubDocs</title>
  
  <meta name="description" content="A password hasher that can use multiple different hashes where only one is the preferred one. This is useful when trying to migrate an existing &hellip;">
  <meta name="keywords" content="class, fallbackpasswordhasher, cakephp, cakephp~4.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/cakephp~4.1/class-cake.auth.fallbackpasswordhasher.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/cakephp~4.1.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cakephp~4.1/" class="_nav-link" title="" style="margin-left:0;">CakePHP 4.1</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _cakephp">
				
				
<h1> Class FallbackPasswordHasher </h1> <div class="description"> <p>A password hasher that can use multiple different hashes where only one is the preferred one. This is useful when trying to migrate an existing database of users from one password type to another.</p> </div> <div class="info"> <b>Namespace:</b> <a href="namespace-cake.auth">Cake\Auth</a><br> </div> <div class="section"> <h2>Properties summary</h2> <ul class="member-summary properties"> <li class="clearfix"> <div class="name"> <a href="trait-cake.core.instanceconfigtrait#%24_config">$_config</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array</code></div> <div class="description"> <p>Runtime config</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="trait-cake.core.instanceconfigtrait#%24_configInitialized">$_configInitialized</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>bool</code></div> <div class="description"> <p>Whether the config property has already been configured with defaults</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="class-cake.auth.fallbackpasswordhasher#%24_defaultConfig">$_defaultConfig</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array</code></div> <div class="description"> <p>Default config for this object.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="class-cake.auth.fallbackpasswordhasher#%24_hashers">$_hashers</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>\Cake\Auth\AbstractPasswordHasher[]</code></div> <div class="description"> <p>Holds the list of password hasher objects that will be used</p> </div> </li> </ul> </div> <div class="section"> <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <div> <a href="class-cake.auth.fallbackpasswordhasher#__construct">__construct()</a> <span class="label">public</span> <div class="description detailed"> <p>Constructor</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="trait-cake.core.instanceconfigtrait#_configDelete">_configDelete()</a> <span class="label">protected</span> <div class="description detailed"> <p>Deletes a single config key.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="trait-cake.core.instanceconfigtrait#_configRead">_configRead()</a> <span class="label">protected</span> <div class="description detailed"> <p>Reads a config key.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="trait-cake.core.instanceconfigtrait#_configWrite">_configWrite()</a> <span class="label">protected</span> <div class="description detailed"> <p>Writes a config key.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.auth.fallbackpasswordhasher#check">check()</a> <span class="label">public</span> <div class="description detailed"> <p>Verifies that the provided password corresponds to its hashed version</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="trait-cake.core.instanceconfigtrait#configShallow">configShallow()</a> <span class="label">public</span> <div class="description detailed"> <p>Merge provided config with existing config. Unlike <code>config()</code> which does a recursive merge for nested keys, this method does a simple merge.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="trait-cake.core.instanceconfigtrait#getConfig">getConfig()</a> <span class="label">public</span> <div class="description detailed"> <p>Returns the config.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="trait-cake.core.instanceconfigtrait#getConfigOrFail">getConfigOrFail()</a> <span class="label">public</span> <div class="description detailed"> <p>Returns the config for this specific key.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.auth.fallbackpasswordhasher#hash">hash()</a> <span class="label">public</span> <div class="description detailed"> <p>Generates password hash.</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="class-cake.auth.fallbackpasswordhasher#needsRehash">needsRehash()</a> <span class="label">public</span> <div class="description detailed"> <p>Returns true if the password need to be rehashed, with the first hasher present in the list of hashers</p> </div> </div>
</li> <li class="clearfix"> <div> <a href="trait-cake.core.instanceconfigtrait#setConfig">setConfig()</a> <span class="label">public</span> <div class="description detailed"> <p>Sets the config.</p> </div> </div>
</li> </ul> </div> <div class="section"> <h2>Method Detail</h2> <div class="method-detail">  <h3 class="method-name" id="__construct"> __construct() <span class="label">public</span>  </h3> <pre data-language="php">__construct(array $config)</pre> <div class="description detailed"> <p>Constructor</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$config</var> <span class="label">optional</span> </dt> <dd><p>configuration options for this object. Requires the <code>hashers</code> key to be present in the array with a list of other hashers to be used.</p></dd> </dl> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_configDelete"> _configDelete() <span class="label">protected</span>  </h3> <pre data-language="php">_configDelete(string $key)</pre> <div class="description detailed"> <p>Deletes a single config key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>Key to delete.</p></dd> </dl> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\Exception</code><br> if attempting to clobber existing config </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_configRead"> _configRead() <span class="label">protected</span>  </h3> <pre data-language="php">_configRead(?string $key)</pre> <div class="description detailed"> <p>Reads a config key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$key</var> </dt> <dd><p>Key to read.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_configWrite"> _configWrite() <span class="label">protected</span>  </h3> <pre data-language="php">_configWrite(mixed $key, mixed $value, mixed $merge)</pre> <div class="description detailed"> <p>Writes a config key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|array</code> <var>$key</var> </dt> <dd><p>Key to write to.</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>Value to write.</p></dd> <dt> <code>bool|string</code> <var>$merge</var> <span class="label">optional</span> </dt> <dd><p>True to merge recursively, 'shallow' for simple merge, false to overwrite, defaults to false.</p></dd> </dl> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\Exception</code><br> if attempting to clobber existing config </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="check"> check() <span class="label">public</span>  </h3> <pre data-language="php">check(string $password, string $hashedPassword)</pre> <div class="description detailed"> <p>Verifies that the provided password corresponds to its hashed version</p> <p>This will iterate over all configured hashers until one of them returns true.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$password</var> </dt> <dd><p>Plain text password to hash.</p></dd> <dt> <code>string</code> <var>$hashedPassword</var> </dt> <dd><p>Existing hashed password.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> <p>True if hashes match else false.</p> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="configShallow"> configShallow() <span class="label">public</span>  </h3> <pre data-language="php">configShallow(mixed $key, mixed $value)</pre> <div class="description detailed"> <p>Merge provided config with existing config. Unlike <code>config()</code> which does a recursive merge for nested keys, this method does a simple merge.</p> <p>Setting a specific value:</p> <pre data-language="php">$this-&gt;configShallow('key', $value);</pre> <p>Setting a nested value:</p> <pre data-language="php">$this-&gt;configShallow('some.nested.key', $value);</pre> <p>Updating multiple config settings at the same time:</p> <pre data-language="php">$this-&gt;configShallow(['one' =&gt; 'value', 'another' =&gt; 'value']);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|array</code> <var>$key</var> </dt> <dd><p>The key to set, or a complete array of configs.</p></dd> <dt> <code>mixed|null</code> <var>$value</var> <span class="label">optional</span> </dt> <dd><p>The value to set.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getConfig"> getConfig() <span class="label">public</span>  </h3> <pre data-language="php">getConfig(?string $key, mixed $default)</pre> <div class="description detailed"> <p>Returns the config.</p> <h3>Usage</h3> <p>Reading the whole config:</p> <pre data-language="php">$this-&gt;getConfig();</pre> <p>Reading a specific value:</p> <pre data-language="php">$this-&gt;getConfig('key');</pre> <p>Reading a nested value:</p> <pre data-language="php">$this-&gt;getConfig('some.nested.key');</pre> <p>Reading with default value:</p> <pre data-language="php">$this-&gt;getConfig('some-key', 'default-value');</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$key</var> <span class="label">optional</span> </dt> <dd><p>The key to get or null for the whole config.</p></dd> <dt> <code>mixed</code> <var>$default</var> <span class="label">optional</span> </dt> <dd><p>The return value when the key does not exist.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> <p>Configuration data at the named key or null if the key does not exist.</p> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getConfigOrFail"> getConfigOrFail() <span class="label">public</span>  </h3> <pre data-language="php">getConfigOrFail(string $key)</pre> <div class="description detailed"> <p>Returns the config for this specific key.</p> <p>The config value for this key must exist, it can never be null.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>The key to get.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> <p>Configuration data at the named key</p> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="hash"> hash() <span class="label">public</span>  </h3> <pre data-language="php">hash(string $password)</pre> <div class="description detailed"> <p>Generates password hash.</p> <p>Uses the first password hasher in the list to generate the hash</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$password</var> </dt> <dd><p>Plain text password to hash.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string|false</code><br> <p>Password hash or false</p> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="needsRehash"> needsRehash() <span class="label">public</span>  </h3> <pre data-language="php">needsRehash(string $password)</pre> <div class="description detailed"> <p>Returns true if the password need to be rehashed, with the first hasher present in the list of hashers</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$password</var> </dt> <dd><p>The password to verify</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setConfig"> setConfig() <span class="label">public</span>  </h3> <pre data-language="php">setConfig(mixed $key, mixed $value, mixed $merge)</pre> <div class="description detailed"> <p>Sets the config.</p> <h3>Usage</h3> <p>Setting a specific value:</p> <pre data-language="php">$this-&gt;setConfig('key', $value);</pre> <p>Setting a nested value:</p> <pre data-language="php">$this-&gt;setConfig('some.nested.key', $value);</pre> <p>Updating multiple config settings at the same time:</p> <pre data-language="php">$this-&gt;setConfig(['one' =&gt; 'value', 'another' =&gt; 'value']);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|array</code> <var>$key</var> </dt> <dd><p>The key to set, or a complete array of configs.</p></dd> <dt> <code>mixed|null</code> <var>$value</var> <span class="label">optional</span> </dt> <dd><p>The value to set.</p></dd> <dt> <code>bool</code> <var>$merge</var> <span class="label">optional</span> </dt> <dd><p>Whether to recursively merge or overwrite existing config, defaults to true.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\Exception</code><br> When trying to set a key that is invalid. </div> </div> </div> </div> <div class="section"> <h2>Property Detail</h2> <div class="property-detail">  <h3 class="property-name" id="$_config"> <var>$_config</var>  <span class="label">protected</span> </h3> <div class="description detailed"> <p>Runtime config</p> <h4>Type</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_configInitialized"> <var>$_configInitialized</var>  <span class="label">protected</span> </h3> <div class="description detailed"> <p>Whether the config property has already been configured with defaults</p> <h4>Type</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_defaultConfig"> <var>$_defaultConfig</var>  <span class="label">protected</span> </h3> <div class="description detailed"> <p>Default config for this object.</p> <h4>Type</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_hashers"> <var>$_hashers</var>  <span class="label">protected</span> </h3> <div class="description detailed"> <p>Holds the list of password hasher objects that will be used</p> <h4>Type</h4> <div class="list"> <code>\Cake\Auth\AbstractPasswordHasher[]</code><br> </div> </div> </div> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–present The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="https://api.cakephp.org/4.1/class-Cake.Auth.FallbackPasswordHasher.html" class="_attribution-link">https://api.cakephp.org/4.1/class-Cake.Auth.FallbackPasswordHasher.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
