
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>update.manager.inc - Drupal 8 - W3cubDocs</title>
  
  <meta name="description" content=" Administrative screens and processing functions of the Update Manager module. ">
  <meta name="keywords" content="update, manager, inc, drupal, drupal~8">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/drupal~8/core-modules-update-update.manager.inc/8.1.x.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/drupal~8.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/drupal~8/" class="_nav-link" title="" style="margin-left:0;">Drupal 8</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _drupal">
				
				
<h1 id="page-subtitle">update.manager.inc</h1>      <p>Administrative screens and processing functions of the Update Manager module.</p> <p>This allows site administrators with the 'administer software updates' permission to either upgrade existing projects, or download and install new ones, so long as the killswitch setting ('allow_authorize_operations') is not FALSE.</p> <p>To install new code, the administrator is prompted for either the URL of an archive file, or to directly upload the archive file. The archive is loaded into a temporary location, extracted, and verified. If everything is successful, the user is redirected to <a href="https://api.drupal.org/api/drupal/core%21authorize.php/8.1.x" title="Administrative script for running authorized file operations." class="local">authorize.php</a> to type in file transfer credentials and authorize the installation to proceed with elevated privileges, such that the extracted files can be copied out of the temporary location and into the live web root.</p> <p>Updating existing code is a more elaborate process. The first step is a selection form where the user is presented with a table of installed projects that are missing newer releases. The user selects which projects they wish to update, and presses the "Download updates" button to continue. This sets up a batch to fetch all the selected releases, and redirects to admin/update/download to display the batch progress bar as it runs. Each batch operation is responsible for downloading a single file, extracting the archive, and verifying the contents. If there are any errors, the user is redirected back to the first page with the error messages. If all downloads were extracted and verified, the user is instead redirected to admin/update/ready, a landing page which reminds them to backup their database and asks if they want to put the site offline during the update. Once the user presses the "Install updates" button, they are redirected to <a href="https://api.drupal.org/api/drupal/core%21authorize.php/8.1.x" title="Administrative script for running authorized file operations." class="local">authorize.php</a> to supply their web root file access credentials. The authorized operation (which lives in <a href="../core-modules-update-update.authorize.inc/8.1.x" title="Callbacks and related functions invoked by authorize.php to update projects." class="local">update.authorize.inc</a>) sets up a batch to copy each extracted update from the temporary location into the live web root.</p> <h3>File</h3> core/modules/update/update.manager.inc  <h3>Functions</h3>  <table> <thead> <tr> <th scope="col"> Name </th> <th scope="col"> Description </th> </tr> </thead> <tbody> <tr> <td data-th="Name"> <a href="function/update_manager_archive_extract/8.1.x">update_manager_archive_extract</a> </td> <td data-th="Description"> Unpacks a downloaded archive file. </td> </tr> <tr> <td data-th="Name"> <a href="function/update_manager_archive_verify/8.1.x">update_manager_archive_verify</a> </td> <td data-th="Description"> Verifies an archive after it has been downloaded and extracted. </td> </tr> <tr> <td data-th="Name"> <a href="function/update_manager_batch_project_get/8.1.x">update_manager_batch_project_get</a> </td> <td data-th="Description"> Implements <a href="../core-lib-drupal-core-form-form.api.php/function/callback_batch_operation/8.1.x" title="Perform a single batch operation." class="local">callback_batch_operation</a>(). </td> </tr> <tr> <td data-th="Name"> <a href="function/update_manager_download_batch_finished/8.1.x">update_manager_download_batch_finished</a> </td> <td data-th="Description"> Batch callback: Performs actions when the download batch is completed. </td> </tr> <tr> <td data-th="Name"> <a href="function/update_manager_file_get/8.1.x">update_manager_file_get</a> </td> <td data-th="Description"> Copies a file from the specified URL to the temporary directory for updates. </td> </tr> <tr> <td data-th="Name"> <a href="function/update_manager_local_transfers_allowed/8.1.x">update_manager_local_transfers_allowed</a> </td> <td data-th="Description"> Determines if file transfers will be performed locally. </td> </tr> <tr> <td data-th="Name"> <a href="function/_update_manager_check_backends/8.1.x">_update_manager_check_backends</a> </td> <td data-th="Description"> Checks for file transfer backends and prepares a form fragment about them. </td> </tr> </tbody> </table>
<div class="_attribution">
  <p class="_attribution-p">
    © 2001–2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/core!modules!update!update.manager.inc/8.1.x" class="_attribution-link">https://api.drupal.org/api/drupal/core!modules!update!update.manager.inc/8.1.x</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
