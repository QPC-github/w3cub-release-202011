
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Callback_allowed_values_function - Drupal 8 - W3cubDocs</title>
  
  <meta name="description" content=" Provide the allowed values for a &#39;list_&#42;&#39; field. ">
  <meta name="keywords" content="function, callback, allowed, values, drupal, drupal~8">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/drupal~8/core-modules-options-options.api.php/function/callback_allowed_values_function/8.1.x.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/drupal~8.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/drupal~8/" class="_nav-link" title="" style="margin-left:0;">Drupal 8</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _drupal">
				
				
<h1 id="page-subtitle">function callback_allowed_values_function</h1>     <pre class="signature">callback_allowed_values_function(FieldStorageDefinitionInterface $definition, FieldableEntityInterface $entity = NULL, &amp;$cacheable = TRUE)</pre> <p>Provide the allowed values for a 'list_*' field.</p> <p>Callback for <a href="../../../core-modules-options-options.module/function/options_allowed_values/8.1.x" title="Returns the array of allowed values for a list field." class="local">options_allowed_values</a>().</p> <p>'list_*' fields can specify a callback to define the set of their allowed values using the 'allowed_values_function' storage setting.</p> <p>That function will be called:</p> <ul> <li>either in the context of a specific entity, which is then provided as the $entity parameter,</li> <li>or for the field generally without the context of any specific entity or entity bundle (typically, Views needing a list of values for an exposed filter), in which case the $entity parameter is NULL.</li> </ul> <p>This lets the callback restrict the set of allowed values or adjust the labels depending on some conditions on the containing entity.</p> <p>For consistency, the set of values returned when an $entity is provided should be a subset of the values returned when no $entity is provided.</p> <h3>Parameters</h3> <p> <strong><a href="../../../core-lib-drupal-core-field-fieldstoragedefinitioninterface.php/interface/fieldstoragedefinitioninterface/8.1.x" title="Defines an interface for entity field storage definitions." class="local">\Drupal\Core\Field\FieldStorageDefinitionInterface</a> $definition</strong>: The field storage definition.</p> <p><strong>\Drupal\Core\Entity\FieldableEntityInterface|null $entity</strong>: (optional) The entity context if known, or NULL if the allowed values are being collected without the context of a specific entity.</p> <p><strong>bool &amp;$cacheable</strong>: (optional) If an $entity is provided, the $cacheable parameter should be modified by reference and set to FALSE if the set of allowed values returned was specifically adjusted for that entity and cannot not be reused for other entities. Defaults to TRUE.</p> <h3>Return value</h3> <p> array The array of allowed values. Keys of the array are the raw stored values (number or text), values of the array are the display labels. If $entity is NULL, you should return the list of all the possible allowed values in any context so that other code (e.g. Views filters) can support the allowed values for all possible entities and bundles.</p> <h3>See also</h3> <p> <a href="../../../core-modules-options-options.module/function/options_allowed_values/8.1.x" title="Returns the array of allowed values for a list field." class="local">options_allowed_values</a>()</p> <p><a href="https://api.drupal.org/api/drupal/core%21modules%21options%21tests%21options_test%21options_test.module/function/options_test_allowed_values_callback/8.1.x" title="Implements callback_allowed_values_function()." class="local">options_test_allowed_values_callback</a>()</p> <p><a href="https://api.drupal.org/api/drupal/core%21modules%21options%21tests%21options_test%21options_test.module/function/options_test_dynamic_values_callback/8.1.x" title="Implements callback_allowed_values_function()." class="local">options_test_dynamic_values_callback</a>()</p> <h3>Related topics</h3>   <dl api-related-topics> <dt><a href="../../../core-core.api.php/group/callbacks/8.1.x">Callbacks</a></dt> <dd>Callback function signatures.</dd> </dl>   <h3>File</h3> 
<dl> <dt>core/modules/options/<a href="https://api.drupal.org/api/drupal/core%21modules%21options%21options.api.php/8.1.x">options.api.php</a>, line 82</dt> <dd>Hooks provided by the Options module.</dd> </dl> <h3>Code</h3> <pre class="php" data-language="php">function callback_allowed_values_function(FieldStorageDefinitionInterface $definition, FieldableEntityInterface $entity = NULL, &amp;$cacheable = TRUE) {
  if (isset($entity) &amp;&amp; ($entity-&gt;bundle() == 'not_a_programmer')) {
    $values = array(
      1 =&gt; 'One',
      2 =&gt; 'Two',
    );
  }
  else {
    $values = array(
      'Group 1' =&gt; array(
        0 =&gt; 'Zero',
        1 =&gt; 'One',
      ),
      'Group 2' =&gt; array(
        2 =&gt; 'Two',
      ),
    );
  }

  return $values;
}
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © 2001–2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/core!modules!options!options.api.php/function/callback_allowed_values_function/8.1.x" class="_attribution-link">https://api.drupal.org/api/drupal/core!modules!options!options.api.php/function/callback_allowed_values_function/8.1.x</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
