
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Yarn Autoclean - Yarn - W3cubDocs</title>
  
  <meta name="description" content=" Cleans and removes unnecessary files from package dependencies. ">
  <meta name="keywords" content="yarn, autoclean">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/yarn/cli/autoclean.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/yarn.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/yarn/" class="_nav-link" title="" style="margin-left:0;">Yarn</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>yarn autoclean</h1>  <p class="lead">Cleans and removes unnecessary files from package dependencies.</p> <h3 id="yarn-autoclean--i--init--f--force-">
<code>yarn autoclean [-I/--init] [-F/--force]</code> </h3> <p>The <code>autoclean</code> command frees up space by removing unnecessary files and folders from dependencies. It reduces the number of files in your project’s <code>node_modules</code> folder which is useful in an environment where packages are checked into version control directly.</p> <p><em>Note: This command is considered for advanced use cases only. Unless you are experiencing issues with the amount of files that are installed as part of <code>node_modules</code> it is not recommended to use this command. It will permanently delete files in <code>node_modules</code> which could cause packages to stop working.</em></p> <p>Autoclean functionality is <strong>disabled</strong> by default. To enable it, manually create a <code>.yarnclean</code> file, or run <code>yarn autoclean --init</code> to create the file with default entries. The <code>.yarnclean</code> file should be added to version control.</p> <p>When the <code>.yarnclean</code> file exists in a package, autoclean functionality will be enabled. The clean will be performed:</p> <ul> <li>After an <code>install</code>
</li> <li>After an <code>add</code>
</li> <li>If <code>yarn autoclean --force</code> is run</li> </ul> <p>The clean is performed by reading each line of the <code>.yarnclean</code> file and using each as a glob pattern of files to delete.</p> <p><strong>Options:</strong></p> <p><code>-I/--init</code> : Creates the <code>.yarnclean</code> file if it does not exist, and adds the default entries. This file should then be reviewed and edited to customize which files will be cleaned. If the file already exists, it will not be overwritten.</p> <p><code>-F/--force</code> : If a <code>.yarnclean</code> file exists, run the clean process. If the file does not exist, do nothing.</p> <p><strong>Defaults:</strong></p> <p>When the <code>yarn autoclean --init</code> command is used to create a <code>.yarnclean</code> file, it will be pre-populated with a set of default items for deletion. This default list is a guess at what is likely not needed. It is impossible to predict all directories and files that are actually unnecessary for all existing and future NPM packages, so this default list may cause a package to no longer work.</p> <p>It is <strong>highly recommended</strong> that you manually review the default entries in <code>.yarnclean</code> and customize them to fit your needs.</p> <p>If you discover the autoclean process is deleting files that are needed for a package to work properly, then you should remove the corresponding entry from the <code>.yarnclean</code> file.</p> <p><strong>Example:</strong></p> <p>You decide all YAML and Markdown files in all your dependencies installed in <code>node_modules</code> can be safely deleted. You make a <code>.yarnclean</code> file containing:</p> <pre data-language="">*.yaml
*.md</pre> <p>You then run <code>yarn install</code> or <code>yarn autoclean --force</code>. The clean process will delete all <code>*.yaml</code> and <code>*.md</code> files within <code>node_modules/</code> recursively (including nested transitive dependencies).</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2016–present Yarn Contributors<br>Licensed under the BSD License.<br>
    <a href="https://yarnpkg.com/en/docs/cli/autoclean" class="_attribution-link">https://yarnpkg.com/en/docs/cli/autoclean</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
