
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>tf.contrib.eager.Network - TensorFlow 1.15 - W3cubDocs</title>
  
  <meta name="description" content=" Represents the composition of a set of Layers. ">
  <meta name="keywords" content="tf, contrib, eager, network, tensorflow, tensorflow~1.15">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/tensorflow~1.15/contrib/eager/network.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/tensorflow~1.15.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/tensorflow~1.15/" class="_nav-link" title="" style="margin-left:0;">TensorFlow 1.15</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _tensorflow">
				
				
<h1 class="devsite-page-title">tf.contrib.eager.Network</h1>       <p>Represents the composition of a set of Layers.</p> <p>Inherits From: <a href="../../layers/layer"><code translate="no" dir="ltr">Layer</code></a></p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
tf.contrib.eager.Network(
    name=None
)
</pre>  <p><em>Deprecated</em>. Please inherit from <a href="../../keras/model"><code translate="no" dir="ltr">tf.keras.Model</code></a>, and see its documentation for details. <a href="../../keras/model"><code translate="no" dir="ltr">tf.keras.Model</code></a> should be a drop-in replacement for <code translate="no" dir="ltr">tfe.Network</code> in most cases, but note that <code translate="no" dir="ltr">track_layer</code> is no longer necessary or supported. Instead, <code translate="no" dir="ltr">Layer</code> instances are tracked on attribute assignment (see the section of <a href="../../keras/model"><code translate="no" dir="ltr">tf.keras.Model</code></a>'s documentation on subclassing). Since the output of <code translate="no" dir="ltr">track_layer</code> is often assigned to an attribute anyway, most code can be ported by simply removing the <code translate="no" dir="ltr">track_layer</code> calls.</p> <p><a href="../../keras/model"><code translate="no" dir="ltr">tf.keras.Model</code></a> works with all TensorFlow <code translate="no" dir="ltr">Layer</code> instances, including those from <a href="../../layers"><code translate="no" dir="ltr">tf.layers</code></a>, but switching to the <a href="../../keras/layers"><code translate="no" dir="ltr">tf.keras.layers</code></a> versions along with the migration to <a href="../../keras/model"><code translate="no" dir="ltr">tf.keras.Model</code></a> is recommended, since it will preserve variable names. Feel free to import it with an alias to avoid excess typing :).</p> <p><code translate="no" dir="ltr">Network</code> implements the <code translate="no" dir="ltr">Layer</code> interface and adds convenience methods for managing sub-<code translate="no" dir="ltr">Layer</code>s, such as listing variables.</p> <p><code translate="no" dir="ltr">Layer</code>s (including other <code translate="no" dir="ltr">Network</code>s) should be added via <code translate="no" dir="ltr">track_layer</code>. They can then be used when overriding the <a href="https://www.tensorflow.org/agents/api_docs/python/tf_agents/networks/network/DistributionNetwork#call"><code translate="no" dir="ltr">Network.call</code></a> method:</p> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">class TwoLayerNetwork(tfe.Network):

  def __init__(self, name):
    super(TwoLayerNetwork, self).__init__(name=name)
    self.layer_one = self.track_layer(tf.compat.v1.layers.Dense(16,
    input_shape=(8,)))
    self.layer_two = self.track_layer(tf.compat.v1.layers.Dense(1,
    input_shape=(16,)))

  def call(self, inputs):
    return self.layer_two(self.layer_one(inputs))
</pre> <p>After constructing an object and calling the <code translate="no" dir="ltr">Network</code>, a list of variables created by tracked <code translate="no" dir="ltr">Layer</code>s is available via <a href="https://www.tensorflow.org/agents/api_docs/python/tf_agents/networks/network/Network#variables"><code translate="no" dir="ltr">Network.variables</code></a>:</p> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">net = TwoLayerNetwork(name="net")
output = net(tf.ones([1, 8]))
print([v.name for v in net.variables])
</pre> <p>This example prints variable names, one kernel and one bias per <a href="../../layers/dense"><code translate="no" dir="ltr">tf.compat.v1.layers.Dense</code></a> layer:</p> <pre class="prettyprint" translate="no" dir="ltr" data-language="cpp">['net/dense/kernel:0',
 'net/dense/bias:0',
 'net/dense_1/kernel:0',
 'net/dense_1/bias:0']
</pre> <p>These variables can be passed to a <code translate="no" dir="ltr">Saver</code> (<a href="../../train/saver"><code translate="no" dir="ltr">tf.compat.v1.train.Saver</code></a>, or <a href="saver"><code translate="no" dir="ltr">tf.contrib.eager.Saver</code></a> when executing eagerly) to save or restore the <code translate="no" dir="ltr">Network</code>, typically alongside a global step and <a href="../../train/optimizer"><code translate="no" dir="ltr">tf.compat.v1.train.Optimizer</code></a> variables when checkpointing during training.</p> <p>Note that the semantics of calling a <code translate="no" dir="ltr">Network</code> with graph execution (i.e. not executing eagerly) may change slightly in the future. Currently stateful ops are pruned from the graph unless they or something that depends on them is executed in a session, but this behavior is not consistent with eager execution (where stateful ops are executed eagerly). <code translate="no" dir="ltr">Layer</code>s from <a href="../../layers"><code translate="no" dir="ltr">tf.layers</code></a> do not depend on this pruning and so will not be affected, but <code translate="no" dir="ltr">Network</code>s which rely on stateful ops being added to the graph but not executed (e.g. via custom <code translate="no" dir="ltr">Layer</code>s which manage stateful ops) may break with this change.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">name</code> </td> <td> The name to use for this <code translate="no" dir="ltr">Network</code>. If specified, it must be unique in the context where this <code translate="no" dir="ltr">Network</code> is first (1) added to another <code translate="no" dir="ltr">Network</code> (in which case it must not share a name with other <code translate="no" dir="ltr">Layers</code> added to that <code translate="no" dir="ltr">Network</code>), or (2) built/called (in which case no other 'top-level' <code translate="no" dir="ltr">Network</code>s may share this name). If unspecified or None, the <code translate="no" dir="ltr">Network</code> will be named using its class name, with a number appended if necessary for uniqueness (e.g. MyNetwork -&gt; 'my_network_1'). </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Raises</th></tr> 
<tr> <td> <code translate="no" dir="ltr">ValueError</code> </td> <td> If <code translate="no" dir="ltr">name</code> is not valid. Note that some naming errors will instead be raised when the <code translate="no" dir="ltr">Network</code> is called. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Attributes</th></tr> 
<tr> <td> <code translate="no" dir="ltr">graph</code> </td> <td> DEPRECATED FUNCTION <aside class="warning"><strong>Warning:</strong><span> THIS FUNCTION IS DEPRECATED. It will be removed in a future version. Instructions for updating: Stop using this property because tf.layers layers no longer track their graph. </span></aside>
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">layers</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">scope_name</code> </td> <td> 
</td> </tr> </table> <h2 id="methods" data-text="Methods" tabindex="0">Methods</h2> <h3 id="get_layer" data-text="get_layer" tabindex="0"><code translate="no" dir="ltr">get_layer</code></h3> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/contrib/eager/python/network.py#L413-L447">View source</a></p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
get_layer(
    name=None, index=None
)
</pre> <p>Get a contained <a href="../../layers/layer"><code translate="no" dir="ltr">tf.compat.v1.layers.Layer</code></a> either by name or index.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">name</code> </td> <td> String matching one of the names of a contained <code translate="no" dir="ltr">Layer</code>. Note that the names of <code translate="no" dir="ltr">Layer</code>s added to <code translate="no" dir="ltr">Network</code>s may not be unique when doing layer sharing (i.e. adding a <code translate="no" dir="ltr">Layer</code> to this <code translate="no" dir="ltr">Network</code> which was already added to another <code translate="no" dir="ltr">Network</code>). The lowest index <code translate="no" dir="ltr">Layer</code> with a matching name will be returned. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">index</code> </td> <td> Integer in [0, number of layers). Layers are assigned an index by the order they are added. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> A <a href="../../layers/layer"><code translate="no" dir="ltr">tf.compat.v1.layers.Layer</code></a> object. </td> </tr> 
</table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Raises</th></tr> 
<tr> <td> <code translate="no" dir="ltr">ValueError</code> </td> <td> If neither or both of 'index' or 'name' is specified, or the lookup failed. </td> </tr> </table> <h3 id="track_layer" data-text="track_layer" tabindex="0"><code translate="no" dir="ltr">track_layer</code></h3> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/contrib/eager/python/network.py#L350-L411">View source</a></p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
track_layer(
    layer
)
</pre> <p>Track a Layer in this Network.</p> <p><code translate="no" dir="ltr">Network</code> requires that all <code translate="no" dir="ltr">Layer</code>s used in <code translate="no" dir="ltr">call()</code> be tracked so that the <code translate="no" dir="ltr">Network</code> can export a complete list of variables.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">layer</code> </td> <td> A <a href="../../layers/layer"><code translate="no" dir="ltr">tf.compat.v1.layers.Layer</code></a> object. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> The passed in <code translate="no" dir="ltr">layer</code>. </td> </tr> 
</table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Raises</th></tr> 
<tr> <td> <code translate="no" dir="ltr">RuntimeError</code> </td> <td> If <strong>init</strong> has not been called. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">TypeError</code> </td> <td> If <code translate="no" dir="ltr">layer</code> is the wrong type. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">ValueError</code> </td> <td> If a <code translate="no" dir="ltr">Layer</code> with the same name has already been added. </td> </tr> </table>  <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0"> </devsite-page-rating><div class="_attribution">
  <p class="_attribution-p">
    © 2020 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 3.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r1.15/api_docs/python/tf/contrib/eager/Network" class="_attribution-link">https://www.tensorflow.org/versions/r1.15/api_docs/python/tf/contrib/eager/Network</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
