
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>tf.contrib.learn.Experiment - TensorFlow 1.15 - W3cubDocs</title>
  
  <meta name="description" content=" Experiment is a class containing all information needed to train a model. ">
  <meta name="keywords" content="tf, contrib, learn, experiment, tensorflow, tensorflow~1.15">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/tensorflow~1.15/contrib/learn/experiment.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/tensorflow~1.15.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/tensorflow~1.15/" class="_nav-link" title="" style="margin-left:0;">TensorFlow 1.15</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _tensorflow">
				
				
<h1 class="devsite-page-title">tf.contrib.learn.Experiment</h1>       <p>Experiment is a class containing all information needed to train a model.</p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
tf.contrib.learn.Experiment(
    estimator, train_input_fn, eval_input_fn, eval_metrics=None, train_steps=None,
    eval_steps=100, train_monitors=None, eval_hooks=None, local_eval_frequency=None,
    eval_delay_secs=120, continuous_eval_throttle_secs=60, min_eval_frequency=None,
    delay_workers_by_global_step=False, export_strategies=None,
    train_steps_per_iteration=None, checkpoint_and_export=False,
    saving_listeners=None, check_interval_secs=5
)
</pre>  <p>THIS CLASS IS DEPRECATED. See <a href="https://www.tensorflow.org/code/tensorflow/contrib/learn/README.md">contrib/learn/README.md</a> for general migration instructions.</p> <p>After an experiment is created (by passing an Estimator and inputs for training and evaluation), an Experiment instance knows how to invoke training and eval loops in a sensible fashion for distributed training.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">estimator</code> </td> <td> Object implementing Estimator interface, which could be a combination of <a href="trainable"><code translate="no" dir="ltr">tf.contrib.learn.Trainable</code></a> and <a href="evaluable"><code translate="no" dir="ltr">tf.contrib.learn.Evaluable</code></a> (deprecated), or <a href="../../estimator/estimator"><code translate="no" dir="ltr">tf.estimator.Estimator</code></a>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">train_input_fn</code> </td> <td> function, returns features and labels for training. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">eval_input_fn</code> </td> <td> function, returns features and labels for evaluation. If <code translate="no" dir="ltr">eval_steps</code> is <code translate="no" dir="ltr">None</code>, this should be configured only to produce for a finite number of batches (generally, 1 epoch over the evaluation data). </td> </tr>
<tr> <td> <code translate="no" dir="ltr">eval_metrics</code> </td> <td> <code translate="no" dir="ltr">dict</code> of string, metric function. If <code translate="no" dir="ltr">None</code>, default set is used. This should be <code translate="no" dir="ltr">None</code> if the <code translate="no" dir="ltr">estimator</code> is <a href="../../estimator/estimator"><code translate="no" dir="ltr">tf.estimator.Estimator</code></a>. If metrics are provided they will be <em>appended</em> to the default set. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">train_steps</code> </td> <td> Perform this many steps of training. <code translate="no" dir="ltr">None</code>, the default, means train forever. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">eval_steps</code> </td> <td> <code translate="no" dir="ltr">evaluate</code> runs until input is exhausted (or another exception is raised), or for <code translate="no" dir="ltr">eval_steps</code> steps, if specified. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">train_monitors</code> </td> <td> A list of monitors to pass to the <code translate="no" dir="ltr">Estimator</code>'s <code translate="no" dir="ltr">fit</code> function. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">eval_hooks</code> </td> <td> A list of <code translate="no" dir="ltr">SessionRunHook</code> hooks to pass to the <code translate="no" dir="ltr">Estimator</code>'s <code translate="no" dir="ltr">evaluate</code> function. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">local_eval_frequency</code> </td> <td> (applies only to local_run) Frequency of running eval in steps. If <code translate="no" dir="ltr">None</code>, runs evaluation only at the end of training. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">eval_delay_secs</code> </td> <td> Start evaluating after waiting for this many seconds. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">continuous_eval_throttle_secs</code> </td> <td> Do not re-evaluate unless the last evaluation was started at least this many seconds ago for continuous_eval(). </td> </tr>
<tr> <td> <code translate="no" dir="ltr">min_eval_frequency</code> </td> <td> (applies only to train_and_evaluate). the minimum number of steps between evaluations. Of course, evaluation does not occur if no new snapshot is available, hence, this is the minimum. If 0, the evaluation will only happen after training. If None, defaults to 1. To avoid checking for new checkpoints too frequent, the interval is further limited to be at least check_interval_secs between checks. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">delay_workers_by_global_step</code> </td> <td> if <code translate="no" dir="ltr">True</code> delays training workers based on global step instead of time. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">export_strategies</code> </td> <td> Iterable of <code translate="no" dir="ltr">ExportStrategy</code>s, or a single one, or <code translate="no" dir="ltr">None</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">train_steps_per_iteration</code> </td> <td> (applies only to continuous_train_and_eval). Perform this many (integer) number of train steps for each training-evaluation iteration. With a small value, the model will be evaluated more frequently with more checkpoints saved. If <code translate="no" dir="ltr">None</code>, will use a default value (which is smaller than <code translate="no" dir="ltr">train_steps</code> if provided). </td> </tr>
<tr> <td> <code translate="no" dir="ltr">checkpoint_and_export</code> </td> <td> (applies only to train_and_evaluate). If <code translate="no" dir="ltr">True</code>, performs intermediate model checkpoints and exports during the training process, rather than only once model training is complete. This parameter is experimental and may be changed or removed in the future. Setting this parameter leads to the following: the value of <code translate="no" dir="ltr">min_eval_frequency</code> will be ignored, and the number of steps between evaluations and exports will instead be determined by the Estimator configuration parameters <code translate="no" dir="ltr">save_checkpoints_secs</code> and <code translate="no" dir="ltr">save_checkpoints_steps</code>. Also, this parameter leads to the creation of a default <code translate="no" dir="ltr">CheckpointSaverHook</code> instead of a <code translate="no" dir="ltr">ValidationMonitor</code>, so the provided <code translate="no" dir="ltr">train_monitors</code> will need to be adjusted accordingly. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">saving_listeners</code> </td> <td> list of <code translate="no" dir="ltr">CheckpointSaverListener</code> objects. Used by tf.estimator.Estimator for callbacks that run immediately before or after checkpoint savings. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">check_interval_secs</code> </td> <td> Minimum time between subsequent checks for a new checkpoint. This mostly applies if both min_eval_frequency and the time spent per training step is low. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Raises</th></tr> 
<tr> <td> <code translate="no" dir="ltr">ValueError</code> </td> <td> if <code translate="no" dir="ltr">estimator</code> does not implement Estimator interface, or if export_strategies has the wrong type. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Attributes</th></tr> 
<tr> <td> <code translate="no" dir="ltr">estimator</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">eval_metrics</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">eval_steps</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">train_steps</code> </td> <td> 
</td> </tr> </table> <h2 id="methods" data-text="Methods" tabindex="0">Methods</h2> <h3 id="continuous_eval" data-text="continuous_eval" tabindex="0"><code translate="no" dir="ltr">continuous_eval</code></h3> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/contrib/learn/python/learn/experiment.py#L568-L580">View source</a></p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
continuous_eval(
    delay_secs=None, throttle_delay_secs=None, evaluate_checkpoint_only_once=True,
    continuous_eval_predicate_fn=None, name='continuous'
)
</pre> <h3 id="continuous_eval_on_train_data" data-text="continuous_eval_on_train_data" tabindex="0"><code translate="no" dir="ltr">continuous_eval_on_train_data</code></h3> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/contrib/learn/python/learn/experiment.py#L582-L593">View source</a></p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
continuous_eval_on_train_data(
    delay_secs=None, throttle_delay_secs=None, continuous_eval_predicate_fn=None,
    name='continuous_on_train_data'
)
</pre> <h3 id="continuous_train_and_eval" data-text="continuous_train_and_eval" tabindex="0"><code translate="no" dir="ltr">continuous_train_and_eval</code></h3> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/contrib/learn/python/learn/experiment.py#L691-L793">View source</a></p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
continuous_train_and_eval(
    continuous_eval_predicate_fn=None
)
</pre> <p>Interleaves training and evaluation. (experimental)</p> <aside class="warning"><strong>Warning:</strong><span> THIS FUNCTION IS EXPERIMENTAL. It may change or be removed at any time, and without warning.</span></aside> <p>The frequency of evaluation is controlled by the <code translate="no" dir="ltr">train_steps_per_iteration</code> (via constructor). The model will be first trained for <code translate="no" dir="ltr">train_steps_per_iteration</code>, and then be evaluated in turns.</p> <p>This method is intended for single machine usage.</p> <p>This differs from <code translate="no" dir="ltr">train_and_evaluate</code> as follows:</p> <ol> <li><p>The procedure will have train and evaluation in turns. The model will be trained for a number of steps (usually smaller than <code translate="no" dir="ltr">train_steps</code> if provided) and then be evaluated. <code translate="no" dir="ltr">train_and_evaluate</code> will train the model for <code translate="no" dir="ltr">train_steps</code> (no small training iterations).</p></li> <li><p>Due to the different approach this schedule takes, it leads to two differences in resource control. First, the resources (e.g., memory) used by training will be released before evaluation (<code translate="no" dir="ltr">train_and_evaluate</code> takes double resources). Second, more checkpoints will be saved as a checkpoint is generated at the end of each training iteration.</p></li> <li><p>As the estimator.train starts from scratch (new graph, new states for input, etc) at each iteration, it is recommended to have the <code translate="no" dir="ltr">train_steps_per_iteration</code> larger. It is also recommended to shuffle your input.</p></li> </ol>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">continuous_eval_predicate_fn</code> </td> <td> A predicate function determining whether to continue eval after each iteration. A <code translate="no" dir="ltr">predicate_fn</code> has one of the following signatures: <ul> <li>(eval_results) -&gt; boolean</li> <li>(eval_results, checkpoint_path) -&gt; boolean Where <code translate="no" dir="ltr">eval_results</code> is the dictionary of metric evaluations and checkpoint_path is the path to the checkpoint containing the parameters on which that evaluation was based. At the beginning of evaluation, the passed <code translate="no" dir="ltr">eval_results</code> and <code translate="no" dir="ltr">checkpoint_path</code> will be None so it's expected that the predicate function handles that gracefully. When <code translate="no" dir="ltr">predicate_fn</code> is not specified, continuous eval will run in an infinite loop (if <code translate="no" dir="ltr">train_steps</code> is None). or exit once global step reaches <code translate="no" dir="ltr">train_steps</code>. </li>
</ul>
</td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> A tuple of the result of the <code translate="no" dir="ltr">evaluate</code> call to the <code translate="no" dir="ltr">Estimator</code> and the export results using the specified <code translate="no" dir="ltr">ExportStrategy</code>. </td> </tr> 
</table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Raises</th></tr> 
<tr> <td> <code translate="no" dir="ltr">ValueError</code> </td> <td> if <code translate="no" dir="ltr">continuous_eval_predicate_fn</code> is neither None nor callable. </td> </tr> </table> <h3 id="evaluate" data-text="evaluate" tabindex="0"><code translate="no" dir="ltr">evaluate</code></h3> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/contrib/learn/python/learn/experiment.py#L391-L421">View source</a></p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
evaluate(
    delay_secs=None, name=None
)
</pre> <p>Evaluate on the evaluation data.</p> <p>Runs evaluation on the evaluation data and returns the result. Runs for <code translate="no" dir="ltr">self._eval_steps</code> steps, or if it's <code translate="no" dir="ltr">None</code>, then run until input is exhausted or another exception is raised. Start the evaluation after <code translate="no" dir="ltr">delay_secs</code> seconds, or if it's <code translate="no" dir="ltr">None</code>, defaults to using <code translate="no" dir="ltr">self._eval_delay_secs</code> seconds.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">delay_secs</code> </td> <td> Start evaluating after this many seconds. If <code translate="no" dir="ltr">None</code>, defaults to using <code translate="no" dir="ltr">self._eval_delays_secs</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">name</code> </td> <td> Gives the name to the evauation for the case multiple evaluation is run for the same experiment. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> The result of the <code translate="no" dir="ltr">evaluate</code> call to the <code translate="no" dir="ltr">Estimator</code>. </td> </tr> 
</table> <h3 id="extend_train_hooks" data-text="extend_train_hooks" tabindex="0"><code translate="no" dir="ltr">extend_train_hooks</code></h3> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/contrib/learn/python/learn/experiment.py#L312-L314">View source</a></p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
extend_train_hooks(
    additional_hooks
)
</pre> <p>Extends the hooks for training.</p> <h3 id="local_run" data-text="local_run" tabindex="0"><code translate="no" dir="ltr">local_run</code></h3> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/contrib/learn/python/learn/experiment.py#L423-L431">View source</a></p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
local_run()
</pre> <p>DEPRECATED FUNCTION</p> <aside class="warning"><strong>Warning:</strong><span> THIS FUNCTION IS DEPRECATED. It will be removed after 2016-10-23. Instructions for updating: local_run will be renamed to train_and_evaluate and the new default behavior will be to run evaluation every time there is a new checkpoint.</span></aside> <h3 id="reset_export_strategies" data-text="reset_export_strategies" tabindex="0"><code translate="no" dir="ltr">reset_export_strategies</code></h3> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/contrib/learn/python/learn/experiment.py#L316-L328">View source</a></p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
reset_export_strategies(
    new_export_strategies=None
)
</pre> <p>Resets the export strategies with the <code translate="no" dir="ltr">new_export_strategies</code>.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">new_export_strategies</code> </td> <td> A new list of <code translate="no" dir="ltr">ExportStrategy</code>s, or a single one, or None. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> The old export strategies. </td> </tr> 
</table> <h3 id="run_std_server" data-text="run_std_server" tabindex="0"><code translate="no" dir="ltr">run_std_server</code></h3> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/contrib/learn/python/learn/experiment.py#L813-L822">View source</a></p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
run_std_server()
</pre> <p>Starts a TensorFlow server and joins the serving thread.</p> <p>Typically used for parameter servers.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Raises</th></tr> 
<tr> <td> <code translate="no" dir="ltr">ValueError</code> </td> <td> if not enough information is available in the estimator's config to create a server. </td> </tr> </table> <h3 id="test" data-text="test" tabindex="0"><code translate="no" dir="ltr">test</code></h3> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/contrib/learn/python/learn/experiment.py#L824-L843">View source</a></p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
test()
</pre> <p>Tests training, evaluating and exporting the estimator for a single step.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> The result of the <code translate="no" dir="ltr">evaluate</code> call to the <code translate="no" dir="ltr">Estimator</code>. </td> </tr> 
</table> <h3 id="train" data-text="train" tabindex="0"><code translate="no" dir="ltr">train</code></h3> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/contrib/learn/python/learn/experiment.py#L330-L389">View source</a></p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
train(
    delay_secs=None
)
</pre> <p>Fit the estimator using the training data.</p> <p>Train the estimator for <code translate="no" dir="ltr">self._train_steps</code> steps, after waiting for <code translate="no" dir="ltr">delay_secs</code> seconds. If <code translate="no" dir="ltr">self._train_steps</code> is <code translate="no" dir="ltr">None</code>, train forever.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">delay_secs</code> </td> <td> Start training after this many seconds. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> The trained estimator. </td> </tr> 
</table> <h3 id="train_and_evaluate" data-text="train_and_evaluate" tabindex="0"><code translate="no" dir="ltr">train_and_evaluate</code></h3> <p><a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/contrib/learn/python/learn/experiment.py#L595-L689">View source</a></p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
train_and_evaluate()
</pre> <p>Interleaves training and evaluation.</p> <p>The frequency of evaluation is controlled by the constructor arg <code translate="no" dir="ltr">min_eval_frequency</code>. When this parameter is 0, evaluation happens only after training has completed. Note that evaluation cannot happen more frequently than checkpoints are taken. If no new snapshots are available when evaluation is supposed to occur, then evaluation doesn't happen for another <code translate="no" dir="ltr">min_eval_frequency</code> steps (assuming a checkpoint is available at that point). Thus, settings <code translate="no" dir="ltr">min_eval_frequency</code> to 1 means that the model will be evaluated everytime there is a new checkpoint.</p> <p>This is particular useful for a "Master" task in the cloud, whose responsibility it is to take checkpoints, evaluate those checkpoints, and write out summaries. Participating in training as the supervisor allows such a task to accomplish the first and last items, while performing evaluation allows for the second.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> The result of the <code translate="no" dir="ltr">evaluate</code> call to the <code translate="no" dir="ltr">Estimator</code> as well as the export results using the specified <code translate="no" dir="ltr">ExportStrategy</code>. </td> </tr> 
</table>  <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0"> </devsite-page-rating><div class="_attribution">
  <p class="_attribution-p">
    © 2020 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 3.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r1.15/api_docs/python/tf/contrib/learn/Experiment" class="_attribution-link">https://www.tensorflow.org/versions/r1.15/api_docs/python/tf/contrib/learn/Experiment</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
