
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Openstack_compute_secgroup_v2 - Terraform - W3cubDocs</title>
  
  <meta name="description" content=" Manages a V2 security group resource within OpenStack. ">
  <meta name="keywords" content="openstack, compute, secgroup, terraform">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/terraform/providers/openstack/r/compute_secgroup_v2.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/terraform.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/terraform/" class="_nav-link" title="" style="margin-left:0;">Terraform</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _terraform">
				
				
<h1 id="openstack_compute_secgroup_v2">  openstack_compute_secgroup_v2 </h1> <p>Manages a V2 security group resource within OpenStack.</p> <p>Please note that managing security groups through the OpenStack Compute API has been deprecated. Unless you are using an older OpenStack environment, it is recommended to use the <a href="networking_secgroup_v2"><code>openstack_networking_secgroup_v2</code></a> and <a href="networking_secgroup_rule_v2"><code>openstack_networking_secgroup_rule_v2</code></a> resources instead, which uses the OpenStack Networking API.</p> <h2 id="example-usage">  Example Usage </h2> <pre data-language="ruby">resource "openstack_compute_secgroup_v2" "secgroup_1" {
  name        = "my_secgroup"
  description = "my security group"

  rule {
    from_port   = 22
    to_port     = 22
    ip_protocol = "tcp"
    cidr        = "0.0.0.0/0"
  }

  rule {
    from_port   = 80
    to_port     = 80
    ip_protocol = "tcp"
    cidr        = "0.0.0.0/0"
  }
}
</pre>
<h2 id="argument-reference">  Argument Reference </h2> <p>The following arguments are supported:</p> <ul> <li>
<p><a href="#region"><code>region</code></a> - (Optional) The region in which to obtain the V2 Compute client. A Compute client is needed to create a security group. If omitted, the <code>region</code> argument of the provider is used. Changing this creates a new security group.</p> </li> <li>
<p><a href="#name"><code>name</code></a> - (Required) A unique name for the security group. Changing this updates the <code>name</code> of an existing security group.</p> </li> <li>
<p><a href="#description"><code>description</code></a> - (Required) A description for the security group. Changing this updates the <code>description</code> of an existing security group.</p> </li> <li>
<p><a href="#rule"><code>rule</code></a> - (Optional) A rule describing how the security group operates. The rule object structure is documented below. Changing this updates the security group rules. As shown in the example above, multiple rule blocks may be used.</p> </li> </ul> <p>The <code>rule</code> block supports:</p> <ul> <li>
<p><a href="#from_port"><code>from_port</code></a> - (Required) An integer representing the lower bound of the port range to open. Changing this creates a new security group rule.</p> </li> <li>
<p><a href="#to_port"><code>to_port</code></a> - (Required) An integer representing the upper bound of the port range to open. Changing this creates a new security group rule.</p> </li> <li>
<p><a href="#ip_protocol"><code>ip_protocol</code></a> - (Required) The protocol type that will be allowed. Changing this creates a new security group rule.</p> </li> <li>
<p><a href="#cidr"><code>cidr</code></a> - (Optional) Required if <code>from_group_id</code> or <code>self</code> is empty. The IP range that will be the source of network traffic to the security group. Use 0.0.0.0/0 to allow all IP addresses. Changing this creates a new security group rule. Cannot be combined with <code>from_group_id</code> or <code>self</code>.</p> </li> <li>
<p><a href="#from_group_id"><code>from_group_id</code></a> - (Optional) Required if <code>cidr</code> or <code>self</code> is empty. The ID of a group from which to forward traffic to the parent group. Changing this creates a new security group rule. Cannot be combined with <code>cidr</code> or <code>self</code>.</p> </li> <li>
<p><a href="#self"><code>self</code></a> - (Optional) Required if <code>cidr</code> and <code>from_group_id</code> is empty. If true, the security group itself will be added as a source to this ingress rule. Cannot be combined with <code>cidr</code> or <code>from_group_id</code>.</p> </li> </ul> <h2 id="attributes-reference">  Attributes Reference </h2> <p>The following attributes are exported:</p> <ul> <li>
<a href="#region-1"><code>region</code></a> - See Argument Reference above. </li> <li>
<a href="#name-1"><code>name</code></a> - See Argument Reference above. </li> <li>
<a href="#description-1"><code>description</code></a> - See Argument Reference above. </li> <li>
<a href="#rule-1"><code>rule</code></a> - See Argument Reference above. </li> </ul> <h2 id="notes">  Notes </h2> <h3 id="icmp-rules">  ICMP Rules </h3> <p>When using ICMP as the <code>ip_protocol</code>, the <code>from_port</code> sets the ICMP <em>type</em> and the <code>to_port</code> sets the ICMP <em>code</em>. To allow all ICMP types, set each value to <code>-1</code>, like so:</p> <pre data-language="ruby">rule {
  from_port = -1
  to_port = -1
  ip_protocol = "icmp"
  cidr = "0.0.0.0/0"
}
</pre>
<p>A list of ICMP types and codes can be found <a href="https://en.wikipedia.org/wiki/Internet_Control_Message_Protocol#Control_messages">here</a>.</p> <h3 id="referencing-security-groups">  Referencing Security Groups </h3> <p>When referencing a security group in a configuration (for example, a configuration creates a new security group and then needs to apply it to an instance being created in the same configuration), it is currently recommended to reference the security group by name and not by ID, like this:</p> <pre data-language="ruby">resource "openstack_compute_instance_v2" "test-server" {
  name            = "tf-test"
  image_id        = "ad091b52-742f-469e-8f3c-fd81cadf0743"
  flavor_id       = "3"
  key_pair        = "my_key_pair_name"
  security_groups = ["${openstack_compute_secgroup_v2.secgroup_1.name}"]
}
</pre>
<h2 id="import">  Import </h2> <p>Security Groups can be imported using the <code>id</code>, e.g.</p> <pre>$ terraform import openstack_compute_secgroup_v2.my_secgroup 1bc30ee9-9d5b-4c30-bdd5-7f1e663f5edf
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    Â© 2018 HashiCorpLicensed under the MPL 2.0 License.<br>
    <a href="https://www.terraform.io/docs/providers/openstack/r/compute_secgroup_v2.html" class="_attribution-link">https://www.terraform.io/docs/providers/openstack/r/compute_secgroup_v2.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
