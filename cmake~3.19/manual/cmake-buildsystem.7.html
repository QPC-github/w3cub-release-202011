
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Buildsystem - CMake 3.19 - W3cubDocs</title>
  
  <meta name="description" content=" Binary Targets ">
  <meta name="keywords" content="cmake-buildsystem, buildsystem, cmake, cmake~3.19">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/cmake~3.19/manual/cmake-buildsystem.7.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/cmake~3.19.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cmake~3.19/" class="_nav-link" title="" style="margin-left:0;">CMake 3.19</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx_simple">
				
				
<h1 id="cmake-buildsystem-7">cmake-buildsystem(7)</h1>   <ul> <li><a class="reference internal" href="#introduction" id="id14">Introduction</a></li> <li>
<p><a class="reference internal" href="#binary-targets" id="id15">Binary Targets</a></p> <ul> <li><a class="reference internal" href="#binary-executables" id="id16">Binary Executables</a></li> <li>
<p><a class="reference internal" href="#binary-library-types" id="id17">Binary Library Types</a></p> <ul> <li>
<p><a class="reference internal" href="#normal-libraries" id="id18">Normal Libraries</a></p> <ul> <li><a class="reference internal" href="#apple-frameworks" id="id19">Apple Frameworks</a></li> </ul> </li> <li><a class="reference internal" href="#object-libraries" id="id20">Object Libraries</a></li> </ul> </li> </ul> </li> <li>
<p><a class="reference internal" href="#build-specification-and-usage-requirements" id="id21">Build Specification and Usage Requirements</a></p> <ul> <li><a class="reference internal" href="#target-properties" id="id22">Target Properties</a></li> <li><a class="reference internal" href="#transitive-usage-requirements" id="id23">Transitive Usage Requirements</a></li> <li><a class="reference internal" href="#compatible-interface-properties" id="id24">Compatible Interface Properties</a></li> <li><a class="reference internal" href="#property-origin-debugging" id="id25">Property Origin Debugging</a></li> <li>
<p><a class="reference internal" href="#build-specification-with-generator-expressions" id="id26">Build Specification with Generator Expressions</a></p> <ul> <li><a class="reference internal" href="#include-directories-and-usage-requirements" id="id27">Include Directories and Usage Requirements</a></li> </ul> </li> <li><a class="reference internal" href="#link-libraries-and-generator-expressions" id="id28">Link Libraries and Generator Expressions</a></li> <li>
<p><a class="reference internal" href="#output-artifacts" id="id29">Output Artifacts</a></p> <ul> <li><a class="reference internal" href="#runtime-output-artifacts" id="id30">Runtime Output Artifacts</a></li> <li><a class="reference internal" href="#library-output-artifacts" id="id31">Library Output Artifacts</a></li> <li><a class="reference internal" href="#archive-output-artifacts" id="id32">Archive Output Artifacts</a></li> </ul> </li> <li><a class="reference internal" href="#directory-scoped-commands" id="id33">Directory-Scoped Commands</a></li> </ul> </li> <li>
<p><a class="reference internal" href="#pseudo-targets" id="id34">Pseudo Targets</a></p> <ul> <li><a class="reference internal" href="#imported-targets" id="id35">Imported Targets</a></li> <li><a class="reference internal" href="#alias-targets" id="id36">Alias Targets</a></li> <li><a class="reference internal" href="#interface-libraries" id="id37">Interface Libraries</a></li> </ul> </li> </ul>
   <h2 id="introduction">Introduction</h2> <p>A CMake-based buildsystem is organized as a set of high-level logical targets. Each target corresponds to an executable or library, or is a custom target containing custom commands. Dependencies between the targets are expressed in the buildsystem to determine the build order and the rules for regeneration in response to change.</p>   <h2 id="binary-targets">Binary Targets</h2> <p>Executables and libraries are defined using the <a class="reference internal" href="../command/add_executable#command:add_executable" title="add_executable" id="index-0-command:add_executable"><code>add_executable()</code></a> and <a class="reference internal" href="../command/add_library#command:add_library" title="add_library" id="index-0-command:add_library"><code>add_library()</code></a> commands. The resulting binary files have appropriate <a class="reference internal" href="../prop_tgt/prefix#prop_tgt:PREFIX" title="PREFIX" id="index-0-prop_tgt:PREFIX"><code>PREFIX</code></a>, <a class="reference internal" href="../prop_tgt/suffix#prop_tgt:SUFFIX" title="SUFFIX" id="index-0-prop_tgt:SUFFIX"><code>SUFFIX</code></a> and extensions for the platform targeted. Dependencies between binary targets are expressed using the <a class="reference internal" href="../command/target_link_libraries#command:target_link_libraries" title="target_link_libraries" id="index-0-command:target_link_libraries"><code>target_link_libraries()</code></a> command:</p> <pre data-language="cmake">add_library(archive archive.cpp zip.cpp lzma.cpp)
add_executable(zipapp zipapp.cpp)
target_link_libraries(zipapp archive)
</pre> <p><code>archive</code> is defined as a <code>STATIC</code> library – an archive containing objects compiled from <code>archive.cpp</code>, <code>zip.cpp</code>, and <code>lzma.cpp</code>. <code>zipapp</code> is defined as an executable formed by compiling and linking <code>zipapp.cpp</code>. When linking the <code>zipapp</code> executable, the <code>archive</code> static library is linked in.</p>  <h3 id="binary-executables">Binary Executables</h3> <p>The <a class="reference internal" href="../command/add_executable#command:add_executable" title="add_executable" id="index-1-command:add_executable"><code>add_executable()</code></a> command defines an executable target:</p> <pre data-language="cmake">add_executable(mytool mytool.cpp)
</pre> <p>Commands such as <a class="reference internal" href="../command/add_custom_command#command:add_custom_command" title="add_custom_command" id="index-0-command:add_custom_command"><code>add_custom_command()</code></a>, which generates rules to be run at build time can transparently use an <a class="reference internal" href="../prop_tgt/type#prop_tgt:TYPE" title="TYPE" id="index-0-prop_tgt:TYPE"><code>EXECUTABLE</code></a> target as a <code>COMMAND</code> executable. The buildsystem rules will ensure that the executable is built before attempting to run the command.</p>   <h3 id="binary-library-types">Binary Library Types</h3>  <h4 id="id1">Normal Libraries</h4> <p id="normal-libraries">By default, the <a class="reference internal" href="../command/add_library#command:add_library" title="add_library" id="index-1-command:add_library"><code>add_library()</code></a> command defines a <code>STATIC</code> library, unless a type is specified. A type may be specified when using the command:</p> <pre data-language="cmake">add_library(archive SHARED archive.cpp zip.cpp lzma.cpp)
</pre> <pre data-language="cmake">add_library(archive STATIC archive.cpp zip.cpp lzma.cpp)
</pre> <p>The <a class="reference internal" href="../variable/build_shared_libs#variable:BUILD_SHARED_LIBS" title="BUILD_SHARED_LIBS" id="index-0-variable:BUILD_SHARED_LIBS"><code>BUILD_SHARED_LIBS</code></a> variable may be enabled to change the behavior of <a class="reference internal" href="../command/add_library#command:add_library" title="add_library" id="index-2-command:add_library"><code>add_library()</code></a> to build shared libraries by default.</p> <p>In the context of the buildsystem definition as a whole, it is largely irrelevant whether particular libraries are <code>SHARED</code> or <code>STATIC</code> – the commands, dependency specifications and other APIs work similarly regardless of the library type. The <code>MODULE</code> library type is dissimilar in that it is generally not linked to – it is not used in the right-hand-side of the <a class="reference internal" href="../command/target_link_libraries#command:target_link_libraries" title="target_link_libraries" id="index-1-command:target_link_libraries"><code>target_link_libraries()</code></a> command. It is a type which is loaded as a plugin using runtime techniques. If the library does not export any unmanaged symbols (e.g. Windows resource DLL, C++/CLI DLL), it is required that the library not be a <code>SHARED</code> library because CMake expects <code>SHARED</code> libraries to export at least one symbol.</p> <pre data-language="cmake">add_library(archive MODULE 7z.cpp)
</pre>  <h5 id="id2">Apple Frameworks</h5> <p id="apple-frameworks">A <code>SHARED</code> library may be marked with the <a class="reference internal" href="../prop_tgt/framework#prop_tgt:FRAMEWORK" title="FRAMEWORK" id="index-0-prop_tgt:FRAMEWORK"><code>FRAMEWORK</code></a> target property to create an macOS or iOS Framework Bundle. A library with the <code>FRAMEWORK</code> target property should also set the <a class="reference internal" href="../prop_tgt/framework_version#prop_tgt:FRAMEWORK_VERSION" title="FRAMEWORK_VERSION" id="index-0-prop_tgt:FRAMEWORK_VERSION"><code>FRAMEWORK_VERSION</code></a> target property. This property is typically set to the value of “A” by macOS conventions. The <code>MACOSX_FRAMEWORK_IDENTIFIER</code> sets <code>CFBundleIdentifier</code> key and it uniquely identifies the bundle.</p> <pre data-language="cmake">add_library(MyFramework SHARED MyFramework.cpp)
set_target_properties(MyFramework PROPERTIES
  FRAMEWORK TRUE
  FRAMEWORK_VERSION A # Version "A" is macOS convention
  MACOSX_FRAMEWORK_IDENTIFIER org.cmake.MyFramework
)
</pre>    <h4 id="id3">Object Libraries</h4> <p id="object-libraries">The <code>OBJECT</code> library type defines a non-archival collection of object files resulting from compiling the given source files. The object files collection may be used as source inputs to other targets by using the syntax <code>$&lt;TARGET_OBJECTS:name&gt;</code>. This is a <a class="reference internal" href="cmake-generator-expressions.7#manual:cmake-generator-expressions(7)" title="cmake-generator-expressions(7)" id="index-0-manual:cmake-generator-expressions(7)"><code>generator expression</code></a> that can be used to supply the <code>OBJECT</code> library content to other targets:</p> <pre data-language="cmake">add_library(archive OBJECT archive.cpp zip.cpp lzma.cpp)

add_library(archiveExtras STATIC $&lt;TARGET_OBJECTS:archive&gt; extras.cpp)

add_executable(test_exe $&lt;TARGET_OBJECTS:archive&gt; test.cpp)
</pre> <p>The link (or archiving) step of those other targets will use the object files collection in addition to those from their own sources.</p> <p>Alternatively, object libraries may be linked into other targets:</p> <pre data-language="cmake">add_library(archive OBJECT archive.cpp zip.cpp lzma.cpp)

add_library(archiveExtras STATIC extras.cpp)
target_link_libraries(archiveExtras PUBLIC archive)

add_executable(test_exe test.cpp)
target_link_libraries(test_exe archive)
</pre> <p>The link (or archiving) step of those other targets will use the object files from <code>OBJECT</code> libraries that are <em>directly</em> linked. Additionally, usage requirements of the <code>OBJECT</code> libraries will be honored when compiling sources in those other targets. Furthermore, those usage requirements will propagate transitively to dependents of those other targets.</p> <p>Object libraries may not be used as the <code>TARGET</code> in a use of the <a class="reference internal" href="../command/add_custom_command#command:add_custom_command" title="add_custom_command" id="index-1-command:add_custom_command"><code>add_custom_command(TARGET)</code></a> command signature. However, the list of objects can be used by <a class="reference internal" href="../command/add_custom_command#command:add_custom_command" title="add_custom_command" id="index-2-command:add_custom_command"><code>add_custom_command(OUTPUT)</code></a> or <a class="reference internal" href="../command/file#command:file" title="file" id="index-0-command:file"><code>file(GENERATE)</code></a> by using <code>$&lt;TARGET_OBJECTS:objlib&gt;</code>.</p>     <h2 id="build-specification-and-usage-requirements">Build Specification and Usage Requirements</h2> <p>The <a class="reference internal" href="../command/target_include_directories#command:target_include_directories" title="target_include_directories" id="index-0-command:target_include_directories"><code>target_include_directories()</code></a>, <a class="reference internal" href="../command/target_compile_definitions#command:target_compile_definitions" title="target_compile_definitions" id="index-0-command:target_compile_definitions"><code>target_compile_definitions()</code></a> and <a class="reference internal" href="../command/target_compile_options#command:target_compile_options" title="target_compile_options" id="index-0-command:target_compile_options"><code>target_compile_options()</code></a> commands specify the build specifications and the usage requirements of binary targets. The commands populate the <a class="reference internal" href="../prop_tgt/include_directories#prop_tgt:INCLUDE_DIRECTORIES" title="INCLUDE_DIRECTORIES" id="index-0-prop_tgt:INCLUDE_DIRECTORIES"><code>INCLUDE_DIRECTORIES</code></a>, <a class="reference internal" href="../prop_tgt/compile_definitions#prop_tgt:COMPILE_DEFINITIONS" title="COMPILE_DEFINITIONS" id="index-0-prop_tgt:COMPILE_DEFINITIONS"><code>COMPILE_DEFINITIONS</code></a> and <a class="reference internal" href="../prop_tgt/compile_options#prop_tgt:COMPILE_OPTIONS" title="COMPILE_OPTIONS" id="index-0-prop_tgt:COMPILE_OPTIONS"><code>COMPILE_OPTIONS</code></a> target properties respectively, and/or the <a class="reference internal" href="../prop_tgt/interface_include_directories#prop_tgt:INTERFACE_INCLUDE_DIRECTORIES" title="INTERFACE_INCLUDE_DIRECTORIES" id="index-0-prop_tgt:INTERFACE_INCLUDE_DIRECTORIES"><code>INTERFACE_INCLUDE_DIRECTORIES</code></a>, <a class="reference internal" href="../prop_tgt/interface_compile_definitions#prop_tgt:INTERFACE_COMPILE_DEFINITIONS" title="INTERFACE_COMPILE_DEFINITIONS" id="index-0-prop_tgt:INTERFACE_COMPILE_DEFINITIONS"><code>INTERFACE_COMPILE_DEFINITIONS</code></a> and <a class="reference internal" href="../prop_tgt/interface_compile_options#prop_tgt:INTERFACE_COMPILE_OPTIONS" title="INTERFACE_COMPILE_OPTIONS" id="index-0-prop_tgt:INTERFACE_COMPILE_OPTIONS"><code>INTERFACE_COMPILE_OPTIONS</code></a> target properties.</p> <p>Each of the commands has a <code>PRIVATE</code>, <code>PUBLIC</code> and <code>INTERFACE</code> mode. The <code>PRIVATE</code> mode populates only the non-<code>INTERFACE_</code> variant of the target property and the <code>INTERFACE</code> mode populates only the <code>INTERFACE_</code> variants. The <code>PUBLIC</code> mode populates both variants of the respective target property. Each command may be invoked with multiple uses of each keyword:</p> <pre data-language="cmake">target_compile_definitions(archive
  PRIVATE BUILDING_WITH_LZMA
  INTERFACE USING_ARCHIVE_LIB
)
</pre> <p>Note that usage requirements are not designed as a way to make downstreams use particular <a class="reference internal" href="../prop_tgt/compile_options#prop_tgt:COMPILE_OPTIONS" title="COMPILE_OPTIONS" id="index-1-prop_tgt:COMPILE_OPTIONS"><code>COMPILE_OPTIONS</code></a> or <a class="reference internal" href="../prop_tgt/compile_definitions#prop_tgt:COMPILE_DEFINITIONS" title="COMPILE_DEFINITIONS" id="index-1-prop_tgt:COMPILE_DEFINITIONS"><code>COMPILE_DEFINITIONS</code></a> etc for convenience only. The contents of the properties must be <strong>requirements</strong>, not merely recommendations or convenience.</p> <p>See the <a class="reference internal" href="cmake-packages.7#creating-relocatable-packages"><span class="std std-ref">Creating Relocatable Packages</span></a> section of the <a class="reference internal" href="cmake-packages.7#manual:cmake-packages(7)" title="cmake-packages(7)" id="index-0-manual:cmake-packages(7)"><code>cmake-packages(7)</code></a> manual for discussion of additional care that must be taken when specifying usage requirements while creating packages for redistribution.</p>  <h3 id="target-properties">Target Properties</h3> <p>The contents of the <a class="reference internal" href="../prop_tgt/include_directories#prop_tgt:INCLUDE_DIRECTORIES" title="INCLUDE_DIRECTORIES" id="index-1-prop_tgt:INCLUDE_DIRECTORIES"><code>INCLUDE_DIRECTORIES</code></a>, <a class="reference internal" href="../prop_tgt/compile_definitions#prop_tgt:COMPILE_DEFINITIONS" title="COMPILE_DEFINITIONS" id="index-2-prop_tgt:COMPILE_DEFINITIONS"><code>COMPILE_DEFINITIONS</code></a> and <a class="reference internal" href="../prop_tgt/compile_options#prop_tgt:COMPILE_OPTIONS" title="COMPILE_OPTIONS" id="index-2-prop_tgt:COMPILE_OPTIONS"><code>COMPILE_OPTIONS</code></a> target properties are used appropriately when compiling the source files of a binary target.</p> <p>Entries in the <a class="reference internal" href="../prop_tgt/include_directories#prop_tgt:INCLUDE_DIRECTORIES" title="INCLUDE_DIRECTORIES" id="index-2-prop_tgt:INCLUDE_DIRECTORIES"><code>INCLUDE_DIRECTORIES</code></a> are added to the compile line with <code>-I</code> or <code>-isystem</code> prefixes and in the order of appearance in the property value.</p> <p>Entries in the <a class="reference internal" href="../prop_tgt/compile_definitions#prop_tgt:COMPILE_DEFINITIONS" title="COMPILE_DEFINITIONS" id="index-3-prop_tgt:COMPILE_DEFINITIONS"><code>COMPILE_DEFINITIONS</code></a> are prefixed with <code>-D</code> or <code>/D</code> and added to the compile line in an unspecified order. The <a class="reference internal" href="../prop_tgt/define_symbol#prop_tgt:DEFINE_SYMBOL" title="DEFINE_SYMBOL" id="index-0-prop_tgt:DEFINE_SYMBOL"><code>DEFINE_SYMBOL</code></a> target property is also added as a compile definition as a special convenience case for <code>SHARED</code> and <code>MODULE</code> library targets.</p> <p>Entries in the <a class="reference internal" href="../prop_tgt/compile_options#prop_tgt:COMPILE_OPTIONS" title="COMPILE_OPTIONS" id="index-3-prop_tgt:COMPILE_OPTIONS"><code>COMPILE_OPTIONS</code></a> are escaped for the shell and added in the order of appearance in the property value. Several compile options have special separate handling, such as <a class="reference internal" href="../prop_tgt/position_independent_code#prop_tgt:POSITION_INDEPENDENT_CODE" title="POSITION_INDEPENDENT_CODE" id="index-0-prop_tgt:POSITION_INDEPENDENT_CODE"><code>POSITION_INDEPENDENT_CODE</code></a>.</p> <p>The contents of the <a class="reference internal" href="../prop_tgt/interface_include_directories#prop_tgt:INTERFACE_INCLUDE_DIRECTORIES" title="INTERFACE_INCLUDE_DIRECTORIES" id="index-1-prop_tgt:INTERFACE_INCLUDE_DIRECTORIES"><code>INTERFACE_INCLUDE_DIRECTORIES</code></a>, <a class="reference internal" href="../prop_tgt/interface_compile_definitions#prop_tgt:INTERFACE_COMPILE_DEFINITIONS" title="INTERFACE_COMPILE_DEFINITIONS" id="index-1-prop_tgt:INTERFACE_COMPILE_DEFINITIONS"><code>INTERFACE_COMPILE_DEFINITIONS</code></a> and <a class="reference internal" href="../prop_tgt/interface_compile_options#prop_tgt:INTERFACE_COMPILE_OPTIONS" title="INTERFACE_COMPILE_OPTIONS" id="index-1-prop_tgt:INTERFACE_COMPILE_OPTIONS"><code>INTERFACE_COMPILE_OPTIONS</code></a> target properties are <em>Usage Requirements</em> – they specify content which consumers must use to correctly compile and link with the target they appear on. For any binary target, the contents of each <code>INTERFACE_</code> property on each target specified in a <a class="reference internal" href="../command/target_link_libraries#command:target_link_libraries" title="target_link_libraries" id="index-2-command:target_link_libraries"><code>target_link_libraries()</code></a> command is consumed:</p> <pre data-language="cmake">set(srcs archive.cpp zip.cpp)
if (LZMA_FOUND)
  list(APPEND srcs lzma.cpp)
endif()
add_library(archive SHARED ${srcs})
if (LZMA_FOUND)
  # The archive library sources are compiled with -DBUILDING_WITH_LZMA
  target_compile_definitions(archive PRIVATE BUILDING_WITH_LZMA)
endif()
target_compile_definitions(archive INTERFACE USING_ARCHIVE_LIB)

add_executable(consumer)
# Link consumer to archive and consume its usage requirements. The consumer
# executable sources are compiled with -DUSING_ARCHIVE_LIB.
target_link_libraries(consumer archive)
</pre> <p>Because it is common to require that the source directory and corresponding build directory are added to the <a class="reference internal" href="../prop_tgt/include_directories#prop_tgt:INCLUDE_DIRECTORIES" title="INCLUDE_DIRECTORIES" id="index-3-prop_tgt:INCLUDE_DIRECTORIES"><code>INCLUDE_DIRECTORIES</code></a>, the <a class="reference internal" href="../variable/cmake_include_current_dir#variable:CMAKE_INCLUDE_CURRENT_DIR" title="CMAKE_INCLUDE_CURRENT_DIR" id="index-0-variable:CMAKE_INCLUDE_CURRENT_DIR"><code>CMAKE_INCLUDE_CURRENT_DIR</code></a> variable can be enabled to conveniently add the corresponding directories to the <a class="reference internal" href="../prop_tgt/include_directories#prop_tgt:INCLUDE_DIRECTORIES" title="INCLUDE_DIRECTORIES" id="index-4-prop_tgt:INCLUDE_DIRECTORIES"><code>INCLUDE_DIRECTORIES</code></a> of all targets. The variable <a class="reference internal" href="../variable/cmake_include_current_dir_in_interface#variable:CMAKE_INCLUDE_CURRENT_DIR_IN_INTERFACE" title="CMAKE_INCLUDE_CURRENT_DIR_IN_INTERFACE" id="index-0-variable:CMAKE_INCLUDE_CURRENT_DIR_IN_INTERFACE"><code>CMAKE_INCLUDE_CURRENT_DIR_IN_INTERFACE</code></a> can be enabled to add the corresponding directories to the <a class="reference internal" href="../prop_tgt/interface_include_directories#prop_tgt:INTERFACE_INCLUDE_DIRECTORIES" title="INTERFACE_INCLUDE_DIRECTORIES" id="index-2-prop_tgt:INTERFACE_INCLUDE_DIRECTORIES"><code>INTERFACE_INCLUDE_DIRECTORIES</code></a> of all targets. This makes use of targets in multiple different directories convenient through use of the <a class="reference internal" href="../command/target_link_libraries#command:target_link_libraries" title="target_link_libraries" id="index-3-command:target_link_libraries"><code>target_link_libraries()</code></a> command.</p>   <h3 id="target-usage-requirements">Transitive Usage Requirements</h3> <p id="transitive-usage-requirements">The usage requirements of a target can transitively propagate to dependents. The <a class="reference internal" href="../command/target_link_libraries#command:target_link_libraries" title="target_link_libraries" id="index-4-command:target_link_libraries"><code>target_link_libraries()</code></a> command has <code>PRIVATE</code>, <code>INTERFACE</code> and <code>PUBLIC</code> keywords to control the propagation.</p> <pre data-language="cmake">add_library(archive archive.cpp)
target_compile_definitions(archive INTERFACE USING_ARCHIVE_LIB)

add_library(serialization serialization.cpp)
target_compile_definitions(serialization INTERFACE USING_SERIALIZATION_LIB)

add_library(archiveExtras extras.cpp)
target_link_libraries(archiveExtras PUBLIC archive)
target_link_libraries(archiveExtras PRIVATE serialization)
# archiveExtras is compiled with -DUSING_ARCHIVE_LIB
# and -DUSING_SERIALIZATION_LIB

add_executable(consumer consumer.cpp)
# consumer is compiled with -DUSING_ARCHIVE_LIB
target_link_libraries(consumer archiveExtras)
</pre> <p>Because <code>archive</code> is a <code>PUBLIC</code> dependency of <code>archiveExtras</code>, the usage requirements of it are propagated to <code>consumer</code> too. Because <code>serialization</code> is a <code>PRIVATE</code> dependency of <code>archiveExtras</code>, the usage requirements of it are not propagated to <code>consumer</code>.</p> <p>Generally, a dependency should be specified in a use of <a class="reference internal" href="../command/target_link_libraries#command:target_link_libraries" title="target_link_libraries" id="index-5-command:target_link_libraries"><code>target_link_libraries()</code></a> with the <code>PRIVATE</code> keyword if it is used by only the implementation of a library, and not in the header files. If a dependency is additionally used in the header files of a library (e.g. for class inheritance), then it should be specified as a <code>PUBLIC</code> dependency. A dependency which is not used by the implementation of a library, but only by its headers should be specified as an <code>INTERFACE</code> dependency. The <a class="reference internal" href="../command/target_link_libraries#command:target_link_libraries" title="target_link_libraries" id="index-6-command:target_link_libraries"><code>target_link_libraries()</code></a> command may be invoked with multiple uses of each keyword:</p> <pre data-language="cmake">target_link_libraries(archiveExtras
  PUBLIC archive
  PRIVATE serialization
)
</pre> <p>Usage requirements are propagated by reading the <code>INTERFACE_</code> variants of target properties from dependencies and appending the values to the non-<code>INTERFACE_</code> variants of the operand. For example, the <a class="reference internal" href="../prop_tgt/interface_include_directories#prop_tgt:INTERFACE_INCLUDE_DIRECTORIES" title="INTERFACE_INCLUDE_DIRECTORIES" id="index-3-prop_tgt:INTERFACE_INCLUDE_DIRECTORIES"><code>INTERFACE_INCLUDE_DIRECTORIES</code></a> of dependencies is read and appended to the <a class="reference internal" href="../prop_tgt/include_directories#prop_tgt:INCLUDE_DIRECTORIES" title="INCLUDE_DIRECTORIES" id="index-5-prop_tgt:INCLUDE_DIRECTORIES"><code>INCLUDE_DIRECTORIES</code></a> of the operand. In cases where order is relevant and maintained, and the order resulting from the <a class="reference internal" href="../command/target_link_libraries#command:target_link_libraries" title="target_link_libraries" id="index-7-command:target_link_libraries"><code>target_link_libraries()</code></a> calls does not allow correct compilation, use of an appropriate command to set the property directly may update the order.</p> <p>For example, if the linked libraries for a target must be specified in the order <code>lib1</code> <code>lib2</code> <code>lib3</code> , but the include directories must be specified in the order <code>lib3</code> <code>lib1</code> <code>lib2</code>:</p> <pre data-language="cmake">target_link_libraries(myExe lib1 lib2 lib3)
target_include_directories(myExe
  PRIVATE $&lt;TARGET_PROPERTY:lib3,INTERFACE_INCLUDE_DIRECTORIES&gt;)
</pre> <p>Note that care must be taken when specifying usage requirements for targets which will be exported for installation using the <a class="reference internal" href="../command/install#command:install" title="install" id="index-0-command:install"><code>install(EXPORT)</code></a> command. See <a class="reference internal" href="cmake-packages.7#creating-packages"><span class="std std-ref">Creating Packages</span></a> for more.</p>   <h3 id="id4">Compatible Interface Properties</h3> <p id="compatible-interface-properties">Some target properties are required to be compatible between a target and the interface of each dependency. For example, the <a class="reference internal" href="../prop_tgt/position_independent_code#prop_tgt:POSITION_INDEPENDENT_CODE" title="POSITION_INDEPENDENT_CODE" id="index-1-prop_tgt:POSITION_INDEPENDENT_CODE"><code>POSITION_INDEPENDENT_CODE</code></a> target property may specify a boolean value of whether a target should be compiled as position-independent-code, which has platform-specific consequences. A target may also specify the usage requirement <a class="reference internal" href="../prop_tgt/interface_position_independent_code#prop_tgt:INTERFACE_POSITION_INDEPENDENT_CODE" title="INTERFACE_POSITION_INDEPENDENT_CODE" id="index-0-prop_tgt:INTERFACE_POSITION_INDEPENDENT_CODE"><code>INTERFACE_POSITION_INDEPENDENT_CODE</code></a> to communicate that consumers must be compiled as position-independent-code.</p> <pre data-language="cmake">add_executable(exe1 exe1.cpp)
set_property(TARGET exe1 PROPERTY POSITION_INDEPENDENT_CODE ON)

add_library(lib1 SHARED lib1.cpp)
set_property(TARGET lib1 PROPERTY INTERFACE_POSITION_INDEPENDENT_CODE ON)

add_executable(exe2 exe2.cpp)
target_link_libraries(exe2 lib1)
</pre> <p>Here, both <code>exe1</code> and <code>exe2</code> will be compiled as position-independent-code. <code>lib1</code> will also be compiled as position-independent-code because that is the default setting for <code>SHARED</code> libraries. If dependencies have conflicting, non-compatible requirements <a class="reference internal" href="cmake.1#manual:cmake(1)" title="cmake(1)" id="index-0-manual:cmake(1)"><code>cmake(1)</code></a> issues a diagnostic:</p> <pre data-language="cmake">add_library(lib1 SHARED lib1.cpp)
set_property(TARGET lib1 PROPERTY INTERFACE_POSITION_INDEPENDENT_CODE ON)

add_library(lib2 SHARED lib2.cpp)
set_property(TARGET lib2 PROPERTY INTERFACE_POSITION_INDEPENDENT_CODE OFF)

add_executable(exe1 exe1.cpp)
target_link_libraries(exe1 lib1)
set_property(TARGET exe1 PROPERTY POSITION_INDEPENDENT_CODE OFF)

add_executable(exe2 exe2.cpp)
target_link_libraries(exe2 lib1 lib2)
</pre> <p>The <code>lib1</code> requirement <code>INTERFACE_POSITION_INDEPENDENT_CODE</code> is not “compatible” with the <a class="reference internal" href="../prop_tgt/position_independent_code#prop_tgt:POSITION_INDEPENDENT_CODE" title="POSITION_INDEPENDENT_CODE" id="index-2-prop_tgt:POSITION_INDEPENDENT_CODE"><code>POSITION_INDEPENDENT_CODE</code></a> property of the <code>exe1</code> target. The library requires that consumers are built as position-independent-code, while the executable specifies to not built as position-independent-code, so a diagnostic is issued.</p> <p>The <code>lib1</code> and <code>lib2</code> requirements are not “compatible”. One of them requires that consumers are built as position-independent-code, while the other requires that consumers are not built as position-independent-code. Because <code>exe2</code> links to both and they are in conflict, a CMake error message is issued:</p> <pre data-language="none">CMake Error: The INTERFACE_POSITION_INDEPENDENT_CODE property of "lib2" does
not agree with the value of POSITION_INDEPENDENT_CODE already determined
for "exe2".
</pre> <p>To be “compatible”, the <a class="reference internal" href="../prop_tgt/position_independent_code#prop_tgt:POSITION_INDEPENDENT_CODE" title="POSITION_INDEPENDENT_CODE" id="index-3-prop_tgt:POSITION_INDEPENDENT_CODE"><code>POSITION_INDEPENDENT_CODE</code></a> property, if set must be either the same, in a boolean sense, as the <a class="reference internal" href="../prop_tgt/interface_position_independent_code#prop_tgt:INTERFACE_POSITION_INDEPENDENT_CODE" title="INTERFACE_POSITION_INDEPENDENT_CODE" id="index-1-prop_tgt:INTERFACE_POSITION_INDEPENDENT_CODE"><code>INTERFACE_POSITION_INDEPENDENT_CODE</code></a> property of all transitively specified dependencies on which that property is set.</p> <p>This property of “compatible interface requirement” may be extended to other properties by specifying the property in the content of the <a class="reference internal" href="../prop_tgt/compatible_interface_bool#prop_tgt:COMPATIBLE_INTERFACE_BOOL" title="COMPATIBLE_INTERFACE_BOOL" id="index-0-prop_tgt:COMPATIBLE_INTERFACE_BOOL"><code>COMPATIBLE_INTERFACE_BOOL</code></a> target property. Each specified property must be compatible between the consuming target and the corresponding property with an <code>INTERFACE_</code> prefix from each dependency:</p> <pre data-language="cmake">add_library(lib1Version2 SHARED lib1_v2.cpp)
set_property(TARGET lib1Version2 PROPERTY INTERFACE_CUSTOM_PROP ON)
set_property(TARGET lib1Version2 APPEND PROPERTY
  COMPATIBLE_INTERFACE_BOOL CUSTOM_PROP
)

add_library(lib1Version3 SHARED lib1_v3.cpp)
set_property(TARGET lib1Version3 PROPERTY INTERFACE_CUSTOM_PROP OFF)

add_executable(exe1 exe1.cpp)
target_link_libraries(exe1 lib1Version2) # CUSTOM_PROP will be ON

add_executable(exe2 exe2.cpp)
target_link_libraries(exe2 lib1Version2 lib1Version3) # Diagnostic
</pre> <p>Non-boolean properties may also participate in “compatible interface” computations. Properties specified in the <a class="reference internal" href="../prop_tgt/compatible_interface_string#prop_tgt:COMPATIBLE_INTERFACE_STRING" title="COMPATIBLE_INTERFACE_STRING" id="index-0-prop_tgt:COMPATIBLE_INTERFACE_STRING"><code>COMPATIBLE_INTERFACE_STRING</code></a> property must be either unspecified or compare to the same string among all transitively specified dependencies. This can be useful to ensure that multiple incompatible versions of a library are not linked together through transitive requirements of a target:</p> <pre data-language="cmake">add_library(lib1Version2 SHARED lib1_v2.cpp)
set_property(TARGET lib1Version2 PROPERTY INTERFACE_LIB_VERSION 2)
set_property(TARGET lib1Version2 APPEND PROPERTY
  COMPATIBLE_INTERFACE_STRING LIB_VERSION
)

add_library(lib1Version3 SHARED lib1_v3.cpp)
set_property(TARGET lib1Version3 PROPERTY INTERFACE_LIB_VERSION 3)

add_executable(exe1 exe1.cpp)
target_link_libraries(exe1 lib1Version2) # LIB_VERSION will be "2"

add_executable(exe2 exe2.cpp)
target_link_libraries(exe2 lib1Version2 lib1Version3) # Diagnostic
</pre> <p>The <a class="reference internal" href="../prop_tgt/compatible_interface_number_max#prop_tgt:COMPATIBLE_INTERFACE_NUMBER_MAX" title="COMPATIBLE_INTERFACE_NUMBER_MAX" id="index-0-prop_tgt:COMPATIBLE_INTERFACE_NUMBER_MAX"><code>COMPATIBLE_INTERFACE_NUMBER_MAX</code></a> target property specifies that content will be evaluated numerically and the maximum number among all specified will be calculated:</p> <pre data-language="cmake">add_library(lib1Version2 SHARED lib1_v2.cpp)
set_property(TARGET lib1Version2 PROPERTY INTERFACE_CONTAINER_SIZE_REQUIRED 200)
set_property(TARGET lib1Version2 APPEND PROPERTY
  COMPATIBLE_INTERFACE_NUMBER_MAX CONTAINER_SIZE_REQUIRED
)

add_library(lib1Version3 SHARED lib1_v3.cpp)
set_property(TARGET lib1Version3 PROPERTY INTERFACE_CONTAINER_SIZE_REQUIRED 1000)

add_executable(exe1 exe1.cpp)
# CONTAINER_SIZE_REQUIRED will be "200"
target_link_libraries(exe1 lib1Version2)

add_executable(exe2 exe2.cpp)
# CONTAINER_SIZE_REQUIRED will be "1000"
target_link_libraries(exe2 lib1Version2 lib1Version3)
</pre> <p>Similarly, the <a class="reference internal" href="../prop_tgt/compatible_interface_number_min#prop_tgt:COMPATIBLE_INTERFACE_NUMBER_MIN" title="COMPATIBLE_INTERFACE_NUMBER_MIN" id="index-0-prop_tgt:COMPATIBLE_INTERFACE_NUMBER_MIN"><code>COMPATIBLE_INTERFACE_NUMBER_MIN</code></a> may be used to calculate the numeric minimum value for a property from dependencies.</p> <p>Each calculated “compatible” property value may be read in the consumer at generate-time using generator expressions.</p> <p>Note that for each dependee, the set of properties specified in each compatible interface property must not intersect with the set specified in any of the other properties.</p>   <h3 id="property-origin-debugging">Property Origin Debugging</h3> <p>Because build specifications can be determined by dependencies, the lack of locality of code which creates a target and code which is responsible for setting build specifications may make the code more difficult to reason about. <a class="reference internal" href="cmake.1#manual:cmake(1)" title="cmake(1)" id="index-1-manual:cmake(1)"><code>cmake(1)</code></a> provides a debugging facility to print the origin of the contents of properties which may be determined by dependencies. The properties which can be debugged are listed in the <a class="reference internal" href="../variable/cmake_debug_target_properties#variable:CMAKE_DEBUG_TARGET_PROPERTIES" title="CMAKE_DEBUG_TARGET_PROPERTIES" id="index-0-variable:CMAKE_DEBUG_TARGET_PROPERTIES"><code>CMAKE_DEBUG_TARGET_PROPERTIES</code></a> variable documentation:</p> <pre data-language="cmake">set(CMAKE_DEBUG_TARGET_PROPERTIES
  INCLUDE_DIRECTORIES
  COMPILE_DEFINITIONS
  POSITION_INDEPENDENT_CODE
  CONTAINER_SIZE_REQUIRED
  LIB_VERSION
)
add_executable(exe1 exe1.cpp)
</pre> <p>In the case of properties listed in <a class="reference internal" href="../prop_tgt/compatible_interface_bool#prop_tgt:COMPATIBLE_INTERFACE_BOOL" title="COMPATIBLE_INTERFACE_BOOL" id="index-1-prop_tgt:COMPATIBLE_INTERFACE_BOOL"><code>COMPATIBLE_INTERFACE_BOOL</code></a> or <a class="reference internal" href="../prop_tgt/compatible_interface_string#prop_tgt:COMPATIBLE_INTERFACE_STRING" title="COMPATIBLE_INTERFACE_STRING" id="index-1-prop_tgt:COMPATIBLE_INTERFACE_STRING"><code>COMPATIBLE_INTERFACE_STRING</code></a>, the debug output shows which target was responsible for setting the property, and which other dependencies also defined the property. In the case of <a class="reference internal" href="../prop_tgt/compatible_interface_number_max#prop_tgt:COMPATIBLE_INTERFACE_NUMBER_MAX" title="COMPATIBLE_INTERFACE_NUMBER_MAX" id="index-1-prop_tgt:COMPATIBLE_INTERFACE_NUMBER_MAX"><code>COMPATIBLE_INTERFACE_NUMBER_MAX</code></a> and <a class="reference internal" href="../prop_tgt/compatible_interface_number_min#prop_tgt:COMPATIBLE_INTERFACE_NUMBER_MIN" title="COMPATIBLE_INTERFACE_NUMBER_MIN" id="index-1-prop_tgt:COMPATIBLE_INTERFACE_NUMBER_MIN"><code>COMPATIBLE_INTERFACE_NUMBER_MIN</code></a>, the debug output shows the value of the property from each dependency, and whether the value determines the new extreme.</p>   <h3 id="build-specification-with-generator-expressions">Build Specification with Generator Expressions</h3> <p>Build specifications may use <a class="reference internal" href="cmake-generator-expressions.7#manual:cmake-generator-expressions(7)" title="cmake-generator-expressions(7)" id="index-1-manual:cmake-generator-expressions(7)"><code>generator expressions</code></a> containing content which may be conditional or known only at generate-time. For example, the calculated “compatible” value of a property may be read with the <code>TARGET_PROPERTY</code> expression:</p> <pre data-language="cmake">add_library(lib1Version2 SHARED lib1_v2.cpp)
set_property(TARGET lib1Version2 PROPERTY
  INTERFACE_CONTAINER_SIZE_REQUIRED 200)
set_property(TARGET lib1Version2 APPEND PROPERTY
  COMPATIBLE_INTERFACE_NUMBER_MAX CONTAINER_SIZE_REQUIRED
)

add_executable(exe1 exe1.cpp)
target_link_libraries(exe1 lib1Version2)
target_compile_definitions(exe1 PRIVATE
    CONTAINER_SIZE=$&lt;TARGET_PROPERTY:CONTAINER_SIZE_REQUIRED&gt;
)
</pre> <p>In this case, the <code>exe1</code> source files will be compiled with <code>-DCONTAINER_SIZE=200</code>.</p> <p>Configuration determined build specifications may be conveniently set using the <code>CONFIG</code> generator expression.</p> <pre data-language="cmake">target_compile_definitions(exe1 PRIVATE
    $&lt;$&lt;CONFIG:Debug&gt;:DEBUG_BUILD&gt;
)
</pre> <p>The <code>CONFIG</code> parameter is compared case-insensitively with the configuration being built. In the presence of <a class="reference internal" href="../prop_tgt/imported#prop_tgt:IMPORTED" title="IMPORTED" id="index-0-prop_tgt:IMPORTED"><code>IMPORTED</code></a> targets, the content of <a class="reference internal" href="#" title="MAP_IMPORTED_CONFIG_&lt;CONFIG&gt;" id="index-0-prop_tgt:MAP_IMPORTED_CONFIG_&lt;CONFIG&gt;"><code>MAP_IMPORTED_CONFIG_DEBUG</code></a> is also accounted for by this expression.</p> <p>Some buildsystems generated by <a class="reference internal" href="cmake.1#manual:cmake(1)" title="cmake(1)" id="index-2-manual:cmake(1)"><code>cmake(1)</code></a> have a predetermined build-configuration set in the <a class="reference internal" href="../variable/cmake_build_type#variable:CMAKE_BUILD_TYPE" title="CMAKE_BUILD_TYPE" id="index-0-variable:CMAKE_BUILD_TYPE"><code>CMAKE_BUILD_TYPE</code></a> variable. The buildsystem for the IDEs such as Visual Studio and Xcode are generated independent of the build-configuration, and the actual build configuration is not known until build-time. Therefore, code such as</p> <pre data-language="cmake">string(TOLOWER ${CMAKE_BUILD_TYPE} _type)
if (_type STREQUAL debug)
  target_compile_definitions(exe1 PRIVATE DEBUG_BUILD)
endif()
</pre> <p>may appear to work for <a class="reference internal" href="cmake-generators.7#makefile-generators"><span class="std std-ref">Makefile Generators</span></a> and <a class="reference internal" href="https://cmake.org/cmake/help/v3.19/generator/Ninja.html#generator:Ninja" title="Ninja" id="index-0-generator:Ninja"><code>Ninja</code></a> generators, but is not portable to IDE generators. Additionally, the <a class="reference internal" href="../prop_tgt/imported#prop_tgt:IMPORTED" title="IMPORTED" id="index-1-prop_tgt:IMPORTED"><code>IMPORTED</code></a> configuration-mappings are not accounted for with code like this, so it should be avoided.</p> <p>The unary <code>TARGET_PROPERTY</code> generator expression and the <code>TARGET_POLICY</code> generator expression are evaluated with the consuming target context. This means that a usage requirement specification may be evaluated differently based on the consumer:</p> <pre data-language="cmake">add_library(lib1 lib1.cpp)
target_compile_definitions(lib1 INTERFACE
  $&lt;$&lt;STREQUAL:$&lt;TARGET_PROPERTY:TYPE&gt;,EXECUTABLE&gt;:LIB1_WITH_EXE&gt;
  $&lt;$&lt;STREQUAL:$&lt;TARGET_PROPERTY:TYPE&gt;,SHARED_LIBRARY&gt;:LIB1_WITH_SHARED_LIB&gt;
  $&lt;$&lt;TARGET_POLICY:CMP0041&gt;:CONSUMER_CMP0041_NEW&gt;
)

add_executable(exe1 exe1.cpp)
target_link_libraries(exe1 lib1)

cmake_policy(SET CMP0041 NEW)

add_library(shared_lib shared_lib.cpp)
target_link_libraries(shared_lib lib1)
</pre> <p>The <code>exe1</code> executable will be compiled with <code>-DLIB1_WITH_EXE</code>, while the <code>shared_lib</code> shared library will be compiled with <code>-DLIB1_WITH_SHARED_LIB</code> and <code>-DCONSUMER_CMP0041_NEW</code>, because policy <a class="reference internal" href="../policy/cmp0041#policy:CMP0041" title="CMP0041" id="index-0-policy:CMP0041"><code>CMP0041</code></a> is <code>NEW</code> at the point where the <code>shared_lib</code> target is created.</p> <p>The <code>BUILD_INTERFACE</code> expression wraps requirements which are only used when consumed from a target in the same buildsystem, or when consumed from a target exported to the build directory using the <a class="reference internal" href="../command/export#command:export" title="export" id="index-0-command:export"><code>export()</code></a> command. The <code>INSTALL_INTERFACE</code> expression wraps requirements which are only used when consumed from a target which has been installed and exported with the <a class="reference internal" href="../command/install#command:install" title="install" id="index-1-command:install"><code>install(EXPORT)</code></a> command:</p> <pre data-language="cmake">add_library(ClimbingStats climbingstats.cpp)
target_compile_definitions(ClimbingStats INTERFACE
  $&lt;BUILD_INTERFACE:ClimbingStats_FROM_BUILD_LOCATION&gt;
  $&lt;INSTALL_INTERFACE:ClimbingStats_FROM_INSTALLED_LOCATION&gt;
)
install(TARGETS ClimbingStats EXPORT libExport ${InstallArgs})
install(EXPORT libExport NAMESPACE Upstream::
        DESTINATION lib/cmake/ClimbingStats)
export(EXPORT libExport NAMESPACE Upstream::)

add_executable(exe1 exe1.cpp)
target_link_libraries(exe1 ClimbingStats)
</pre> <p>In this case, the <code>exe1</code> executable will be compiled with <code>-DClimbingStats_FROM_BUILD_LOCATION</code>. The exporting commands generate <a class="reference internal" href="../prop_tgt/imported#prop_tgt:IMPORTED" title="IMPORTED" id="index-2-prop_tgt:IMPORTED"><code>IMPORTED</code></a> targets with either the <code>INSTALL_INTERFACE</code> or the <code>BUILD_INTERFACE</code> omitted, and the <code>*_INTERFACE</code> marker stripped away. A separate project consuming the <code>ClimbingStats</code> package would contain:</p> <pre data-language="cmake">find_package(ClimbingStats REQUIRED)

add_executable(Downstream main.cpp)
target_link_libraries(Downstream Upstream::ClimbingStats)
</pre> <p>Depending on whether the <code>ClimbingStats</code> package was used from the build location or the install location, the <code>Downstream</code> target would be compiled with either <code>-DClimbingStats_FROM_BUILD_LOCATION</code> or <code>-DClimbingStats_FROM_INSTALL_LOCATION</code>. For more about packages and exporting see the <a class="reference internal" href="cmake-packages.7#manual:cmake-packages(7)" title="cmake-packages(7)" id="index-1-manual:cmake-packages(7)"><code>cmake-packages(7)</code></a> manual.</p>  <h4 id="id5">Include Directories and Usage Requirements</h4> <p id="include-directories-and-usage-requirements">Include directories require some special consideration when specified as usage requirements and when used with generator expressions. The <a class="reference internal" href="../command/target_include_directories#command:target_include_directories" title="target_include_directories" id="index-1-command:target_include_directories"><code>target_include_directories()</code></a> command accepts both relative and absolute include directories:</p> <pre data-language="cmake">add_library(lib1 lib1.cpp)
target_include_directories(lib1 PRIVATE
  /absolute/path
  relative/path
)
</pre> <p>Relative paths are interpreted relative to the source directory where the command appears. Relative paths are not allowed in the <a class="reference internal" href="../prop_tgt/interface_include_directories#prop_tgt:INTERFACE_INCLUDE_DIRECTORIES" title="INTERFACE_INCLUDE_DIRECTORIES" id="index-4-prop_tgt:INTERFACE_INCLUDE_DIRECTORIES"><code>INTERFACE_INCLUDE_DIRECTORIES</code></a> of <a class="reference internal" href="../prop_tgt/imported#prop_tgt:IMPORTED" title="IMPORTED" id="index-3-prop_tgt:IMPORTED"><code>IMPORTED</code></a> targets.</p> <p>In cases where a non-trivial generator expression is used, the <code>INSTALL_PREFIX</code> expression may be used within the argument of an <code>INSTALL_INTERFACE</code> expression. It is a replacement marker which expands to the installation prefix when imported by a consuming project.</p> <p>Include directories usage requirements commonly differ between the build-tree and the install-tree. The <code>BUILD_INTERFACE</code> and <code>INSTALL_INTERFACE</code> generator expressions can be used to describe separate usage requirements based on the usage location. Relative paths are allowed within the <code>INSTALL_INTERFACE</code> expression and are interpreted relative to the installation prefix. For example:</p> <pre data-language="cmake">add_library(ClimbingStats climbingstats.cpp)
target_include_directories(ClimbingStats INTERFACE
  $&lt;BUILD_INTERFACE:${CMAKE_CURRENT_BINARY_DIR}/generated&gt;
  $&lt;INSTALL_INTERFACE:/absolute/path&gt;
  $&lt;INSTALL_INTERFACE:relative/path&gt;
  $&lt;INSTALL_INTERFACE:$&lt;INSTALL_PREFIX&gt;/$&lt;CONFIG&gt;/generated&gt;
)
</pre> <p>Two convenience APIs are provided relating to include directories usage requirements. The <a class="reference internal" href="../variable/cmake_include_current_dir_in_interface#variable:CMAKE_INCLUDE_CURRENT_DIR_IN_INTERFACE" title="CMAKE_INCLUDE_CURRENT_DIR_IN_INTERFACE" id="index-1-variable:CMAKE_INCLUDE_CURRENT_DIR_IN_INTERFACE"><code>CMAKE_INCLUDE_CURRENT_DIR_IN_INTERFACE</code></a> variable may be enabled, with an equivalent effect to:</p> <pre data-language="cmake">set_property(TARGET tgt APPEND PROPERTY INTERFACE_INCLUDE_DIRECTORIES
  $&lt;BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR};${CMAKE_CURRENT_BINARY_DIR}&gt;
)
</pre> <p>for each target affected. The convenience for installed targets is an <code>INCLUDES DESTINATION</code> component with the <a class="reference internal" href="../command/install#command:install" title="install" id="index-2-command:install"><code>install(TARGETS)</code></a> command:</p> <pre data-language="cmake">install(TARGETS foo bar bat EXPORT tgts ${dest_args}
  INCLUDES DESTINATION include
)
install(EXPORT tgts ${other_args})
install(FILES ${headers} DESTINATION include)
</pre> <p>This is equivalent to appending <code>${CMAKE_INSTALL_PREFIX}/include</code> to the <a class="reference internal" href="../prop_tgt/interface_include_directories#prop_tgt:INTERFACE_INCLUDE_DIRECTORIES" title="INTERFACE_INCLUDE_DIRECTORIES" id="index-5-prop_tgt:INTERFACE_INCLUDE_DIRECTORIES"><code>INTERFACE_INCLUDE_DIRECTORIES</code></a> of each of the installed <a class="reference internal" href="../prop_tgt/imported#prop_tgt:IMPORTED" title="IMPORTED" id="index-4-prop_tgt:IMPORTED"><code>IMPORTED</code></a> targets when generated by <a class="reference internal" href="../command/install#command:install" title="install" id="index-3-command:install"><code>install(EXPORT)</code></a>.</p> <p>When the <a class="reference internal" href="../prop_tgt/interface_include_directories#prop_tgt:INTERFACE_INCLUDE_DIRECTORIES" title="INTERFACE_INCLUDE_DIRECTORIES" id="index-6-prop_tgt:INTERFACE_INCLUDE_DIRECTORIES"><code>INTERFACE_INCLUDE_DIRECTORIES</code></a> of an <a class="reference internal" href="#imported-targets"><span class="std std-ref">imported target</span></a> is consumed, the entries in the property are treated as <code>SYSTEM</code> include directories, as if they were listed in the <a class="reference internal" href="../prop_tgt/interface_system_include_directories#prop_tgt:INTERFACE_SYSTEM_INCLUDE_DIRECTORIES" title="INTERFACE_SYSTEM_INCLUDE_DIRECTORIES" id="index-0-prop_tgt:INTERFACE_SYSTEM_INCLUDE_DIRECTORIES"><code>INTERFACE_SYSTEM_INCLUDE_DIRECTORIES</code></a> of the dependency. This can result in omission of compiler warnings for headers found in those directories. This behavior for <a class="reference internal" href="#imported-targets"><span class="std std-ref">Imported Targets</span></a> may be controlled by setting the <a class="reference internal" href="../prop_tgt/no_system_from_imported#prop_tgt:NO_SYSTEM_FROM_IMPORTED" title="NO_SYSTEM_FROM_IMPORTED" id="index-0-prop_tgt:NO_SYSTEM_FROM_IMPORTED"><code>NO_SYSTEM_FROM_IMPORTED</code></a> target property on the <em>consumers</em> of imported targets.</p> <p>If a binary target is linked transitively to a macOS <a class="reference internal" href="../prop_tgt/framework#prop_tgt:FRAMEWORK" title="FRAMEWORK" id="index-1-prop_tgt:FRAMEWORK"><code>FRAMEWORK</code></a>, the <code>Headers</code> directory of the framework is also treated as a usage requirement. This has the same effect as passing the framework directory as an include directory.</p>    <h3 id="link-libraries-and-generator-expressions">Link Libraries and Generator Expressions</h3> <p>Like build specifications, <a class="reference internal" href="../prop_tgt/link_libraries#prop_tgt:LINK_LIBRARIES" title="LINK_LIBRARIES" id="index-0-prop_tgt:LINK_LIBRARIES"><code>link libraries</code></a> may be specified with generator expression conditions. However, as consumption of usage requirements is based on collection from linked dependencies, there is an additional limitation that the link dependencies must form a “directed acyclic graph”. That is, if linking to a target is dependent on the value of a target property, that target property may not be dependent on the linked dependencies:</p> <pre data-language="cmake">add_library(lib1 lib1.cpp)
add_library(lib2 lib2.cpp)
target_link_libraries(lib1 PUBLIC
  $&lt;$&lt;TARGET_PROPERTY:POSITION_INDEPENDENT_CODE&gt;:lib2&gt;
)
add_library(lib3 lib3.cpp)
set_property(TARGET lib3 PROPERTY INTERFACE_POSITION_INDEPENDENT_CODE ON)

add_executable(exe1 exe1.cpp)
target_link_libraries(exe1 lib1 lib3)
</pre> <p>As the value of the <a class="reference internal" href="../prop_tgt/position_independent_code#prop_tgt:POSITION_INDEPENDENT_CODE" title="POSITION_INDEPENDENT_CODE" id="index-4-prop_tgt:POSITION_INDEPENDENT_CODE"><code>POSITION_INDEPENDENT_CODE</code></a> property of the <code>exe1</code> target is dependent on the linked libraries (<code>lib3</code>), and the edge of linking <code>exe1</code> is determined by the same <a class="reference internal" href="../prop_tgt/position_independent_code#prop_tgt:POSITION_INDEPENDENT_CODE" title="POSITION_INDEPENDENT_CODE" id="index-5-prop_tgt:POSITION_INDEPENDENT_CODE"><code>POSITION_INDEPENDENT_CODE</code></a> property, the dependency graph above contains a cycle. <a class="reference internal" href="cmake.1#manual:cmake(1)" title="cmake(1)" id="index-3-manual:cmake(1)"><code>cmake(1)</code></a> issues an error message.</p>   <h3 id="id6">Output Artifacts</h3> <p id="output-artifacts">The buildsystem targets created by the <a class="reference internal" href="../command/add_library#command:add_library" title="add_library" id="index-3-command:add_library"><code>add_library()</code></a> and <a class="reference internal" href="../command/add_executable#command:add_executable" title="add_executable" id="index-2-command:add_executable"><code>add_executable()</code></a> commands create rules to create binary outputs. The exact output location of the binaries can only be determined at generate-time because it can depend on the build-configuration and the link-language of linked dependencies etc. <code>TARGET_FILE</code>, <code>TARGET_LINKER_FILE</code> and related expressions can be used to access the name and location of generated binaries. These expressions do not work for <code>OBJECT</code> libraries however, as there is no single file generated by such libraries which is relevant to the expressions.</p> <p>There are three kinds of output artifacts that may be build by targets as detailed in the following sections. Their classification differs between DLL platforms and non-DLL platforms. All Windows-based systems including Cygwin are DLL platforms.</p>  <h4 id="id7">Runtime Output Artifacts</h4> <p id="runtime-output-artifacts">A <em>runtime</em> output artifact of a buildsystem target may be:</p> <ul class="simple"> <li>The executable file (e.g. <code>.exe</code>) of an executable target created by the <a class="reference internal" href="../command/add_executable#command:add_executable" title="add_executable" id="index-3-command:add_executable"><code>add_executable()</code></a> command.</li> <li>On DLL platforms: the executable file (e.g. <code>.dll</code>) of a shared library target created by the <a class="reference internal" href="../command/add_library#command:add_library" title="add_library" id="index-4-command:add_library"><code>add_library()</code></a> command with the <code>SHARED</code> option.</li> </ul> <p>The <a class="reference internal" href="../prop_tgt/runtime_output_directory#prop_tgt:RUNTIME_OUTPUT_DIRECTORY" title="RUNTIME_OUTPUT_DIRECTORY" id="index-0-prop_tgt:RUNTIME_OUTPUT_DIRECTORY"><code>RUNTIME_OUTPUT_DIRECTORY</code></a> and <a class="reference internal" href="../prop_tgt/runtime_output_name#prop_tgt:RUNTIME_OUTPUT_NAME" title="RUNTIME_OUTPUT_NAME" id="index-0-prop_tgt:RUNTIME_OUTPUT_NAME"><code>RUNTIME_OUTPUT_NAME</code></a> target properties may be used to control runtime output artifact locations and names in the build tree.</p>   <h4 id="id8">Library Output Artifacts</h4> <p id="library-output-artifacts">A <em>library</em> output artifact of a buildsystem target may be:</p> <ul class="simple"> <li>The loadable module file (e.g. <code>.dll</code> or <code>.so</code>) of a module library target created by the <a class="reference internal" href="../command/add_library#command:add_library" title="add_library" id="index-5-command:add_library"><code>add_library()</code></a> command with the <code>MODULE</code> option.</li> <li>On non-DLL platforms: the shared library file (e.g. <code>.so</code> or <code>.dylib</code>) of a shared library target created by the <a class="reference internal" href="../command/add_library#command:add_library" title="add_library" id="index-6-command:add_library"><code>add_library()</code></a> command with the <code>SHARED</code> option.</li> </ul> <p>The <a class="reference internal" href="../prop_tgt/library_output_directory#prop_tgt:LIBRARY_OUTPUT_DIRECTORY" title="LIBRARY_OUTPUT_DIRECTORY" id="index-0-prop_tgt:LIBRARY_OUTPUT_DIRECTORY"><code>LIBRARY_OUTPUT_DIRECTORY</code></a> and <a class="reference internal" href="../prop_tgt/library_output_name#prop_tgt:LIBRARY_OUTPUT_NAME" title="LIBRARY_OUTPUT_NAME" id="index-0-prop_tgt:LIBRARY_OUTPUT_NAME"><code>LIBRARY_OUTPUT_NAME</code></a> target properties may be used to control library output artifact locations and names in the build tree.</p>   <h4 id="id9">Archive Output Artifacts</h4> <p id="archive-output-artifacts">An <em>archive</em> output artifact of a buildsystem target may be:</p> <ul class="simple"> <li>The static library file (e.g. <code>.lib</code> or <code>.a</code>) of a static library target created by the <a class="reference internal" href="../command/add_library#command:add_library" title="add_library" id="index-7-command:add_library"><code>add_library()</code></a> command with the <code>STATIC</code> option.</li> <li>On DLL platforms: the import library file (e.g. <code>.lib</code>) of a shared library target created by the <a class="reference internal" href="../command/add_library#command:add_library" title="add_library" id="index-8-command:add_library"><code>add_library()</code></a> command with the <code>SHARED</code> option. This file is only guaranteed to exist if the library exports at least one unmanaged symbol.</li> <li>On DLL platforms: the import library file (e.g. <code>.lib</code>) of an executable target created by the <a class="reference internal" href="../command/add_executable#command:add_executable" title="add_executable" id="index-4-command:add_executable"><code>add_executable()</code></a> command when its <a class="reference internal" href="../prop_tgt/enable_exports#prop_tgt:ENABLE_EXPORTS" title="ENABLE_EXPORTS" id="index-0-prop_tgt:ENABLE_EXPORTS"><code>ENABLE_EXPORTS</code></a> target property is set.</li> <li>On AIX: the linker import file (e.g. <code>.imp</code>) of an executable target created by the <a class="reference internal" href="../command/add_executable#command:add_executable" title="add_executable" id="index-5-command:add_executable"><code>add_executable()</code></a> command when its <a class="reference internal" href="../prop_tgt/enable_exports#prop_tgt:ENABLE_EXPORTS" title="ENABLE_EXPORTS" id="index-1-prop_tgt:ENABLE_EXPORTS"><code>ENABLE_EXPORTS</code></a> target property is set.</li> </ul> <p>The <a class="reference internal" href="../prop_tgt/archive_output_directory#prop_tgt:ARCHIVE_OUTPUT_DIRECTORY" title="ARCHIVE_OUTPUT_DIRECTORY" id="index-0-prop_tgt:ARCHIVE_OUTPUT_DIRECTORY"><code>ARCHIVE_OUTPUT_DIRECTORY</code></a> and <a class="reference internal" href="../prop_tgt/archive_output_name#prop_tgt:ARCHIVE_OUTPUT_NAME" title="ARCHIVE_OUTPUT_NAME" id="index-0-prop_tgt:ARCHIVE_OUTPUT_NAME"><code>ARCHIVE_OUTPUT_NAME</code></a> target properties may be used to control archive output artifact locations and names in the build tree.</p>    <h3 id="directory-scoped-commands">Directory-Scoped Commands</h3> <p>The <a class="reference internal" href="../command/target_include_directories#command:target_include_directories" title="target_include_directories" id="index-2-command:target_include_directories"><code>target_include_directories()</code></a>, <a class="reference internal" href="../command/target_compile_definitions#command:target_compile_definitions" title="target_compile_definitions" id="index-1-command:target_compile_definitions"><code>target_compile_definitions()</code></a> and <a class="reference internal" href="../command/target_compile_options#command:target_compile_options" title="target_compile_options" id="index-1-command:target_compile_options"><code>target_compile_options()</code></a> commands have an effect on only one target at a time. The commands <a class="reference internal" href="../command/add_compile_definitions#command:add_compile_definitions" title="add_compile_definitions" id="index-0-command:add_compile_definitions"><code>add_compile_definitions()</code></a>, <a class="reference internal" href="../command/add_compile_options#command:add_compile_options" title="add_compile_options" id="index-0-command:add_compile_options"><code>add_compile_options()</code></a> and <a class="reference internal" href="../command/include_directories#command:include_directories" title="include_directories" id="index-0-command:include_directories"><code>include_directories()</code></a> have a similar function, but operate at directory scope instead of target scope for convenience.</p>    <h2 id="pseudo-targets">Pseudo Targets</h2> <p>Some target types do not represent outputs of the buildsystem, but only inputs such as external dependencies, aliases or other non-build artifacts. Pseudo targets are not represented in the generated buildsystem.</p>  <h3 id="id10">Imported Targets</h3> <p id="imported-targets">An <a class="reference internal" href="../prop_tgt/imported#prop_tgt:IMPORTED" title="IMPORTED" id="index-5-prop_tgt:IMPORTED"><code>IMPORTED</code></a> target represents a pre-existing dependency. Usually such targets are defined by an upstream package and should be treated as immutable. After declaring an <a class="reference internal" href="../prop_tgt/imported#prop_tgt:IMPORTED" title="IMPORTED" id="index-6-prop_tgt:IMPORTED"><code>IMPORTED</code></a> target one can adjust its target properties by using the customary commands such as <a class="reference internal" href="../command/target_compile_definitions#command:target_compile_definitions" title="target_compile_definitions" id="index-2-command:target_compile_definitions"><code>target_compile_definitions()</code></a>, <a class="reference internal" href="../command/target_include_directories#command:target_include_directories" title="target_include_directories" id="index-3-command:target_include_directories"><code>target_include_directories()</code></a>, <a class="reference internal" href="../command/target_compile_options#command:target_compile_options" title="target_compile_options" id="index-2-command:target_compile_options"><code>target_compile_options()</code></a> or <a class="reference internal" href="../command/target_link_libraries#command:target_link_libraries" title="target_link_libraries" id="index-8-command:target_link_libraries"><code>target_link_libraries()</code></a> just like with any other regular target.</p> <p><a class="reference internal" href="../prop_tgt/imported#prop_tgt:IMPORTED" title="IMPORTED" id="index-7-prop_tgt:IMPORTED"><code>IMPORTED</code></a> targets may have the same usage requirement properties populated as binary targets, such as <a class="reference internal" href="../prop_tgt/interface_include_directories#prop_tgt:INTERFACE_INCLUDE_DIRECTORIES" title="INTERFACE_INCLUDE_DIRECTORIES" id="index-7-prop_tgt:INTERFACE_INCLUDE_DIRECTORIES"><code>INTERFACE_INCLUDE_DIRECTORIES</code></a>, <a class="reference internal" href="../prop_tgt/interface_compile_definitions#prop_tgt:INTERFACE_COMPILE_DEFINITIONS" title="INTERFACE_COMPILE_DEFINITIONS" id="index-2-prop_tgt:INTERFACE_COMPILE_DEFINITIONS"><code>INTERFACE_COMPILE_DEFINITIONS</code></a>, <a class="reference internal" href="../prop_tgt/interface_compile_options#prop_tgt:INTERFACE_COMPILE_OPTIONS" title="INTERFACE_COMPILE_OPTIONS" id="index-2-prop_tgt:INTERFACE_COMPILE_OPTIONS"><code>INTERFACE_COMPILE_OPTIONS</code></a>, <a class="reference internal" href="../prop_tgt/interface_link_libraries#prop_tgt:INTERFACE_LINK_LIBRARIES" title="INTERFACE_LINK_LIBRARIES" id="index-0-prop_tgt:INTERFACE_LINK_LIBRARIES"><code>INTERFACE_LINK_LIBRARIES</code></a>, and <a class="reference internal" href="../prop_tgt/interface_position_independent_code#prop_tgt:INTERFACE_POSITION_INDEPENDENT_CODE" title="INTERFACE_POSITION_INDEPENDENT_CODE" id="index-2-prop_tgt:INTERFACE_POSITION_INDEPENDENT_CODE"><code>INTERFACE_POSITION_INDEPENDENT_CODE</code></a>.</p> <p>The <a class="reference internal" href="../prop_tgt/location#prop_tgt:LOCATION" title="LOCATION" id="index-0-prop_tgt:LOCATION"><code>LOCATION</code></a> may also be read from an IMPORTED target, though there is rarely reason to do so. Commands such as <a class="reference internal" href="../command/add_custom_command#command:add_custom_command" title="add_custom_command" id="index-3-command:add_custom_command"><code>add_custom_command()</code></a> can transparently use an <a class="reference internal" href="../prop_tgt/imported#prop_tgt:IMPORTED" title="IMPORTED" id="index-8-prop_tgt:IMPORTED"><code>IMPORTED</code></a> <a class="reference internal" href="../prop_tgt/type#prop_tgt:TYPE" title="TYPE" id="index-1-prop_tgt:TYPE"><code>EXECUTABLE</code></a> target as a <code>COMMAND</code> executable.</p> <p>The scope of the definition of an <a class="reference internal" href="../prop_tgt/imported#prop_tgt:IMPORTED" title="IMPORTED" id="index-9-prop_tgt:IMPORTED"><code>IMPORTED</code></a> target is the directory where it was defined. It may be accessed and used from subdirectories, but not from parent directories or sibling directories. The scope is similar to the scope of a cmake variable.</p> <p>It is also possible to define a <code>GLOBAL</code> <a class="reference internal" href="../prop_tgt/imported#prop_tgt:IMPORTED" title="IMPORTED" id="index-10-prop_tgt:IMPORTED"><code>IMPORTED</code></a> target which is accessible globally in the buildsystem.</p> <p>See the <a class="reference internal" href="cmake-packages.7#manual:cmake-packages(7)" title="cmake-packages(7)" id="index-2-manual:cmake-packages(7)"><code>cmake-packages(7)</code></a> manual for more on creating packages with <a class="reference internal" href="../prop_tgt/imported#prop_tgt:IMPORTED" title="IMPORTED" id="index-11-prop_tgt:IMPORTED"><code>IMPORTED</code></a> targets.</p>   <h3 id="id11">Alias Targets</h3> <p id="alias-targets">An <code>ALIAS</code> target is a name which may be used interchangeably with a binary target name in read-only contexts. A primary use-case for <code>ALIAS</code> targets is for example or unit test executables accompanying a library, which may be part of the same buildsystem or built separately based on user configuration.</p> <pre data-language="cmake">add_library(lib1 lib1.cpp)
install(TARGETS lib1 EXPORT lib1Export ${dest_args})
install(EXPORT lib1Export NAMESPACE Upstream:: ${other_args})

add_library(Upstream::lib1 ALIAS lib1)
</pre> <p>In another directory, we can link unconditionally to the <code>Upstream::lib1</code> target, which may be an <a class="reference internal" href="../prop_tgt/imported#prop_tgt:IMPORTED" title="IMPORTED" id="index-12-prop_tgt:IMPORTED"><code>IMPORTED</code></a> target from a package, or an <code>ALIAS</code> target if built as part of the same buildsystem.</p> <pre data-language="cmake">if (NOT TARGET Upstream::lib1)
  find_package(lib1 REQUIRED)
endif()
add_executable(exe1 exe1.cpp)
target_link_libraries(exe1 Upstream::lib1)
</pre> <p><code>ALIAS</code> targets are not mutable, installable or exportable. They are entirely local to the buildsystem description. A name can be tested for whether it is an <code>ALIAS</code> name by reading the <a class="reference internal" href="../prop_tgt/aliased_target#prop_tgt:ALIASED_TARGET" title="ALIASED_TARGET" id="index-0-prop_tgt:ALIASED_TARGET"><code>ALIASED_TARGET</code></a> property from it:</p> <pre data-language="cmake">get_target_property(_aliased Upstream::lib1 ALIASED_TARGET)
if(_aliased)
  message(STATUS "The name Upstream::lib1 is an ALIAS for ${_aliased}.")
endif()
</pre>   <h3 id="id12">Interface Libraries</h3> <p id="interface-libraries">An <code>INTERFACE</code> library target does not compile sources and does not produce a library artifact on disk, so it has no <a class="reference internal" href="../prop_tgt/location#prop_tgt:LOCATION" title="LOCATION" id="index-1-prop_tgt:LOCATION"><code>LOCATION</code></a>.</p> <p>It may specify usage requirements such as <a class="reference internal" href="../prop_tgt/interface_include_directories#prop_tgt:INTERFACE_INCLUDE_DIRECTORIES" title="INTERFACE_INCLUDE_DIRECTORIES" id="index-8-prop_tgt:INTERFACE_INCLUDE_DIRECTORIES"><code>INTERFACE_INCLUDE_DIRECTORIES</code></a>, <a class="reference internal" href="../prop_tgt/interface_compile_definitions#prop_tgt:INTERFACE_COMPILE_DEFINITIONS" title="INTERFACE_COMPILE_DEFINITIONS" id="index-3-prop_tgt:INTERFACE_COMPILE_DEFINITIONS"><code>INTERFACE_COMPILE_DEFINITIONS</code></a>, <a class="reference internal" href="../prop_tgt/interface_compile_options#prop_tgt:INTERFACE_COMPILE_OPTIONS" title="INTERFACE_COMPILE_OPTIONS" id="index-3-prop_tgt:INTERFACE_COMPILE_OPTIONS"><code>INTERFACE_COMPILE_OPTIONS</code></a>, <a class="reference internal" href="../prop_tgt/interface_link_libraries#prop_tgt:INTERFACE_LINK_LIBRARIES" title="INTERFACE_LINK_LIBRARIES" id="index-1-prop_tgt:INTERFACE_LINK_LIBRARIES"><code>INTERFACE_LINK_LIBRARIES</code></a>, <a class="reference internal" href="../prop_tgt/interface_sources#prop_tgt:INTERFACE_SOURCES" title="INTERFACE_SOURCES" id="index-0-prop_tgt:INTERFACE_SOURCES"><code>INTERFACE_SOURCES</code></a>, and <a class="reference internal" href="../prop_tgt/interface_position_independent_code#prop_tgt:INTERFACE_POSITION_INDEPENDENT_CODE" title="INTERFACE_POSITION_INDEPENDENT_CODE" id="index-3-prop_tgt:INTERFACE_POSITION_INDEPENDENT_CODE"><code>INTERFACE_POSITION_INDEPENDENT_CODE</code></a>. Only the <code>INTERFACE</code> modes of the <a class="reference internal" href="../command/target_include_directories#command:target_include_directories" title="target_include_directories" id="index-4-command:target_include_directories"><code>target_include_directories()</code></a>, <a class="reference internal" href="../command/target_compile_definitions#command:target_compile_definitions" title="target_compile_definitions" id="index-3-command:target_compile_definitions"><code>target_compile_definitions()</code></a>, <a class="reference internal" href="../command/target_compile_options#command:target_compile_options" title="target_compile_options" id="index-3-command:target_compile_options"><code>target_compile_options()</code></a>, <a class="reference internal" href="../command/target_sources#command:target_sources" title="target_sources" id="index-0-command:target_sources"><code>target_sources()</code></a>, and <a class="reference internal" href="../command/target_link_libraries#command:target_link_libraries" title="target_link_libraries" id="index-9-command:target_link_libraries"><code>target_link_libraries()</code></a> commands may be used with <code>INTERFACE</code> libraries.</p> <p>Since CMake 3.19, an <code>INTERFACE</code> library target may optionally contain source files. An interface library that contains source files will be included as a build target in the generated buildsystem. It does not compile sources, but may contain custom commands to generate other sources. Additionally, IDEs will show the source files as part of the target for interactive reading and editing.</p> <p>A primary use-case for <code>INTERFACE</code> libraries is header-only libraries.</p> <pre data-language="cmake">add_library(Eigen INTERFACE
  src/eigen.h
  src/vector.h
  src/matrix.h
  )
target_include_directories(Eigen INTERFACE
  $&lt;BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/src&gt;
  $&lt;INSTALL_INTERFACE:include/Eigen&gt;
)

add_executable(exe1 exe1.cpp)
target_link_libraries(exe1 Eigen)
</pre> <p>Here, the usage requirements from the <code>Eigen</code> target are consumed and used when compiling, but it has no effect on linking.</p> <p>Another use-case is to employ an entirely target-focussed design for usage requirements:</p> <pre data-language="cmake">add_library(pic_on INTERFACE)
set_property(TARGET pic_on PROPERTY INTERFACE_POSITION_INDEPENDENT_CODE ON)
add_library(pic_off INTERFACE)
set_property(TARGET pic_off PROPERTY INTERFACE_POSITION_INDEPENDENT_CODE OFF)

add_library(enable_rtti INTERFACE)
target_compile_options(enable_rtti INTERFACE
  $&lt;$&lt;OR:$&lt;COMPILER_ID:GNU&gt;,$&lt;COMPILER_ID:Clang&gt;&gt;:-rtti&gt;
)

add_executable(exe1 exe1.cpp)
target_link_libraries(exe1 pic_on enable_rtti)
</pre> <p>This way, the build specification of <code>exe1</code> is expressed entirely as linked targets, and the complexity of compiler-specific flags is encapsulated in an <code>INTERFACE</code> library target.</p> <p><code>INTERFACE</code> libraries may be installed and exported. Any content they refer to must be installed separately:</p> <pre data-language="cmake">set(Eigen_headers
  src/eigen.h
  src/vector.h
  src/matrix.h
  )
add_library(Eigen INTERFACE ${Eigen_headers})
target_include_directories(Eigen INTERFACE
  $&lt;BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/src&gt;
  $&lt;INSTALL_INTERFACE:include/Eigen&gt;
)

install(TARGETS Eigen EXPORT eigenExport)
install(EXPORT eigenExport NAMESPACE Upstream::
  DESTINATION lib/cmake/Eigen
)
install(FILES ${Eigen_headers}
  DESTINATION include/Eigen
)
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © 2000–2020 Kitware, Inc. and Contributors<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://cmake.org/cmake/help/v3.19/manual/cmake-buildsystem.7.html" class="_attribution-link">https://cmake.org/cmake/help/v3.19/manual/cmake-buildsystem.7.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
