
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>FIXTURES_REQUIRED - CMake 3.19 - W3cubDocs</title>
  
  <meta name="description" content=" New in version 3.7. ">
  <meta name="keywords" content="fixtures, required, cmake, cmake~3.19">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/cmake~3.19/prop_test/fixtures_required.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/cmake~3.19.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cmake~3.19/" class="_nav-link" title="" style="margin-left:0;">CMake 3.19</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx_simple">
				
				
<h1 id="prop_test:FIXTURES_REQUIRED">FIXTURES_REQUIRED</h1> <div class="versionadded" id="fixtures-required"> <p><span class="versionmodified added">New in version 3.7.</span></p> </div> <p>Specifies a list of fixtures the test requires. Fixture names are case sensitive and they are not required to have any similarity to test names.</p> <p>Fixtures are a way to attach setup and cleanup tasks to a set of tests. If a test requires a given fixture, then all tests marked as setup tasks for that fixture will be executed first (once for the whole set of tests, not once per test requiring the fixture). After all tests requiring a particular fixture have completed, CTest will ensure all tests marked as cleanup tasks for that fixture are then executed. Tests are marked as setup tasks with the <a class="reference internal" href="fixtures_setup#prop_test:FIXTURES_SETUP" title="FIXTURES_SETUP" id="index-0-prop_test:FIXTURES_SETUP"><code>FIXTURES_SETUP</code></a> property and as cleanup tasks with the <a class="reference internal" href="fixtures_cleanup#prop_test:FIXTURES_CLEANUP" title="FIXTURES_CLEANUP" id="index-0-prop_test:FIXTURES_CLEANUP"><code>FIXTURES_CLEANUP</code></a> property. If any of a fixture’s setup tests fail, all tests listing that fixture in their <code>FIXTURES_REQUIRED</code> property will not be executed. The cleanup tests for the fixture will always be executed, even if some setup tests fail.</p> <p>When CTest is asked to execute only a subset of tests (e.g. by the use of regular expressions or when run with the <code>--rerun-failed</code> command line option), it will automatically add any setup or cleanup tests for fixtures required by any of the tests that are in the execution set. This behavior can be overridden with the <code>-FS</code>, <code>-FC</code> and <code>-FA</code> command line options to <a class="reference internal" href="../manual/ctest.1#manual:ctest(1)" title="ctest(1)" id="index-0-manual:ctest(1)"><code>ctest(1)</code></a> if desired.</p> <p>Since setup and cleanup tasks are also tests, they can have an ordering specified by the <a class="reference internal" href="depends#prop_test:DEPENDS" title="DEPENDS" id="index-0-prop_test:DEPENDS"><code>DEPENDS</code></a> test property just like any other tests. This can be exploited to implement setup or cleanup using multiple tests for a single fixture to modularise setup or cleanup logic.</p> <p>The concept of a fixture is different to that of a resource specified by <a class="reference internal" href="resource_lock#prop_test:RESOURCE_LOCK" title="RESOURCE_LOCK" id="index-0-prop_test:RESOURCE_LOCK"><code>RESOURCE_LOCK</code></a>, but they may be used together. A fixture defines a set of tests which share setup and cleanup requirements, whereas a resource lock has the effect of ensuring a particular set of tests do not run in parallel. Some situations may need both, such as setting up a database, serialising test access to that database and deleting the database again at the end. For such cases, tests would populate both <code>FIXTURES_REQUIRED</code> and <a class="reference internal" href="resource_lock#prop_test:RESOURCE_LOCK" title="RESOURCE_LOCK" id="index-1-prop_test:RESOURCE_LOCK"><code>RESOURCE_LOCK</code></a> to combine the two behaviours. Names used for <a class="reference internal" href="resource_lock#prop_test:RESOURCE_LOCK" title="RESOURCE_LOCK" id="index-2-prop_test:RESOURCE_LOCK"><code>RESOURCE_LOCK</code></a> have no relationship with names of fixtures, so note that a resource lock does not imply a fixture and vice versa.</p> <p>Consider the following example which represents a database test scenario similar to that mentioned above:</p> <pre data-language="cmake">add_test(NAME testsDone   COMMAND emailResults)
add_test(NAME fooOnly     COMMAND testFoo)
add_test(NAME dbOnly      COMMAND testDb)
add_test(NAME dbWithFoo   COMMAND testDbWithFoo)
add_test(NAME createDB    COMMAND initDB)
add_test(NAME setupUsers  COMMAND userCreation)
add_test(NAME cleanupDB   COMMAND deleteDB)
add_test(NAME cleanupFoo  COMMAND removeFoos)

set_tests_properties(setupUsers PROPERTIES DEPENDS createDB)

set_tests_properties(createDB   PROPERTIES FIXTURES_SETUP    DB)
set_tests_properties(setupUsers PROPERTIES FIXTURES_SETUP    DB)
set_tests_properties(cleanupDB  PROPERTIES FIXTURES_CLEANUP  DB)
set_tests_properties(cleanupFoo PROPERTIES FIXTURES_CLEANUP  Foo)
set_tests_properties(testsDone  PROPERTIES FIXTURES_CLEANUP  "DB;Foo")

set_tests_properties(fooOnly    PROPERTIES FIXTURES_REQUIRED Foo)
set_tests_properties(dbOnly     PROPERTIES FIXTURES_REQUIRED DB)
set_tests_properties(dbWithFoo  PROPERTIES FIXTURES_REQUIRED "DB;Foo")

set_tests_properties(dbOnly dbWithFoo createDB setupUsers cleanupDB
                     PROPERTIES RESOURCE_LOCK DbAccess)
</pre> <p>Key points from this example:</p> <ul class="simple"> <li>Two fixtures are defined: <code>DB</code> and <code>Foo</code>. Tests can require a single fixture as <code>fooOnly</code> and <code>dbOnly</code> do, or they can depend on multiple fixtures like <code>dbWithFoo</code> does.</li> <li>A <code>DEPENDS</code> relationship is set up to ensure <code>setupUsers</code> happens after <code>createDB</code>, both of which are setup tests for the <code>DB</code> fixture and will therefore be executed before the <code>dbOnly</code> and <code>dbWithFoo</code> tests automatically.</li> <li>No explicit <code>DEPENDS</code> relationships were needed to make the setup tests run before or the cleanup tests run after the regular tests.</li> <li>The <code>Foo</code> fixture has no setup tests defined, only a single cleanup test.</li> <li>
<code>testsDone</code> is a cleanup test for both the <code>DB</code> and <code>Foo</code> fixtures. Therefore, it will only execute once regular tests for both fixtures have finished (i.e. after <code>fooOnly</code>, <code>dbOnly</code> and <code>dbWithFoo</code>). No <code>DEPENDS</code> relationship was specified for <code>testsDone</code>, so it is free to run before, after or concurrently with other cleanup tests for either fixture.</li> <li>The setup and cleanup tests never list the fixtures they are for in their own <code>FIXTURES_REQUIRED</code> property, as that would result in a dependency on themselves and be considered an error.</li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    © 2000–2020 Kitware, Inc. and Contributors<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://cmake.org/cmake/help/v3.19/prop_test/FIXTURES_REQUIRED.html" class="_attribution-link">https://cmake.org/cmake/help/v3.19/prop_test/FIXTURES_REQUIRED.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
