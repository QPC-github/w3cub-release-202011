
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Fixture - Cypress - W3cubDocs</title>
  
  <meta name="description" content=" Load a fixed set of data located in a file. ">
  <meta name="keywords" content="fixture, syntax, examples, notes, rules, command, log, see, also, cypress">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/cypress/api/commands/fixture.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/cypress.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cypress/" class="_nav-link" title="" style="margin-left:0;">Cypress</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _cypress">
				
				
<h1 class="article-title" itemprop="name">fixture</h1>  <div class="article-content" itemprop="articleBody"> <p>Load a fixed set of data located in a file.</p> <h1 id="Syntax" class="article-heading">
Syntax
</h1>
<pre class=" language-javascript" data-language="javascript">cy.fixture(filePath)
cy.fixture(filePath, encoding)
cy.fixture(filePath, options)
cy.fixture(filePath, encoding, options)
</pre> <h2 id="Usage" class="article-heading">
Usage
</h2>
<p><strong> Correct Usage</strong></p> <pre class=" language-javascript" data-language="javascript">cy.fixture('users').as('usersJson')  // load data from users.json
cy.fixture('logo.png').then((logo) =&gt; {
  // load data from logo.png
})
</pre> <h2 id="Arguments" class="article-heading">
Arguments
</h2>
<p><strong> filePath</strong> <strong><em>(String)</em></strong></p> <p>A path to a file within the <a href="https://docs.cypress.io/guides/references/configuration.html#Folders-Files"><code>fixturesFolder</code></a> , which defaults to <code>cypress/fixtures</code>.</p> <p>You can nest fixtures within folders and reference them by defining the path from the fixturesFolder:</p> <pre class=" language-javascript" data-language="javascript">cy.fixture('users/admin.json') // Get data from {fixturesFolder}/users/admin.json
</pre> <p><strong> encoding</strong> <strong><em>(String)</em></strong></p> <p>The encoding to be used when reading the file. The following encodings are supported:</p> <ul> <li><code>ascii</code></li> <li><code>base64</code></li> <li><code>binary</code></li> <li><code>hex</code></li> <li><code>latin1</code></li> <li><code>utf8</code></li> <li><code>utf-8</code></li> <li><code>ucs2</code></li> <li><code>ucs-2</code></li> <li><code>utf16le</code></li> <li><code>utf-16le</code></li> </ul> <p><strong> options</strong> <strong><em>(Object)</em></strong></p> <p>Pass in an options object to change the default behavior of <code>cy.fixture()</code>.</p> <table> <thead> <tr> <th>Option</th> <th>Default</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>timeout</code></td> <td><a href="https://docs.cypress.io/guides/references/configuration.html#Timeouts"><code>responseTimeout</code></a></td> <td>Time to wait for <code>cy.fixture()</code> to resolve before <a href="#Timeouts">timing out</a>
</td> </tr> </tbody> </table> <h2 id="Yields" class="article-heading">
Yields 
</h2>
<p><code>cy.fixture()</code> yields the contents of the file. Formatting is determined by its file extension.</p> <h1 id="Examples" class="article-heading">
Examples
</h1>
<h2 id="JSON" class="article-heading">
JSON
</h2>
<h3 id="Load-a-users-json-fixture" class="article-heading">
Load a <code>users.json</code> fixture
</h3>
<pre class=" language-javascript" data-language="javascript">cy.fixture('users.json').as('usersData')
</pre> <h3 id="Omit-the-fixture-file’s-extension" class="article-heading">
Omit the fixture file’s extension
</h3>
<p>When no extension is passed to <code>cy.fixture()</code>, Cypress will search for files with the specified name within the <a href="https://docs.cypress.io/guides/references/configuration.html#Folders-Files"><code>fixturesFolder</code></a> (which defaults to <code>cypress/fixtures</code>) and resolve the first one.</p> <pre class=" language-javascript" data-language="javascript">cy.fixture('admin').as('adminJSON')
</pre> <p>The example above would resolve in the following order:</p> <ol> <li><code>cypress/fixtures/admin.json</code></li> <li><code>cypress/fixtures/admin.js</code></li> <li><code>cypress/fixtures/admin.coffee</code></li> <li><code>cypress/fixtures/admin.html</code></li> <li><code>cypress/fixtures/admin.txt</code></li> <li><code>cypress/fixtures/admin.csv</code></li> <li><code>cypress/fixtures/admin.png</code></li> <li><code>cypress/fixtures/admin.jpg</code></li> <li><code>cypress/fixtures/admin.jpeg</code></li> <li><code>cypress/fixtures/admin.gif</code></li> <li><code>cypress/fixtures/admin.tif</code></li> <li><code>cypress/fixtures/admin.tiff</code></li> <li><code>cypress/fixtures/admin.zip</code></li> </ol> <h2 id="Images" class="article-heading">
Images
</h2>
<h3 id="Image-fixtures-are-sent-as-base64" class="article-heading">
Image fixtures are sent as <code>base64</code>
</h3>
<pre class=" language-javascript" data-language="javascript">cy.fixture('images/logo.png').then((logo) =&gt; {
  // logo will be encoded as base64
  // and should look something like this:
  // aIJKnwxydrB10NVWqhlmmC+ZiWs7otHotSAAAOw==...
})
</pre> <h3 id="Change-encoding-of-Image-fixture" class="article-heading">
Change encoding of Image fixture
</h3>
<pre class=" language-javascript" data-language="javascript">cy.fixture('images/logo.png', 'binary').then((logo) =&gt; {
  // logo will be encoded as binary
  // and should look something like this:
  // 000000000000000000000000000000000000000000...
})
</pre> <h2 id="Playing-MP3-file" class="article-heading">
Playing MP3 file
</h2>
<pre class=" language-javascript" data-language="javascript">cy.fixture('audio/sound.mp3', 'base64').then((mp3) =&gt; {
  const uri = 'data:audio/mp3;base64,' + mp3
  const audio = new Audio(uri)

  audio.play()
})
</pre> <h2 id="Accessing-Fixture-Data" class="article-heading">
Accessing Fixture Data
</h2>
<h3 id="Using-then-to-access-fixture-data" class="article-heading">
Using <code>.then()</code> to access fixture data
</h3>
<pre class=" language-javascript" data-language="javascript">cy.fixture('users').then((json) =&gt; {
  cy.route('GET', '/users/**', json)
})
</pre> <h3 id="Using-fixtures-to-bootstrap-data" class="article-heading">
Using fixtures to bootstrap data
</h3>
<blockquote class="note info">
<p><a href="https://docs.cypress.io/examples/examples/recipes.html#Server-Communication">Check out our example recipe using <code>cy.fixture()</code> to bootstrap data for our application.</a></p> </blockquote> <h3 id="Using-an-alias-to-access-a-fixture" class="article-heading">
Using an alias to access a fixture
</h3>
<p>You can make use of aliasing, <a href="as"><code>.as()</code></a>, instead of working directly with the yielded data.</p> <p>Using an alias provides the benefit of terseness and readability. It also makes it easier to access the data later in your tests.</p> <pre class=" language-javascript" data-language="javascript">cy.fixture('users').as('usersJSON')
cy.route('GET', '/users/**', '@usersJSON')

// ...later on...

cy.get('#email').then(() =&gt; {
  // we have access to this.usersJSON since it was aliased
  this.usersJSON
})
</pre> <h3 id="Modifying-fixture-data-before-using-it" class="article-heading">
Modifying fixture data before using it
</h3>
<p>You can modify fixture data directly before passing it along to a route.</p> <pre class=" language-javascript" data-language="javascript">cy.fixture('user').then((user)  =&gt; {
  user.firstName = 'Jane'
  cy.route('GET', '/users/1', user).as('getUser')
})

cy.visit('/users')
cy.wait('@getUser').then((xhr)  =&gt; {
  expect(xhr.requestBody.firstName).to.eq('Jane')
})
</pre> <h1 id="Notes" class="article-heading">
Notes
</h1>
<h2 id="Shortcuts" class="article-heading">
Shortcuts
</h2>
<h3 id="Using-fixture-or-fx-shortcuts" class="article-heading">
Using <code>fixture</code> or <code>fx</code> shortcuts
</h3>
<p>Fixtures can also be referenced directly without using the <code>.fixture()</code> command by using the special keywords: <code>fixture:</code> or <code>fx:</code> within <a href="route"><code>cy.route()</code></a>.</p> <pre class=" language-javascript" data-language="javascript">cy.route('GET', '/users/**', 'fixture:users') // this works
cy.route('GET', '/users/**', 'fx:users')      // this also works
</pre> <h2 id="Validation" class="article-heading">
Validation
</h2>
<h3 id="Automated-File-Validation" class="article-heading">
Automated File Validation
</h3>
<p>Cypress automatically validates your fixtures. If your <code>.json</code>, <code>.js</code>, or <code>.coffee</code> files contain syntax errors, they will be shown in the Command Log.</p> <h2 id="Encoding" class="article-heading">
Encoding
</h2>
<h3 id="Default-Encoding" class="article-heading">
Default Encoding
</h3>
<p>Cypress automatically determines the encoding for the following file types:</p> <ul> <li><code>.json</code></li> <li><code>.js</code></li> <li><code>.coffee</code></li> <li><code>.html</code></li> <li><code>.txt</code></li> <li><code>.csv</code></li> <li><code>.png</code></li> <li><code>.jpg</code></li> <li><code>.jpeg</code></li> <li><code>.gif</code></li> <li><code>.tif</code></li> <li><code>.tiff</code></li> <li><code>.zip</code></li> </ul> <p>For other types of files, they will be read as <code>utf8</code> by default, unless specified in the second argument of <code>cy.fixture()</code>.</p> <h2 id="this-context" class="article-heading">
<code>this</code> context
</h2>
<p>If you store and access the fixture data using <code>this</code> test context object, make sure to use <code>function () { ... }</code> callbacks. Otherwise the test engine will NOT have <code>this</code> pointing at the test context.</p> <pre class=" language-javascript" data-language="javascript">describe('User page', () =&gt; {
  beforeEach(function () {
    // "this" points at the test context object
    cy.fixture('user')
      .then((user) =&gt; {
        // "this" is still the test context object
        this.user = user
      })
  })

  // the test callback is in "function () { ... }" form
  it('has user', function () {
    // this.user exists
    expect(this.user.firstName).to.equal('Jane')
  })
})
</pre> <h1 id="Rules" class="article-heading">
Rules
</h1>
<h2 id="Requirements" class="article-heading">
Requirements 
</h2>
<ul> <li><p><code>cy.fixture()</code> requires being chained off of <code>cy</code>.</p></li> </ul> <h2 id="Assertions" class="article-heading">
Assertions 
</h2>
<ul> <li><p><code>cy.fixture()</code> will only run assertions you've chained once, and will not <a href="https://docs.cypress.io/guides/core-concepts/retry-ability.html">retry</a>.</p></li> </ul> <h2 id="Timeouts" class="article-heading">
Timeouts 
</h2>
<ul> <li><p><code>cy.fixture()</code> should never time out.</p></li> </ul> <blockquote class="note warning">
<p>Because <code>cy.fixture()</code> is asynchronous it is technically possible for there to be a timeout while talking to the internal Cypress automation APIs. But for practical purposes it should never happen.</p> </blockquote> <h1 id="Command-Log" class="article-heading">
Command Log
</h1>
<ul> <li>
<code>cy.fixture()</code> does <em>not</em> log in the Command Log</li> </ul> <h1 id="See-also" class="article-heading">
See also
</h1>
<ul> <li><a href="route"><code>cy.route()</code></a></li> <li><a href="then"><code>.then()</code></a></li> <li><a href="https://docs.cypress.io/examples/examples/recipes.html#Server-Communication">Recipe: Bootstrapping App Test Data</a></li> <li>
<a href="https://github.com/cypress-io/testing-workshop-cypress#fixtures" target="_blank" rel="noopener">Fixtures</a> section of the Cypress Testing Workshop</li> </ul> </div> <div class="_attribution">
  <p class="_attribution-p">
    © 2020 Cypress.io<br>Licensed under the MIT License.<br>
    <a href="https://docs.cypress.io/api/commands/fixture.html" class="_attribution-link">https://docs.cypress.io/api/commands/fixture.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
