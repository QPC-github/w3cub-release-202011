
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Mod_cache_socache - Apache HTTP Server - W3cubDocs</title>
  
  <meta name="description" content=" mod_cache_socache implements a shared object cache (socache) based storage manager for mod_cache. ">
  <meta name="keywords" content="apache, module, mod, cache, socache, http, server, apache_http_server">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/apache_http_server/mod/mod_cache_socache.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/apache_http_server.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/apache_http_server/" class="_nav-link" title="" style="margin-left:0;">Apache HTTP Server</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _apache">
				
				
<h1>Apache Module mod_cache_socache</h1>  <table class="module">
<tr>
<th>Description:</th>
<td>Shared object cache (socache) based storage module for the HTTP caching filter.</td>
</tr> <tr>
<th>Status:</th>
<td>Extension</td>
</tr> <tr>
<th>ModuleIdentifier:</th>
<td>cache_socache_module</td>
</tr> <tr>
<th>SourceFile:</th>
<td>mod_cache_socache.c</td>
</tr>
</table> <h3>Summary</h3> <p><code class="module"><a href="mod_cache_socache">mod_cache_socache</a></code> implements a shared object cache (socache) based storage manager for <code class="module"><a href="mod_cache">mod_cache</a></code>.</p> <p>The headers and bodies of cached responses are combined, and stored underneath a single key in the shared object cache. A <a href="../socache">number of implementations</a> of shared object caches are available to choose from.</p> <p>Multiple content negotiated responses can be stored concurrently, however the caching of partial content is not yet supported by this module.</p> <pre class="prettyprint lang-config"># Turn on caching
CacheSocache shmcb
CacheSocacheMaxSize 102400
&lt;Location "/foo"&gt;
    CacheEnable socache
&lt;/Location&gt;

# Fall back to the disk cache
CacheSocache shmcb
CacheSocacheMaxSize 102400
&lt;Location "/foo"&gt;
    CacheEnable socache
    CacheEnable disk
&lt;/Location&gt;</pre> <div class="note">
<p><strong>Note:</strong></p> <p><code class="module"><a href="mod_cache_socache">mod_cache_socache</a></code> requires the services of <code class="module"><a href="mod_cache">mod_cache</a></code>, which must be loaded before <code class="module"><a href="mod_cache_socache">mod_cache_socache</a></code>.</p> </div>    <div class="directive-section">
<h2 id="cachesocache">CacheSocache Directive</h2> <table class="directive"> <tr>
<th>Description:</th>
<td>The shared object cache implementation to use</td>
</tr> <tr>
<th>Syntax:</th>
<td><pre>CacheSocache type[:args]</pre></td>
</tr> <tr>
<th>Context:</th>
<td>server config, virtual host</td>
</tr> <tr>
<th>Status:</th>
<td>Extension</td>
</tr> <tr>
<th>Module:</th>
<td>mod_cache_socache</td>
</tr> <tr>
<th>Compatibility:</th>
<td>Available in Apache 2.4.5 and later</td>
</tr> </table> <p>The <code class="directive">CacheSocache</code> directive defines the name of the shared object cache implementation to use, followed by optional arguments for that implementation. A <a href="../socache">number of implementations</a> of shared object caches are available to choose from.</p> <pre class="prettyprint lang-config">CacheSocache shmcb</pre> </div>  <div class="directive-section">
<h2 id="cachesocachemaxsize">CacheSocacheMaxSize Directive</h2> <table class="directive"> <tr>
<th>Description:</th>
<td>The maximum size (in bytes) of an entry to be placed in the cache</td>
</tr> <tr>
<th>Syntax:</th>
<td><pre>CacheSocacheMaxSize bytes</pre></td>
</tr> <tr>
<th>Default:</th>
<td><pre>CacheSocacheMaxSize 102400</pre></td>
</tr> <tr>
<th>Context:</th>
<td>server config, virtual host, directory, .htaccess</td>
</tr> <tr>
<th>Status:</th>
<td>Extension</td>
</tr> <tr>
<th>Module:</th>
<td>mod_cache_socache</td>
</tr> <tr>
<th>Compatibility:</th>
<td>Available in Apache 2.4.5 and later</td>
</tr> </table> <p>The <code class="directive">CacheSocacheMaxSize</code> directive sets the maximum size, in bytes, for the combined headers and body of a document to be considered for storage in the cache. The larger the headers that are stored alongside the body, the smaller the body may be.</p> <p>The <code class="module"><a href="mod_cache_socache">mod_cache_socache</a></code> module will only attempt to cache responses that have an explicit content length, or that are small enough to be written in one pass. This is done to allow the <code class="module"><a href="mod_cache_disk">mod_cache_disk</a></code> module to have an opportunity to cache responses larger than those cacheable within <code class="module"><a href="mod_cache_socache">mod_cache_socache</a></code>.</p> <pre class="prettyprint lang-config">CacheSocacheMaxSize 102400</pre> </div>  <div class="directive-section">
<h2 id="cachesocachemaxtime">CacheSocacheMaxTime Directive</h2> <table class="directive"> <tr>
<th>Description:</th>
<td>The maximum time (in seconds) for a document to be placed in the cache</td>
</tr> <tr>
<th>Syntax:</th>
<td><pre>CacheSocacheMaxTime seconds</pre></td>
</tr> <tr>
<th>Default:</th>
<td><pre>CacheSocacheMaxTime 86400</pre></td>
</tr> <tr>
<th>Context:</th>
<td>server config, virtual host, directory, .htaccess</td>
</tr> <tr>
<th>Status:</th>
<td>Extension</td>
</tr> <tr>
<th>Module:</th>
<td>mod_cache_socache</td>
</tr> <tr>
<th>Compatibility:</th>
<td>Available in Apache 2.4.5 and later</td>
</tr> </table> <p>The <code class="directive">CacheSocacheMaxTime</code> directive sets the maximum freshness lifetime, in seconds, for a document to be stored in the cache. This value overrides the freshness lifetime defined for the document by the HTTP protocol.</p> <pre class="prettyprint lang-config">CacheSocacheMaxTime 86400</pre> </div>  <div class="directive-section">
<h2 id="cachesocachemintime">CacheSocacheMinTime Directive</h2> <table class="directive"> <tr>
<th>Description:</th>
<td>The minimum time (in seconds) for a document to be placed in the cache</td>
</tr> <tr>
<th>Syntax:</th>
<td><pre>CacheSocacheMinTime seconds</pre></td>
</tr> <tr>
<th>Default:</th>
<td><pre>CacheSocacheMinTime 600</pre></td>
</tr> <tr>
<th>Context:</th>
<td>server config, virtual host, directory, .htaccess</td>
</tr> <tr>
<th>Status:</th>
<td>Extension</td>
</tr> <tr>
<th>Module:</th>
<td>mod_cache_socache</td>
</tr> <tr>
<th>Compatibility:</th>
<td>Available in Apache 2.4.5 and later</td>
</tr> </table> <p>The <code class="directive">CacheSocacheMinTime</code> directive sets the amount of seconds beyond the freshness lifetime of the response that the response should be cached for in the shared object cache. If a response is only stored for its freshness lifetime, there will be no opportunity to revalidate the response to make it fresh again.</p> <pre class="prettyprint lang-config">CacheSocacheMinTime 600</pre> </div>  <div class="directive-section">
<h2 id="cachesocachereadsize">CacheSocacheReadSize Directive</h2> <table class="directive"> <tr>
<th>Description:</th>
<td>The minimum size (in bytes) of the document to read and be cached before sending the data downstream</td>
</tr> <tr>
<th>Syntax:</th>
<td><pre>CacheSocacheReadSize bytes</pre></td>
</tr> <tr>
<th>Default:</th>
<td><pre>CacheSocacheReadSize 0</pre></td>
</tr> <tr>
<th>Context:</th>
<td>server config, virtual host, directory, .htaccess</td>
</tr> <tr>
<th>Status:</th>
<td>Extension</td>
</tr> <tr>
<th>Module:</th>
<td>mod_cache_socache</td>
</tr> <tr>
<th>Compatibility:</th>
<td>Available in Apache 2.4.5 and later</td>
</tr> </table> <p>The <code class="directive">CacheSocacheReadSize</code> directive sets the minimum amount of data, in bytes, to be read from the backend before the data is sent to the client. The default of zero causes all data read of any size to be passed downstream to the client immediately as it arrives. Setting this to a higher value causes the disk cache to buffer at least this amount before sending the result to the client. This can improve performance when caching content from a slow reverse proxy.</p> <p>This directive only takes effect when the data is being saved to the cache, as opposed to data being served from the cache.</p> <pre class="prettyprint lang-config">CacheSocacheReadSize 102400</pre> </div>  <div class="directive-section">
<h2 id="cachesocachereadtime">CacheSocacheReadTime Directive</h2> <table class="directive"> <tr>
<th>Description:</th>
<td>The minimum time (in milliseconds) that should elapse while reading before data is sent downstream</td>
</tr> <tr>
<th>Syntax:</th>
<td><pre>CacheSocacheReadTime milliseconds</pre></td>
</tr> <tr>
<th>Default:</th>
<td><pre>CacheSocacheReadTime 0</pre></td>
</tr> <tr>
<th>Context:</th>
<td>server config, virtual host, directory, .htaccess</td>
</tr> <tr>
<th>Status:</th>
<td>Extension</td>
</tr> <tr>
<th>Module:</th>
<td>mod_cache_socache</td>
</tr> <tr>
<th>Compatibility:</th>
<td>Available in Apache 2.4.5 and later</td>
</tr> </table> <p>The <code class="directive">CacheSocacheReadTime</code> directive sets the minimum amount of elapsed time that should pass before making an attempt to send data downstream to the client. During the time period, data will be buffered before sending the result to the client. This can improve performance when caching content from a reverse proxy.</p> <p>The default of zero disables this option.</p> <p>This directive only takes effect when the data is being saved to the cache, as opposed to data being served from the cache. It is recommended that this option be used alongside the <code class="directive"><a href="#cachesocachereadsize">CacheSocacheReadSize</a></code> directive to ensure that the server does not buffer excessively should data arrive faster than expected.</p> <pre class="prettyprint lang-config">CacheSocacheReadTime 1000</pre> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2018 The Apache Software Foundation<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://httpd.apache.org/docs/2.4/en/mod/mod_cache_socache.html" class="_attribution-link">https://httpd.apache.org/docs/2.4/en/mod/mod_cache_socache.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
