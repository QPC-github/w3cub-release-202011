
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Mod_usertrack - Apache HTTP Server - W3cubDocs</title>
  
  <meta name="description" content=" Provides tracking of a user through your website via browser cookies. ">
  <meta name="keywords" content="apache, module, mod, usertrack, http, server, apache_http_server">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/apache_http_server/mod/mod_usertrack.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/apache_http_server.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/apache_http_server/" class="_nav-link" title="" style="margin-left:0;">Apache HTTP Server</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _apache">
				
				
<h1>Apache Module mod_usertrack</h1>  <table class="module">
<tr>
<th>Description:</th>
<td> <em>Clickstream</em> logging of user activity on a site </td>
</tr> <tr>
<th>Status:</th>
<td>Extension</td>
</tr> <tr>
<th>ModuleIdentifier:</th>
<td>usertrack_module</td>
</tr> <tr>
<th>SourceFile:</th>
<td>mod_usertrack.c</td>
</tr>
</table> <h3>Summary</h3> <p>Provides tracking of a user through your website via browser cookies.</p>     <h2 id="logging">Logging</h2> <p><code class="module"><a href="mod_usertrack">mod_usertrack</a></code> sets a cookie which can be logged via <code class="module"><a href="mod_log_config">mod_log_config</a></code> configurable logging formats:</p> <pre class="prettyprint lang-config">LogFormat "%{Apache}n %r %t" usertrack
CustomLog "logs/clickstream.log" usertrack</pre>   <div class="directive-section">
<h2 id="cookiedomain">CookieDomain Directive</h2> <table class="directive"> <tr>
<th>Description:</th>
<td>The domain to which the tracking cookie applies</td>
</tr> <tr>
<th>Syntax:</th>
<td><pre>CookieDomain domain</pre></td>
</tr> <tr>
<th>Context:</th>
<td>server config, virtual host, directory, .htaccess</td>
</tr> <tr>
<th>Override:</th>
<td>FileInfo</td>
</tr> <tr>
<th>Status:</th>
<td>Extension</td>
</tr> <tr>
<th>Module:</th>
<td>mod_usertrack</td>
</tr> </table> <p>This directive controls the setting of the domain to which the tracking cookie applies. If not present, no domain is included in the cookie header field.</p> <p>The domain string <strong>must</strong> begin with a dot, and <strong>must</strong> include at least one embedded dot. That is, <code>.example.com</code> is legal, but <code>www.example.com</code> and <code>.com</code> are not.</p> <div class="note">Most browsers in use today will not allow cookies to be set for a two-part top level domain, such as <code>.co.uk</code>, although such a domain ostensibly fulfills the requirements above.<br> These domains are equivalent to top level domains such as <code>.com</code>, and allowing such cookies may be a security risk. Thus, if you are under a two-part top level domain, you should still use your actual domain, as you would with any other top level domain (for example <code>.example.co.uk</code>). </div> <pre class="prettyprint lang-config">CookieDomain .example.com</pre> </div>  <div class="directive-section">
<h2 id="cookieexpires">CookieExpires Directive</h2> <table class="directive"> <tr>
<th>Description:</th>
<td>Expiry time for the tracking cookie</td>
</tr> <tr>
<th>Syntax:</th>
<td><pre>CookieExpires expiry-period</pre></td>
</tr> <tr>
<th>Context:</th>
<td>server config, virtual host, directory, .htaccess</td>
</tr> <tr>
<th>Override:</th>
<td>FileInfo</td>
</tr> <tr>
<th>Status:</th>
<td>Extension</td>
</tr> <tr>
<th>Module:</th>
<td>mod_usertrack</td>
</tr> </table> <p>When used, this directive sets an expiry time on the cookie generated by the usertrack module. The <em>expiry-period</em> can be given either as a number of seconds, or in the format such as "2 weeks 3 days 7 hours". Valid denominations are: years, months, weeks, days, hours, minutes and seconds. If the expiry time is in any format other than one number indicating the number of seconds, it must be enclosed by double quotes.</p> <p>If this directive is not used, cookies last only for the current browser session.</p> <pre class="prettyprint lang-config">CookieExpires "3 weeks"</pre> </div>  <div class="directive-section">
<h2 id="cookiename">CookieName Directive</h2> <table class="directive"> <tr>
<th>Description:</th>
<td>Name of the tracking cookie</td>
</tr> <tr>
<th>Syntax:</th>
<td><pre>CookieName token</pre></td>
</tr> <tr>
<th>Default:</th>
<td><pre>CookieName Apache</pre></td>
</tr> <tr>
<th>Context:</th>
<td>server config, virtual host, directory, .htaccess</td>
</tr> <tr>
<th>Override:</th>
<td>FileInfo</td>
</tr> <tr>
<th>Status:</th>
<td>Extension</td>
</tr> <tr>
<th>Module:</th>
<td>mod_usertrack</td>
</tr> </table> <p>This directive allows you to change the name of the cookie this module uses for its tracking purposes. By default the cookie is named "<code>Apache</code>".</p> <p>You must specify a valid cookie name; results are unpredictable if you use a name containing unusual characters. Valid characters include A-Z, a-z, 0-9, "_", and "-".</p> <pre class="prettyprint lang-config">CookieName clicktrack</pre> </div>  <div class="directive-section">
<h2 id="cookiestyle">CookieStyle Directive</h2> <table class="directive"> <tr>
<th>Description:</th>
<td>Format of the cookie header field</td>
</tr> <tr>
<th>Syntax:</th>
<td><pre>CookieStyle Netscape|Cookie|Cookie2|RFC2109|RFC2965</pre></td>
</tr> <tr>
<th>Default:</th>
<td><pre>CookieStyle Netscape</pre></td>
</tr> <tr>
<th>Context:</th>
<td>server config, virtual host, directory, .htaccess</td>
</tr> <tr>
<th>Override:</th>
<td>FileInfo</td>
</tr> <tr>
<th>Status:</th>
<td>Extension</td>
</tr> <tr>
<th>Module:</th>
<td>mod_usertrack</td>
</tr> </table> <p>This directive controls the format of the cookie header field. The three formats allowed are:</p> <ul> <li>
<strong>Netscape</strong>, which is the original but now deprecated syntax. This is the default, and the syntax Apache has historically used.</li> <li>
<strong>Cookie</strong> or <strong>RFC2109</strong>, which is the syntax that superseded the Netscape syntax.</li> <li>
<strong>Cookie2</strong> or <strong>RFC2965</strong>, which is the most current cookie syntax.</li> </ul> <p>Not all clients can understand all of these formats, but you should use the newest one that is generally acceptable to your users' browsers. At the time of writing, most browsers support all three of these formats, with <code>Cookie2</code> being the preferred format.</p> <pre class="prettyprint lang-config">CookieStyle Cookie2</pre> </div>  <div class="directive-section">
<h2 id="cookietracking">CookieTracking Directive</h2> <table class="directive"> <tr>
<th>Description:</th>
<td>Enables tracking cookie</td>
</tr> <tr>
<th>Syntax:</th>
<td><pre>CookieTracking on|off</pre></td>
</tr> <tr>
<th>Default:</th>
<td><pre>CookieTracking off</pre></td>
</tr> <tr>
<th>Context:</th>
<td>server config, virtual host, directory, .htaccess</td>
</tr> <tr>
<th>Override:</th>
<td>FileInfo</td>
</tr> <tr>
<th>Status:</th>
<td>Extension</td>
</tr> <tr>
<th>Module:</th>
<td>mod_usertrack</td>
</tr> </table> <p>When <code class="module"><a href="mod_usertrack">mod_usertrack</a></code> is loaded, and <code>CookieTracking on</code> is set, Apache will send a user-tracking cookie for all new requests. This directive can be used to turn this behavior on or off on a per-server or per-directory basis. By default, enabling <code class="module"><a href="mod_usertrack">mod_usertrack</a></code> will <strong>not</strong> activate cookies. </p> <pre class="prettyprint lang-config">CookieTracking on</pre> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2018 The Apache Software Foundation<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://httpd.apache.org/docs/2.4/en/mod/mod_usertrack.html" class="_attribution-link">https://httpd.apache.org/docs/2.4/en/mod/mod_usertrack.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
