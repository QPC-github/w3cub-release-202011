
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Basic HTTP Proxy - Werkzeug 1.0 - W3cubDocs</title>
  
  <meta name="description" content=" Proxy requests under a path to an external server, routing other requests to the app. ">
  <meta name="keywords" content="basic, http, proxy, werkzeug, werkzeug~1.0">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/werkzeug~1.0/middleware/http_proxy/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c7076d7cdaddc6969cb97911f9b488459d4bebca88d6f2525f2a12432f0bec8426c751ccfbc34920dda3867e50ab24698396bc4e548e788fc826f69a158d6856.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/werkzeug~1.0.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/werkzeug~1.0/" class="_nav-link" title="" style="margin-left:0;">Werkzeug 1.0</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx">
				
				
<h1>Basic HTTP Proxy</h1> <dl class="class"> <dt id="werkzeug.middleware.http_proxy.ProxyMiddleware">
<code>class werkzeug.middleware.http_proxy.ProxyMiddleware(app, targets, chunk_size=16384, timeout=10)</code> </dt> <dd>
<p>Proxy requests under a path to an external server, routing other requests to the app.</p> <p>This middleware can only proxy HTTP requests, as that is the only protocol handled by the WSGI server. Other protocols, such as websocket requests, cannot be proxied at this layer. This should only be used for development, in production a real proxying server should be used.</p> <p>The middleware takes a dict that maps a path prefix to a dict describing the host to be proxied to:</p> <pre data-language="python">app = ProxyMiddleware(app, {
    "/static/": {
        "target": "http://127.0.0.1:5001/",
    }
})
</pre> <p>Each host has the following options:</p> <dl class="docutils"> <dt>
<code>target:</code> </dt> <dd>The target URL to dispatch to. This is required.</dd> <dt>
<code>remove_prefix:</code> </dt> <dd>Whether to remove the prefix from the URL before dispatching it to the target. The default is <code>False</code>.</dd> <dt>
<code>host:</code> </dt> <dd>
<dl class="first last docutils"> <dt>
<code>"&lt;auto&gt;" (default):</code> </dt> <dd>The host header is automatically rewritten to the URL of the target.</dd> <dt>
<code>None:</code> </dt> <dd>The host header is unmodified from the client request.</dd> <dt>Any other value:</dt> <dd>The host header is overwritten with the value.</dd> </dl> </dd> <dt>
<code>headers:</code> </dt> <dd>A dictionary of headers to be sent with the request to the target. The default is <code>{}</code>.</dd> <dt>
<code>ssl_context:</code> </dt> <dd>A <a class="reference external" href="https://docs.python.org/3/library/ssl.html#ssl.SSLContext" title="(in Python v3.8)"><code>ssl.SSLContext</code></a> defining how to verify requests if the target is HTTPS. The default is <code>None</code>.</dd> </dl> <p>In the example above, everything under <code>"/static/"</code> is proxied to the server on port 5001. The host header is rewritten to the target, and the <code>"/static/"</code> prefix is removed from the URLs.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first last simple"> <li>
<strong>app</strong> – The WSGI application to wrap.</li> <li>
<strong>targets</strong> – Proxy target configurations. See description above.</li> <li>
<strong>chunk_size</strong> – Size of chunks to read from input stream and write to target.</li> <li>
<strong>timeout</strong> – Seconds before an operation to a target fails.</li> </ul> </td> </tr>  </table> <details class="changelog"> <summary>Changelog</summary><div class="versionadded"> <p><span class="versionmodified">New in version 0.14.</span></p> </div> </details>
</dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 2007–2020 Pallets<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://werkzeug.palletsprojects.com/en/1.0.x/middleware/http_proxy/" class="_attribution-link">https://werkzeug.palletsprojects.com/en/1.0.x/middleware/http_proxy/</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
