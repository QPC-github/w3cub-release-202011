
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>8.3. Type Encoding - GCC 10 - W3cubDocs</title>
  
  <meta name="description" content="This is an advanced section. Type encodings are used extensively by the compiler and by the runtime, but you generally do not need to know about &hellip;">
  <meta name="keywords" content="type, encoding, gcc, gcc~10">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/gcc~10/type-encoding.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/gcc~10.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/gcc~10/" class="_nav-link" title="" style="margin-left:0;">GCC 10</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1 class="section" id="Type-Encoding">8.3 Type Encoding</h1> <p>This is an advanced section. Type encodings are used extensively by the compiler and by the runtime, but you generally do not need to know about them to use Objective-C. </p> <p>The Objective-C compiler generates type encodings for all the types. These type encodings are used at runtime to find out information about selectors and methods and about objects and classes. </p> <p>The types are encoded in the following way: </p> <table> <tr>
<td width="25%"><code>_Bool</code></td>
<td width="75%"><code>B</code></td>
</tr> <tr>
<td width="25%"><code>char</code></td>
<td width="75%"><code>c</code></td>
</tr> <tr>
<td width="25%"><code>unsigned char</code></td>
<td width="75%"><code>C</code></td>
</tr> <tr>
<td width="25%"><code>short</code></td>
<td width="75%"><code>s</code></td>
</tr> <tr>
<td width="25%"><code>unsigned short</code></td>
<td width="75%"><code>S</code></td>
</tr> <tr>
<td width="25%"><code>int</code></td>
<td width="75%"><code>i</code></td>
</tr> <tr>
<td width="25%"><code>unsigned int</code></td>
<td width="75%"><code>I</code></td>
</tr> <tr>
<td width="25%"><code>long</code></td>
<td width="75%"><code>l</code></td>
</tr> <tr>
<td width="25%"><code>unsigned long</code></td>
<td width="75%"><code>L</code></td>
</tr> <tr>
<td width="25%"><code>long long</code></td>
<td width="75%"><code>q</code></td>
</tr> <tr>
<td width="25%"><code>unsigned long long</code></td>
<td width="75%"><code>Q</code></td>
</tr> <tr>
<td width="25%"><code>float</code></td>
<td width="75%"><code>f</code></td>
</tr> <tr>
<td width="25%"><code>double</code></td>
<td width="75%"><code>d</code></td>
</tr> <tr>
<td width="25%"><code>long double</code></td>
<td width="75%"><code>D</code></td>
</tr> <tr>
<td width="25%"><code>void</code></td>
<td width="75%"><code>v</code></td>
</tr> <tr>
<td width="25%"><code>id</code></td>
<td width="75%"><code>@</code></td>
</tr> <tr>
<td width="25%"><code>Class</code></td>
<td width="75%"><code>#</code></td>
</tr> <tr>
<td width="25%"><code>SEL</code></td>
<td width="75%"><code>:</code></td>
</tr> <tr>
<td width="25%"><code>char*</code></td>
<td width="75%"><code>*</code></td>
</tr> <tr>
<td width="25%"><code>enum</code></td>
<td width="75%">an <code>enum</code> is encoded exactly as the integer type that the compiler uses for it, which depends on the enumeration values. Often the compiler users <code>unsigned int</code>, which is then encoded as <code>I</code>.</td>
</tr> <tr>
<td width="25%">unknown type</td>
<td width="75%"><code>?</code></td>
</tr> <tr>
<td width="25%">Complex types</td>
<td width="75%">
<code>j</code> followed by the inner type. For example <code>_Complex double</code> is encoded as "jd".</td>
</tr> <tr>
<td width="25%">bit-fields</td>
<td width="75%">
<code>b</code> followed by the starting position of the bit-field, the type of the bit-field and the size of the bit-field (the bit-fields encoding was changed from the NeXT’s compiler encoding, see below)</td>
</tr> </table> <p>The encoding of bit-fields has changed to allow bit-fields to be properly handled by the runtime functions that compute sizes and alignments of types that contain bit-fields. The previous encoding contained only the size of the bit-field. Using only this information it is not possible to reliably compute the size occupied by the bit-field. This is very important in the presence of the Boehm’s garbage collector because the objects are allocated using the typed memory facility available in this collector. The typed memory allocation requires information about where the pointers are located inside the object. </p> <p>The position in the bit-field is the position, counting in bits, of the bit closest to the beginning of the structure. </p> <p>The non-atomic types are encoded as follows: </p> <table> <tr>
<td width="20%">pointers</td>
<td width="80%">‘<samp>^</samp>’ followed by the pointed type.</td>
</tr> <tr>
<td width="20%">arrays</td>
<td width="80%">‘<samp>[</samp>’ followed by the number of elements in the array followed by the type of the elements followed by ‘<samp>]</samp>’</td>
</tr> <tr>
<td width="20%">structures</td>
<td width="80%">‘<samp>{</samp>’ followed by the name of the structure (or ‘<samp>?</samp>’ if the structure is unnamed), the ‘<samp>=</samp>’ sign, the type of the members and by ‘<samp>}</samp>’</td>
</tr> <tr>
<td width="20%">unions</td>
<td width="80%">‘<samp>(</samp>’ followed by the name of the structure (or ‘<samp>?</samp>’ if the union is unnamed), the ‘<samp>=</samp>’ sign, the type of the members followed by ‘<samp>)</samp>’</td>
</tr> <tr>
<td width="20%">vectors</td>
<td width="80%">‘<samp>![</samp>’ followed by the vector_size (the number of bytes composing the vector) followed by a comma, followed by the alignment (in bytes) of the vector, followed by the type of the elements followed by ‘<samp>]</samp>’</td>
</tr> </table> <p>Here are some types and their encodings, as they are generated by the compiler on an i386 machine: </p>  <table> <tr>
<td width="60%">Objective-C type</td>
<td width="40%">Compiler encoding</td>
</tr> <tr>
<td width="60%"><div class="smallexample"> <pre class="smallexample" data-language="cpp">int a[10];</pre>
</div></td>
<td width="40%"><code>[10i]</code></td>
</tr> <tr>
<td width="60%"><div class="smallexample"> <pre class="smallexample" data-language="cpp">struct {
  int i;
  float f[3];
  int a:3;
  int b:2;
  char c;
}</pre>
</div></td>
<td width="40%"><code>{?=i[3f]b128i3b131i2c}</code></td>
</tr> <tr>
<td width="60%"><div class="smallexample"> <pre class="smallexample" data-language="cpp">int a __attribute__ ((vector_size (16)));</pre>
</div></td>
<td width="40%">
<code>![16,16i]</code> (alignment depends on the machine)</td>
</tr> </table>  <p>In addition to the types the compiler also encodes the type specifiers. The table below describes the encoding of the current Objective-C type specifiers: </p>  <table> <tr>
<td width="25%">Specifier</td>
<td width="75%">Encoding</td>
</tr> <tr>
<td width="25%"><code>const</code></td>
<td width="75%"><code>r</code></td>
</tr> <tr>
<td width="25%"><code>in</code></td>
<td width="75%"><code>n</code></td>
</tr> <tr>
<td width="25%"><code>inout</code></td>
<td width="75%"><code>N</code></td>
</tr> <tr>
<td width="25%"><code>out</code></td>
<td width="75%"><code>o</code></td>
</tr> <tr>
<td width="25%"><code>bycopy</code></td>
<td width="75%"><code>O</code></td>
</tr> <tr>
<td width="25%"><code>byref</code></td>
<td width="75%"><code>R</code></td>
</tr> <tr>
<td width="25%"><code>oneway</code></td>
<td width="75%"><code>V</code></td>
</tr> </table>  <p>The type specifiers are encoded just before the type. Unlike types however, the type specifiers are only encoded when they appear in method argument types. </p> <p>Note how <code>const</code> interacts with pointers: </p>  <table> <tr>
<td width="25%">Objective-C type</td>
<td width="75%">Compiler encoding</td>
</tr> <tr>
<td width="25%"><div class="smallexample"> <pre class="smallexample" data-language="cpp">const int</pre>
</div></td>
<td width="75%"><code>ri</code></td>
</tr> <tr>
<td width="25%"><div class="smallexample"> <pre class="smallexample" data-language="cpp">const int*</pre>
</div></td>
<td width="75%"><code>^ri</code></td>
</tr> <tr>
<td width="25%"><div class="smallexample"> <pre class="smallexample" data-language="cpp">int *const</pre>
</div></td>
<td width="75%"><code>r^i</code></td>
</tr> </table>  <p><code>const int*</code> is a pointer to a <code>const int</code>, and so is encoded as <code>^ri</code>. <code>int* const</code>, instead, is a <code>const</code> pointer to an <code>int</code>, and so is encoded as <code>r^i</code>. </p> <p>Finally, there is a complication when encoding <code>const char *</code> versus <code>char * const</code>. Because <code>char *</code> is encoded as <code>*</code> and not as <code>^c</code>, there is no way to express the fact that <code>r</code> applies to the pointer or to the pointee. </p> <p>Hence, it is assumed as a convention that <code>r*</code> means <code>const
char *</code> (since it is what is most often meant), and there is no way to encode <code>char *const</code>. <code>char *const</code> would simply be encoded as <code>*</code>, and the <code>const</code> is lost. </p> <table class="menu" border="0" cellspacing="0"> <tr>
<td align="left">• <a href="legacy-type-encoding#Legacy-type-encoding" accesskey="1">Legacy type encoding</a>:</td>
<td> </td>
<td align="left"> </td>
</tr> <tr>
<td align="left">• <a href="_0040encode#g_t_0040encode" accesskey="2">@encode</a>:</td>
<td> </td>
<td align="left"> </td>
</tr> <tr>
<td align="left">• <a href="method-signatures#Method-signatures" accesskey="3">Method signatures</a>:</td>
<td> </td>
<td align="left"> </td>
</tr> </table>  <p class="header"> </p>
<p> Next: <a href="garbage-collection#Garbage-Collection" accesskey="n" rel="next">Garbage Collection</a>, Previous: <a href="executing-code-before-main#Executing-code-before-main" accesskey="p" rel="prev">Executing code before main</a>, Up: <a href="objective_002dc#Objective_002dC" accesskey="u" rel="up">Objective-C</a> [<a href="index#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="https://gcc.gnu.org/onlinedocs/gcc-10.2.0/gcc/Option-Index.html#Option-Index" title="Index" rel="index">Index</a>]</p> <div class="_attribution">
  <p class="_attribution-p">
    © Free Software Foundation<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://gcc.gnu.org/onlinedocs/gcc-10.2.0/gcc/Type-encoding.html" class="_attribution-link">https://gcc.gnu.org/onlinedocs/gcc-10.2.0/gcc/Type-encoding.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
