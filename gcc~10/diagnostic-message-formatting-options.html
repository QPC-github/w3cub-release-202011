
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>3.7. Options to Control Diagnostic Messages Formatting - GCC 10 - W3cubDocs</title>
  
  <meta name="description" content="Traditionally, diagnostic messages have been formatted irrespective of the output device’s aspect (e.g. its width, …). You can use the options &hellip;">
  <meta name="keywords" content="options, control, diagnostic, messages, formatting, gcc, gcc~10">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/gcc~10/diagnostic-message-formatting-options.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/gcc~10.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/gcc~10/" class="_nav-link" title="" style="margin-left:0;">GCC 10</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1 class="section" id="Options-to-Control-Diagnostic-Messages-Formatting">3.7 Options to Control Diagnostic Messages Formatting</h1>    <p id="index-message-formatting">Traditionally, diagnostic messages have been formatted irrespective of the output device’s aspect (e.g. its width, …). You can use the options described below to control the formatting algorithm for diagnostic messages, e.g. how many characters per line, how often source location information should be reported. Note that some language front ends may not honor these options. </p> <dl compact> <dt><code>-fmessage-length=<var>n</var></code></dt> <dd> <p id="index-fmessage_002dlength">Try to format error messages so that they fit on lines of about <var>n</var> characters. If <var>n</var> is zero, then no line-wrapping is done; each error message appears on a single line. This is the default for all front ends. </p> <p>Note - this option also affects the display of the ‘<samp>#error</samp>’ and ‘<samp>#warning</samp>’ pre-processor directives, and the ‘<samp>deprecated</samp>’ function/type/variable attribute. It does not however affect the ‘<samp>pragma GCC warning</samp>’ and ‘<samp>pragma GCC error</samp>’ pragmas. </p> </dd> <dt><code>-fdiagnostics-show-location=once</code></dt> <dd> <p id="index-fdiagnostics_002dshow_002dlocation">Only meaningful in line-wrapping mode. Instructs the diagnostic messages reporter to emit source location information <em>once</em>; that is, in case the message is too long to fit on a single physical line and has to be wrapped, the source location won’t be emitted (as prefix) again, over and over, in subsequent continuation lines. This is the default behavior. </p> </dd> <dt><code>-fdiagnostics-show-location=every-line</code></dt> <dd>
<p>Only meaningful in line-wrapping mode. Instructs the diagnostic messages reporter to emit the same source location information (as prefix) for physical lines that result from the process of breaking a message which is too long to fit on a single line. </p> </dd> <dt><code>-fdiagnostics-color[=<var>WHEN</var>]</code></dt> <dt><code>-fno-diagnostics-color</code></dt> <dd>   <p id="index-GCC_005fCOLORS-environment-variable">Use color in diagnostics. <var>WHEN</var> is ‘<samp>never</samp>’, ‘<samp>always</samp>’, or ‘<samp>auto</samp>’. The default depends on how the compiler has been configured, it can be any of the above <var>WHEN</var> options or also ‘<samp>never</samp>’ if <code>GCC_COLORS</code> environment variable isn’t present in the environment, and ‘<samp>auto</samp>’ otherwise. ‘<samp>auto</samp>’ makes GCC use color only when the standard error is a terminal, and when not executing in an emacs shell. The forms <samp>-fdiagnostics-color</samp> and <samp>-fno-diagnostics-color</samp> are aliases for <samp>-fdiagnostics-color=always</samp> and <samp>-fdiagnostics-color=never</samp>, respectively. </p> <p>The colors are defined by the environment variable <code>GCC_COLORS</code>. Its value is a colon-separated list of capabilities and Select Graphic Rendition (SGR) substrings. SGR commands are interpreted by the terminal or terminal emulator. (See the section in the documentation of your text terminal for permitted values and their meanings as character attributes.) These substring values are integers in decimal representation and can be concatenated with semicolons. Common values to concatenate include ‘<samp>1</samp>’ for bold, ‘<samp>4</samp>’ for underline, ‘<samp>5</samp>’ for blink, ‘<samp>7</samp>’ for inverse, ‘<samp>39</samp>’ for default foreground color, ‘<samp>30</samp>’ to ‘<samp>37</samp>’ for foreground colors, ‘<samp>90</samp>’ to ‘<samp>97</samp>’ for 16-color mode foreground colors, ‘<samp>38;5;0</samp>’ to ‘<samp>38;5;255</samp>’ for 88-color and 256-color modes foreground colors, ‘<samp>49</samp>’ for default background color, ‘<samp>40</samp>’ to ‘<samp>47</samp>’ for background colors, ‘<samp>100</samp>’ to ‘<samp>107</samp>’ for 16-color mode background colors, and ‘<samp>48;5;0</samp>’ to ‘<samp>48;5;255</samp>’ for 88-color and 256-color modes background colors. </p> <p>The default <code>GCC_COLORS</code> is </p>
<div class="smallexample"> <pre class="smallexample" data-language="cpp">error=01;31:warning=01;35:note=01;36:range1=32:range2=34:locus=01:\
quote=01:path=01;36:fixit-insert=32:fixit-delete=31:\
diff-filename=01:diff-hunk=32:diff-delete=31:diff-insert=32:\
type-diff=01;32</pre>
</div> <p>where ‘<samp>01;31</samp>’ is bold red, ‘<samp>01;35</samp>’ is bold magenta, ‘<samp>01;36</samp>’ is bold cyan, ‘<samp>32</samp>’ is green, ‘<samp>34</samp>’ is blue, ‘<samp>01</samp>’ is bold, and ‘<samp>31</samp>’ is red. Setting <code>GCC_COLORS</code> to the empty string disables colors. Supported capabilities are as follows. </p> <dl compact> <dt><code>error=</code></dt> <dd> <p id="index-error-GCC_005fCOLORS-capability">SGR substring for error: markers. </p> </dd> <dt><code>warning=</code></dt> <dd> <p id="index-warning-GCC_005fCOLORS-capability">SGR substring for warning: markers. </p> </dd> <dt><code>note=</code></dt> <dd> <p id="index-note-GCC_005fCOLORS-capability">SGR substring for note: markers. </p> </dd> <dt><code>path=</code></dt> <dd> <p id="index-path-GCC_005fCOLORS-capability">SGR substring for colorizing paths of control-flow events as printed via <samp>-fdiagnostics-path-format=</samp>, such as the identifiers of individual events and lines indicating interprocedural calls and returns. </p> </dd> <dt><code>range1=</code></dt> <dd> <p id="index-range1-GCC_005fCOLORS-capability">SGR substring for first additional range. </p> </dd> <dt><code>range2=</code></dt> <dd> <p id="index-range2-GCC_005fCOLORS-capability">SGR substring for second additional range. </p> </dd> <dt><code>locus=</code></dt> <dd> <p id="index-locus-GCC_005fCOLORS-capability">SGR substring for location information, ‘<samp>file:line</samp>’ or ‘<samp>file:line:column</samp>’ etc. </p> </dd> <dt><code>quote=</code></dt> <dd> <p id="index-quote-GCC_005fCOLORS-capability">SGR substring for information printed within quotes. </p> </dd> <dt><code>fixit-insert=</code></dt> <dd> <p id="index-fixit_002dinsert-GCC_005fCOLORS-capability">SGR substring for fix-it hints suggesting text to be inserted or replaced. </p> </dd> <dt><code>fixit-delete=</code></dt> <dd> <p id="index-fixit_002ddelete-GCC_005fCOLORS-capability">SGR substring for fix-it hints suggesting text to be deleted. </p> </dd> <dt><code>diff-filename=</code></dt> <dd> <p id="index-diff_002dfilename-GCC_005fCOLORS-capability">SGR substring for filename headers within generated patches. </p> </dd> <dt><code>diff-hunk=</code></dt> <dd> <p id="index-diff_002dhunk-GCC_005fCOLORS-capability">SGR substring for the starts of hunks within generated patches. </p> </dd> <dt><code>diff-delete=</code></dt> <dd> <p id="index-diff_002ddelete-GCC_005fCOLORS-capability">SGR substring for deleted lines within generated patches. </p> </dd> <dt><code>diff-insert=</code></dt> <dd> <p id="index-diff_002dinsert-GCC_005fCOLORS-capability">SGR substring for inserted lines within generated patches. </p> </dd> <dt><code>type-diff=</code></dt> <dd> <p id="index-type_002ddiff-GCC_005fCOLORS-capability">SGR substring for highlighting mismatching types within template arguments in the C++ frontend. </p>
</dd> </dl> </dd> <dt><code>-fdiagnostics-urls[=<var>WHEN</var>]</code></dt> <dd>    <p id="index-TERM_005fURLS-environment-variable">Use escape sequences to embed URLs in diagnostics. For example, when <samp>-fdiagnostics-show-option</samp> emits text showing the command-line option controlling a diagnostic, embed a URL for documentation of that option. </p> <p><var>WHEN</var> is ‘<samp>never</samp>’, ‘<samp>always</samp>’, or ‘<samp>auto</samp>’. ‘<samp>auto</samp>’ makes GCC use URL escape sequences only when the standard error is a terminal, and when not executing in an emacs shell or any graphical terminal which is known to be incompatible with this feature, see below. </p> <p>The default depends on how the compiler has been configured. It can be any of the above <var>WHEN</var> options. </p> <p>GCC can also be configured (via the <samp>--with-diagnostics-urls=auto-if-env</samp> configure-time option) so that the default is affected by environment variables. Under such a configuration, GCC defaults to using ‘<samp>auto</samp>’ if either <code>GCC_URLS</code> or <code>TERM_URLS</code> environment variables are present and non-empty in the environment of the compiler, or ‘<samp>never</samp>’ if neither are. </p> <p>However, even with <samp>-fdiagnostics-urls=always</samp> the behavior is dependent on those environment variables: If <code>GCC_URLS</code> is set to empty or ‘<samp>no</samp>’, do not embed URLs in diagnostics. If set to ‘<samp>st</samp>’, URLs use ST escape sequences. If set to ‘<samp>bel</samp>’, the default, URLs use BEL escape sequences. Any other non-empty value enables the feature. If <code>GCC_URLS</code> is not set, use <code>TERM_URLS</code> as a fallback. Note: ST is an ANSI escape sequence, string terminator ‘<samp>ESC \</samp>’, BEL is an ASCII character, CTRL-G that usually sounds like a beep. </p> <p>At this time GCC tries to detect also a few terminals that are known to not implement the URL feature, and have bugs or at least had bugs in some versions that are still in use, where the URL escapes are likely to misbehave, i.e. print garbage on the screen. That list is currently xfce4-terminal, certain known to be buggy gnome-terminal versions, the linux console, and mingw. This check can be skipped with the <samp>-fdiagnostics-urls=always</samp>. </p> </dd> <dt><code>-fno-diagnostics-show-option</code></dt> <dd>  <p id="index-fdiagnostics_002dshow_002doption">By default, each diagnostic emitted includes text indicating the command-line option that directly controls the diagnostic (if such an option is known to the diagnostic machinery). Specifying the <samp>-fno-diagnostics-show-option</samp> flag suppresses that behavior. </p> </dd> <dt><code>-fno-diagnostics-show-caret</code></dt> <dd>  <p id="index-fdiagnostics_002dshow_002dcaret">By default, each diagnostic emitted includes the original source line and a caret ‘<samp>^</samp>’ indicating the column. This option suppresses this information. The source line is truncated to <var>n</var> characters, if the <samp>-fmessage-length=n</samp> option is given. When the output is done to the terminal, the width is limited to the width given by the <code>COLUMNS</code> environment variable or, if not set, to the terminal width. </p> </dd> <dt><code>-fno-diagnostics-show-labels</code></dt> <dd>  <p id="index-fdiagnostics_002dshow_002dlabels">By default, when printing source code (via <samp>-fdiagnostics-show-caret</samp>), diagnostics can label ranges of source code with pertinent information, such as the types of expressions: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">printf ("foo %s bar", long_i + long_j);
             ~^       ~~~~~~~~~~~~~~~
              |              |
              char *         long int</pre>
</div> <p>This option suppresses the printing of these labels (in the example above, the vertical bars and the “char *” and “long int” text). </p> </dd> <dt><code>-fno-diagnostics-show-cwe</code></dt> <dd>  <p id="index-fdiagnostics_002dshow_002dcwe">Diagnostic messages can optionally have an associated <a href="https://cwe.mitre.org/index.html">CWE</a> identifier. GCC itself only provides such metadata for some of the <samp>-fanalyzer</samp> diagnostics. GCC plugins may also provide diagnostics with such metadata. By default, if this information is present, it will be printed with the diagnostic. This option suppresses the printing of this metadata. </p> </dd> <dt><code>-fno-diagnostics-show-line-numbers</code></dt> <dd>  <p id="index-fdiagnostics_002dshow_002dline_002dnumbers">By default, when printing source code (via <samp>-fdiagnostics-show-caret</samp>), a left margin is printed, showing line numbers. This option suppresses this left margin. </p> </dd> <dt><code>-fdiagnostics-minimum-margin-width=<var>width</var></code></dt> <dd> <p id="index-fdiagnostics_002dminimum_002dmargin_002dwidth">This option controls the minimum width of the left margin printed by <samp>-fdiagnostics-show-line-numbers</samp>. It defaults to 6. </p> </dd> <dt><code>-fdiagnostics-parseable-fixits</code></dt> <dd> <p id="index-fdiagnostics_002dparseable_002dfixits">Emit fix-it hints in a machine-parseable format, suitable for consumption by IDEs. For each fix-it, a line will be printed after the relevant diagnostic, starting with the string “fix-it:”. For example: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">fix-it:"test.c":{45:3-45:21}:"gtk_widget_show_all"</pre>
</div> <p>The location is expressed as a half-open range, expressed as a count of bytes, starting at byte 1 for the initial column. In the above example, bytes 3 through 20 of line 45 of “test.c” are to be replaced with the given string: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">00000000011111111112222222222
12345678901234567890123456789
  gtk_widget_showall (dlg);
  ^^^^^^^^^^^^^^^^^^
  gtk_widget_show_all</pre>
</div> <p>The filename and replacement string escape backslash as “\\", tab as “\t”, newline as “\n”, double quotes as “\"”, non-printable characters as octal (e.g. vertical tab as “\013”). </p> <p>An empty replacement string indicates that the given range is to be removed. An empty range (e.g. “45:3-45:3”) indicates that the string is to be inserted at the given position. </p> </dd> <dt><code>-fdiagnostics-generate-patch</code></dt> <dd> <p id="index-fdiagnostics_002dgenerate_002dpatch">Print fix-it hints to stderr in unified diff format, after any diagnostics are printed. For example: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">--- test.c
+++ test.c
@ -42,5 +42,5 @

 void show_cb(GtkDialog *dlg)
 {
-  gtk_widget_showall(dlg);
+  gtk_widget_show_all(dlg);
 }</pre>
</div> <p>The diff may or may not be colorized, following the same rules as for diagnostics (see <samp>-fdiagnostics-color</samp>). </p> </dd> <dt><code>-fdiagnostics-show-template-tree</code></dt> <dd> <p id="index-fdiagnostics_002dshow_002dtemplate_002dtree">In the C++ frontend, when printing diagnostics showing mismatching template types, such as: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">could not convert 'std::map&lt;int, std::vector&lt;double&gt; &gt;()'
  from 'map&lt;[...],vector&lt;double&gt;&gt;' to 'map&lt;[...],vector&lt;float&gt;&gt;</pre>
</div> <p>the <samp>-fdiagnostics-show-template-tree</samp> flag enables printing a tree-like structure showing the common and differing parts of the types, such as: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">map&lt;
  [...],
  vector&lt;
    [double != float]&gt;&gt;</pre>
</div> <p>The parts that differ are highlighted with color (“double” and “float” in this case). </p> </dd> <dt><code>-fno-elide-type</code></dt> <dd>  <p id="index-felide_002dtype">By default when the C++ frontend prints diagnostics showing mismatching template types, common parts of the types are printed as “[...]” to simplify the error message. For example: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">could not convert 'std::map&lt;int, std::vector&lt;double&gt; &gt;()'
  from 'map&lt;[...],vector&lt;double&gt;&gt;' to 'map&lt;[...],vector&lt;float&gt;&gt;</pre>
</div> <p>Specifying the <samp>-fno-elide-type</samp> flag suppresses that behavior. This flag also affects the output of the <samp>-fdiagnostics-show-template-tree</samp> flag. </p> </dd> <dt><code>-fdiagnostics-path-format=<var>KIND</var></code></dt> <dd> <p id="index-fdiagnostics_002dpath_002dformat">Specify how to print paths of control-flow events for diagnostics that have such a path associated with them. </p> <p><var>KIND</var> is ‘<samp>none</samp>’, ‘<samp>separate-events</samp>’, or ‘<samp>inline-events</samp>’, the default. </p> <p>‘<samp>none</samp>’ means to not print diagnostic paths. </p> <p>‘<samp>separate-events</samp>’ means to print a separate “note” diagnostic for each event within the diagnostic. For example: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">test.c:29:5: error: passing NULL as argument 1 to 'PyList_Append' which requires a non-NULL parameter
test.c:25:10: note: (1) when 'PyList_New' fails, returning NULL
test.c:27:3: note: (2) when 'i &lt; count'
test.c:29:5: note: (3) when calling 'PyList_Append', passing NULL from (1) as argument 1</pre>
</div> <p>‘<samp>inline-events</samp>’ means to print the events “inline” within the source code. This view attempts to consolidate the events into runs of sufficiently-close events, printing them as labelled ranges within the source. </p> <p>For example, the same events as above might be printed as: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">'test': events 1-3
  |
  |   25 |   list = PyList_New(0);
  |      |          ^~~~~~~~~~~~~
  |      |          |
  |      |          (1) when 'PyList_New' fails, returning NULL
  |   26 |
  |   27 |   for (i = 0; i &lt; count; i++) {
  |      |   ~~~
  |      |   |
  |      |   (2) when 'i &lt; count'
  |   28 |     item = PyLong_FromLong(random());
  |   29 |     PyList_Append(list, item);
  |      |     ~~~~~~~~~~~~~~~~~~~~~~~~~
  |      |     |
  |      |     (3) when calling 'PyList_Append', passing NULL from (1) as argument 1
  |</pre>
</div> <p>Interprocedural control flow is shown by grouping the events by stack frame, and using indentation to show how stack frames are nested, pushed, and popped. </p> <p>For example: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">'test': events 1-2
    |
    |  133 | {
    |      | ^
    |      | |
    |      | (1) entering 'test'
    |  134 |   boxed_int *obj = make_boxed_int (i);
    |      |                    ~~~~~~~~~~~~~~~~~~
    |      |                    |
    |      |                    (2) calling 'make_boxed_int'
    |
    +--&gt; 'make_boxed_int': events 3-4
           |
           |  120 | {
           |      | ^
           |      | |
           |      | (3) entering 'make_boxed_int'
           |  121 |   boxed_int *result = (boxed_int *)wrapped_malloc (sizeof (boxed_int));
           |      |                                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
           |      |                                    |
           |      |                                    (4) calling 'wrapped_malloc'
           |
           +--&gt; 'wrapped_malloc': events 5-6
                  |
                  |    7 | {
                  |      | ^
                  |      | |
                  |      | (5) entering 'wrapped_malloc'
                  |    8 |   return malloc (size);
                  |      |          ~~~~~~~~~~~~~
                  |      |          |
                  |      |          (6) calling 'malloc'
                  |
    &lt;-------------+
    |
 'test': event 7
    |
    |  138 |   free_boxed_int (obj);
    |      |   ^~~~~~~~~~~~~~~~~~~~
    |      |   |
    |      |   (7) calling 'free_boxed_int'
    |
(etc)</pre>
</div> </dd> <dt><code>-fdiagnostics-show-path-depths</code></dt> <dd> <p id="index-fdiagnostics_002dshow_002dpath_002ddepths">This option provides additional information when printing control-flow paths associated with a diagnostic. </p> <p>If this is option is provided then the stack depth will be printed for each run of events within <samp>-fdiagnostics-path-format=separate-events</samp>. </p> <p>This is intended for use by GCC developers and plugin developers when debugging diagnostics that report interprocedural control flow. </p> </dd> <dt><code>-fno-show-column</code></dt> <dd>  <p id="index-fshow_002dcolumn">Do not print column numbers in diagnostics. This may be necessary if diagnostics are being scanned by a program that does not understand the column numbers, such as <code>dejagnu</code>. </p> </dd> <dt><code>-fdiagnostics-format=<var>FORMAT</var></code></dt> <dd> <p id="index-fdiagnostics_002dformat">Select a different format for printing diagnostics. <var>FORMAT</var> is ‘<samp>text</samp>’ or ‘<samp>json</samp>’. The default is ‘<samp>text</samp>’. </p> <p>The ‘<samp>json</samp>’ format consists of a top-level JSON array containing JSON objects representing the diagnostics. </p> <p>The JSON is emitted as one line, without formatting; the examples below have been formatted for clarity. </p> <p>Diagnostics can have child diagnostics. For example, this error and note: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">misleading-indentation.c:15:3: warning: this 'if' clause does not
  guard... [-Wmisleading-indentation]
   15 |   if (flag)
      |   ^~
misleading-indentation.c:17:5: note: ...this statement, but the latter
  is misleadingly indented as if it were guarded by the 'if'
   17 |     y = 2;
      |     ^</pre>
</div> <p>might be printed in JSON form (after formatting) like this: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">[
    {
        "kind": "warning",
        "locations": [
            {
                "caret": {
                    "column": 3,
                    "file": "misleading-indentation.c",
                    "line": 15
                },
                "finish": {
                    "column": 4,
                    "file": "misleading-indentation.c",
                    "line": 15
                }
            }
        ],
        "message": "this \u2018if\u2019 clause does not guard...",
        "option": "-Wmisleading-indentation",
        "option_url": "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wmisleading-indentation",
        "children": [
            {
                "kind": "note",
                "locations": [
                    {
                        "caret": {
                            "column": 5,
                            "file": "misleading-indentation.c",
                            "line": 17
                        }
                    }
                ],
                "message": "...this statement, but the latter is …"
            }
        ]
    },
    …
]</pre>
</div> <p>where the <code>note</code> is a child of the <code>warning</code>. </p> <p>A diagnostic has a <code>kind</code>. If this is <code>warning</code>, then there is an <code>option</code> key describing the command-line option controlling the warning. </p> <p>A diagnostic can contain zero or more locations. Each location has up to three positions within it: a <code>caret</code> position and optional <code>start</code> and <code>finish</code> positions. A location can also have an optional <code>label</code> string. For example, this error: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">bad-binary-ops.c:64:23: error: invalid operands to binary + (have 'S' {aka
   'struct s'} and 'T' {aka 'struct t'})
   64 |   return callee_4a () + callee_4b ();
      |          ~~~~~~~~~~~~ ^ ~~~~~~~~~~~~
      |          |              |
      |          |              T {aka struct t}
      |          S {aka struct s}</pre>
</div> <p>has three locations. Its primary location is at the “+” token at column 23. It has two secondary locations, describing the left and right-hand sides of the expression, which have labels. It might be printed in JSON form as: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">{
    "children": [],
    "kind": "error",
    "locations": [
        {
            "caret": {
                "column": 23, "file": "bad-binary-ops.c", "line": 64
            }
        },
        {
            "caret": {
                "column": 10, "file": "bad-binary-ops.c", "line": 64
            },
            "finish": {
                "column": 21, "file": "bad-binary-ops.c", "line": 64
            },
            "label": "S {aka struct s}"
        },
        {
            "caret": {
                "column": 25, "file": "bad-binary-ops.c", "line": 64
            },
            "finish": {
                "column": 36, "file": "bad-binary-ops.c", "line": 64
            },
            "label": "T {aka struct t}"
        }
    ],
    "message": "invalid operands to binary + …"
}</pre>
</div> <p>If a diagnostic contains fix-it hints, it has a <code>fixits</code> array, consisting of half-open intervals, similar to the output of <samp>-fdiagnostics-parseable-fixits</samp>. For example, this diagnostic with a replacement fix-it hint: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">demo.c:8:15: error: 'struct s' has no member named 'colour'; did you
  mean 'color'?
    8 |   return ptr-&gt;colour;
      |               ^~~~~~
      |               color</pre>
</div> <p>might be printed in JSON form as: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">{
    "children": [],
    "fixits": [
        {
            "next": {
                "column": 21,
                "file": "demo.c",
                "line": 8
            },
            "start": {
                "column": 15,
                "file": "demo.c",
                "line": 8
            },
            "string": "color"
        }
    ],
    "kind": "error",
    "locations": [
        {
            "caret": {
                "column": 15,
                "file": "demo.c",
                "line": 8
            },
            "finish": {
                "column": 20,
                "file": "demo.c",
                "line": 8
            }
        }
    ],
    "message": "\u2018struct s\u2019 has no member named …"
}</pre>
</div> <p>where the fix-it hint suggests replacing the text from <code>start</code> up to but not including <code>next</code> with <code>string</code>’s value. Deletions are expressed via an empty value for <code>string</code>, insertions by having <code>start</code> equal <code>next</code>. </p> <p>If the diagnostic has a path of control-flow events associated with it, it has a <code>path</code> array of objects representing the events. Each event object has a <code>description</code> string, a <code>location</code> object, along with a <code>function</code> string and a <code>depth</code> number for representing interprocedural paths. The <code>function</code> represents the current function at that event, and the <code>depth</code> represents the stack depth relative to some baseline: the higher, the more frames are within the stack. </p> <p>For example, the intraprocedural example shown for <samp>-fdiagnostics-path-format=</samp> might have this JSON for its path: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">"path": [
    {
        "depth": 0,
        "description": "when 'PyList_New' fails, returning NULL",
        "function": "test",
        "location": {
            "column": 10,
            "file": "test.c",
            "line": 25
        }
    },
    {
        "depth": 0,
        "description": "when 'i &lt; count'",
        "function": "test",
        "location": {
            "column": 3,
            "file": "test.c",
            "line": 27
        }
    },
    {
        "depth": 0,
        "description": "when calling 'PyList_Append', passing NULL from (1) as argument 1",
        "function": "test",
        "location": {
            "column": 5,
            "file": "test.c",
            "line": 29
        }
    }
]</pre>
</div> </dd> </dl>  <p class="header"> </p>
<p> Next: <a href="warning-options#Warning-Options" accesskey="n" rel="next">Warning Options</a>, Previous: <a href="objective_002dc-and-objective_002dc_002b_002b-dialect-options#Objective_002dC-and-Objective_002dC_002b_002b-Dialect-Options" accesskey="p" rel="prev">Objective-C and Objective-C++ Dialect Options</a>, Up: <a href="invoking-gcc#Invoking-GCC" accesskey="u" rel="up">Invoking GCC</a> [<a href="index#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="https://gcc.gnu.org/onlinedocs/gcc-10.2.0/gcc/Option-Index.html#Option-Index" title="Index" rel="index">Index</a>]</p> <div class="_attribution">
  <p class="_attribution-p">
    © Free Software Foundation<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://gcc.gnu.org/onlinedocs/gcc-10.2.0/gcc/Diagnostic-Message-Formatting-Options.html" class="_attribution-link">https://gcc.gnu.org/onlinedocs/gcc-10.2.0/gcc/Diagnostic-Message-Formatting-Options.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
