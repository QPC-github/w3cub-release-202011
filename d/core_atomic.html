
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>core.atomic - D - W3cubDocs</title>
  
  <meta name="description" content=" The atomic module provides basic support for lock-free concurrent programming. ">
  <meta name="keywords" content="core, atomic, d">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/d/core_atomic.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/d.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/d/" class="_nav-link" title="" style="margin-left:0;">D</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _d">
				
				
<h1>core.atomic</h1>  <p>The atomic module provides basic support for lock-free concurrent programming. </p>
<dl>
<dt>License:</dt>
<dd>
<a href="http://www.boost.org/LICENSE_1_0.txt">Boost License 1.0</a> </dd>
</dl> <dl>
<dt>Authors:</dt>
<dd>Sean Kelly, Alex RÃ¸nne Petersen, Manu Evans </dd>
</dl> <dl>
<dt>Source</dt>
<dd> <a href="https://github.com/dlang/druntime/blob/master/src/core/atomic.d">core/atomic.d</a>
</dd>
</dl> <dl>
<dt class="d_decl" id="atomicOp">pure nothrow @nogc @safe TailShared!T <strong id="atomicOp">atomicOp</strong>(string op, T, V1)(ref shared T val, V1 mod)<br><small>  Constraints: if (__traits(compiles, mixin("*cast(T*)&amp;val" ~ op ~ "mod"))); </small>
</dt> <dd>
<p>Performs the binary operation 'op' on val using 'mod' as the modifier. </p>
<dl>
<dt>Parameters:</dt>
<dd><table>
<tr>
<td>T <code>val</code>
</td> <td>The target variable.</td>
</tr> <tr>
<td>V1 <code>mod</code>
</td> <td>The modifier to apply.</td>
</tr> </table></dd>
</dl> <dl>
<dt>Returns:</dt>
<dd>The result of the operation.</dd>
</dl> </dd> <dt class="d_decl" id="atomicExchange">pure nothrow @nogc @safe shared(T) <strong id="atomicExchange">atomicExchange</strong>(MemoryOrder ms = MemoryOrder.seq, T, V)(shared(T)* here, V exchangeWith)<br><small>  Constraints: if (!is(T == class) &amp;&amp; !is(T U : U*) &amp;&amp; __traits(compiles, () { *here = exchangeWith; } )); </small><br><br>pure nothrow @nogc @safe shared(T) <strong id="atomicExchange">atomicExchange</strong>(MemoryOrder ms = MemoryOrder.seq, T, V)(shared(T)* here, shared(V) exchangeWith)<br><small>  Constraints: if (is(T == class) &amp;&amp; __traits(compiles, () { *here = exchangeWith; } )); </small><br><br>pure nothrow @nogc @safe shared(T) <strong id="atomicExchange">atomicExchange</strong>(MemoryOrder ms = MemoryOrder.seq, T, V)(shared(T)* here, shared(V)* exchangeWith)<br><small>  Constraints: if (is(T U : U*) &amp;&amp; __traits(compiles, () { *here = exchangeWith; } )); </small>
</dt> <dd>
<p>Exchange <code>exchangeWith</code> with the memory referenced by <code>here</code>. This operation is both lock-free and atomic. </p>
<dl>
<dt>Parameters:</dt>
<dd><table>
<tr>
<td>shared(T)* <code>here</code>
</td> <td>The address of the destination variable.</td>
</tr> <tr>
<td>V <code>exchangeWith</code>
</td> <td>The value to exchange.</td>
</tr> </table></dd>
</dl> <dl>
<dt>Returns:</dt>
<dd>The value held previously by <code>here</code>.</dd>
</dl> </dd> <dt class="d_decl" id="cas">pure nothrow @nogc @safe bool <strong id="cas">cas</strong>(T, V1, V2)(shared(T)* here, const V1 ifThis, V2 writeThis)<br><small>  Constraints: if (!is(T == class) &amp;&amp; !is(T U : U*) &amp;&amp; __traits(compiles, () { *here = writeThis; } )); </small><br><br>pure nothrow @nogc @safe bool <strong id="cas">cas</strong>(T, V1, V2)(shared(T)* here, const shared(V1) ifThis, shared(V2) writeThis)<br><small>  Constraints: if (is(T == class) &amp;&amp; __traits(compiles, () { *here = writeThis; } )); </small><br><br>pure nothrow @nogc @safe bool <strong id="cas">cas</strong>(T, V1, V2)(shared(T)* here, const shared(V1)* ifThis, shared(V2)* writeThis)<br><small>  Constraints: if (is(T U : U*) &amp;&amp; __traits(compiles, () { *here = writeThis; } )); </small>
</dt> <dd>
<p>Stores 'writeThis' to the memory referenced by 'here' if the value referenced by 'here' is equal to 'ifThis'. This operation is both lock-free and atomic. </p>
<dl>
<dt>Parameters:</dt>
<dd><table>
<tr>
<td>shared(T)* <code>here</code>
</td> <td>The address of the destination variable.</td>
</tr> <tr>
<td>V2 <code>writeThis</code>
</td> <td>The value to store.</td>
</tr> <tr>
<td>V1 <code>ifThis</code>
</td> <td>The comparison value.</td>
</tr> </table></dd>
</dl> <dl>
<dt>Returns:</dt>
<dd>true if the store occurred, false if not.</dd>
</dl> </dd> <dt class="d_decl" id="cas.2">pure nothrow @nogc @safe bool <strong id="cas">cas</strong>(T, V1, V2)(shared(T)* here, V1* ifThis, V2 writeThis)<br><small>  Constraints: if (!is(T == class) &amp;&amp; !is(T U : U*) &amp;&amp; __traits(compiles, () { *here = writeThis; } )); </small><br><br>pure nothrow @nogc @safe bool <strong id="cas">cas</strong>(T, V1, V2)(shared(T)* here, shared(V1)* ifThis, shared(V2) writeThis)<br><small>  Constraints: if (is(T == class) &amp;&amp; __traits(compiles, () { *here = writeThis; } )); </small><br><br>pure nothrow @nogc @safe bool <strong id="cas">cas</strong>(T, V1, V2)(shared(T)* here, shared(V1)** ifThis, shared(V2)* writeThis)<br><small>  Constraints: if (is(T U : U*) &amp;&amp; __traits(compiles, () { *here = writeThis; } )); </small>
</dt> <dd>
<p>Stores 'writeThis' to the memory referenced by 'here' if the value referenced by 'here' is equal to the value referenced by 'ifThis'. The prior value referenced by 'here' is written to <code>ifThis</code> and returned to the user. This operation is both lock-free and atomic. </p>
<dl>
<dt>Parameters:</dt>
<dd><table>
<tr>
<td>shared(T)* <code>here</code>
</td> <td>The address of the destination variable.</td>
</tr> <tr>
<td>V2 <code>writeThis</code>
</td> <td>The value to store.</td>
</tr> <tr>
<td>V1* <code>ifThis</code>
</td> <td>The address of the value to compare, and receives the prior value of <code>here</code> as output.</td>
</tr> </table></dd>
</dl> <dl>
<dt>Returns:</dt>
<dd>true if the store occurred, false if not.</dd>
</dl> </dd> <dt class="d_decl" id="atomicLoad">pure nothrow @nogc @safe TailShared!T <strong id="atomicLoad">atomicLoad</strong>(MemoryOrder ms = MemoryOrder.seq, T)(ref const shared T val); </dt> <dd>
<p>Loads 'val' from memory and returns it. The memory barrier specified by 'ms' is applied to the operation, which is fully sequenced by default. Valid memory orders are MemoryOrder.raw, MemoryOrder.acq, and MemoryOrder.seq. </p>
<dl>
<dt>Parameters:</dt>
<dd><table>
<tr>
<td>T <code>val</code>
</td> <td>The target variable.</td>
</tr> </table></dd>
</dl> <dl>
<dt>Returns:</dt>
<dd>The value of 'val'.</dd>
</dl> </dd> <dt class="d_decl" id="atomicStore">pure nothrow @nogc @safe void <strong id="atomicStore">atomicStore</strong>(MemoryOrder ms = MemoryOrder.seq, T, V1)(ref shared T val, V1 newval)<br><small>  Constraints: if (__traits(compiles, () { val = newval; } )); </small>
</dt> <dd>
<p>Writes 'newval' into 'val'. The memory barrier specified by 'ms' is applied to the operation, which is fully sequenced by default. Valid memory orders are MemoryOrder.raw, MemoryOrder.rel, and MemoryOrder.seq. </p>
<dl>
<dt>Parameters:</dt>
<dd><table>
<tr>
<td>T <code>val</code>
</td> <td>The target variable.</td>
</tr> <tr>
<td>V1 <code>newval</code>
</td> <td>The value to store.</td>
</tr> </table></dd>
</dl> </dd> <dt class="d_decl" id="MemoryOrder">enum <strong id="MemoryOrder">MemoryOrder</strong>: int; </dt> <dd>
<p>Specifies the memory ordering semantics of an atomic operation. </p>
<dl>
<dt>See Also:</dt>
<dd><a href="http://en.cppreference.com/w/cpp/atomic/memory_order">en.cppreference.com/w/cpp/atomic/memory_order</a></dd>
</dl> <dl>
<dt class="d_decl" id="MemoryOrder.raw"><strong id="raw">raw</strong></dt> <dd>
<p>Not sequenced. Corresponds to <a href="https://llvm.org/docs/Atomics.html#monotonic">LLVM AtomicOrdering.Monotonic</a> and C++11/C11 <code>memory_order_relaxed</code>.</p> </dd> <dt class="d_decl" id="MemoryOrder.acq"><strong id="acq">acq</strong></dt> <dd>
<p>Hoist-load + hoist-store barrier. Corresponds to <a href="https://llvm.org/docs/Atomics.html#acquire">LLVM AtomicOrdering.Acquire</a> and C++11/C11 <code>memory_order_acquire</code>.</p> </dd> <dt class="d_decl" id="MemoryOrder.rel"><strong id="rel">rel</strong></dt> <dd>
<p>Sink-load + sink-store barrier. Corresponds to <a href="https://llvm.org/docs/Atomics.html#release">LLVM AtomicOrdering.Release</a> and C++11/C11 <code>memory_order_release</code>.</p> </dd> <dt class="d_decl" id="MemoryOrder.seq"><strong id="seq">seq</strong></dt> <dd>
<p>Fully sequenced (acquire + release). Corresponds to <a href="https://llvm.org/docs/Atomics.html#sequentiallyconsistent">LLVM AtomicOrdering.SequentiallyConsistent</a> and C++11/C11 <code>memory_order_seq_cst</code>.</p> </dd> </dl> </dd> <dt class="d_decl" id="atomicFence">nothrow @nogc void <strong id="atomicFence">atomicFence</strong>(); </dt> <dd>
<p>Inserts a full load/store memory fence (on platforms that need it). This ensures that all loads and stores before a call to this function are executed before any loads and stores after the call.</p> </dd> </dl>
<div class="_attribution">
  <p class="_attribution-p">
    Â© 1999â2019 The D Language Foundation<br>Licensed under the Boost License 1.0.<br>
    <a href="https://dlang.org/phobos/core_atomic.html" class="_attribution-link">https://dlang.org/phobos/core_atomic.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
