
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>dmd.mars - D - W3cubDocs</title>
  
  <meta name="description" content=" Compiler implementation of the D programming language. Entry point for DMD. ">
  <meta name="keywords" content="dmd, mars, d">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/d/dmd_mars.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/d.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/d/" class="_nav-link" title="" style="margin-left:0;">D</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _d">
				
				
<h1>dmd.mars</h1>  <p>Compiler implementation of the <a href="http://www.dlang.org">D programming language</a>. Entry point for DMD. </p>
<p>This modules defines the entry point (main) for DMD, as well as related utilities needed for arguments parsing, path manipulation, etc... This file is not shared with other compilers which use the DMD front-end. </p> <dl>
<dt>Authors:</dt>
<dd>
<a href="http://www.digitalmars.com">Walter Bright</a> </dd>
</dl> <dl>
<dt>License:</dt>
<dd>
<a href="http://www.boost.org/LICENSE_1_0.txt">Boost License 1.0</a> </dd>
</dl> <dl>
<dt>Source</dt>
<dd> <a href="https://github.com/dlang/dmd/blob/master/src/dmd/mars.d">mars.d</a> </dd>
</dl> <dl>
<dt>Documentation</dt>
<dd> <a href="dmd_mars">https://dlang.org/phobos/dmd_mars.html</a> </dd>
</dl> <dl>
<dt>Coverage</dt>
<dd> <a href="https://codecov.io/gh/dlang/dmd/src/master/src/dmd/mars.d">https://codecov.io/gh/dlang/dmd/src/master/src/dmd/mars.d</a>
</dd>
</dl> <dl>
<dt class="d_decl" id="printInternalFailure">void <strong id="printInternalFailure">printInternalFailure</strong>(FILE* stream); </dt> <dd>
<p>Print DMD's logo with more debug information and error-reporting pointers. </p>
<dl>
<dt>Parameters:</dt>
<dd><table>
<tr>
<td>FILE* <code>stream</code>
</td> <td>output stream to print the information on</td>
</tr> </table></dd>
</dl> </dd> <dt class="d_decl" id="main">int <strong id="main">main</strong>(int argc, char** argv); </dt> <dd>
<p>DMD's entry point, C main. </p>
<p>Without <code>-lowmem</code>, we need to switch to the bump-pointer allocation scheme right from the start, before any module ctors are run, so we need this hook before druntime is initialized and <code>_Dmain</code> is called. </p> <dl>
<dt>Returns:</dt>
<dd>Return code of the application</dd>
</dl> </dd> <dt class="d_decl" id="_Dmain">int <strong id="_Dmain">_Dmain</strong>(char[][]); </dt> <dd>
<p>Manual D main (for druntime initialization), which forwards to <code>tryMain</code>. </p>
<dl>
<dt>Returns:</dt>
<dd>Return code of the application</dd>
</dl> </dd> <dt class="d_decl" id="getenv_setargv">void <strong id="getenv_setargv">getenv_setargv</strong>(const(char)* envvalue, Strings* args); </dt> <dd>
<p>Parses an environment variable containing command-line flags and append them to <code>args</code>. </p>
<p>This function is used to read the content of DFLAGS. Flags are separated based on spaces and tabs. </p> <dl>
<dt>Parameters:</dt>
<dd><table>
<tr>
<td>const(char)* <code>envvalue</code>
</td> <td>The content of an environment variable</td>
</tr> <tr>
<td>Strings* <code>args</code>
</td> <td>Array to append the flags to, if any.</td>
</tr> </table></dd>
</dl> </dd> <dt class="d_decl" id="parse_arch_arg">const(char)* <strong id="parse_arch_arg">parse_arch_arg</strong>(Strings* args, const(char)* arch); </dt> <dd>
<p>Parse command line arguments for the last instance of -m32, -m64 or -m32mscoff to detect the desired architecture. </p>
<dl>
<dt>Parameters:</dt>
<dd><table>
<tr>
<td>Strings* <code>args</code>
</td> <td>Command line arguments</td>
</tr> <tr>
<td>const(char)* <code>arch</code>
</td> <td>Default value to use for architecture. Should be "32" or "64"</td>
</tr> </table></dd>
</dl> <dl>
<dt>Returns:</dt>
<dd>"32", "64" or "32mscoff" if the "-m32", "-m64", "-m32mscoff" flags were passed, respectively. If they weren't, return <code>arch</code>.</dd>
</dl> </dd> <dt class="d_decl" id="parse_conf_arg">const(char)[] <strong id="parse_conf_arg">parse_conf_arg</strong>(Strings* args); </dt> <dd>
<p>Parse command line arguments for the last instance of -conf=path. </p>
<dl>
<dt>Parameters:</dt>
<dd><table>
<tr>
<td>Strings* <code>args</code>
</td> <td>Command line arguments</td>
</tr> </table></dd>
</dl> <dl>
<dt>Returns:</dt>
<dd>The 'path' in -conf=path, which is the path to the config file to use</dd>
</dl> </dd> <dt class="d_decl" id="setTarget">void <strong id="setTarget">setTarget</strong>(ref Param params); </dt> <dd>
<p>Set the <code>is</code> target fields of <code>params</code> according to the TARGET value. </p>
<dl>
<dt>Parameters:</dt>
<dd><table>
<tr>
<td>Param <code>params</code>
</td> <td>where the <code>is</code> fields are</td>
</tr> </table></dd>
</dl> </dd> <dt class="d_decl" id="addDefaultVersionIdentifiers">void <strong id="addDefaultVersionIdentifiers">addDefaultVersionIdentifiers</strong>(ref const Param params); </dt> <dd>
<p>Add default <code>version</code> identifier for dmd, and set the target platform in <code>params</code>. <a href="https://dlang.org/spec/version.html#predefined-versions">https://dlang.org/spec/version.html#predefined-versions</a> </p>
<p>Needs to be run after all arguments parsing (command line, DFLAGS environment variable and config file) in order to add final flags (such as <code>X86_64</code> or the <code>CRuntime</code> used). </p> <dl>
<dt>Parameters:</dt>
<dd><table>
<tr>
<td>Param <code>params</code>
</td> <td>which target to compile for (set by <code>setTarget()</code>)</td>
</tr> </table></dd>
</dl> </dd> <dt class="d_decl" id="flushMixins">void <strong id="flushMixins">flushMixins</strong>(); </dt> <dd>
<p>we want to write the mixin expansion file also on error, but there are too many ways to terminate dmd (e.g. fatal() which calls exit(EXIT_FAILURE)), so we can't rely on scope(exit) ... in tryMain() actually being executed so we add atexit(&amp;flushMixins); for those fatal exits (with the GC still valid)</p> </dd> <dt class="d_decl" id="parseCommandLine">bool <strong id="parseCommandLine">parseCommandLine</strong>(ref const Strings arguments, const size_t argc, ref Param params, ref Strings files); </dt> <dd>
<p>Parse command line arguments. </p>
<p>Prints message(s) if there are errors. </p> <dl>
<dt>Parameters:</dt>
<dd><table>
<tr>
<td>Strings <code>arguments</code>
</td> <td>command line arguments</td>
</tr> <tr>
<td>size_t <code>argc</code>
</td> <td>argument count</td>
</tr> <tr>
<td>Param <code>params</code>
</td> <td>set to result of parsing <code>arguments</code>
</td>
</tr> <tr>
<td>Strings <code>files</code>
</td> <td>set to files pulled from <code>arguments</code>
</td>
</tr> </table></dd>
</dl> <dl>
<dt>Returns:</dt>
<dd>true if errors in command line</dd>
</dl> </dd> <dt class="d_decl" id="createModules">Modules <strong id="createModules">createModules</strong>(ref Strings files, ref Strings libmodules); </dt> <dd>
<p>Creates the list of modules based on the files provided </p>
<p>Files are dispatched in the various arrays (global.params.{ddocfiles,dllfiles,jsonfiles,etc...}) according to their extension. Binary files are added to libmodules. </p> <dl>
<dt>Parameters:</dt>
<dd><table>
<tr>
<td>Strings <code>files</code>
</td> <td>File names to dispatch</td>
</tr> <tr>
<td>Strings <code>libmodules</code>
</td> <td>Array to which binaries (shared/static libs and object files) will be appended</td>
</tr> </table></dd>
</dl> <dl>
<dt>Returns:</dt>
<dd>An array of path to D modules</dd>
</dl> </dd> </dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 1999–2019 The D Language Foundation<br>Licensed under the Boost License 1.0.<br>
    <a href="https://dlang.org/phobos/dmd_mars.html" class="_attribution-link">https://dlang.org/phobos/dmd_mars.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
