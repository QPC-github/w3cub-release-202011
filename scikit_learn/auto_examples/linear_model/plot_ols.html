
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Example&#58; Linear Regression Example - Scikit-learn - W3cubDocs</title>
  
  <meta name="description" content=" Note ">
  <meta name="keywords" content="linear, regression, example, scikit-learn, scikit_learn">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/scikit_learn/auto_examples/linear_model/plot_ols.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/scikit_learn.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/scikit_learn/" class="_nav-link" title="" style="margin-left:0;">scikit-learn</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx">
				
				
<div class="sphx-glr-download-link-note admonition note"> <p class="first admonition-title">Note</p> <p class="last">Click <a class="reference internal" href="#sphx-glr-download-auto-examples-linear-model-plot-ols-py"><span class="std std-ref">here</span></a> to download the full example code</p> </div>  <h1 id="sphx-glr-auto-examples-linear-model-plot-ols-py">Linear Regression Example</h1> <p id="linear-regression-example">This example uses the only the first feature of the <code>diabetes</code> dataset, in order to illustrate a two-dimensional plot of this regression technique. The straight line can be seen in the plot, showing how linear regression attempts to draw a straight line that will best minimize the residual sum of squares between the observed responses in the dataset, and the responses predicted by the linear approximation.</p> <p>The coefficients, the residual sum of squares and the variance score are also calculated.</p> <img alt="../../_images/sphx_glr_plot_ols_001.png" class="sphx-glr-single-img" src="data:image/png;base64,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"> <p class="sphx-glr-script-out">Out:</p> <pre data-language="none">Coefficients:
 [938.23786125]
Mean squared error: 2548.07
Variance score: 0.47
</pre>  <pre data-language="python">print(__doc__)


# Code source: Jaques Grobler
# License: BSD 3 clause


import matplotlib.pyplot as plt
import numpy as np
from sklearn import datasets, linear_model
from sklearn.metrics import mean_squared_error, r2_score

# Load the diabetes dataset
diabetes = datasets.load_diabetes()


# Use only one feature
diabetes_X = diabetes.data[:, np.newaxis, 2]

# Split the data into training/testing sets
diabetes_X_train = diabetes_X[:-20]
diabetes_X_test = diabetes_X[-20:]

# Split the targets into training/testing sets
diabetes_y_train = diabetes.target[:-20]
diabetes_y_test = diabetes.target[-20:]

# Create linear regression object
regr = linear_model.LinearRegression()

# Train the model using the training sets
regr.fit(diabetes_X_train, diabetes_y_train)

# Make predictions using the testing set
diabetes_y_pred = regr.predict(diabetes_X_test)

# The coefficients
print('Coefficients: \n', regr.coef_)
# The mean squared error
print("Mean squared error: %.2f"
      % mean_squared_error(diabetes_y_test, diabetes_y_pred))
# Explained variance score: 1 is perfect prediction
print('Variance score: %.2f' % r2_score(diabetes_y_test, diabetes_y_pred))

# Plot outputs
plt.scatter(diabetes_X_test, diabetes_y_test,  color='black')
plt.plot(diabetes_X_test, diabetes_y_pred, color='blue', linewidth=3)

plt.xticks(())
plt.yticks(())

plt.show()
</pre> <p><strong>Total running time of the script:</strong> ( 0 minutes 0.070 seconds)</p> <div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-linear-model-plot-ols-py"> <div class="sphx-glr-download docutils container"> <a class="reference download internal" href="http://scikit-learn.org/stable/_downloads/plot_ols.py" download=""><code>Download Python source code: plot_ols.py</code></a>
</div> <div class="sphx-glr-download docutils container"> <a class="reference download internal" href="http://scikit-learn.org/stable/_downloads/plot_ols.ipynb" download=""><code>Download Jupyter notebook: plot_ols.ipynb</code></a>
</div> </div> <p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.readthedocs.io">Gallery generated by Sphinx-Gallery</a></p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2007–2018 The scikit-learn developers<br>Licensed under the 3-clause BSD License.<br>
    <a href="http://scikit-learn.org/stable/auto_examples/linear_model/plot_ols.html" class="_attribution-link">http://scikit-learn.org/stable/auto_examples/linear_model/plot_ols.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
