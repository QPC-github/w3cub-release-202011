
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Socket - Python 2.7 - W3cubDocs</title>
  
  <meta name="description" content="This module provides access to the BSD socket interface. It is available on all modern Unix systems, Windows, Mac OS X, BeOS, OS&#47;2, and probably &hellip;">
  <meta name="keywords" content="socket, —, low-level, networking, interface, python, python~2.7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/python~2.7/library/socket.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/python~2.7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/python~2.7/" class="_nav-link" title="" style="margin-left:0;">Python 2.7</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _python">
				
				
<h1 id="socket-low-level-networking-interface"> socket — Low-level networking interface</h1> <p id="module-socket">This module provides access to the BSD <em>socket</em> interface. It is available on all modern Unix systems, Windows, Mac OS X, BeOS, OS/2, and probably additional platforms.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Some behavior may be platform dependent, since calls are made to the operating system socket APIs.</p> </div> <p>For an introduction to socket programming (in C), see the following papers: An Introductory 4.3BSD Interprocess Communication Tutorial, by Stuart Sechrest and An Advanced 4.3BSD Interprocess Communication Tutorial, by Samuel J. Leffler et al, both in the UNIX Programmer’s Manual, Supplementary Documents 1 (sections PS1:7 and PS1:8). The platform-specific reference material for the various socket-related system calls are also a valuable source of information on the details of socket semantics. For Unix, refer to the manual pages; for Windows, see the WinSock (or Winsock 2) specification. For IPv6-ready APIs, readers may want to refer to <a class="rfc reference external" href="https://tools.ietf.org/html/rfc3493.html" id="index-0"><strong>RFC 3493</strong></a> titled Basic Socket Interface Extensions for IPv6.</p> <p id="index-1">The Python interface is a straightforward transliteration of the Unix system call and library interface for sockets to Python’s object-oriented style: the <a class="reference internal" href="#socket.socket" title="socket.socket"><code>socket()</code></a> function returns a <em class="dfn">socket object</em> whose methods implement the various socket system calls. Parameter types are somewhat higher-level than in the C interface: as with <code>read()</code> and <code>write()</code> operations on Python files, buffer allocation on receive operations is automatic, and buffer length is implicit on send operations.</p> <p id="host-port">Socket addresses are represented as follows: A single string is used for the <a class="reference internal" href="#socket.AF_UNIX" title="socket.AF_UNIX"><code>AF_UNIX</code></a> address family. A pair <code>(host, port)</code> is used for the <a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><code>AF_INET</code></a> address family, where <em>host</em> is a string representing either a hostname in Internet domain notation like <code>'daring.cwi.nl'</code> or an IPv4 address like <code>'100.50.200.5'</code>, and <em>port</em> is an integer. For <a class="reference internal" href="#socket.AF_INET6" title="socket.AF_INET6"><code>AF_INET6</code></a> address family, a four-tuple <code>(host, port, flowinfo,
scopeid)</code> is used, where <em>flowinfo</em> and <em>scopeid</em> represents <code>sin6_flowinfo</code> and <code>sin6_scope_id</code> member in <code>struct sockaddr_in6</code> in C. For <a class="reference internal" href="#module-socket" title="socket: Low-level networking interface."><code>socket</code></a> module methods, <em>flowinfo</em> and <em>scopeid</em> can be omitted just for backward compatibility. Note, however, omission of <em>scopeid</em> can cause problems in manipulating scoped IPv6 addresses. Other address families are currently not supported. The address format required by a particular socket object is automatically selected based on the address family specified when the socket object was created.</p> <p>For IPv4 addresses, two special forms are accepted instead of a host address: the empty string represents <code>INADDR_ANY</code>, and the string <code>'&lt;broadcast&gt;'</code> represents <code>INADDR_BROADCAST</code>. The behavior is not available for IPv6 for backward compatibility, therefore, you may want to avoid these if you intend to support IPv6 with your Python programs.</p> <p>If you use a hostname in the <em>host</em> portion of IPv4/v6 socket address, the program may show a nondeterministic behavior, as Python uses the first address returned from the DNS resolution. The socket address will be resolved differently into an actual IPv4/v6 address, depending on the results from DNS resolution and/or the host configuration. For deterministic behavior use a numeric address in <em>host</em> portion.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.5: </span>AF_NETLINK sockets are represented as pairs <code>pid, groups</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.6: </span>Linux-only support for TIPC is also available using the <code>AF_TIPC</code> address family. TIPC is an open, non-IP based networked protocol designed for use in clustered computer environments. Addresses are represented by a tuple, and the fields depend on the address type. The general tuple form is <code>(addr_type, v1, v2, v3 [, scope])</code>, where:</p> <ul> <li>
<em>addr_type</em> is one of <code>TIPC_ADDR_NAMESEQ</code>, <code>TIPC_ADDR_NAME</code>, or <code>TIPC_ADDR_ID</code>.</li> <li>
<em>scope</em> is one of <code>TIPC_ZONE_SCOPE</code>, <code>TIPC_CLUSTER_SCOPE</code>, and <code>TIPC_NODE_SCOPE</code>.</li> <li>
<p>If <em>addr_type</em> is <code>TIPC_ADDR_NAME</code>, then <em>v1</em> is the server type, <em>v2</em> is the port identifier, and <em>v3</em> should be 0.</p> <p>If <em>addr_type</em> is <code>TIPC_ADDR_NAMESEQ</code>, then <em>v1</em> is the server type, <em>v2</em> is the lower port number, and <em>v3</em> is the upper port number.</p> <p>If <em>addr_type</em> is <code>TIPC_ADDR_ID</code>, then <em>v1</em> is the node, <em>v2</em> is the reference, and <em>v3</em> should be set to 0.</p> </li> </ul> </div> <p>All errors raise exceptions. The normal exceptions for invalid argument types and out-of-memory conditions can be raised; errors related to socket or address semantics raise the error <a class="reference internal" href="#socket.error" title="socket.error"><code>socket.error</code></a>.</p> <p>Non-blocking mode is supported through <a class="reference internal" href="#socket.socket.setblocking" title="socket.socket.setblocking"><code>setblocking()</code></a>. A generalization of this based on timeouts is supported through <a class="reference internal" href="#socket.socket.settimeout" title="socket.socket.settimeout"><code>settimeout()</code></a>.</p> <p>The module <a class="reference internal" href="#module-socket" title="socket: Low-level networking interface."><code>socket</code></a> exports the following constants and functions:</p> <dl class="exception"> <dt id="socket.error">
<code>exception socket.error</code> </dt> <dd>
<p id="index-2">This exception is raised for socket-related errors. The accompanying value is either a string telling what went wrong or a pair <code>(errno, string)</code> representing an error returned by a system call, similar to the value accompanying <a class="reference internal" href="os#os.error" title="os.error"><code>os.error</code></a>. See the module <a class="reference internal" href="errno#module-errno" title="errno: Standard errno system symbols."><code>errno</code></a>, which contains names for the error codes defined by the underlying operating system.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.6: </span><a class="reference internal" href="#socket.error" title="socket.error"><code>socket.error</code></a> is now a child class of <a class="reference internal" href="exceptions#exceptions.IOError" title="exceptions.IOError"><code>IOError</code></a>.</p> </div> </dd>
</dl> <dl class="exception"> <dt id="socket.herror">
<code>exception socket.herror</code> </dt> <dd>
<p>This exception is raised for address-related errors, i.e. for functions that use <em>h_errno</em> in the C API, including <a class="reference internal" href="#socket.gethostbyname_ex" title="socket.gethostbyname_ex"><code>gethostbyname_ex()</code></a> and <a class="reference internal" href="#socket.gethostbyaddr" title="socket.gethostbyaddr"><code>gethostbyaddr()</code></a>.</p> <p>The accompanying value is a pair <code>(h_errno, string)</code> representing an error returned by a library call. <em>string</em> represents the description of <em>h_errno</em>, as returned by the <code>hstrerror()</code> C function.</p> </dd>
</dl> <dl class="exception"> <dt id="socket.gaierror">
<code>exception socket.gaierror</code> </dt> <dd>
<p>This exception is raised for address-related errors, for <a class="reference internal" href="#socket.getaddrinfo" title="socket.getaddrinfo"><code>getaddrinfo()</code></a> and <a class="reference internal" href="#socket.getnameinfo" title="socket.getnameinfo"><code>getnameinfo()</code></a>. The accompanying value is a pair <code>(error, string)</code> representing an error returned by a library call. <em>string</em> represents the description of <em>error</em>, as returned by the <code>gai_strerror()</code> C function. The <em>error</em> value will match one of the <code>EAI_*</code> constants defined in this module.</p> </dd>
</dl> <dl class="exception"> <dt id="socket.timeout">
<code>exception socket.timeout</code> </dt> <dd>
<p>This exception is raised when a timeout occurs on a socket which has had timeouts enabled via a prior call to <code>settimeout()</code>. The accompanying value is a string whose value is currently always “timed out”.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.3.</span></p> </div> </dd>
</dl> <dl class="data"> <dt id="socket.AF_UNIX">
<code>socket.AF_UNIX</code> </dt> <dt id="socket.AF_INET">
<code>socket.AF_INET</code> </dt> <dt id="socket.AF_INET6">
<code>socket.AF_INET6</code> </dt> <dd>
<p>These constants represent the address (and protocol) families, used for the first argument to <a class="reference internal" href="#socket.socket" title="socket.socket"><code>socket()</code></a>. If the <a class="reference internal" href="#socket.AF_UNIX" title="socket.AF_UNIX"><code>AF_UNIX</code></a> constant is not defined then this protocol is unsupported.</p> </dd>
</dl> <dl class="data"> <dt id="socket.SOCK_STREAM">
<code>socket.SOCK_STREAM</code> </dt> <dt id="socket.SOCK_DGRAM">
<code>socket.SOCK_DGRAM</code> </dt> <dt id="socket.SOCK_RAW">
<code>socket.SOCK_RAW</code> </dt> <dt id="socket.SOCK_RDM">
<code>socket.SOCK_RDM</code> </dt> <dt id="socket.SOCK_SEQPACKET">
<code>socket.SOCK_SEQPACKET</code> </dt> <dd>
<p>These constants represent the socket types, used for the second argument to <a class="reference internal" href="#module-socket" title="socket: Low-level networking interface."><code>socket()</code></a>. (Only <a class="reference internal" href="#socket.SOCK_STREAM" title="socket.SOCK_STREAM"><code>SOCK_STREAM</code></a> and <a class="reference internal" href="#socket.SOCK_DGRAM" title="socket.SOCK_DGRAM"><code>SOCK_DGRAM</code></a> appear to be generally useful.)</p> </dd>
</dl> <dl class="data"> <dt>
<code>SO_*</code> </dt> <dt id="socket.SOMAXCONN">
<code>socket.SOMAXCONN</code> </dt> <dt>
<code>MSG_*</code> </dt> <dt>
<code>SOL_*</code> </dt> <dt>
<code>IPPROTO_*</code> </dt> <dt>
<code>IPPORT_*</code> </dt> <dt>
<code>INADDR_*</code> </dt> <dt>
<code>IP_*</code> </dt> <dt>
<code>IPV6_*</code> </dt> <dt>
<code>EAI_*</code> </dt> <dt>
<code>AI_*</code> </dt> <dt>
<code>NI_*</code> </dt> <dt>
<code>TCP_*</code> </dt> <dd>
<p>Many constants of these forms, documented in the Unix documentation on sockets and/or the IP protocol, are also defined in the socket module. They are generally used in arguments to the <code>setsockopt()</code> and <code>getsockopt()</code> methods of socket objects. In most cases, only those symbols that are defined in the Unix header files are defined; for a few symbols, default values are provided.</p> </dd>
</dl> <dl class="data"> <dt>
<code>SIO_*</code> </dt> <dt>
<code>RCVALL_*</code> </dt> <dd>
<p>Constants for Windows’ WSAIoctl(). The constants are used as arguments to the <a class="reference internal" href="#socket.socket.ioctl" title="socket.socket.ioctl"><code>ioctl()</code></a> method of socket objects.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.6.</span></p> </div> </dd>
</dl> <dl class="data"> <dt>
<code>TIPC_*</code> </dt> <dd>
<p>TIPC related constants, matching the ones exported by the C socket API. See the TIPC documentation for more information.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.6.</span></p> </div> </dd>
</dl> <dl class="data"> <dt id="socket.has_ipv6">
<code>socket.has_ipv6</code> </dt> <dd>
<p>This constant contains a boolean value which indicates if IPv6 is supported on this platform.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.3.</span></p> </div> </dd>
</dl> <dl class="function"> <dt id="socket.create_connection">
<code>socket.create_connection(address[, timeout[, source_address]])</code> </dt> <dd>
<p>Connect to a TCP service listening on the Internet <em>address</em> (a 2-tuple <code>(host, port)</code>), and return the socket object. This is a higher-level function than <a class="reference internal" href="#socket.socket.connect" title="socket.socket.connect"><code>socket.connect()</code></a>: if <em>host</em> is a non-numeric hostname, it will try to resolve it for both <a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><code>AF_INET</code></a> and <a class="reference internal" href="#socket.AF_INET6" title="socket.AF_INET6"><code>AF_INET6</code></a>, and then try to connect to all possible addresses in turn until a connection succeeds. This makes it easy to write clients that are compatible to both IPv4 and IPv6.</p> <p>Passing the optional <em>timeout</em> parameter will set the timeout on the socket instance before attempting to connect. If no <em>timeout</em> is supplied, the global default timeout setting returned by <a class="reference internal" href="#socket.getdefaulttimeout" title="socket.getdefaulttimeout"><code>getdefaulttimeout()</code></a> is used.</p> <p>If supplied, <em>source_address</em> must be a 2-tuple <code>(host, port)</code> for the socket to bind to as its source address before connecting. If host or port are ‘’ or 0 respectively the OS default behavior will be used.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.6.</span></p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.7: </span><em>source_address</em> was added.</p> </div> </dd>
</dl> <dl class="function"> <dt id="socket.getaddrinfo">
<code>socket.getaddrinfo(host, port[, family[, socktype[, proto[, flags]]]])</code> </dt> <dd>
<p>Translate the <em>host</em>/<em>port</em> argument into a sequence of 5-tuples that contain all the necessary arguments for creating a socket connected to that service. <em>host</em> is a domain name, a string representation of an IPv4/v6 address or <code>None</code>. <em>port</em> is a string service name such as <code>'http'</code>, a numeric port number or <code>None</code>. By passing <code>None</code> as the value of <em>host</em> and <em>port</em>, you can pass <code>NULL</code> to the underlying C API.</p> <p>The <em>family</em>, <em>socktype</em> and <em>proto</em> arguments can be optionally specified in order to narrow the list of addresses returned. By default, their value is <code>0</code>, meaning that the full range of results is selected. The <em>flags</em> argument can be one or several of the <code>AI_*</code> constants, and will influence how results are computed and returned. Its default value is <code>0</code>. For example, <code>AI_NUMERICHOST</code> will disable domain name resolution and will raise an error if <em>host</em> is a domain name.</p> <p>The function returns a list of 5-tuples with the following structure:</p> <p><code>(family, socktype, proto, canonname, sockaddr)</code></p> <p>In these tuples, <em>family</em>, <em>socktype</em>, <em>proto</em> are all integers and are meant to be passed to the <a class="reference internal" href="#socket.socket" title="socket.socket"><code>socket()</code></a> function. <em>canonname</em> will be a string representing the canonical name of the <em>host</em> if <code>AI_CANONNAME</code> is part of the <em>flags</em> argument; else <em>canonname</em> will be empty. <em>sockaddr</em> is a tuple describing a socket address, whose format depends on the returned <em>family</em> (a <code>(address, port)</code> 2-tuple for <a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><code>AF_INET</code></a>, a <code>(address, port, flow info, scope id)</code> 4-tuple for <a class="reference internal" href="#socket.AF_INET6" title="socket.AF_INET6"><code>AF_INET6</code></a>), and is meant to be passed to the <a class="reference internal" href="#socket.socket.connect" title="socket.socket.connect"><code>socket.connect()</code></a> method.</p> <p>The following example fetches address information for a hypothetical TCP connection to <code>example.org</code> on port 80 (results may differ on your system if IPv6 isn’t enabled):</p> <pre data-language="python">&gt;&gt;&gt; socket.getaddrinfo("example.org", 80, 0, 0, socket.IPPROTO_TCP)
[(10, 1, 6, '', ('2606:2800:220:1:248:1893:25c8:1946', 80, 0, 0)),
 (2, 1, 6, '', ('93.184.216.34', 80))]
</pre> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.2.</span></p> </div> </dd>
</dl> <dl class="function"> <dt id="socket.getfqdn">
<code>socket.getfqdn([name])</code> </dt> <dd>
<p>Return a fully qualified domain name for <em>name</em>. If <em>name</em> is omitted or empty, it is interpreted as the local host. To find the fully qualified name, the hostname returned by <a class="reference internal" href="#socket.gethostbyaddr" title="socket.gethostbyaddr"><code>gethostbyaddr()</code></a> is checked, followed by aliases for the host, if available. The first name which includes a period is selected. In case no fully qualified domain name is available, the hostname as returned by <a class="reference internal" href="#socket.gethostname" title="socket.gethostname"><code>gethostname()</code></a> is returned.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.0.</span></p> </div> </dd>
</dl> <dl class="function"> <dt id="socket.gethostbyname">
<code>socket.gethostbyname(hostname)</code> </dt> <dd>
<p>Translate a host name to IPv4 address format. The IPv4 address is returned as a string, such as <code>'100.50.200.5'</code>. If the host name is an IPv4 address itself it is returned unchanged. See <a class="reference internal" href="#socket.gethostbyname_ex" title="socket.gethostbyname_ex"><code>gethostbyname_ex()</code></a> for a more complete interface. <a class="reference internal" href="#socket.gethostbyname" title="socket.gethostbyname"><code>gethostbyname()</code></a> does not support IPv6 name resolution, and <a class="reference internal" href="#socket.getaddrinfo" title="socket.getaddrinfo"><code>getaddrinfo()</code></a> should be used instead for IPv4/v6 dual stack support.</p> </dd>
</dl> <dl class="function"> <dt id="socket.gethostbyname_ex">
<code>socket.gethostbyname_ex(hostname)</code> </dt> <dd>
<p>Translate a host name to IPv4 address format, extended interface. Return a triple <code>(hostname, aliaslist, ipaddrlist)</code> where <em>hostname</em> is the primary host name responding to the given <em>ip_address</em>, <em>aliaslist</em> is a (possibly empty) list of alternative host names for the same address, and <em>ipaddrlist</em> is a list of IPv4 addresses for the same interface on the same host (often but not always a single address). <a class="reference internal" href="#socket.gethostbyname_ex" title="socket.gethostbyname_ex"><code>gethostbyname_ex()</code></a> does not support IPv6 name resolution, and <a class="reference internal" href="#socket.getaddrinfo" title="socket.getaddrinfo"><code>getaddrinfo()</code></a> should be used instead for IPv4/v6 dual stack support.</p> </dd>
</dl> <dl class="function"> <dt id="socket.gethostname">
<code>socket.gethostname()</code> </dt> <dd>
<p>Return a string containing the hostname of the machine where the Python interpreter is currently executing.</p> <p>If you want to know the current machine’s IP address, you may want to use <code>gethostbyname(gethostname())</code>. This operation assumes that there is a valid address-to-host mapping for the host, and the assumption does not always hold.</p> <p>Note: <a class="reference internal" href="#socket.gethostname" title="socket.gethostname"><code>gethostname()</code></a> doesn’t always return the fully qualified domain name; use <code>getfqdn()</code> (see above).</p> </dd>
</dl> <dl class="function"> <dt id="socket.gethostbyaddr">
<code>socket.gethostbyaddr(ip_address)</code> </dt> <dd>
<p>Return a triple <code>(hostname, aliaslist, ipaddrlist)</code> where <em>hostname</em> is the primary host name responding to the given <em>ip_address</em>, <em>aliaslist</em> is a (possibly empty) list of alternative host names for the same address, and <em>ipaddrlist</em> is a list of IPv4/v6 addresses for the same interface on the same host (most likely containing only a single address). To find the fully qualified domain name, use the function <a class="reference internal" href="#socket.getfqdn" title="socket.getfqdn"><code>getfqdn()</code></a>. <a class="reference internal" href="#socket.gethostbyaddr" title="socket.gethostbyaddr"><code>gethostbyaddr()</code></a> supports both IPv4 and IPv6.</p> </dd>
</dl> <dl class="function"> <dt id="socket.getnameinfo">
<code>socket.getnameinfo(sockaddr, flags)</code> </dt> <dd>
<p>Translate a socket address <em>sockaddr</em> into a 2-tuple <code>(host, port)</code>. Depending on the settings of <em>flags</em>, the result can contain a fully-qualified domain name or numeric address representation in <em>host</em>. Similarly, <em>port</em> can contain a string port name or a numeric port number.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.2.</span></p> </div> </dd>
</dl> <dl class="function"> <dt id="socket.getprotobyname">
<code>socket.getprotobyname(protocolname)</code> </dt> <dd>
<p>Translate an Internet protocol name (for example, <code>'icmp'</code>) to a constant suitable for passing as the (optional) third argument to the <a class="reference internal" href="#socket.socket" title="socket.socket"><code>socket()</code></a> function. This is usually only needed for sockets opened in “raw” mode (<a class="reference internal" href="#socket.SOCK_RAW" title="socket.SOCK_RAW"><code>SOCK_RAW</code></a>); for the normal socket modes, the correct protocol is chosen automatically if the protocol is omitted or zero.</p> </dd>
</dl> <dl class="function"> <dt id="socket.getservbyname">
<code>socket.getservbyname(servicename[, protocolname])</code> </dt> <dd>
<p>Translate an Internet service name and protocol name to a port number for that service. The optional protocol name, if given, should be <code>'tcp'</code> or <code>'udp'</code>, otherwise any protocol will match.</p> </dd>
</dl> <dl class="function"> <dt id="socket.getservbyport">
<code>socket.getservbyport(port[, protocolname])</code> </dt> <dd>
<p>Translate an Internet port number and protocol name to a service name for that service. The optional protocol name, if given, should be <code>'tcp'</code> or <code>'udp'</code>, otherwise any protocol will match.</p> </dd>
</dl> <dl class="function"> <dt id="socket.socket">
<code>socket.socket([family[, type[, proto]]])</code> </dt> <dd>
<p>Create a new socket using the given address family, socket type and protocol number. The address family should be <a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><code>AF_INET</code></a> (the default), <a class="reference internal" href="#socket.AF_INET6" title="socket.AF_INET6"><code>AF_INET6</code></a> or <a class="reference internal" href="#socket.AF_UNIX" title="socket.AF_UNIX"><code>AF_UNIX</code></a>. The socket type should be <a class="reference internal" href="#socket.SOCK_STREAM" title="socket.SOCK_STREAM"><code>SOCK_STREAM</code></a> (the default), <a class="reference internal" href="#socket.SOCK_DGRAM" title="socket.SOCK_DGRAM"><code>SOCK_DGRAM</code></a> or perhaps one of the other <code>SOCK_</code> constants. The protocol number is usually zero and may be omitted in that case.</p> </dd>
</dl> <dl class="function"> <dt id="socket.socketpair">
<code>socket.socketpair([family[, type[, proto]]])</code> </dt> <dd>
<p>Build a pair of connected socket objects using the given address family, socket type, and protocol number. Address family, socket type, and protocol number are as for the <a class="reference internal" href="#socket.socket" title="socket.socket"><code>socket()</code></a> function above. The default family is <a class="reference internal" href="#socket.AF_UNIX" title="socket.AF_UNIX"><code>AF_UNIX</code></a> if defined on the platform; otherwise, the default is <a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><code>AF_INET</code></a>. Availability: Unix.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.4.</span></p> </div> </dd>
</dl> <dl class="function"> <dt id="socket.fromfd">
<code>socket.fromfd(fd, family, type[, proto])</code> </dt> <dd>
<p>Duplicate the file descriptor <em>fd</em> (an integer as returned by a file object’s <code>fileno()</code> method) and build a socket object from the result. Address family, socket type and protocol number are as for the <a class="reference internal" href="#socket.socket" title="socket.socket"><code>socket()</code></a> function above. The file descriptor should refer to a socket, but this is not checked — subsequent operations on the object may fail if the file descriptor is invalid. This function is rarely needed, but can be used to get or set socket options on a socket passed to a program as standard input or output (such as a server started by the Unix inet daemon). The socket is assumed to be in blocking mode. Availability: Unix.</p> </dd>
</dl> <dl class="function"> <dt id="socket.ntohl">
<code>socket.ntohl(x)</code> </dt> <dd>
<p>Convert 32-bit positive integers from network to host byte order. On machines where the host byte order is the same as network byte order, this is a no-op; otherwise, it performs a 4-byte swap operation.</p> </dd>
</dl> <dl class="function"> <dt id="socket.ntohs">
<code>socket.ntohs(x)</code> </dt> <dd>
<p>Convert 16-bit positive integers from network to host byte order. On machines where the host byte order is the same as network byte order, this is a no-op; otherwise, it performs a 2-byte swap operation.</p> </dd>
</dl> <dl class="function"> <dt id="socket.htonl">
<code>socket.htonl(x)</code> </dt> <dd>
<p>Convert 32-bit positive integers from host to network byte order. On machines where the host byte order is the same as network byte order, this is a no-op; otherwise, it performs a 4-byte swap operation.</p> </dd>
</dl> <dl class="function"> <dt id="socket.htons">
<code>socket.htons(x)</code> </dt> <dd>
<p>Convert 16-bit positive integers from host to network byte order. On machines where the host byte order is the same as network byte order, this is a no-op; otherwise, it performs a 2-byte swap operation.</p> </dd>
</dl> <dl class="function"> <dt id="socket.inet_aton">
<code>socket.inet_aton(ip_string)</code> </dt> <dd>
<p>Convert an IPv4 address from dotted-quad string format (for example, ‘123.45.67.89’) to 32-bit packed binary format, as a string four characters in length. This is useful when conversing with a program that uses the standard C library and needs objects of type <code>struct in_addr</code>, which is the C type for the 32-bit packed binary this function returns.</p> <p><a class="reference internal" href="#socket.inet_aton" title="socket.inet_aton"><code>inet_aton()</code></a> also accepts strings with less than three dots; see the Unix manual page <em class="manpage">inet(3)</em> for details.</p> <p>If the IPv4 address string passed to this function is invalid, <a class="reference internal" href="#socket.error" title="socket.error"><code>socket.error</code></a> will be raised. Note that exactly what is valid depends on the underlying C implementation of <code>inet_aton()</code>.</p> <p><a class="reference internal" href="#socket.inet_aton" title="socket.inet_aton"><code>inet_aton()</code></a> does not support IPv6, and <a class="reference internal" href="#socket.inet_pton" title="socket.inet_pton"><code>inet_pton()</code></a> should be used instead for IPv4/v6 dual stack support.</p> </dd>
</dl> <dl class="function"> <dt id="socket.inet_ntoa">
<code>socket.inet_ntoa(packed_ip)</code> </dt> <dd>
<p>Convert a 32-bit packed IPv4 address (a string four characters in length) to its standard dotted-quad string representation (for example, ‘123.45.67.89’). This is useful when conversing with a program that uses the standard C library and needs objects of type <code>struct in_addr</code>, which is the C type for the 32-bit packed binary data this function takes as an argument.</p> <p>If the string passed to this function is not exactly 4 bytes in length, <a class="reference internal" href="#socket.error" title="socket.error"><code>socket.error</code></a> will be raised. <a class="reference internal" href="#socket.inet_ntoa" title="socket.inet_ntoa"><code>inet_ntoa()</code></a> does not support IPv6, and <a class="reference internal" href="#socket.inet_ntop" title="socket.inet_ntop"><code>inet_ntop()</code></a> should be used instead for IPv4/v6 dual stack support.</p> </dd>
</dl> <dl class="function"> <dt id="socket.inet_pton">
<code>socket.inet_pton(address_family, ip_string)</code> </dt> <dd>
<p>Convert an IP address from its family-specific string format to a packed, binary format. <a class="reference internal" href="#socket.inet_pton" title="socket.inet_pton"><code>inet_pton()</code></a> is useful when a library or network protocol calls for an object of type <code>struct in_addr</code> (similar to <a class="reference internal" href="#socket.inet_aton" title="socket.inet_aton"><code>inet_aton()</code></a>) or <code>struct in6_addr</code>.</p> <p>Supported values for <em>address_family</em> are currently <a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><code>AF_INET</code></a> and <a class="reference internal" href="#socket.AF_INET6" title="socket.AF_INET6"><code>AF_INET6</code></a>. If the IP address string <em>ip_string</em> is invalid, <a class="reference internal" href="#socket.error" title="socket.error"><code>socket.error</code></a> will be raised. Note that exactly what is valid depends on both the value of <em>address_family</em> and the underlying implementation of <code>inet_pton()</code>.</p> <p>Availability: Unix (maybe not all platforms).</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.3.</span></p> </div> </dd>
</dl> <dl class="function"> <dt id="socket.inet_ntop">
<code>socket.inet_ntop(address_family, packed_ip)</code> </dt> <dd>
<p>Convert a packed IP address (a string of some number of characters) to its standard, family-specific string representation (for example, <code>'7.10.0.5'</code> or <code>'5aef:2b::8'</code>) <a class="reference internal" href="#socket.inet_ntop" title="socket.inet_ntop"><code>inet_ntop()</code></a> is useful when a library or network protocol returns an object of type <code>struct in_addr</code> (similar to <a class="reference internal" href="#socket.inet_ntoa" title="socket.inet_ntoa"><code>inet_ntoa()</code></a>) or <code>struct in6_addr</code>.</p> <p>Supported values for <em>address_family</em> are currently <a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><code>AF_INET</code></a> and <a class="reference internal" href="#socket.AF_INET6" title="socket.AF_INET6"><code>AF_INET6</code></a>. If the string <em>packed_ip</em> is not the correct length for the specified address family, <a class="reference internal" href="exceptions#exceptions.ValueError" title="exceptions.ValueError"><code>ValueError</code></a> will be raised. A <a class="reference internal" href="#socket.error" title="socket.error"><code>socket.error</code></a> is raised for errors from the call to <a class="reference internal" href="#socket.inet_ntop" title="socket.inet_ntop"><code>inet_ntop()</code></a>.</p> <p>Availability: Unix (maybe not all platforms).</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.3.</span></p> </div> </dd>
</dl> <dl class="function"> <dt id="socket.getdefaulttimeout">
<code>socket.getdefaulttimeout()</code> </dt> <dd>
<p>Return the default timeout in seconds (float) for new socket objects. A value of <code>None</code> indicates that new socket objects have no timeout. When the socket module is first imported, the default is <code>None</code>.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.3.</span></p> </div> </dd>
</dl> <dl class="function"> <dt id="socket.setdefaulttimeout">
<code>socket.setdefaulttimeout(timeout)</code> </dt> <dd>
<p>Set the default timeout in seconds (float) for new socket objects. A value of <code>None</code> indicates that new socket objects have no timeout. When the socket module is first imported, the default is <code>None</code>.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.3.</span></p> </div> </dd>
</dl> <dl class="data"> <dt id="socket.SocketType">
<code>socket.SocketType</code> </dt> <dd>
<p>This is a Python type object that represents the socket object type. It is the same as <code>type(socket(...))</code>.</p> </dd>
</dl> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt>
<code>Module</code> <a class="reference internal" href="socketserver#module-SocketServer" title="SocketServer: A framework for network servers."><code>SocketServer</code></a>
</dt>
<dd>
<p>Classes that simplify writing network servers.</p> </dd> <dt>
<code>Module</code> <a class="reference internal" href="ssl#module-ssl" title="ssl: TLS/SSL wrapper for socket objects"><code>ssl</code></a>
</dt>
<dd>
<p>A TLS/SSL wrapper for socket objects.</p> </dd> </dl> </div>  <h2 id="id1">1. Socket Objects</h2> <p id="socket-objects">Socket objects have the following methods. Except for <code>makefile()</code> these correspond to Unix system calls applicable to sockets.</p> <dl class="method"> <dt id="socket.socket.accept">
<code>socket.accept()</code> </dt> <dd>
<p>Accept a connection. The socket must be bound to an address and listening for connections. The return value is a pair <code>(conn, address)</code> where <em>conn</em> is a <em>new</em> socket object usable to send and receive data on the connection, and <em>address</em> is the address bound to the socket on the other end of the connection.</p> </dd>
</dl> <dl class="method"> <dt id="socket.socket.bind">
<code>socket.bind(address)</code> </dt> <dd>
<p>Bind the socket to <em>address</em>. The socket must not already be bound. (The format of <em>address</em> depends on the address family — see above.)</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This method has historically accepted a pair of parameters for <a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><code>AF_INET</code></a> addresses instead of only a tuple. This was never intentional and is no longer available in Python 2.0 and later.</p> </div> </dd>
</dl> <dl class="method"> <dt id="socket.socket.close">
<code>socket.close()</code> </dt> <dd>
<p>Close the socket. All future operations on the socket object will fail. The remote end will receive no more data (after queued data is flushed). Sockets are automatically closed when they are garbage-collected.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p><a class="reference internal" href="#socket.socket.close" title="socket.socket.close"><code>close()</code></a> releases the resource associated with a connection but does not necessarily close the connection immediately. If you want to close the connection in a timely fashion, call <a class="reference internal" href="#socket.socket.shutdown" title="socket.socket.shutdown"><code>shutdown()</code></a> before <a class="reference internal" href="#socket.socket.close" title="socket.socket.close"><code>close()</code></a>.</p> </div> </dd>
</dl> <dl class="method"> <dt id="socket.socket.connect">
<code>socket.connect(address)</code> </dt> <dd>
<p>Connect to a remote socket at <em>address</em>. (The format of <em>address</em> depends on the address family — see above.)</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This method has historically accepted a pair of parameters for <a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><code>AF_INET</code></a> addresses instead of only a tuple. This was never intentional and is no longer available in Python 2.0 and later.</p> </div> </dd>
</dl> <dl class="method"> <dt id="socket.socket.connect_ex">
<code>socket.connect_ex(address)</code> </dt> <dd>
<p>Like <code>connect(address)</code>, but return an error indicator instead of raising an exception for errors returned by the C-level <code>connect()</code> call (other problems, such as “host not found,” can still raise exceptions). The error indicator is <code>0</code> if the operation succeeded, otherwise the value of the <code>errno</code> variable. This is useful to support, for example, asynchronous connects.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This method has historically accepted a pair of parameters for <a class="reference internal" href="#socket.AF_INET" title="socket.AF_INET"><code>AF_INET</code></a> addresses instead of only a tuple. This was never intentional and is no longer available in Python 2.0 and later.</p> </div> </dd>
</dl> <dl class="method"> <dt id="socket.socket.fileno">
<code>socket.fileno()</code> </dt> <dd>
<p>Return the socket’s file descriptor (a small integer). This is useful with <a class="reference internal" href="select#select.select" title="select.select"><code>select.select()</code></a>.</p> <p>Under Windows the small integer returned by this method cannot be used where a file descriptor can be used (such as <a class="reference internal" href="os#os.fdopen" title="os.fdopen"><code>os.fdopen()</code></a>). Unix does not have this limitation.</p> </dd>
</dl> <dl class="method"> <dt id="socket.socket.getpeername">
<code>socket.getpeername()</code> </dt> <dd>
<p>Return the remote address to which the socket is connected. This is useful to find out the port number of a remote IPv4/v6 socket, for instance. (The format of the address returned depends on the address family — see above.) On some systems this function is not supported.</p> </dd>
</dl> <dl class="method"> <dt id="socket.socket.getsockname">
<code>socket.getsockname()</code> </dt> <dd>
<p>Return the socket’s own address. This is useful to find out the port number of an IPv4/v6 socket, for instance. (The format of the address returned depends on the address family — see above.)</p> </dd>
</dl> <dl class="method"> <dt id="socket.socket.getsockopt">
<code>socket.getsockopt(level, optname[, buflen])</code> </dt> <dd>
<p>Return the value of the given socket option (see the Unix man page <em class="manpage">getsockopt(2)</em>). The needed symbolic constants (<code>SO_*</code> etc.) are defined in this module. If <em>buflen</em> is absent, an integer option is assumed and its integer value is returned by the function. If <em>buflen</em> is present, it specifies the maximum length of the buffer used to receive the option in, and this buffer is returned as a string. It is up to the caller to decode the contents of the buffer (see the optional built-in module <a class="reference internal" href="struct#module-struct" title="struct: Interpret strings as packed binary data."><code>struct</code></a> for a way to decode C structures encoded as strings).</p> </dd>
</dl> <dl class="method"> <dt id="socket.socket.ioctl">
<code>socket.ioctl(control, option)</code> </dt> <dd>
<dl class="field-list simple"> <dt class="field-odd">Platform</dt> <dd class="field-odd">
<p>Windows</p> </dd> </dl> <p>The <a class="reference internal" href="#socket.socket.ioctl" title="socket.socket.ioctl"><code>ioctl()</code></a> method is a limited interface to the WSAIoctl system interface. Please refer to the <a class="reference external" href="https://msdn.microsoft.com/en-us/library/ms741621%28VS.85%29.aspx">Win32 documentation</a> for more information.</p> <p>On other platforms, the generic <a class="reference internal" href="fcntl#fcntl.fcntl" title="fcntl.fcntl"><code>fcntl.fcntl()</code></a> and <a class="reference internal" href="fcntl#fcntl.ioctl" title="fcntl.ioctl"><code>fcntl.ioctl()</code></a> functions may be used; they accept a socket object as their first argument.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.6.</span></p> </div> </dd>
</dl> <dl class="method"> <dt id="socket.socket.listen">
<code>socket.listen(backlog)</code> </dt> <dd>
<p>Listen for connections made to the socket. The <em>backlog</em> argument specifies the maximum number of queued connections and should be at least 0; the maximum value is system-dependent (usually 5), the minimum value is forced to 0.</p> </dd>
</dl> <dl class="method"> <dt id="socket.socket.makefile">
<code>socket.makefile([mode[, bufsize]])</code> </dt> <dd>
<p id="index-3">Return a <em class="dfn">file object</em> associated with the socket. (File objects are described in <a class="reference internal" href="stdtypes#bltin-file-objects"><span class="std std-ref">File Objects</span></a>.) The file object does not close the socket explicitly when its <a class="reference internal" href="#socket.socket.close" title="socket.socket.close"><code>close()</code></a> method is called, but only removes its reference to the socket object, so that the socket will be closed if it is not referenced from anywhere else.</p> <p>The socket must be in blocking mode (it can not have a timeout). The optional <em>mode</em> and <em>bufsize</em> arguments are interpreted the same way as by the built-in <a class="reference internal" href="functions#file" title="file"><code>file()</code></a> function.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>On Windows, the file-like object created by <a class="reference internal" href="#socket.socket.makefile" title="socket.socket.makefile"><code>makefile()</code></a> cannot be used where a file object with a file descriptor is expected, such as the stream arguments of <a class="reference internal" href="subprocess#subprocess.Popen" title="subprocess.Popen"><code>subprocess.Popen()</code></a>.</p> </div> </dd>
</dl> <dl class="method"> <dt id="socket.socket.recv">
<code>socket.recv(bufsize[, flags])</code> </dt> <dd>
<p>Receive data from the socket. The return value is a string representing the data received. The maximum amount of data to be received at once is specified by <em>bufsize</em>. See the Unix manual page <em class="manpage">recv(2)</em> for the meaning of the optional argument <em>flags</em>; it defaults to zero.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>For best match with hardware and network realities, the value of <em>bufsize</em> should be a relatively small power of 2, for example, 4096.</p> </div> </dd>
</dl> <dl class="method"> <dt id="socket.socket.recvfrom">
<code>socket.recvfrom(bufsize[, flags])</code> </dt> <dd>
<p>Receive data from the socket. The return value is a pair <code>(string, address)</code> where <em>string</em> is a string representing the data received and <em>address</em> is the address of the socket sending the data. See the Unix manual page <em class="manpage">recv(2)</em> for the meaning of the optional argument <em>flags</em>; it defaults to zero. (The format of <em>address</em> depends on the address family — see above.)</p> </dd>
</dl> <dl class="method"> <dt id="socket.socket.recvfrom_into">
<code>socket.recvfrom_into(buffer[, nbytes[, flags]])</code> </dt> <dd>
<p>Receive data from the socket, writing it into <em>buffer</em> instead of creating a new string. The return value is a pair <code>(nbytes, address)</code> where <em>nbytes</em> is the number of bytes received and <em>address</em> is the address of the socket sending the data. See the Unix manual page <em class="manpage">recv(2)</em> for the meaning of the optional argument <em>flags</em>; it defaults to zero. (The format of <em>address</em> depends on the address family — see above.)</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.5.</span></p> </div> </dd>
</dl> <dl class="method"> <dt id="socket.socket.recv_into">
<code>socket.recv_into(buffer[, nbytes[, flags]])</code> </dt> <dd>
<p>Receive up to <em>nbytes</em> bytes from the socket, storing the data into a buffer rather than creating a new string. If <em>nbytes</em> is not specified (or 0), receive up to the size available in the given buffer. Returns the number of bytes received. See the Unix manual page <em class="manpage">recv(2)</em> for the meaning of the optional argument <em>flags</em>; it defaults to zero.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.5.</span></p> </div> </dd>
</dl> <dl class="method"> <dt id="socket.socket.send">
<code>socket.send(string[, flags])</code> </dt> <dd>
<p>Send data to the socket. The socket must be connected to a remote socket. The optional <em>flags</em> argument has the same meaning as for <a class="reference internal" href="#socket.socket.recv" title="socket.socket.recv"><code>recv()</code></a> above. Returns the number of bytes sent. Applications are responsible for checking that all data has been sent; if only some of the data was transmitted, the application needs to attempt delivery of the remaining data. For further information on this concept, consult the <a class="reference internal" href="https://docs.python.org/2.7/howto/sockets.html#socket-howto"><span class="std std-ref">Socket Programming HOWTO</span></a>.</p> </dd>
</dl> <dl class="method"> <dt id="socket.socket.sendall">
<code>socket.sendall(string[, flags])</code> </dt> <dd>
<p>Send data to the socket. The socket must be connected to a remote socket. The optional <em>flags</em> argument has the same meaning as for <a class="reference internal" href="#socket.socket.recv" title="socket.socket.recv"><code>recv()</code></a> above. Unlike <a class="reference internal" href="#socket.socket.send" title="socket.socket.send"><code>send()</code></a>, this method continues to send data from <em>string</em> until either all data has been sent or an error occurs. <code>None</code> is returned on success. On error, an exception is raised, and there is no way to determine how much data, if any, was successfully sent.</p> </dd>
</dl> <dl class="method"> <dt id="socket.socket.sendto">
<code>socket.sendto(string, address)</code> </dt> <dt>
<code>socket.sendto(string, flags, address)</code> </dt> <dd>
<p>Send data to the socket. The socket should not be connected to a remote socket, since the destination socket is specified by <em>address</em>. The optional <em>flags</em> argument has the same meaning as for <a class="reference internal" href="#socket.socket.recv" title="socket.socket.recv"><code>recv()</code></a> above. Return the number of bytes sent. (The format of <em>address</em> depends on the address family — see above.)</p> </dd>
</dl> <dl class="method"> <dt id="socket.socket.setblocking">
<code>socket.setblocking(flag)</code> </dt> <dd>
<p>Set blocking or non-blocking mode of the socket: if <em>flag</em> is 0, the socket is set to non-blocking, else to blocking mode. Initially all sockets are in blocking mode. In non-blocking mode, if a <a class="reference internal" href="#socket.socket.recv" title="socket.socket.recv"><code>recv()</code></a> call doesn’t find any data, or if a <a class="reference internal" href="#socket.socket.send" title="socket.socket.send"><code>send()</code></a> call can’t immediately dispose of the data, an <a class="reference internal" href="#socket.error" title="socket.error"><code>error</code></a> exception is raised; in blocking mode, the calls block until they can proceed. <code>s.setblocking(0)</code> is equivalent to <code>s.settimeout(0.0)</code>; <code>s.setblocking(1)</code> is equivalent to <code>s.settimeout(None)</code>.</p> </dd>
</dl> <dl class="method"> <dt id="socket.socket.settimeout">
<code>socket.settimeout(value)</code> </dt> <dd>
<p>Set a timeout on blocking socket operations. The <em>value</em> argument can be a nonnegative float expressing seconds, or <code>None</code>. If a float is given, subsequent socket operations will raise a <a class="reference internal" href="#socket.timeout" title="socket.timeout"><code>timeout</code></a> exception if the timeout period <em>value</em> has elapsed before the operation has completed. Setting a timeout of <code>None</code> disables timeouts on socket operations. <code>s.settimeout(0.0)</code> is equivalent to <code>s.setblocking(0)</code>; <code>s.settimeout(None)</code> is equivalent to <code>s.setblocking(1)</code>.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.3.</span></p> </div> </dd>
</dl> <dl class="method"> <dt id="socket.socket.gettimeout">
<code>socket.gettimeout()</code> </dt> <dd>
<p>Return the timeout in seconds (float) associated with socket operations, or <code>None</code> if no timeout is set. This reflects the last call to <a class="reference internal" href="#socket.socket.setblocking" title="socket.socket.setblocking"><code>setblocking()</code></a> or <a class="reference internal" href="#socket.socket.settimeout" title="socket.socket.settimeout"><code>settimeout()</code></a>.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.3.</span></p> </div> </dd>
</dl> <p>Some notes on socket blocking and timeouts: A socket object can be in one of three modes: blocking, non-blocking, or timeout. Sockets are always created in blocking mode. In blocking mode, operations block until complete or the system returns an error (such as connection timed out). In non-blocking mode, operations fail (with an error that is unfortunately system-dependent) if they cannot be completed immediately. In timeout mode, operations fail if they cannot be completed within the timeout specified for the socket or if the system returns an error. The <a class="reference internal" href="#socket.socket.setblocking" title="socket.socket.setblocking"><code>setblocking()</code></a> method is simply a shorthand for certain <a class="reference internal" href="#socket.socket.settimeout" title="socket.socket.settimeout"><code>settimeout()</code></a> calls.</p> <p>Timeout mode internally sets the socket in non-blocking mode. The blocking and timeout modes are shared between file descriptors and socket objects that refer to the same network endpoint. A consequence of this is that file objects returned by the <a class="reference internal" href="#socket.socket.makefile" title="socket.socket.makefile"><code>makefile()</code></a> method must only be used when the socket is in blocking mode; in timeout or non-blocking mode file operations that cannot be completed immediately will fail.</p> <p>Note that the <a class="reference internal" href="#socket.socket.connect" title="socket.socket.connect"><code>connect()</code></a> operation is subject to the timeout setting, and in general it is recommended to call <a class="reference internal" href="#socket.socket.settimeout" title="socket.socket.settimeout"><code>settimeout()</code></a> before calling <a class="reference internal" href="#socket.socket.connect" title="socket.socket.connect"><code>connect()</code></a> or pass a timeout parameter to <a class="reference internal" href="#socket.create_connection" title="socket.create_connection"><code>create_connection()</code></a>. The system network stack may return a connection timeout error of its own regardless of any Python socket timeout setting.</p> <dl class="method"> <dt id="socket.socket.setsockopt">
<code>socket.setsockopt(level, optname, value)</code> </dt> <dd>
<p id="index-4">Set the value of the given socket option (see the Unix manual page <em class="manpage">setsockopt(2)</em>). The needed symbolic constants are defined in the <a class="reference internal" href="#module-socket" title="socket: Low-level networking interface."><code>socket</code></a> module (<code>SO_*</code> etc.). The value can be an integer or a string representing a buffer. In the latter case it is up to the caller to ensure that the string contains the proper bits (see the optional built-in module <a class="reference internal" href="struct#module-struct" title="struct: Interpret strings as packed binary data."><code>struct</code></a> for a way to encode C structures as strings).</p> </dd>
</dl> <dl class="method"> <dt id="socket.socket.shutdown">
<code>socket.shutdown(how)</code> </dt> <dd>
<p>Shut down one or both halves of the connection. If <em>how</em> is <code>SHUT_RD</code>, further receives are disallowed. If <em>how</em> is <code>SHUT_WR</code>, further sends are disallowed. If <em>how</em> is <code>SHUT_RDWR</code>, further sends and receives are disallowed. Depending on the platform, shutting down one half of the connection can also close the opposite half (e.g. on Mac OS X, <code>shutdown(SHUT_WR)</code> does not allow further reads on the other end of the connection).</p> </dd>
</dl> <p>Note that there are no methods <code>read()</code> or <code>write()</code>; use <a class="reference internal" href="#socket.socket.recv" title="socket.socket.recv"><code>recv()</code></a> and <a class="reference internal" href="#socket.socket.send" title="socket.socket.send"><code>send()</code></a> without <em>flags</em> argument instead.</p> <p>Socket objects also have these (read-only) attributes that correspond to the values given to the <a class="reference internal" href="#socket.socket" title="socket.socket"><code>socket</code></a> constructor.</p> <dl class="attribute"> <dt id="socket.socket.family">
<code>socket.family</code> </dt> <dd>
<p>The socket family.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.5.</span></p> </div> </dd>
</dl> <dl class="attribute"> <dt id="socket.socket.type">
<code>socket.type</code> </dt> <dd>
<p>The socket type.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.5.</span></p> </div> </dd>
</dl> <dl class="attribute"> <dt id="socket.socket.proto">
<code>socket.proto</code> </dt> <dd>
<p>The socket protocol.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.5.</span></p> </div> </dd>
</dl>   <h2 id="socket-example">2. Example</h2> <p id="example">Here are four minimal example programs using the TCP/IP protocol: a server that echoes all data that it receives back (servicing only one client), and a client using it. Note that a server must perform the sequence <a class="reference internal" href="#socket.socket" title="socket.socket"><code>socket()</code></a>, <a class="reference internal" href="#socket.socket.bind" title="socket.socket.bind"><code>bind()</code></a>, <a class="reference internal" href="#socket.socket.listen" title="socket.socket.listen"><code>listen()</code></a>, <a class="reference internal" href="#socket.socket.accept" title="socket.socket.accept"><code>accept()</code></a> (possibly repeating the <a class="reference internal" href="#socket.socket.accept" title="socket.socket.accept"><code>accept()</code></a> to service more than one client), while a client only needs the sequence <a class="reference internal" href="#socket.socket" title="socket.socket"><code>socket()</code></a>, <a class="reference internal" href="#socket.socket.connect" title="socket.socket.connect"><code>connect()</code></a>. Also note that the server does not <a class="reference internal" href="#socket.socket.sendall" title="socket.socket.sendall"><code>sendall()</code></a>/<a class="reference internal" href="#socket.socket.recv" title="socket.socket.recv"><code>recv()</code></a> on the socket it is listening on but on the new socket returned by <a class="reference internal" href="#socket.socket.accept" title="socket.socket.accept"><code>accept()</code></a>.</p> <p>The first two examples support IPv4 only.</p> <pre data-language="python"># Echo server program
import socket

HOST = ''                 # Symbolic name meaning all available interfaces
PORT = 50007              # Arbitrary non-privileged port
s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.bind((HOST, PORT))
s.listen(1)
conn, addr = s.accept()
print 'Connected by', addr
while 1:
    data = conn.recv(1024)
    if not data: break
    conn.sendall(data)
conn.close()
</pre> <pre data-language="python"># Echo client program
import socket

HOST = 'daring.cwi.nl'    # The remote host
PORT = 50007              # The same port as used by the server
s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.connect((HOST, PORT))
s.sendall('Hello, world')
data = s.recv(1024)
s.close()
print 'Received', repr(data)
</pre> <p>The next two examples are identical to the above two, but support both IPv4 and IPv6. The server side will listen to the first address family available (it should listen to both instead). On most of IPv6-ready systems, IPv6 will take precedence and the server may not accept IPv4 traffic. The client side will try to connect to the all addresses returned as a result of the name resolution, and sends traffic to the first one connected successfully.</p> <pre data-language="python"># Echo server program
import socket
import sys

HOST = None               # Symbolic name meaning all available interfaces
PORT = 50007              # Arbitrary non-privileged port
s = None
for res in socket.getaddrinfo(HOST, PORT, socket.AF_UNSPEC,
                              socket.SOCK_STREAM, 0, socket.AI_PASSIVE):
    af, socktype, proto, canonname, sa = res
    try:
        s = socket.socket(af, socktype, proto)
    except socket.error as msg:
        s = None
        continue
    try:
        s.bind(sa)
        s.listen(1)
    except socket.error as msg:
        s.close()
        s = None
        continue
    break
if s is None:
    print 'could not open socket'
    sys.exit(1)
conn, addr = s.accept()
print 'Connected by', addr
while 1:
    data = conn.recv(1024)
    if not data: break
    conn.send(data)
conn.close()
</pre> <pre data-language="python"># Echo client program
import socket
import sys

HOST = 'daring.cwi.nl'    # The remote host
PORT = 50007              # The same port as used by the server
s = None
for res in socket.getaddrinfo(HOST, PORT, socket.AF_UNSPEC, socket.SOCK_STREAM):
    af, socktype, proto, canonname, sa = res
    try:
        s = socket.socket(af, socktype, proto)
    except socket.error as msg:
        s = None
        continue
    try:
        s.connect(sa)
    except socket.error as msg:
        s.close()
        s = None
        continue
    break
if s is None:
    print 'could not open socket'
    sys.exit(1)
s.sendall('Hello, world')
data = s.recv(1024)
s.close()
print 'Received', repr(data)
</pre> <p>The last example shows how to write a very simple network sniffer with raw sockets on Windows. The example requires administrator privileges to modify the interface:</p> <pre data-language="python">import socket

# the public network interface
HOST = socket.gethostbyname(socket.gethostname())

# create a raw socket and bind it to the public interface
s = socket.socket(socket.AF_INET, socket.SOCK_RAW, socket.IPPROTO_IP)
s.bind((HOST, 0))

# Include IP headers
s.setsockopt(socket.IPPROTO_IP, socket.IP_HDRINCL, 1)

# receive all packages
s.ioctl(socket.SIO_RCVALL, socket.RCVALL_ON)

# receive a package
print s.recvfrom(65565)

# disabled promiscuous mode
s.ioctl(socket.SIO_RCVALL, socket.RCVALL_OFF)
</pre> <p>Running an example several times with too small delay between executions, could lead to this error:</p> <pre data-language="python">socket.error: [Errno 98] Address already in use
</pre> <p>This is because the previous execution has left the socket in a <code>TIME_WAIT</code> state, and can’t be immediately reused.</p> <p>There is a <a class="reference internal" href="#module-socket" title="socket: Low-level networking interface."><code>socket</code></a> flag to set, in order to prevent this, <code>socket.SO_REUSEADDR</code>:</p> <pre data-language="python">s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
s.bind((HOST, PORT))
</pre> <p>the <code>SO_REUSEADDR</code> flag tells the kernel to reuse a local socket in <code>TIME_WAIT</code> state, without waiting for its natural timeout to expire.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2001–2020 Python Software Foundation<br>Licensed under the PSF License.<br>
    <a href="https://docs.python.org/2.7/library/socket.html" class="_attribution-link">https://docs.python.org/2.7/library/socket.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
