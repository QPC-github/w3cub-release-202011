
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Urllib - Python 2.7 - W3cubDocs</title>
  
  <meta name="description" content=" Note ">
  <meta name="keywords" content="urllib, —, open, arbitrary, resources, url, python, python~2.7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/python~2.7/library/urllib.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/python~2.7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/python~2.7/" class="_nav-link" title="" style="margin-left:0;">Python 2.7</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _python">
				
				
<h1 id="urllib-open-arbitrary-resources-by-url"> urllib — Open arbitrary resources by URL</h1> <div class="admonition note" id="module-urllib"> <p class="admonition-title">Note</p> <p>The <a class="reference internal" href="#module-urllib" title="urllib: Open an arbitrary network resource by URL (requires sockets)."><code>urllib</code></a> module has been split into parts and renamed in Python 3 to <code>urllib.request</code>, <code>urllib.parse</code>, and <code>urllib.error</code>. The <a class="reference internal" href="https://docs.python.org/2.7/glossary.html#term-2to3"><span class="xref std std-term">2to3</span></a> tool will automatically adapt imports when converting your sources to Python 3. Also note that the <code>urllib.request.urlopen()</code> function in Python 3 is equivalent to <a class="reference internal" href="urllib2#urllib2.urlopen" title="urllib2.urlopen"><code>urllib2.urlopen()</code></a> and that <a class="reference internal" href="#urllib.urlopen" title="urllib.urlopen"><code>urllib.urlopen()</code></a> has been removed.</p> </div> <p id="index-0">This module provides a high-level interface for fetching data across the World Wide Web. In particular, the <a class="reference internal" href="#urllib.urlopen" title="urllib.urlopen"><code>urlopen()</code></a> function is similar to the built-in function <a class="reference internal" href="functions#open" title="open"><code>open()</code></a>, but accepts Universal Resource Locators (URLs) instead of filenames. Some restrictions apply — it can only open URLs for reading, and no seek operations are available.</p> <div class="admonition seealso"> <p class="admonition-title">See also</p> <p>The <a class="reference external" href="http://docs.python-requests.org/">Requests package</a> is recommended for a higher-level HTTP client interface.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.7.9: </span>For HTTPS URIs, <a class="reference internal" href="#module-urllib" title="urllib: Open an arbitrary network resource by URL (requires sockets)."><code>urllib</code></a> performs all the neccessary certificate and hostname checks by default.</p> </div> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>For Python versions earlier than 2.7.9, urllib does not attempt to validate the server certificates of HTTPS URIs. Use at your own risk!</p> </div>  <h2 id="high-level-interface">1. High-level interface</h2> <dl class="function"> <dt id="urllib.urlopen">
<code>urllib.urlopen(url[, data[, proxies[, context]]])</code> </dt> <dd>
<p>Open a network object denoted by a URL for reading. If the URL does not have a scheme identifier, or if it has <code>file:</code> as its scheme identifier, this opens a local file (without <a class="reference internal" href="https://docs.python.org/2.7/glossary.html#term-universal-newlines"><span class="xref std std-term">universal newlines</span></a>); otherwise it opens a socket to a server somewhere on the network. If the connection cannot be made the <a class="reference internal" href="exceptions#exceptions.IOError" title="exceptions.IOError"><code>IOError</code></a> exception is raised. If all went well, a file-like object is returned. This supports the following methods: <code>read()</code>, <a class="reference internal" href="readline#module-readline" title="readline: GNU readline support for Python. (Unix)"><code>readline()</code></a>, <code>readlines()</code>, <code>fileno()</code>, <code>close()</code>, <code>info()</code>, <code>getcode()</code> and <code>geturl()</code>. It also has proper support for the <a class="reference internal" href="https://docs.python.org/2.7/glossary.html#term-iterator"><span class="xref std std-term">iterator</span></a> protocol. One caveat: the <code>read()</code> method, if the size argument is omitted or negative, may not read until the end of the data stream; there is no good way to determine that the entire stream from a socket has been read in the general case.</p> <p>Except for the <code>info()</code>, <code>getcode()</code> and <code>geturl()</code> methods, these methods have the same interface as for file objects — see section <a class="reference internal" href="stdtypes#bltin-file-objects"><span class="std std-ref">File Objects</span></a> in this manual. (It is not a built-in file object, however, so it can’t be used at those few places where a true built-in file object is required.)</p> <p id="index-1">The <code>info()</code> method returns an instance of the class <a class="reference internal" href="mimetools#mimetools.Message" title="mimetools.Message"><code>mimetools.Message</code></a> containing meta-information associated with the URL. When the method is HTTP, these headers are those returned by the server at the head of the retrieved HTML page (including Content-Length and Content-Type). When the method is FTP, a Content-Length header will be present if (as is now usual) the server passed back a file length in response to the FTP retrieval request. A Content-Type header will be present if the MIME type can be guessed. When the method is local-file, returned headers will include a Date representing the file’s last-modified time, a Content-Length giving file size, and a Content-Type containing a guess at the file’s type. See also the description of the <a class="reference internal" href="mimetools#module-mimetools" title="mimetools: Tools for parsing MIME-style message bodies. (deprecated)"><code>mimetools</code></a> module.</p> <p>The <code>geturl()</code> method returns the real URL of the page. In some cases, the HTTP server redirects a client to another URL. The <a class="reference internal" href="#urllib.urlopen" title="urllib.urlopen"><code>urlopen()</code></a> function handles this transparently, but in some cases the caller needs to know which URL the client was redirected to. The <code>geturl()</code> method can be used to get at this redirected URL.</p> <p>The <code>getcode()</code> method returns the HTTP status code that was sent with the response, or <code>None</code> if the URL is no HTTP URL.</p> <p>If the <em>url</em> uses the <code>http:</code> scheme identifier, the optional <em>data</em> argument may be given to specify a <code>POST</code> request (normally the request type is <code>GET</code>). The <em>data</em> argument must be in standard <em class="mimetype">application/x-www-form-urlencoded</em> format; see the <a class="reference internal" href="#urllib.urlencode" title="urllib.urlencode"><code>urlencode()</code></a> function below.</p> <p>The <a class="reference internal" href="#urllib.urlopen" title="urllib.urlopen"><code>urlopen()</code></a> function works transparently with proxies which do not require authentication. In a Unix or Windows environment, set the <code id="index-2">http_proxy</code>, or <code id="index-3">ftp_proxy</code> environment variables to a URL that identifies the proxy server before starting the Python interpreter. For example (the <code>'%'</code> is the command prompt):</p> <pre data-language="python">% http_proxy="http://www.someproxy.com:3128"
% export http_proxy
% python
...
</pre> <p>The <code id="index-4">no_proxy</code> environment variable can be used to specify hosts which shouldn’t be reached via proxy; if set, it should be a comma-separated list of hostname suffixes, optionally with <code>:port</code> appended, for example <code>cern.ch,ncsa.uiuc.edu,some.host:8080</code>.</p> <p>In a Windows environment, if no proxy environment variables are set, proxy settings are obtained from the registry’s Internet Settings section.</p> <p id="index-5">In a Mac OS X environment, <a class="reference internal" href="#urllib.urlopen" title="urllib.urlopen"><code>urlopen()</code></a> will retrieve proxy information from the OS X System Configuration Framework, which can be managed with Network System Preferences panel.</p> <p>Alternatively, the optional <em>proxies</em> argument may be used to explicitly specify proxies. It must be a dictionary mapping scheme names to proxy URLs, where an empty dictionary causes no proxies to be used, and <code>None</code> (the default value) causes environmental proxy settings to be used as discussed above. For example:</p> <pre data-language="python"># Use http://www.someproxy.com:3128 for HTTP proxying
proxies = {'http': 'http://www.someproxy.com:3128'}
filehandle = urllib.urlopen(some_url, proxies=proxies)
# Don't use any proxies
filehandle = urllib.urlopen(some_url, proxies={})
# Use proxies from environment - both versions are equivalent
filehandle = urllib.urlopen(some_url, proxies=None)
filehandle = urllib.urlopen(some_url)
</pre> <p>Proxies which require authentication for use are not currently supported; this is considered an implementation limitation.</p> <p>The <em>context</em> parameter may be set to a <a class="reference internal" href="ssl#ssl.SSLContext" title="ssl.SSLContext"><code>ssl.SSLContext</code></a> instance to configure the SSL settings that are used if <a class="reference internal" href="#urllib.urlopen" title="urllib.urlopen"><code>urlopen()</code></a> makes a HTTPS connection.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.3: </span>Added the <em>proxies</em> support.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.6: </span>Added <code>getcode()</code> to returned object and support for the <code id="index-6">no_proxy</code> environment variable.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.7.9: </span>The <em>context</em> parameter was added. All the neccessary certificate and hostname checks are done by default.</p> </div> <div class="deprecated"> <p><span class="versionmodified deprecated">Deprecated since version 2.6: </span>The <a class="reference internal" href="#urllib.urlopen" title="urllib.urlopen"><code>urlopen()</code></a> function has been removed in Python 3 in favor of <a class="reference internal" href="urllib2#urllib2.urlopen" title="urllib2.urlopen"><code>urllib2.urlopen()</code></a>.</p> </div> </dd>
</dl> <dl class="function"> <dt id="urllib.urlretrieve">
<code>urllib.urlretrieve(url[, filename[, reporthook[, data[, context]]]])</code> </dt> <dd>
<p>Copy a network object denoted by a URL to a local file, if necessary. If the URL points to a local file, or a valid cached copy of the object exists, the object is not copied. Return a tuple <code>(filename, headers)</code> where <em>filename</em> is the local file name under which the object can be found, and <em>headers</em> is whatever the <code>info()</code> method of the object returned by <a class="reference internal" href="#urllib.urlopen" title="urllib.urlopen"><code>urlopen()</code></a> returned (for a remote object, possibly cached). Exceptions are the same as for <a class="reference internal" href="#urllib.urlopen" title="urllib.urlopen"><code>urlopen()</code></a>.</p> <p>The second argument, if present, specifies the file location to copy to (if absent, the location will be a tempfile with a generated name). The third argument, if present, is a callable that will be called once on establishment of the network connection and once after each block read thereafter. The callable will be passed three arguments; a count of blocks transferred so far, a block size in bytes, and the total size of the file. The third argument may be <code>-1</code> on older FTP servers which do not return a file size in response to a retrieval request.</p> <p>If the <em>url</em> uses the <code>http:</code> scheme identifier, the optional <em>data</em> argument may be given to specify a <code>POST</code> request (normally the request type is <code>GET</code>). The <em>data</em> argument must in standard <em class="mimetype">application/x-www-form-urlencoded</em> format; see the <a class="reference internal" href="#urllib.urlencode" title="urllib.urlencode"><code>urlencode()</code></a> function below.</p> <p>The <em>context</em> parameter may be set to a <a class="reference internal" href="ssl#ssl.SSLContext" title="ssl.SSLContext"><code>ssl.SSLContext</code></a> instance to configure the SSL settings that are used if <a class="reference internal" href="#urllib.urlretrieve" title="urllib.urlretrieve"><code>urlretrieve()</code></a> makes a HTTPS connection.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.5: </span><a class="reference internal" href="#urllib.urlretrieve" title="urllib.urlretrieve"><code>urlretrieve()</code></a> will raise <a class="reference internal" href="#urllib.ContentTooShortError" title="urllib.ContentTooShortError"><code>ContentTooShortError</code></a> when it detects that the amount of data available was less than the expected amount (which is the size reported by a <em>Content-Length</em> header). This can occur, for example, when the download is interrupted.</p> <p>The <em>Content-Length</em> is treated as a lower bound: if there’s more data to read, <a class="reference internal" href="#urllib.urlretrieve" title="urllib.urlretrieve"><code>urlretrieve()</code></a> reads more data, but if less data is available, it raises the exception.</p> <p>You can still retrieve the downloaded data in this case, it is stored in the <code>content</code> attribute of the exception instance.</p> <p>If no <em>Content-Length</em> header was supplied, <a class="reference internal" href="#urllib.urlretrieve" title="urllib.urlretrieve"><code>urlretrieve()</code></a> can not check the size of the data it has downloaded, and just returns it. In this case you just have to assume that the download was successful.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.7.9: </span>The <em>context</em> parameter was added. All the neccessary certificate and hostname checks are done by default.</p> </div> </dd>
</dl> <dl class="data"> <dt id="urllib._urlopener">
<code>urllib._urlopener</code> </dt> <dd>
<p>The public functions <a class="reference internal" href="#urllib.urlopen" title="urllib.urlopen"><code>urlopen()</code></a> and <a class="reference internal" href="#urllib.urlretrieve" title="urllib.urlretrieve"><code>urlretrieve()</code></a> create an instance of the <a class="reference internal" href="#urllib.FancyURLopener" title="urllib.FancyURLopener"><code>FancyURLopener</code></a> class and use it to perform their requested actions. To override this functionality, programmers can create a subclass of <a class="reference internal" href="#urllib.URLopener" title="urllib.URLopener"><code>URLopener</code></a> or <a class="reference internal" href="#urllib.FancyURLopener" title="urllib.FancyURLopener"><code>FancyURLopener</code></a>, then assign an instance of that class to the <code>urllib._urlopener</code> variable before calling the desired function. For example, applications may want to specify a different <em class="mailheader">User-Agent</em> header than <a class="reference internal" href="#urllib.URLopener" title="urllib.URLopener"><code>URLopener</code></a> defines. This can be accomplished with the following code:</p> <pre data-language="python">import urllib

class AppURLopener(urllib.FancyURLopener):
    version = "App/1.7"

urllib._urlopener = AppURLopener()
</pre> </dd>
</dl> <dl class="function"> <dt id="urllib.urlcleanup">
<code>urllib.urlcleanup()</code> </dt> <dd>
<p>Clear the cache that may have been built up by previous calls to <a class="reference internal" href="#urllib.urlretrieve" title="urllib.urlretrieve"><code>urlretrieve()</code></a>.</p> </dd>
</dl>   <h2 id="utility-functions">2. Utility functions</h2> <dl class="function"> <dt id="urllib.quote">
<code>urllib.quote(string[, safe])</code> </dt> <dd>
<p>Replace special characters in <em>string</em> using the <code>%xx</code> escape. Letters, digits, and the characters <code>'_.-'</code> are never quoted. By default, this function is intended for quoting the path section of the URL. The optional <em>safe</em> parameter specifies additional characters that should not be quoted — its default value is <code>'/'</code>.</p> <p>Example: <code>quote('/~connolly/')</code> yields <code>'/%7econnolly/'</code>.</p> </dd>
</dl> <dl class="function"> <dt id="urllib.quote_plus">
<code>urllib.quote_plus(string[, safe])</code> </dt> <dd>
<p>Like <a class="reference internal" href="#urllib.quote" title="urllib.quote"><code>quote()</code></a>, but also replaces spaces by plus signs, as required for quoting HTML form values when building up a query string to go into a URL. Plus signs in the original string are escaped unless they are included in <em>safe</em>. It also does not have <em>safe</em> default to <code>'/'</code>.</p> </dd>
</dl> <dl class="function"> <dt id="urllib.unquote">
<code>urllib.unquote(string)</code> </dt> <dd>
<p>Replace <code>%xx</code> escapes by their single-character equivalent.</p> <p>Example: <code>unquote('/%7Econnolly/')</code> yields <code>'/~connolly/'</code>.</p> </dd>
</dl> <dl class="function"> <dt id="urllib.unquote_plus">
<code>urllib.unquote_plus(string)</code> </dt> <dd>
<p>Like <a class="reference internal" href="#urllib.unquote" title="urllib.unquote"><code>unquote()</code></a>, but also replaces plus signs by spaces, as required for unquoting HTML form values.</p> </dd>
</dl> <dl class="function"> <dt id="urllib.urlencode">
<code>urllib.urlencode(query[, doseq])</code> </dt> <dd>
<p>Convert a mapping object or a sequence of two-element tuples to a “percent-encoded” string, suitable to pass to <a class="reference internal" href="#urllib.urlopen" title="urllib.urlopen"><code>urlopen()</code></a> above as the optional <em>data</em> argument. This is useful to pass a dictionary of form fields to a <code>POST</code> request. The resulting string is a series of <code>key=value</code> pairs separated by <code>'&amp;'</code> characters, where both <em>key</em> and <em>value</em> are quoted using <a class="reference internal" href="#urllib.quote_plus" title="urllib.quote_plus"><code>quote_plus()</code></a> above. When a sequence of two-element tuples is used as the <em>query</em> argument, the first element of each tuple is a key and the second is a value. The value element in itself can be a sequence and in that case, if the optional parameter <em>doseq</em> is evaluates to <code>True</code>, individual <code>key=value</code> pairs separated by <code>'&amp;'</code> are generated for each element of the value sequence for the key. The order of parameters in the encoded string will match the order of parameter tuples in the sequence. The <a class="reference internal" href="urlparse#module-urlparse" title="urlparse: Parse URLs into or assemble them from components."><code>urlparse</code></a> module provides the functions <code>parse_qs()</code> and <code>parse_qsl()</code> which are used to parse query strings into Python data structures.</p> </dd>
</dl> <dl class="function"> <dt id="urllib.pathname2url">
<code>urllib.pathname2url(path)</code> </dt> <dd>
<p>Convert the pathname <em>path</em> from the local syntax for a path to the form used in the path component of a URL. This does not produce a complete URL. The return value will already be quoted using the <a class="reference internal" href="#urllib.quote" title="urllib.quote"><code>quote()</code></a> function.</p> </dd>
</dl> <dl class="function"> <dt id="urllib.url2pathname">
<code>urllib.url2pathname(path)</code> </dt> <dd>
<p>Convert the path component <em>path</em> from a percent-encoded URL to the local syntax for a path. This does not accept a complete URL. This function uses <a class="reference internal" href="#urllib.unquote" title="urllib.unquote"><code>unquote()</code></a> to decode <em>path</em>.</p> </dd>
</dl> <dl class="function"> <dt id="urllib.getproxies">
<code>urllib.getproxies()</code> </dt> <dd>
<p>This helper function returns a dictionary of scheme to proxy server URL mappings. It scans the environment for variables named <code>&lt;scheme&gt;_proxy</code>, in case insensitive way, for all operating systems first, and when it cannot find it, looks for proxy information from Mac OSX System Configuration for Mac OS X and Windows Systems Registry for Windows. If both lowercase and uppercase environment variables exist (and disagree), lowercase is preferred.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>If the environment variable <code>REQUEST_METHOD</code> is set, which usually indicates your script is running in a CGI environment, the environment variable <code>HTTP_PROXY</code> (uppercase <code>_PROXY</code>) will be ignored. This is because that variable can be injected by a client using the “Proxy:” HTTP header. If you need to use an HTTP proxy in a CGI environment, either use <code>ProxyHandler</code> explicitly, or make sure the variable name is in lowercase (or at least the <code>_proxy</code> suffix).</p> </div> </dd>
</dl> <div class="admonition note"> <p class="admonition-title">Note</p> <p>urllib also exposes certain utility functions like splittype, splithost and others parsing URL into various components. But it is recommended to use <a class="reference internal" href="urlparse#module-urlparse" title="urlparse: Parse URLs into or assemble them from components."><code>urlparse</code></a> for parsing URLs rather than using these functions directly. Python 3 does not expose these helper functions from <code>urllib.parse</code> module.</p> </div>   <h2 id="url-opener-objects">3. URL Opener objects</h2> <dl class="class"> <dt id="urllib.URLopener">
<code>class urllib.URLopener([proxies[, context[, **x509]]])</code> </dt> <dd>
<p>Base class for opening and reading URLs. Unless you need to support opening objects using schemes other than <code>http:</code>, <code>ftp:</code>, or <code>file:</code>, you probably want to use <a class="reference internal" href="#urllib.FancyURLopener" title="urllib.FancyURLopener"><code>FancyURLopener</code></a>.</p> <p>By default, the <a class="reference internal" href="#urllib.URLopener" title="urllib.URLopener"><code>URLopener</code></a> class sends a <em class="mailheader">User-Agent</em> header of <code>urllib/VVV</code>, where <em>VVV</em> is the <a class="reference internal" href="#module-urllib" title="urllib: Open an arbitrary network resource by URL (requires sockets)."><code>urllib</code></a> version number. Applications can define their own <em class="mailheader">User-Agent</em> header by subclassing <a class="reference internal" href="#urllib.URLopener" title="urllib.URLopener"><code>URLopener</code></a> or <a class="reference internal" href="#urllib.FancyURLopener" title="urllib.FancyURLopener"><code>FancyURLopener</code></a> and setting the class attribute <a class="reference internal" href="#urllib.URLopener.version" title="urllib.URLopener.version"><code>version</code></a> to an appropriate string value in the subclass definition.</p> <p>The optional <em>proxies</em> parameter should be a dictionary mapping scheme names to proxy URLs, where an empty dictionary turns proxies off completely. Its default value is <code>None</code>, in which case environmental proxy settings will be used if present, as discussed in the definition of <a class="reference internal" href="#urllib.urlopen" title="urllib.urlopen"><code>urlopen()</code></a>, above.</p> <p>The <em>context</em> parameter may be a <a class="reference internal" href="ssl#ssl.SSLContext" title="ssl.SSLContext"><code>ssl.SSLContext</code></a> instance. If given, it defines the SSL settings the opener uses to make HTTPS connections.</p> <p>Additional keyword parameters, collected in <em>x509</em>, may be used for authentication of the client when using the <code>https:</code> scheme. The keywords <em>key_file</em> and <em>cert_file</em> are supported to provide an SSL key and certificate; both are needed to support client authentication.</p> <p><a class="reference internal" href="#urllib.URLopener" title="urllib.URLopener"><code>URLopener</code></a> objects will raise an <a class="reference internal" href="exceptions#exceptions.IOError" title="exceptions.IOError"><code>IOError</code></a> exception if the server returns an error code.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.7.9: </span>The <em>context</em> parameter was added. All the neccessary certificate and hostname checks are done by default.</p> </div> <dl class="method"> <dt id="urllib.URLopener.open">
<code>open(fullurl[, data])</code> </dt> <dd>
<p>Open <em>fullurl</em> using the appropriate protocol. This method sets up cache and proxy information, then calls the appropriate open method with its input arguments. If the scheme is not recognized, <a class="reference internal" href="#urllib.URLopener.open_unknown" title="urllib.URLopener.open_unknown"><code>open_unknown()</code></a> is called. The <em>data</em> argument has the same meaning as the <em>data</em> argument of <a class="reference internal" href="#urllib.urlopen" title="urllib.urlopen"><code>urlopen()</code></a>.</p> </dd>
</dl> <dl class="method"> <dt id="urllib.URLopener.open_unknown">
<code>open_unknown(fullurl[, data])</code> </dt> <dd>
<p>Overridable interface to open unknown URL types.</p> </dd>
</dl> <dl class="method"> <dt id="urllib.URLopener.retrieve">
<code>retrieve(url[, filename[, reporthook[, data]]])</code> </dt> <dd>
<p>Retrieves the contents of <em>url</em> and places it in <em>filename</em>. The return value is a tuple consisting of a local filename and either a <a class="reference internal" href="mimetools#mimetools.Message" title="mimetools.Message"><code>mimetools.Message</code></a> object containing the response headers (for remote URLs) or <code>None</code> (for local URLs). The caller must then open and read the contents of <em>filename</em>. If <em>filename</em> is not given and the URL refers to a local file, the input filename is returned. If the URL is non-local and <em>filename</em> is not given, the filename is the output of <a class="reference internal" href="tempfile#tempfile.mktemp" title="tempfile.mktemp"><code>tempfile.mktemp()</code></a> with a suffix that matches the suffix of the last path component of the input URL. If <em>reporthook</em> is given, it must be a function accepting three numeric parameters. It will be called after each chunk of data is read from the network. <em>reporthook</em> is ignored for local URLs.</p> <p>If the <em>url</em> uses the <code>http:</code> scheme identifier, the optional <em>data</em> argument may be given to specify a <code>POST</code> request (normally the request type is <code>GET</code>). The <em>data</em> argument must in standard <em class="mimetype">application/x-www-form-urlencoded</em> format; see the <a class="reference internal" href="#urllib.urlencode" title="urllib.urlencode"><code>urlencode()</code></a> function below.</p> </dd>
</dl> <dl class="attribute"> <dt id="urllib.URLopener.version">
<code>version</code> </dt> <dd>
<p>Variable that specifies the user agent of the opener object. To get <a class="reference internal" href="#module-urllib" title="urllib: Open an arbitrary network resource by URL (requires sockets)."><code>urllib</code></a> to tell servers that it is a particular user agent, set this in a subclass as a class variable or in the constructor before calling the base constructor.</p> </dd>
</dl> </dd>
</dl> <dl class="class"> <dt id="urllib.FancyURLopener">
<code>class urllib.FancyURLopener(...)</code> </dt> <dd>
<p><a class="reference internal" href="#urllib.FancyURLopener" title="urllib.FancyURLopener"><code>FancyURLopener</code></a> subclasses <a class="reference internal" href="#urllib.URLopener" title="urllib.URLopener"><code>URLopener</code></a> providing default handling for the following HTTP response codes: 301, 302, 303, 307 and 401. For the 30x response codes listed above, the <em class="mailheader">Location</em> header is used to fetch the actual URL. For 401 response codes (authentication required), basic HTTP authentication is performed. For the 30x response codes, recursion is bounded by the value of the <em>maxtries</em> attribute, which defaults to 10.</p> <p>For all other response codes, the method <code>http_error_default()</code> is called which you can override in subclasses to handle the error appropriately.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>According to the letter of <a class="rfc reference external" href="https://tools.ietf.org/html/rfc2616.html" id="index-7"><strong>RFC 2616</strong></a>, 301 and 302 responses to POST requests must not be automatically redirected without confirmation by the user. In reality, browsers do allow automatic redirection of these responses, changing the POST to a GET, and <a class="reference internal" href="#module-urllib" title="urllib: Open an arbitrary network resource by URL (requires sockets)."><code>urllib</code></a> reproduces this behaviour.</p> </div> <p>The parameters to the constructor are the same as those for <a class="reference internal" href="#urllib.URLopener" title="urllib.URLopener"><code>URLopener</code></a>.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>When performing basic authentication, a <a class="reference internal" href="#urllib.FancyURLopener" title="urllib.FancyURLopener"><code>FancyURLopener</code></a> instance calls its <a class="reference internal" href="#urllib.FancyURLopener.prompt_user_passwd" title="urllib.FancyURLopener.prompt_user_passwd"><code>prompt_user_passwd()</code></a> method. The default implementation asks the users for the required information on the controlling terminal. A subclass may override this method to support more appropriate behavior if needed.</p> </div> <p>The <a class="reference internal" href="#urllib.FancyURLopener" title="urllib.FancyURLopener"><code>FancyURLopener</code></a> class offers one additional method that should be overloaded to provide the appropriate behavior:</p> <dl class="method"> <dt id="urllib.FancyURLopener.prompt_user_passwd">
<code>prompt_user_passwd(host, realm)</code> </dt> <dd>
<p>Return information needed to authenticate the user at the given host in the specified security realm. The return value should be a tuple, <code>(user,
password)</code>, which can be used for basic authentication.</p> <p>The implementation prompts for this information on the terminal; an application should override this method to use an appropriate interaction model in the local environment.</p> </dd>
</dl> </dd>
</dl> <dl class="exception"> <dt id="urllib.ContentTooShortError">
<code>exception urllib.ContentTooShortError(msg[, content])</code> </dt> <dd>
<p>This exception is raised when the <a class="reference internal" href="#urllib.urlretrieve" title="urllib.urlretrieve"><code>urlretrieve()</code></a> function detects that the amount of the downloaded data is less than the expected amount (given by the <em>Content-Length</em> header). The <code>content</code> attribute stores the downloaded (and supposedly truncated) data.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.5.</span></p> </div> </dd>
</dl>   <h2 id="urllib-restrictions">4. urllib Restrictions</h2>   <ul id="index-8"> <li>Currently, only the following protocols are supported: HTTP, (versions 0.9 and 1.0), FTP, and local files.</li> <li>The caching feature of <a class="reference internal" href="#urllib.urlretrieve" title="urllib.urlretrieve"><code>urlretrieve()</code></a> has been disabled until I find the time to hack proper processing of Expiration time headers.</li> <li>There should be a function to query whether a particular URL is in the cache.</li> <li>For backward compatibility, if a URL appears to point to a local file but the file can’t be opened, the URL is re-interpreted using the FTP protocol. This can sometimes cause confusing error messages.</li> <li>The <a class="reference internal" href="#urllib.urlopen" title="urllib.urlopen"><code>urlopen()</code></a> and <a class="reference internal" href="#urllib.urlretrieve" title="urllib.urlretrieve"><code>urlretrieve()</code></a> functions can cause arbitrarily long delays while waiting for a network connection to be set up. This means that it is difficult to build an interactive Web client using these functions without using threads. </li> <li id="index-9">The data returned by <a class="reference internal" href="#urllib.urlopen" title="urllib.urlopen"><code>urlopen()</code></a> or <a class="reference internal" href="#urllib.urlretrieve" title="urllib.urlretrieve"><code>urlretrieve()</code></a> is the raw data returned by the server. This may be binary data (such as an image), plain text or (for example) HTML. The HTTP protocol provides type information in the reply header, which can be inspected by looking at the <em class="mailheader">Content-Type</em> header. If the returned data is HTML, you can use the module <a class="reference internal" href="htmllib#module-htmllib" title="htmllib: A parser for HTML documents. (deprecated)"><code>htmllib</code></a> to parse it. </li> <li id="index-10">The code handling the FTP protocol cannot differentiate between a file and a directory. This can lead to unexpected behavior when attempting to read a URL that points to a file that is not accessible. If the URL ends in a <code>/</code>, it is assumed to refer to a directory and will be handled accordingly. But if an attempt to read a file leads to a 550 error (meaning the URL cannot be found or is not accessible, often for permission reasons), then the path is treated as a directory in order to handle the case when a directory is specified by a URL but the trailing <code>/</code> has been left off. This can cause misleading results when you try to fetch a file whose read permissions make it inaccessible; the FTP code will try to read it, fail with a 550 error, and then perform a directory listing for the unreadable file. If fine-grained control is needed, consider using the <a class="reference internal" href="ftplib#module-ftplib" title="ftplib: FTP protocol client (requires sockets)."><code>ftplib</code></a> module, subclassing <a class="reference internal" href="#urllib.FancyURLopener" title="urllib.FancyURLopener"><code>FancyURLopener</code></a>, or changing <em>_urlopener</em> to meet your needs.</li> <li>This module does not support the use of proxies which require authentication. This may be implemented in the future. </li> <li id="index-11">Although the <a class="reference internal" href="#module-urllib" title="urllib: Open an arbitrary network resource by URL (requires sockets)."><code>urllib</code></a> module contains (undocumented) routines to parse and unparse URL strings, the recommended interface for URL manipulation is in module <a class="reference internal" href="urlparse#module-urlparse" title="urlparse: Parse URLs into or assemble them from components."><code>urlparse</code></a>.</li> </ul>   <h2 id="urllib-examples">5. Examples</h2> <p id="examples">Here is an example session that uses the <code>GET</code> method to retrieve a URL containing parameters:</p> <pre data-language="python">&gt;&gt;&gt; import urllib
&gt;&gt;&gt; params = urllib.urlencode({'spam': 1, 'eggs': 2, 'bacon': 0})
&gt;&gt;&gt; f = urllib.urlopen("http://www.musi-cal.com/cgi-bin/query?%s" % params)
&gt;&gt;&gt; print f.read()
</pre> <p>The following example uses the <code>POST</code> method instead:</p> <pre data-language="python">&gt;&gt;&gt; import urllib
&gt;&gt;&gt; params = urllib.urlencode({'spam': 1, 'eggs': 2, 'bacon': 0})
&gt;&gt;&gt; f = urllib.urlopen("http://www.musi-cal.com/cgi-bin/query", params)
&gt;&gt;&gt; print f.read()
</pre> <p>The following example uses an explicitly specified HTTP proxy, overriding environment settings:</p> <pre data-language="python">&gt;&gt;&gt; import urllib
&gt;&gt;&gt; proxies = {'http': 'http://proxy.example.com:8080/'}
&gt;&gt;&gt; opener = urllib.FancyURLopener(proxies)
&gt;&gt;&gt; f = opener.open("http://www.python.org")
&gt;&gt;&gt; f.read()
</pre> <p>The following example uses no proxies at all, overriding environment settings:</p> <pre data-language="python">&gt;&gt;&gt; import urllib
&gt;&gt;&gt; opener = urllib.FancyURLopener({})
&gt;&gt;&gt; f = opener.open("http://www.python.org/")
&gt;&gt;&gt; f.read()
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © 2001–2020 Python Software Foundation<br>Licensed under the PSF License.<br>
    <a href="https://docs.python.org/2.7/library/urllib.html" class="_attribution-link">https://docs.python.org/2.7/library/urllib.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
