
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Subprocess - Python 2.7 - W3cubDocs</title>
  
  <meta name="description" content=" New in version 2.4. ">
  <meta name="keywords" content="subprocess, —, management, python, python~2.7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/python~2.7/library/subprocess.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/python~2.7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/python~2.7/" class="_nav-link" title="" style="margin-left:0;">Python 2.7</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _python">
				
				
<h1 id="subprocess-subprocess-management"> subprocess — Subprocess management</h1> <div class="versionadded" id="module-subprocess"> <p><span class="versionmodified added">New in version 2.4.</span></p> </div> <p>The <a class="reference internal" href="#module-subprocess" title="subprocess: Subprocess management."><code>subprocess</code></a> module allows you to spawn new processes, connect to their input/output/error pipes, and obtain their return codes. This module intends to replace several older modules and functions:</p> <pre data-language="python">os.system
os.spawn*
os.popen*
popen2.*
commands.*
</pre> <p>Information about how this module can be used to replace the older functions can be found in the <a class="reference internal" href="#subprocess-replacements">subprocess-replacements</a> section.</p> <div class="admonition seealso"> <p class="admonition-title">See also</p> <p>POSIX users (Linux, BSD, etc.) are strongly encouraged to install and use the much more recent <a class="reference external" href="https://pypi.org/project/subprocess32/">subprocess32</a> module instead of the version included with python 2.7. It is a drop in replacement with better behavior in many situations.</p> <p><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0324" id="index-0"><strong>PEP 324</strong></a> – PEP proposing the subprocess module</p> </div>  <h2 id="using-the-subprocess-module">1. Using the subprocess Module</h2> <p>The recommended way to launch subprocesses is to use the following convenience functions. For more advanced use cases when these do not meet your needs, use the underlying <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>Popen</code></a> interface.</p> <dl class="function"> <dt id="subprocess.call">
<code>subprocess.call(args, *, stdin=None, stdout=None, stderr=None, shell=False)</code> </dt> <dd>
<p>Run the command described by <em>args</em>. Wait for command to complete, then return the <code>returncode</code> attribute.</p> <p>The arguments shown above are merely the most common ones, described below in <a class="reference internal" href="#frequently-used-arguments"><span class="std std-ref">Frequently Used Arguments</span></a> (hence the slightly odd notation in the abbreviated signature). The full function signature is the same as that of the <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>Popen</code></a> constructor - this functions passes all supplied arguments directly through to that interface.</p> <p>Examples:</p> <pre data-language="python">&gt;&gt;&gt; subprocess.call(["ls", "-l"])
0

&gt;&gt;&gt; subprocess.call("exit 1", shell=True)
1
</pre> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>Using <code>shell=True</code> can be a security hazard. See the warning under <a class="reference internal" href="#frequently-used-arguments"><span class="std std-ref">Frequently Used Arguments</span></a> for details.</p> </div> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Do not use <code>stdout=PIPE</code> or <code>stderr=PIPE</code> with this function as that can deadlock based on the child process output volume. Use <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>Popen</code></a> with the <code>communicate()</code> method when you need pipes.</p> </div> </dd>
</dl> <dl class="function"> <dt id="subprocess.check_call">
<code>subprocess.check_call(args, *, stdin=None, stdout=None, stderr=None, shell=False)</code> </dt> <dd>
<p>Run command with arguments. Wait for command to complete. If the return code was zero then return, otherwise raise <a class="reference internal" href="#subprocess.CalledProcessError" title="subprocess.CalledProcessError"><code>CalledProcessError</code></a>. The <a class="reference internal" href="#subprocess.CalledProcessError" title="subprocess.CalledProcessError"><code>CalledProcessError</code></a> object will have the return code in the <a class="reference internal" href="#subprocess.CalledProcessError.returncode" title="subprocess.CalledProcessError.returncode"><code>returncode</code></a> attribute.</p> <p>The arguments shown above are merely the most common ones, described below in <a class="reference internal" href="#frequently-used-arguments"><span class="std std-ref">Frequently Used Arguments</span></a> (hence the slightly odd notation in the abbreviated signature). The full function signature is the same as that of the <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>Popen</code></a> constructor - this functions passes all supplied arguments directly through to that interface.</p> <p>Examples:</p> <pre data-language="python">&gt;&gt;&gt; subprocess.check_call(["ls", "-l"])
0

&gt;&gt;&gt; subprocess.check_call("exit 1", shell=True)
Traceback (most recent call last):
   ...
subprocess.CalledProcessError: Command 'exit 1' returned non-zero exit status 1
</pre> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.5.</span></p> </div> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>Using <code>shell=True</code> can be a security hazard. See the warning under <a class="reference internal" href="#frequently-used-arguments"><span class="std std-ref">Frequently Used Arguments</span></a> for details.</p> </div> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Do not use <code>stdout=PIPE</code> or <code>stderr=PIPE</code> with this function as that can deadlock based on the child process output volume. Use <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>Popen</code></a> with the <code>communicate()</code> method when you need pipes.</p> </div> </dd>
</dl> <dl class="function"> <dt id="subprocess.check_output">
<code>subprocess.check_output(args, *, stdin=None, stderr=None, shell=False, universal_newlines=False)</code> </dt> <dd>
<p>Run command with arguments and return its output as a byte string.</p> <p>If the return code was non-zero it raises a <a class="reference internal" href="#subprocess.CalledProcessError" title="subprocess.CalledProcessError"><code>CalledProcessError</code></a>. The <a class="reference internal" href="#subprocess.CalledProcessError" title="subprocess.CalledProcessError"><code>CalledProcessError</code></a> object will have the return code in the <a class="reference internal" href="#subprocess.CalledProcessError.returncode" title="subprocess.CalledProcessError.returncode"><code>returncode</code></a> attribute and any output in the <a class="reference internal" href="#subprocess.CalledProcessError.output" title="subprocess.CalledProcessError.output"><code>output</code></a> attribute.</p> <p>The arguments shown above are merely the most common ones, described below in <a class="reference internal" href="#frequently-used-arguments"><span class="std std-ref">Frequently Used Arguments</span></a> (hence the slightly odd notation in the abbreviated signature). The full function signature is largely the same as that of the <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>Popen</code></a> constructor, except that <em>stdout</em> is not permitted as it is used internally. All other supplied arguments are passed directly through to the <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>Popen</code></a> constructor.</p> <p>Examples:</p> <pre data-language="python">&gt;&gt;&gt; subprocess.check_output(["echo", "Hello World!"])
'Hello World!\n'

&gt;&gt;&gt; subprocess.check_output("exit 1", shell=True)
Traceback (most recent call last):
   ...
subprocess.CalledProcessError: Command 'exit 1' returned non-zero exit status 1
</pre> <p>To also capture standard error in the result, use <code>stderr=subprocess.STDOUT</code>:</p> <pre data-language="python">&gt;&gt;&gt; subprocess.check_output(
...     "ls non_existent_file; exit 0",
...     stderr=subprocess.STDOUT,
...     shell=True)
'ls: non_existent_file: No such file or directory\n'
</pre> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.7.</span></p> </div> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>Using <code>shell=True</code> can be a security hazard. See the warning under <a class="reference internal" href="#frequently-used-arguments"><span class="std std-ref">Frequently Used Arguments</span></a> for details.</p> </div> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Do not use <code>stderr=PIPE</code> with this function as that can deadlock based on the child process error volume. Use <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>Popen</code></a> with the <code>communicate()</code> method when you need a stderr pipe.</p> </div> </dd>
</dl> <dl class="data"> <dt id="subprocess.PIPE">
<code>subprocess.PIPE</code> </dt> <dd>
<p>Special value that can be used as the <em>stdin</em>, <em>stdout</em> or <em>stderr</em> argument to <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>Popen</code></a> and indicates that a pipe to the standard stream should be opened.</p> </dd>
</dl> <dl class="data"> <dt id="subprocess.STDOUT">
<code>subprocess.STDOUT</code> </dt> <dd>
<p>Special value that can be used as the <em>stderr</em> argument to <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>Popen</code></a> and indicates that standard error should go into the same handle as standard output.</p> </dd>
</dl> <dl class="exception"> <dt id="subprocess.CalledProcessError">
<code>exception subprocess.CalledProcessError</code> </dt> <dd>
<p>Exception raised when a process run by <a class="reference internal" href="#subprocess.check_call" title="subprocess.check_call"><code>check_call()</code></a> or <a class="reference internal" href="#subprocess.check_output" title="subprocess.check_output"><code>check_output()</code></a> returns a non-zero exit status.</p> <dl class="attribute"> <dt id="subprocess.CalledProcessError.returncode">
<code>returncode</code> </dt> <dd>
<p>Exit status of the child process.</p> </dd>
</dl> <dl class="attribute"> <dt id="subprocess.CalledProcessError.cmd">
<code>cmd</code> </dt> <dd>
<p>Command that was used to spawn the child process.</p> </dd>
</dl> <dl class="attribute"> <dt id="subprocess.CalledProcessError.output">
<code>output</code> </dt> <dd>
<p>Output of the child process if this exception is raised by <a class="reference internal" href="#subprocess.check_output" title="subprocess.check_output"><code>check_output()</code></a>. Otherwise, <code>None</code>.</p> </dd>
</dl> </dd>
</dl>  <h3 id="id1">1.1. Frequently Used Arguments</h3> <p id="frequently-used-arguments">To support a wide variety of use cases, the <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>Popen</code></a> constructor (and the convenience functions) accept a large number of optional arguments. For most typical use cases, many of these arguments can be safely left at their default values. The arguments that are most commonly needed are:</p>  <p><em>args</em> is required for all calls and should be a string, or a sequence of program arguments. Providing a sequence of arguments is generally preferred, as it allows the module to take care of any required escaping and quoting of arguments (e.g. to permit spaces in file names). If passing a single string, either <em>shell</em> must be <a class="reference internal" href="constants#True" title="True"><code>True</code></a> (see below) or else the string must simply name the program to be executed without specifying any arguments.</p> <p><em>stdin</em>, <em>stdout</em> and <em>stderr</em> specify the executed program’s standard input, standard output and standard error file handles, respectively. Valid values are <a class="reference internal" href="#subprocess.PIPE" title="subprocess.PIPE"><code>PIPE</code></a>, an existing file descriptor (a positive integer), an existing file object, and <code>None</code>. <a class="reference internal" href="#subprocess.PIPE" title="subprocess.PIPE"><code>PIPE</code></a> indicates that a new pipe to the child should be created. With the default settings of <code>None</code>, no redirection will occur; the child’s file handles will be inherited from the parent. Additionally, <em>stderr</em> can be <a class="reference internal" href="#subprocess.STDOUT" title="subprocess.STDOUT"><code>STDOUT</code></a>, which indicates that the stderr data from the child process should be captured into the same file handle as for stdout.</p> <p id="index-1">When <em>stdout</em> or <em>stderr</em> are pipes and <em>universal_newlines</em> is <code>True</code> then all line endings will be converted to <code>'\n'</code> as described for the <a class="reference internal" href="https://docs.python.org/2.7/glossary.html#term-universal-newlines"><span class="xref std std-term">universal newlines</span></a> <code>'U'</code> mode argument to <a class="reference internal" href="functions#open" title="open"><code>open()</code></a>.</p> <p>If <em>shell</em> is <code>True</code>, the specified command will be executed through the shell. This can be useful if you are using Python primarily for the enhanced control flow it offers over most system shells and still want convenient access to other shell features such as shell pipes, filename wildcards, environment variable expansion, and expansion of <code>~</code> to a user’s home directory. However, note that Python itself offers implementations of many shell-like features (in particular, <a class="reference internal" href="glob#module-glob" title="glob: Unix shell style pathname pattern expansion."><code>glob</code></a>, <a class="reference internal" href="fnmatch#module-fnmatch" title="fnmatch: Unix shell style filename pattern matching."><code>fnmatch</code></a>, <a class="reference internal" href="os#os.walk" title="os.walk"><code>os.walk()</code></a>, <a class="reference internal" href="os.path#os.path.expandvars" title="os.path.expandvars"><code>os.path.expandvars()</code></a>, <a class="reference internal" href="os.path#os.path.expanduser" title="os.path.expanduser"><code>os.path.expanduser()</code></a>, and <a class="reference internal" href="shutil#module-shutil" title="shutil: High-level file operations, including copying."><code>shutil</code></a>).</p> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>Executing shell commands that incorporate unsanitized input from an untrusted source makes a program vulnerable to <a class="reference external" href="http://en.wikipedia.org/wiki/Shell_injection#Shell_injection">shell injection</a>, a serious security flaw which can result in arbitrary command execution. For this reason, the use of <code>shell=True</code> is <strong>strongly discouraged</strong> in cases where the command string is constructed from external input:</p> <pre data-language="python">&gt;&gt;&gt; from subprocess import call
&gt;&gt;&gt; filename = input("What file would you like to display?\n")
What file would you like to display?
non_existent; rm -rf / #
&gt;&gt;&gt; call("cat " + filename, shell=True) # Uh-oh. This will end badly...
</pre> <p><code>shell=False</code> disables all shell based features, but does not suffer from this vulnerability; see the Note in the <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>Popen</code></a> constructor documentation for helpful hints in getting <code>shell=False</code> to work.</p> <p>When using <code>shell=True</code>, <a class="reference internal" href="pipes#pipes.quote" title="pipes.quote"><code>pipes.quote()</code></a> can be used to properly escape whitespace and shell metacharacters in strings that are going to be used to construct shell commands.</p> </div>  <p>These options, along with all of the other options, are described in more detail in the <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>Popen</code></a> constructor documentation.</p>   <h3 id="popen-constructor">1.2. Popen Constructor</h3> <p>The underlying process creation and management in this module is handled by the <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>Popen</code></a> class. It offers a lot of flexibility so that developers are able to handle the less common cases not covered by the convenience functions.</p> <dl class="class"> <dt id="subprocess.Popen">
<code>class subprocess.Popen(args, bufsize=0, executable=None, stdin=None, stdout=None, stderr=None, preexec_fn=None, close_fds=False, shell=False, cwd=None, env=None, universal_newlines=False, startupinfo=None, creationflags=0)</code> </dt> <dd>
<p>Execute a child program in a new process. On Unix, the class uses <a class="reference internal" href="os#os.execvp" title="os.execvp"><code>os.execvp()</code></a>-like behavior to execute the child program. On Windows, the class uses the Windows <code>CreateProcess()</code> function. The arguments to <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>Popen</code></a> are as follows.</p> <p><em>args</em> should be a sequence of program arguments or else a single string. By default, the program to execute is the first item in <em>args</em> if <em>args</em> is a sequence. If <em>args</em> is a string, the interpretation is platform-dependent and described below. See the <em>shell</em> and <em>executable</em> arguments for additional differences from the default behavior. Unless otherwise stated, it is recommended to pass <em>args</em> as a sequence.</p> <p>On Unix, if <em>args</em> is a string, the string is interpreted as the name or path of the program to execute. However, this can only be done if not passing arguments to the program.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p><a class="reference internal" href="shlex#shlex.split" title="shlex.split"><code>shlex.split()</code></a> can be useful when determining the correct tokenization for <em>args</em>, especially in complex cases:</p> <pre data-language="python">&gt;&gt;&gt; import shlex, subprocess
&gt;&gt;&gt; command_line = raw_input()
/bin/vikings -input eggs.txt -output "spam spam.txt" -cmd "echo '$MONEY'"
&gt;&gt;&gt; args = shlex.split(command_line)
&gt;&gt;&gt; print args
['/bin/vikings', '-input', 'eggs.txt', '-output', 'spam spam.txt', '-cmd', "echo '$MONEY'"]
&gt;&gt;&gt; p = subprocess.Popen(args) # Success!
</pre> <p>Note in particular that options (such as <em>-input</em>) and arguments (such as <em>eggs.txt</em>) that are separated by whitespace in the shell go in separate list elements, while arguments that need quoting or backslash escaping when used in the shell (such as filenames containing spaces or the <em>echo</em> command shown above) are single list elements.</p> </div> <p>On Windows, if <em>args</em> is a sequence, it will be converted to a string in a manner described in <a class="reference internal" href="#converting-argument-sequence"><span class="std std-ref">Converting an argument sequence to a string on Windows</span></a>. This is because the underlying <code>CreateProcess()</code> operates on strings.</p> <p>The <em>shell</em> argument (which defaults to <code>False</code>) specifies whether to use the shell as the program to execute. If <em>shell</em> is <code>True</code>, it is recommended to pass <em>args</em> as a string rather than as a sequence.</p> <p>On Unix with <code>shell=True</code>, the shell defaults to <code>/bin/sh</code>. If <em>args</em> is a string, the string specifies the command to execute through the shell. This means that the string must be formatted exactly as it would be when typed at the shell prompt. This includes, for example, quoting or backslash escaping filenames with spaces in them. If <em>args</em> is a sequence, the first item specifies the command string, and any additional items will be treated as additional arguments to the shell itself. That is to say, <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>Popen</code></a> does the equivalent of:</p> <pre data-language="python">Popen(['/bin/sh', '-c', args[0], args[1], ...])
</pre> <p>On Windows with <code>shell=True</code>, the <code id="index-2">COMSPEC</code> environment variable specifies the default shell. The only time you need to specify <code>shell=True</code> on Windows is when the command you wish to execute is built into the shell (e.g. <strong class="command">dir</strong> or <strong class="command">copy</strong>). You do not need <code>shell=True</code> to run a batch file or console-based executable.</p> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>Passing <code>shell=True</code> can be a security hazard if combined with untrusted input. See the warning under <a class="reference internal" href="#frequently-used-arguments"><span class="std std-ref">Frequently Used Arguments</span></a> for details.</p> </div> <p><em>bufsize</em>, if given, has the same meaning as the corresponding argument to the built-in open() function: <code>0</code> means unbuffered, <code>1</code> means line buffered, any other positive value means use a buffer of (approximately) that size. A negative <em>bufsize</em> means to use the system default, which usually means fully buffered. The default value for <em>bufsize</em> is <code>0</code> (unbuffered).</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>If you experience performance issues, it is recommended that you try to enable buffering by setting <em>bufsize</em> to either -1 or a large enough positive value (such as 4096).</p> </div> <p>The <em>executable</em> argument specifies a replacement program to execute. It is very seldom needed. When <code>shell=False</code>, <em>executable</em> replaces the program to execute specified by <em>args</em>. However, the original <em>args</em> is still passed to the program. Most programs treat the program specified by <em>args</em> as the command name, which can then be different from the program actually executed. On Unix, the <em>args</em> name becomes the display name for the executable in utilities such as <strong class="program">ps</strong>. If <code>shell=True</code>, on Unix the <em>executable</em> argument specifies a replacement shell for the default <code>/bin/sh</code>.</p> <p><em>stdin</em>, <em>stdout</em> and <em>stderr</em> specify the executed program’s standard input, standard output and standard error file handles, respectively. Valid values are <a class="reference internal" href="#subprocess.PIPE" title="subprocess.PIPE"><code>PIPE</code></a>, an existing file descriptor (a positive integer), an existing file object, and <code>None</code>. <a class="reference internal" href="#subprocess.PIPE" title="subprocess.PIPE"><code>PIPE</code></a> indicates that a new pipe to the child should be created. With the default settings of <code>None</code>, no redirection will occur; the child’s file handles will be inherited from the parent. Additionally, <em>stderr</em> can be <a class="reference internal" href="#subprocess.STDOUT" title="subprocess.STDOUT"><code>STDOUT</code></a>, which indicates that the stderr data from the child process should be captured into the same file handle as for stdout.</p> <p>If <em>preexec_fn</em> is set to a callable object, this object will be called in the child process just before the child is executed. (Unix only)</p> <p>If <em>close_fds</em> is true, all file descriptors except <code>0</code>, <code>1</code> and <code>2</code> will be closed before the child process is executed. (Unix only). Or, on Windows, if <em>close_fds</em> is true then no handles will be inherited by the child process. Note that on Windows, you cannot set <em>close_fds</em> to true and also redirect the standard handles by setting <em>stdin</em>, <em>stdout</em> or <em>stderr</em>.</p> <p>If <em>cwd</em> is not <code>None</code>, the child’s current directory will be changed to <em>cwd</em> before it is executed. Note that this directory is not considered when searching the executable, so you can’t specify the program’s path relative to <em>cwd</em>.</p> <p>If <em>env</em> is not <code>None</code>, it must be a mapping that defines the environment variables for the new process; these are used instead of inheriting the current process’ environment, which is the default behavior.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>If specified, <em>env</em> must provide any variables required for the program to execute. On Windows, in order to run a <a class="reference external" href="https://en.wikipedia.org/wiki/Side-by-Side_Assembly">side-by-side assembly</a> the specified <em>env</em> <strong>must</strong> include a valid <code id="index-3">SystemRoot</code>.</p> </div> <p>If <em>universal_newlines</em> is <code>True</code>, the file objects <em>stdout</em> and <em>stderr</em> are opened as text files in <a class="reference internal" href="https://docs.python.org/2.7/glossary.html#term-universal-newlines"><span class="xref std std-term">universal newlines</span></a> mode. Lines may be terminated by any of <code>'\n'</code>, the Unix end-of-line convention, <code>'\r'</code>, the old Macintosh convention or <code>'\r\n'</code>, the Windows convention. All of these external representations are seen as <code>'\n'</code> by the Python program.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This feature is only available if Python is built with universal newline support (the default). Also, the newlines attribute of the file objects <a class="reference internal" href="#subprocess.Popen.stdout" title="subprocess.Popen.stdout"><code>stdout</code></a>, <a class="reference internal" href="#subprocess.Popen.stdin" title="subprocess.Popen.stdin"><code>stdin</code></a> and <a class="reference internal" href="#subprocess.Popen.stderr" title="subprocess.Popen.stderr"><code>stderr</code></a> are not updated by the communicate() method.</p> </div> <p>If given, <em>startupinfo</em> will be a <a class="reference internal" href="#subprocess.STARTUPINFO" title="subprocess.STARTUPINFO"><code>STARTUPINFO</code></a> object, which is passed to the underlying <code>CreateProcess</code> function. <em>creationflags</em>, if given, can be <a class="reference internal" href="#subprocess.CREATE_NEW_CONSOLE" title="subprocess.CREATE_NEW_CONSOLE"><code>CREATE_NEW_CONSOLE</code></a> or <a class="reference internal" href="#subprocess.CREATE_NEW_PROCESS_GROUP" title="subprocess.CREATE_NEW_PROCESS_GROUP"><code>CREATE_NEW_PROCESS_GROUP</code></a>. (Windows only)</p> </dd>
</dl>   <h3 id="exceptions">1.3. Exceptions</h3> <p>Exceptions raised in the child process, before the new program has started to execute, will be re-raised in the parent. Additionally, the exception object will have one extra attribute called <code>child_traceback</code>, which is a string containing traceback information from the child’s point of view.</p> <p>The most common exception raised is <a class="reference internal" href="exceptions#exceptions.OSError" title="exceptions.OSError"><code>OSError</code></a>. This occurs, for example, when trying to execute a non-existent file. Applications should prepare for <a class="reference internal" href="exceptions#exceptions.OSError" title="exceptions.OSError"><code>OSError</code></a> exceptions.</p> <p>A <a class="reference internal" href="exceptions#exceptions.ValueError" title="exceptions.ValueError"><code>ValueError</code></a> will be raised if <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>Popen</code></a> is called with invalid arguments.</p> <p><a class="reference internal" href="#subprocess.check_call" title="subprocess.check_call"><code>check_call()</code></a> and <a class="reference internal" href="#subprocess.check_output" title="subprocess.check_output"><code>check_output()</code></a> will raise <a class="reference internal" href="#subprocess.CalledProcessError" title="subprocess.CalledProcessError"><code>CalledProcessError</code></a> if the called process returns a non-zero return code.</p>   <h3 id="security">1.4. Security</h3> <p>Unlike some other popen functions, this implementation will never call a system shell implicitly. This means that all characters, including shell metacharacters, can safely be passed to child processes. Obviously, if the shell is invoked explicitly, then it is the application’s responsibility to ensure that all whitespace and metacharacters are quoted appropriately.</p>    <h2 id="popen-objects">2. Popen Objects</h2> <p>Instances of the <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>Popen</code></a> class have the following methods:</p> <dl class="method"> <dt id="subprocess.Popen.poll">
<code>Popen.poll()</code> </dt> <dd>
<p>Check if child process has terminated. Set and return <a class="reference internal" href="#subprocess.Popen.returncode" title="subprocess.Popen.returncode"><code>returncode</code></a> attribute.</p> </dd>
</dl> <dl class="method"> <dt id="subprocess.Popen.wait">
<code>Popen.wait()</code> </dt> <dd>
<p>Wait for child process to terminate. Set and return <a class="reference internal" href="#subprocess.Popen.returncode" title="subprocess.Popen.returncode"><code>returncode</code></a> attribute.</p> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>This will deadlock when using <code>stdout=PIPE</code> and/or <code>stderr=PIPE</code> and the child process generates enough output to a pipe such that it blocks waiting for the OS pipe buffer to accept more data. Use <a class="reference internal" href="#subprocess.Popen.communicate" title="subprocess.Popen.communicate"><code>communicate()</code></a> to avoid that.</p> </div> </dd>
</dl> <dl class="method"> <dt id="subprocess.Popen.communicate">
<code>Popen.communicate(input=None)</code> </dt> <dd>
<p>Interact with process: Send data to stdin. Read data from stdout and stderr, until end-of-file is reached. Wait for process to terminate. The optional <em>input</em> argument should be a string to be sent to the child process, or <code>None</code>, if no data should be sent to the child.</p> <p><a class="reference internal" href="#subprocess.Popen.communicate" title="subprocess.Popen.communicate"><code>communicate()</code></a> returns a tuple <code>(stdoutdata, stderrdata)</code>.</p> <p>Note that if you want to send data to the process’s stdin, you need to create the Popen object with <code>stdin=PIPE</code>. Similarly, to get anything other than <code>None</code> in the result tuple, you need to give <code>stdout=PIPE</code> and/or <code>stderr=PIPE</code> too.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>The data read is buffered in memory, so do not use this method if the data size is large or unlimited.</p> </div> </dd>
</dl> <dl class="method"> <dt id="subprocess.Popen.send_signal">
<code>Popen.send_signal(signal)</code> </dt> <dd>
<p>Sends the signal <em>signal</em> to the child.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>On Windows, SIGTERM is an alias for <a class="reference internal" href="#subprocess.Popen.terminate" title="subprocess.Popen.terminate"><code>terminate()</code></a>. CTRL_C_EVENT and CTRL_BREAK_EVENT can be sent to processes started with a <em>creationflags</em> parameter which includes <code>CREATE_NEW_PROCESS_GROUP</code>.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.6.</span></p> </div> </dd>
</dl> <dl class="method"> <dt id="subprocess.Popen.terminate">
<code>Popen.terminate()</code> </dt> <dd>
<p>Stop the child. On Posix OSs the method sends SIGTERM to the child. On Windows the Win32 API function <code>TerminateProcess()</code> is called to stop the child.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.6.</span></p> </div> </dd>
</dl> <dl class="method"> <dt id="subprocess.Popen.kill">
<code>Popen.kill()</code> </dt> <dd>
<p>Kills the child. On Posix OSs the function sends SIGKILL to the child. On Windows <a class="reference internal" href="#subprocess.Popen.kill" title="subprocess.Popen.kill"><code>kill()</code></a> is an alias for <a class="reference internal" href="#subprocess.Popen.terminate" title="subprocess.Popen.terminate"><code>terminate()</code></a>.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.6.</span></p> </div> </dd>
</dl> <p>The following attributes are also available:</p> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>Use <a class="reference internal" href="#subprocess.Popen.communicate" title="subprocess.Popen.communicate"><code>communicate()</code></a> rather than <a class="reference internal" href="#subprocess.Popen.stdin" title="subprocess.Popen.stdin"><code>.stdin.write</code></a>, <a class="reference internal" href="#subprocess.Popen.stdout" title="subprocess.Popen.stdout"><code>.stdout.read</code></a> or <a class="reference internal" href="#subprocess.Popen.stderr" title="subprocess.Popen.stderr"><code>.stderr.read</code></a> to avoid deadlocks due to any of the other OS pipe buffers filling up and blocking the child process.</p> </div> <dl class="attribute"> <dt id="subprocess.Popen.stdin">
<code>Popen.stdin</code> </dt> <dd>
<p>If the <em>stdin</em> argument was <a class="reference internal" href="#subprocess.PIPE" title="subprocess.PIPE"><code>PIPE</code></a>, this attribute is a file object that provides input to the child process. Otherwise, it is <code>None</code>.</p> </dd>
</dl> <dl class="attribute"> <dt id="subprocess.Popen.stdout">
<code>Popen.stdout</code> </dt> <dd>
<p>If the <em>stdout</em> argument was <a class="reference internal" href="#subprocess.PIPE" title="subprocess.PIPE"><code>PIPE</code></a>, this attribute is a file object that provides output from the child process. Otherwise, it is <code>None</code>.</p> </dd>
</dl> <dl class="attribute"> <dt id="subprocess.Popen.stderr">
<code>Popen.stderr</code> </dt> <dd>
<p>If the <em>stderr</em> argument was <a class="reference internal" href="#subprocess.PIPE" title="subprocess.PIPE"><code>PIPE</code></a>, this attribute is a file object that provides error output from the child process. Otherwise, it is <code>None</code>.</p> </dd>
</dl> <dl class="attribute"> <dt id="subprocess.Popen.pid">
<code>Popen.pid</code> </dt> <dd>
<p>The process ID of the child process.</p> <p>Note that if you set the <em>shell</em> argument to <code>True</code>, this is the process ID of the spawned shell.</p> </dd>
</dl> <dl class="attribute"> <dt id="subprocess.Popen.returncode">
<code>Popen.returncode</code> </dt> <dd>
<p>The child return code, set by <a class="reference internal" href="#subprocess.Popen.poll" title="subprocess.Popen.poll"><code>poll()</code></a> and <a class="reference internal" href="#subprocess.Popen.wait" title="subprocess.Popen.wait"><code>wait()</code></a> (and indirectly by <a class="reference internal" href="#subprocess.Popen.communicate" title="subprocess.Popen.communicate"><code>communicate()</code></a>). A <code>None</code> value indicates that the process hasn’t terminated yet.</p> <p>A negative value <code>-N</code> indicates that the child was terminated by signal <code>N</code> (Unix only).</p> </dd>
</dl>   <h2 id="windows-popen-helpers">3. Windows Popen Helpers</h2> <p>The <a class="reference internal" href="#subprocess.STARTUPINFO" title="subprocess.STARTUPINFO"><code>STARTUPINFO</code></a> class and following constants are only available on Windows.</p> <dl class="class"> <dt id="subprocess.STARTUPINFO">
<code>class subprocess.STARTUPINFO</code> </dt> <dd>
<p>Partial support of the Windows <a class="reference external" href="https://msdn.microsoft.com/en-us/library/ms686331(v=vs.85).aspx">STARTUPINFO</a> structure is used for <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>Popen</code></a> creation.</p> <dl class="attribute"> <dt id="subprocess.STARTUPINFO.dwFlags">
<code>dwFlags</code> </dt> <dd>
<p>A bit field that determines whether certain <a class="reference internal" href="#subprocess.STARTUPINFO" title="subprocess.STARTUPINFO"><code>STARTUPINFO</code></a> attributes are used when the process creates a window.</p> <pre data-language="python">si = subprocess.STARTUPINFO()
si.dwFlags = subprocess.STARTF_USESTDHANDLES | subprocess.STARTF_USESHOWWINDOW
</pre> </dd>
</dl> <dl class="attribute"> <dt id="subprocess.STARTUPINFO.hStdInput">
<code>hStdInput</code> </dt> <dd>
<p>If <a class="reference internal" href="#subprocess.STARTUPINFO.dwFlags" title="subprocess.STARTUPINFO.dwFlags"><code>dwFlags</code></a> specifies <a class="reference internal" href="#subprocess.STARTF_USESTDHANDLES" title="subprocess.STARTF_USESTDHANDLES"><code>STARTF_USESTDHANDLES</code></a>, this attribute is the standard input handle for the process. If <a class="reference internal" href="#subprocess.STARTF_USESTDHANDLES" title="subprocess.STARTF_USESTDHANDLES"><code>STARTF_USESTDHANDLES</code></a> is not specified, the default for standard input is the keyboard buffer.</p> </dd>
</dl> <dl class="attribute"> <dt id="subprocess.STARTUPINFO.hStdOutput">
<code>hStdOutput</code> </dt> <dd>
<p>If <a class="reference internal" href="#subprocess.STARTUPINFO.dwFlags" title="subprocess.STARTUPINFO.dwFlags"><code>dwFlags</code></a> specifies <a class="reference internal" href="#subprocess.STARTF_USESTDHANDLES" title="subprocess.STARTF_USESTDHANDLES"><code>STARTF_USESTDHANDLES</code></a>, this attribute is the standard output handle for the process. Otherwise, this attribute is ignored and the default for standard output is the console window’s buffer.</p> </dd>
</dl> <dl class="attribute"> <dt id="subprocess.STARTUPINFO.hStdError">
<code>hStdError</code> </dt> <dd>
<p>If <a class="reference internal" href="#subprocess.STARTUPINFO.dwFlags" title="subprocess.STARTUPINFO.dwFlags"><code>dwFlags</code></a> specifies <a class="reference internal" href="#subprocess.STARTF_USESTDHANDLES" title="subprocess.STARTF_USESTDHANDLES"><code>STARTF_USESTDHANDLES</code></a>, this attribute is the standard error handle for the process. Otherwise, this attribute is ignored and the default for standard error is the console window’s buffer.</p> </dd>
</dl> <dl class="attribute"> <dt id="subprocess.STARTUPINFO.wShowWindow">
<code>wShowWindow</code> </dt> <dd>
<p>If <a class="reference internal" href="#subprocess.STARTUPINFO.dwFlags" title="subprocess.STARTUPINFO.dwFlags"><code>dwFlags</code></a> specifies <a class="reference internal" href="#subprocess.STARTF_USESHOWWINDOW" title="subprocess.STARTF_USESHOWWINDOW"><code>STARTF_USESHOWWINDOW</code></a>, this attribute can be any of the values that can be specified in the <code>nCmdShow</code> parameter for the <a class="reference external" href="https://msdn.microsoft.com/en-us/library/ms633548(v=vs.85).aspx">ShowWindow</a> function, except for <code>SW_SHOWDEFAULT</code>. Otherwise, this attribute is ignored.</p> <p><a class="reference internal" href="#subprocess.SW_HIDE" title="subprocess.SW_HIDE"><code>SW_HIDE</code></a> is provided for this attribute. It is used when <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>Popen</code></a> is called with <code>shell=True</code>.</p> </dd>
</dl> </dd>
</dl>  <h3 id="constants">3.1. Constants</h3> <p>The <a class="reference internal" href="#module-subprocess" title="subprocess: Subprocess management."><code>subprocess</code></a> module exposes the following constants.</p> <dl class="data"> <dt id="subprocess.STD_INPUT_HANDLE">
<code>subprocess.STD_INPUT_HANDLE</code> </dt> <dd>
<p>The standard input device. Initially, this is the console input buffer, <code>CONIN$</code>.</p> </dd>
</dl> <dl class="data"> <dt id="subprocess.STD_OUTPUT_HANDLE">
<code>subprocess.STD_OUTPUT_HANDLE</code> </dt> <dd>
<p>The standard output device. Initially, this is the active console screen buffer, <code>CONOUT$</code>.</p> </dd>
</dl> <dl class="data"> <dt id="subprocess.STD_ERROR_HANDLE">
<code>subprocess.STD_ERROR_HANDLE</code> </dt> <dd>
<p>The standard error device. Initially, this is the active console screen buffer, <code>CONOUT$</code>.</p> </dd>
</dl> <dl class="data"> <dt id="subprocess.SW_HIDE">
<code>subprocess.SW_HIDE</code> </dt> <dd>
<p>Hides the window. Another window will be activated.</p> </dd>
</dl> <dl class="data"> <dt id="subprocess.STARTF_USESTDHANDLES">
<code>subprocess.STARTF_USESTDHANDLES</code> </dt> <dd>
<p>Specifies that the <a class="reference internal" href="#subprocess.STARTUPINFO.hStdInput" title="subprocess.STARTUPINFO.hStdInput"><code>STARTUPINFO.hStdInput</code></a>, <a class="reference internal" href="#subprocess.STARTUPINFO.hStdOutput" title="subprocess.STARTUPINFO.hStdOutput"><code>STARTUPINFO.hStdOutput</code></a>, and <a class="reference internal" href="#subprocess.STARTUPINFO.hStdError" title="subprocess.STARTUPINFO.hStdError"><code>STARTUPINFO.hStdError</code></a> attributes contain additional information.</p> </dd>
</dl> <dl class="data"> <dt id="subprocess.STARTF_USESHOWWINDOW">
<code>subprocess.STARTF_USESHOWWINDOW</code> </dt> <dd>
<p>Specifies that the <a class="reference internal" href="#subprocess.STARTUPINFO.wShowWindow" title="subprocess.STARTUPINFO.wShowWindow"><code>STARTUPINFO.wShowWindow</code></a> attribute contains additional information.</p> </dd>
</dl> <dl class="data"> <dt id="subprocess.CREATE_NEW_CONSOLE">
<code>subprocess.CREATE_NEW_CONSOLE</code> </dt> <dd>
<p>The new process has a new console, instead of inheriting its parent’s console (the default).</p> <p>This flag is always set when <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>Popen</code></a> is created with <code>shell=True</code>.</p> </dd>
</dl> <dl class="data"> <dt id="subprocess.CREATE_NEW_PROCESS_GROUP">
<code>subprocess.CREATE_NEW_PROCESS_GROUP</code> </dt> <dd>
<p>A <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>Popen</code></a> <code>creationflags</code> parameter to specify that a new process group will be created. This flag is necessary for using <a class="reference internal" href="os#os.kill" title="os.kill"><code>os.kill()</code></a> on the subprocess.</p> <p>This flag is ignored if <a class="reference internal" href="#subprocess.CREATE_NEW_CONSOLE" title="subprocess.CREATE_NEW_CONSOLE"><code>CREATE_NEW_CONSOLE</code></a> is specified.</p> </dd>
</dl>    <h2 id="subprocess-replacements">4. Replacing Older Functions with the subprocess Module</h2> <p id="replacing-older-functions-with-the-subprocess-module">In this section, “a becomes b” means that b can be used as a replacement for a.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>All “a” functions in this section fail (more or less) silently if the executed program cannot be found; the “b” replacements raise <a class="reference internal" href="exceptions#exceptions.OSError" title="exceptions.OSError"><code>OSError</code></a> instead.</p> <p>In addition, the replacements using <a class="reference internal" href="#subprocess.check_output" title="subprocess.check_output"><code>check_output()</code></a> will fail with a <a class="reference internal" href="#subprocess.CalledProcessError" title="subprocess.CalledProcessError"><code>CalledProcessError</code></a> if the requested operation produces a non-zero return code. The output is still available as the <a class="reference internal" href="#subprocess.CalledProcessError.output" title="subprocess.CalledProcessError.output"><code>output</code></a> attribute of the raised exception.</p> </div> <p>In the following examples, we assume that the relevant functions have already been imported from the <a class="reference internal" href="#module-subprocess" title="subprocess: Subprocess management."><code>subprocess</code></a> module.</p>  <h3 id="replacing-bin-sh-shell-backquote">4.1. Replacing /bin/sh shell backquote</h3> <pre data-language="bash">output=`mycmd myarg`
</pre> <p>becomes:</p> <pre data-language="python">output = check_output(["mycmd", "myarg"])
</pre>   <h3 id="replacing-shell-pipeline">4.2. Replacing shell pipeline</h3> <pre data-language="bash">output=`dmesg | grep hda`
</pre> <p>becomes:</p> <pre data-language="python">p1 = Popen(["dmesg"], stdout=PIPE)
p2 = Popen(["grep", "hda"], stdin=p1.stdout, stdout=PIPE)
p1.stdout.close()  # Allow p1 to receive a SIGPIPE if p2 exits.
output = p2.communicate()[0]
</pre> <p>The p1.stdout.close() call after starting the p2 is important in order for p1 to receive a SIGPIPE if p2 exits before p1.</p> <p>Alternatively, for trusted input, the shell’s own pipeline support may still be used directly:</p> <pre data-language="bash">output=`dmesg | grep hda`
</pre> <p>becomes:</p> <pre data-language="python">output=check_output("dmesg | grep hda", shell=True)
</pre>   <h3 id="replacing-os-system">4.3. Replacing <a class="reference internal" href="os#os.system" title="os.system"><code>os.system()</code></a>
</h3> <pre data-language="python">status = os.system("mycmd" + " myarg")
# becomes
status = subprocess.call("mycmd" + " myarg", shell=True)
</pre> <p>Notes:</p> <ul class="simple"> <li>Calling the program through the shell is usually not required.</li> </ul> <p>A more realistic example would look like this:</p> <pre data-language="python">try:
    retcode = call("mycmd" + " myarg", shell=True)
    if retcode &lt; 0:
        print &gt;&gt;sys.stderr, "Child was terminated by signal", -retcode
    else:
        print &gt;&gt;sys.stderr, "Child returned", retcode
except OSError as e:
    print &gt;&gt;sys.stderr, "Execution failed:", e
</pre>   <h3 id="replacing-the-os-spawn-family">4.4. Replacing the <a class="reference internal" href="os#os.spawnl" title="os.spawnl"><code>os.spawn</code></a> family</h3> <p>P_NOWAIT example:</p> <pre data-language="python">pid = os.spawnlp(os.P_NOWAIT, "/bin/mycmd", "mycmd", "myarg")
==&gt;
pid = Popen(["/bin/mycmd", "myarg"]).pid
</pre> <p>P_WAIT example:</p> <pre data-language="python">retcode = os.spawnlp(os.P_WAIT, "/bin/mycmd", "mycmd", "myarg")
==&gt;
retcode = call(["/bin/mycmd", "myarg"])
</pre> <p>Vector example:</p> <pre data-language="python">os.spawnvp(os.P_NOWAIT, path, args)
==&gt;
Popen([path] + args[1:])
</pre> <p>Environment example:</p> <pre data-language="python">os.spawnlpe(os.P_NOWAIT, "/bin/mycmd", "mycmd", "myarg", env)
==&gt;
Popen(["/bin/mycmd", "myarg"], env={"PATH": "/usr/bin"})
</pre>   <h3 id="replacing-os-popen-os-popen2-os-popen3">4.5. Replacing <a class="reference internal" href="os#os.popen" title="os.popen"><code>os.popen()</code></a>, <a class="reference internal" href="os#os.popen2" title="os.popen2"><code>os.popen2()</code></a>, <a class="reference internal" href="os#os.popen3" title="os.popen3"><code>os.popen3()</code></a>
</h3> <pre data-language="python">pipe = os.popen("cmd", 'r', bufsize)
==&gt;
pipe = Popen("cmd", shell=True, bufsize=bufsize, stdout=PIPE).stdout
</pre> <pre data-language="python">pipe = os.popen("cmd", 'w', bufsize)
==&gt;
pipe = Popen("cmd", shell=True, bufsize=bufsize, stdin=PIPE).stdin
</pre> <pre data-language="python">(child_stdin, child_stdout) = os.popen2("cmd", mode, bufsize)
==&gt;
p = Popen("cmd", shell=True, bufsize=bufsize,
          stdin=PIPE, stdout=PIPE, close_fds=True)
(child_stdin, child_stdout) = (p.stdin, p.stdout)
</pre> <pre data-language="python">(child_stdin,
 child_stdout,
 child_stderr) = os.popen3("cmd", mode, bufsize)
==&gt;
p = Popen("cmd", shell=True, bufsize=bufsize,
          stdin=PIPE, stdout=PIPE, stderr=PIPE, close_fds=True)
(child_stdin,
 child_stdout,
 child_stderr) = (p.stdin, p.stdout, p.stderr)
</pre> <pre data-language="python">(child_stdin, child_stdout_and_stderr) = os.popen4("cmd", mode,
                                                   bufsize)
==&gt;
p = Popen("cmd", shell=True, bufsize=bufsize,
          stdin=PIPE, stdout=PIPE, stderr=STDOUT, close_fds=True)
(child_stdin, child_stdout_and_stderr) = (p.stdin, p.stdout)
</pre> <p>On Unix, os.popen2, os.popen3 and os.popen4 also accept a sequence as the command to execute, in which case arguments will be passed directly to the program without shell intervention. This usage can be replaced as follows:</p> <pre data-language="python">(child_stdin, child_stdout) = os.popen2(["/bin/ls", "-l"], mode,
                                        bufsize)
==&gt;
p = Popen(["/bin/ls", "-l"], bufsize=bufsize, stdin=PIPE, stdout=PIPE)
(child_stdin, child_stdout) = (p.stdin, p.stdout)
</pre> <p>Return code handling translates as follows:</p> <pre data-language="python">pipe = os.popen("cmd", 'w')
...
rc = pipe.close()
if rc is not None and rc &gt;&gt; 8:
    print "There were some errors"
==&gt;
process = Popen("cmd", shell=True, stdin=PIPE)
...
process.stdin.close()
if process.wait() != 0:
    print "There were some errors"
</pre>   <h3 id="replacing-functions-from-the-popen2-module">4.6. Replacing functions from the <a class="reference internal" href="popen2#module-popen2" title="popen2: Subprocesses with accessible standard I/O streams. (deprecated)"><code>popen2</code></a> module</h3> <pre data-language="python">(child_stdout, child_stdin) = popen2.popen2("somestring", bufsize, mode)
==&gt;
p = Popen("somestring", shell=True, bufsize=bufsize,
          stdin=PIPE, stdout=PIPE, close_fds=True)
(child_stdout, child_stdin) = (p.stdout, p.stdin)
</pre> <p>On Unix, popen2 also accepts a sequence as the command to execute, in which case arguments will be passed directly to the program without shell intervention. This usage can be replaced as follows:</p> <pre data-language="python">(child_stdout, child_stdin) = popen2.popen2(["mycmd", "myarg"], bufsize,
                                            mode)
==&gt;
p = Popen(["mycmd", "myarg"], bufsize=bufsize,
          stdin=PIPE, stdout=PIPE, close_fds=True)
(child_stdout, child_stdin) = (p.stdout, p.stdin)
</pre> <p><a class="reference internal" href="popen2#popen2.Popen3" title="popen2.Popen3"><code>popen2.Popen3</code></a> and <a class="reference internal" href="popen2#popen2.Popen4" title="popen2.Popen4"><code>popen2.Popen4</code></a> basically work as <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>subprocess.Popen</code></a>, except that:</p> <ul class="simple"> <li>
<a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>Popen</code></a> raises an exception if the execution fails.</li> <li>the <em>capturestderr</em> argument is replaced with the <em>stderr</em> argument.</li> <li>
<code>stdin=PIPE</code> and <code>stdout=PIPE</code> must be specified.</li> <li>popen2 closes all file descriptors by default, but you have to specify <code>close_fds=True</code> with <a class="reference internal" href="#subprocess.Popen" title="subprocess.Popen"><code>Popen</code></a>.</li> </ul>    <h2 id="notes">5. Notes</h2>  <h3 id="converting-argument-sequence">5.1. Converting an argument sequence to a string on Windows</h3> <p id="converting-an-argument-sequence-to-a-string-on-windows">On Windows, an <em>args</em> sequence is converted to a string that can be parsed using the following rules (which correspond to the rules used by the MS C runtime):</p> <ol class="arabic simple"> <li>Arguments are delimited by white space, which is either a space or a tab.</li> <li>A string surrounded by double quotation marks is interpreted as a single argument, regardless of white space contained within. A quoted string can be embedded in an argument.</li> <li>A double quotation mark preceded by a backslash is interpreted as a literal double quotation mark.</li> <li>Backslashes are interpreted literally, unless they immediately precede a double quotation mark.</li> <li>If backslashes immediately precede a double quotation mark, every pair of backslashes is interpreted as a literal backslash. If the number of backslashes is odd, the last backslash escapes the next double quotation mark as described in rule 3.</li> </ol>
<div class="_attribution">
  <p class="_attribution-p">
    © 2001–2020 Python Software Foundation<br>Licensed under the PSF License.<br>
    <a href="https://docs.python.org/2.7/library/subprocess.html" class="_attribution-link">https://docs.python.org/2.7/library/subprocess.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
