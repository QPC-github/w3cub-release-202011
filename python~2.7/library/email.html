
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Email - Python 2.7 - W3cubDocs</title>
  
  <meta name="description" content=" New in version 2.2. ">
  <meta name="keywords" content="email, —, and, mime, handling, package, python, python~2.7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/python~2.7/library/email.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/python~2.7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/python~2.7/" class="_nav-link" title="" style="margin-left:0;">Python 2.7</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _python">
				
				
<h1 id="email-an-email-and-mime-handling-package"> email — An email and MIME handling package</h1> <div class="versionadded" id="module-email"> <p><span class="versionmodified added">New in version 2.2.</span></p> </div> <p>The <a class="reference internal" href="#module-email" title="email: Package supporting the parsing, manipulating, and generating email messages, including MIME documents."><code>email</code></a> package is a library for managing email messages, including MIME and other <a class="rfc reference external" href="https://tools.ietf.org/html/rfc2822.html" id="index-0"><strong>RFC 2822</strong></a>-based message documents. It subsumes most of the functionality in several older standard modules such as <a class="reference internal" href="rfc822#module-rfc822" title="rfc822: Parse 2822 style mail messages. (deprecated)"><code>rfc822</code></a>, <a class="reference internal" href="mimetools#module-mimetools" title="mimetools: Tools for parsing MIME-style message bodies. (deprecated)"><code>mimetools</code></a>, <a class="reference internal" href="multifile#module-multifile" title="multifile: Support for reading files which contain distinct parts, such as some MIME data. (deprecated)"><code>multifile</code></a>, and other non-standard packages such as <code>mimecntl</code>. It is specifically <em>not</em> designed to do any sending of email messages to SMTP (<a class="rfc reference external" href="https://tools.ietf.org/html/rfc2821.html" id="index-1"><strong>RFC 2821</strong></a>), NNTP, or other servers; those are functions of modules such as <a class="reference internal" href="smtplib#module-smtplib" title="smtplib: SMTP protocol client (requires sockets)."><code>smtplib</code></a> and <a class="reference internal" href="nntplib#module-nntplib" title="nntplib: NNTP protocol client (requires sockets)."><code>nntplib</code></a>. The <a class="reference internal" href="#module-email" title="email: Package supporting the parsing, manipulating, and generating email messages, including MIME documents."><code>email</code></a> package attempts to be as RFC-compliant as possible, supporting in addition to <a class="rfc reference external" href="https://tools.ietf.org/html/rfc2822.html" id="index-2"><strong>RFC 2822</strong></a>, such MIME-related RFCs as <a class="rfc reference external" href="https://tools.ietf.org/html/rfc2045.html" id="index-3"><strong>RFC 2045</strong></a>, <a class="rfc reference external" href="https://tools.ietf.org/html/rfc2046.html" id="index-4"><strong>RFC 2046</strong></a>, <a class="rfc reference external" href="https://tools.ietf.org/html/rfc2047.html" id="index-5"><strong>RFC 2047</strong></a>, and <a class="rfc reference external" href="https://tools.ietf.org/html/rfc2231.html" id="index-6"><strong>RFC 2231</strong></a>.</p> <p>The primary distinguishing feature of the <a class="reference internal" href="#module-email" title="email: Package supporting the parsing, manipulating, and generating email messages, including MIME documents."><code>email</code></a> package is that it splits the parsing and generating of email messages from the internal <em>object model</em> representation of email. Applications using the <a class="reference internal" href="#module-email" title="email: Package supporting the parsing, manipulating, and generating email messages, including MIME documents."><code>email</code></a> package deal primarily with objects; you can add sub-objects to messages, remove sub-objects from messages, completely re-arrange the contents, etc. There is a separate parser and a separate generator which handles the transformation from flat text to the object model, and then back to flat text again. There are also handy subclasses for some common MIME object types, and a few miscellaneous utilities that help with such common tasks as extracting and parsing message field values, creating RFC-compliant dates, etc.</p> <p>The following sections describe the functionality of the <a class="reference internal" href="#module-email" title="email: Package supporting the parsing, manipulating, and generating email messages, including MIME documents."><code>email</code></a> package. The ordering follows a progression that should be common in applications: an email message is read as flat text from a file or other source, the text is parsed to produce the object structure of the email message, this structure is manipulated, and finally, the object tree is rendered back into flat text.</p> <p>It is perfectly feasible to create the object structure out of whole cloth — i.e. completely from scratch. From there, a similar progression can be taken as above.</p> <p>Also included are detailed specifications of all the classes and modules that the <a class="reference internal" href="#module-email" title="email: Package supporting the parsing, manipulating, and generating email messages, including MIME documents."><code>email</code></a> package provides, the exception classes you might encounter while using the <a class="reference internal" href="#module-email" title="email: Package supporting the parsing, manipulating, and generating email messages, including MIME documents."><code>email</code></a> package, some auxiliary utilities, and a few examples. For users of the older <code>mimelib</code> package, or previous versions of the <a class="reference internal" href="#module-email" title="email: Package supporting the parsing, manipulating, and generating email messages, including MIME documents."><code>email</code></a> package, a section on differences and porting is provided.</p> <p>Contents of the <a class="reference internal" href="#module-email" title="email: Package supporting the parsing, manipulating, and generating email messages, including MIME documents."><code>email</code></a> package documentation:</p>  <ul> <li class="toctree-l1"><a class="reference internal" href="email.message">18.1.1. <code>email.message</code>: Representing an email message</a></li> <li class="toctree-l1">
<a class="reference internal" href="email.parser">18.1.2. <code>email.parser</code>: Parsing email messages</a><ul> <li class="toctree-l2"><a class="reference internal" href="email.parser#feedparser-api">18.1.2.1. FeedParser API</a></li> <li class="toctree-l2"><a class="reference internal" href="email.parser#parser-class-api">18.1.2.2. Parser class API</a></li> <li class="toctree-l2"><a class="reference internal" href="email.parser#additional-notes">18.1.2.3. Additional notes</a></li> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="email.generator">18.1.3. <code>email.generator</code>: Generating MIME documents</a></li> <li class="toctree-l1"><a class="reference internal" href="email.mime">18.1.4. <code>email.mime</code>: Creating email and MIME objects from scratch</a></li> <li class="toctree-l1"><a class="reference internal" href="email.header">18.1.5. <code>email.header</code>: Internationalized headers</a></li> <li class="toctree-l1"><a class="reference internal" href="email.charset">18.1.6. <code>email.charset</code>: Representing character sets</a></li> <li class="toctree-l1"><a class="reference internal" href="email.encoders">18.1.7. <code>email.encoders</code>: Encoders</a></li> <li class="toctree-l1"><a class="reference internal" href="email.errors">18.1.8. <code>email.errors</code>: Exception and Defect classes</a></li> <li class="toctree-l1"><a class="reference internal" href="email.utils">18.1.9. <code>email.utils</code>: Miscellaneous utilities</a></li> <li class="toctree-l1"><a class="reference internal" href="email.iterators">18.1.10. <code>email.iterators</code>: Iterators</a></li> <li class="toctree-l1"><a class="reference internal" href="email-examples">18.1.11. <code>email</code>: Examples</a></li> </ul>  <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt>
<code>Module</code> <a class="reference internal" href="smtplib#module-smtplib" title="smtplib: SMTP protocol client (requires sockets)."><code>smtplib</code></a>
</dt>
<dd>
<p>SMTP protocol client</p> </dd> <dt>
<code>Module</code> <a class="reference internal" href="nntplib#module-nntplib" title="nntplib: NNTP protocol client (requires sockets)."><code>nntplib</code></a>
</dt>
<dd>
<p>NNTP protocol client</p> </dd> </dl> </div>  <h2 id="email-pkg-history">12. Package History</h2> <p id="package-history">This table describes the release history of the email package, corresponding to the version of Python that the package was released with. For purposes of this document, when you see a note about change or added versions, these refer to the Python version the change was made in, <em>not</em> the email package version. This table also describes the Python compatibility of each version of the package.</p> <table class="docutils align-center">  <thead> <tr>
<th class="head"><p>email version</p></th> <th class="head"><p>distributed with</p></th> <th class="head"><p>compatible with</p></th> </tr> </thead>  <tr>
<td><p><code>1.x</code></p></td> <td><p>Python 2.2.0 to Python 2.2.1</p></td> <td><p><em>no longer supported</em></p></td> </tr> <tr>
<td><p><code>2.5</code></p></td> <td><p>Python 2.2.2+ and Python 2.3</p></td> <td><p>Python 2.1 to 2.5</p></td> </tr> <tr>
<td><p><code>3.0</code></p></td> <td><p>Python 2.4</p></td> <td><p>Python 2.3 to 2.5</p></td> </tr> <tr>
<td><p><code>4.0</code></p></td> <td><p>Python 2.5</p></td> <td><p>Python 2.3 to 2.5</p></td> </tr>  </table> <p>Here are the major differences between <a class="reference internal" href="#module-email" title="email: Package supporting the parsing, manipulating, and generating email messages, including MIME documents."><code>email</code></a> version 4 and version 3:</p> <ul> <li>All modules have been renamed according to <a class="pep reference external" href="https://www.python.org/dev/peps/pep-0008" id="index-7"><strong>PEP 8</strong></a> standards. For example, the version 3 module <code>email.Message</code> was renamed to <a class="reference internal" href="email.message#module-email.message" title="email.message: The base class representing email messages."><code>email.message</code></a> in version 4.</li> <li>
<p>A new subpackage <a class="reference internal" href="email.mime#module-email.mime" title="email.mime: Build MIME messages."><code>email.mime</code></a> was added and all the version 3 <code>email.MIME*</code> modules were renamed and situated into the <a class="reference internal" href="email.mime#module-email.mime" title="email.mime: Build MIME messages."><code>email.mime</code></a> subpackage. For example, the version 3 module <code>email.MIMEText</code> was renamed to <code>email.mime.text</code>.</p> <p><em>Note that the version 3 names will continue to work until Python 2.6</em>.</p> </li> <li>The <code>email.mime.application</code> module was added, which contains the <a class="reference internal" href="email.mime#email.mime.application.MIMEApplication" title="email.mime.application.MIMEApplication"><code>MIMEApplication</code></a> class.</li> <li>Methods that were deprecated in version 3 have been removed. These include <code>Generator.__call__()</code>, <code>Message.get_type()</code>, <code>Message.get_main_type()</code>, <code>Message.get_subtype()</code>.</li> <li>Fixes have been added for <a class="rfc reference external" href="https://tools.ietf.org/html/rfc2231.html" id="index-8"><strong>RFC 2231</strong></a> support which can change some of the return types for <a class="reference internal" href="email.message#email.message.Message.get_param" title="email.message.Message.get_param"><code>Message.get_param</code></a> and friends. Under some circumstances, values which used to return a 3-tuple now return simple strings (specifically, if all extended parameter segments were unencoded, there is no language and charset designation expected, so the return type is now a simple string). Also, %-decoding used to be done for both encoded and unencoded segments; this decoding is now done only for encoded segments.</li> </ul> <p>Here are the major differences between <a class="reference internal" href="#module-email" title="email: Package supporting the parsing, manipulating, and generating email messages, including MIME documents."><code>email</code></a> version 3 and version 2:</p> <ul class="simple"> <li>The <a class="reference internal" href="email.parser#email.parser.FeedParser" title="email.parser.FeedParser"><code>FeedParser</code></a> class was introduced, and the <a class="reference internal" href="email.parser#email.parser.Parser" title="email.parser.Parser"><code>Parser</code></a> class was implemented in terms of the <a class="reference internal" href="email.parser#email.parser.FeedParser" title="email.parser.FeedParser"><code>FeedParser</code></a>. All parsing therefore is non-strict, and parsing will make a best effort never to raise an exception. Problems found while parsing messages are stored in the message’s <em>defect</em> attribute.</li> <li>All aspects of the API which raised <a class="reference internal" href="exceptions#exceptions.DeprecationWarning" title="exceptions.DeprecationWarning"><code>DeprecationWarning</code></a>s in version 2 have been removed. These include the <em>_encoder</em> argument to the <a class="reference internal" href="email.mime#email.mime.text.MIMEText" title="email.mime.text.MIMEText"><code>MIMEText</code></a> constructor, the <code>Message.add_payload()</code> method, the <code>Utils.dump_address_pair()</code> function, and the functions <code>Utils.decode()</code> and <code>Utils.encode()</code>.</li> <li>New <a class="reference internal" href="exceptions#exceptions.DeprecationWarning" title="exceptions.DeprecationWarning"><code>DeprecationWarning</code></a>s have been added to: <code>Generator.__call__()</code>, <code>Message.get_type()</code>, <code>Message.get_main_type()</code>, <code>Message.get_subtype()</code>, and the <em>strict</em> argument to the <a class="reference internal" href="email.parser#email.parser.Parser" title="email.parser.Parser"><code>Parser</code></a> class. These are expected to be removed in future versions.</li> <li>Support for Pythons earlier than 2.3 has been removed.</li> </ul> <p>Here are the differences between <a class="reference internal" href="#module-email" title="email: Package supporting the parsing, manipulating, and generating email messages, including MIME documents."><code>email</code></a> version 2 and version 1:</p> <ul> <li>The <code>email.Header</code> and <code>email.Charset</code> modules have been added.</li> <li>The pickle format for <a class="reference internal" href="email.message#email.message.Message" title="email.message.Message"><code>Message</code></a> instances has changed. Since this was never (and still isn’t) formally defined, this isn’t considered a backward incompatibility. However if your application pickles and unpickles <a class="reference internal" href="email.message#email.message.Message" title="email.message.Message"><code>Message</code></a> instances, be aware that in <a class="reference internal" href="#module-email" title="email: Package supporting the parsing, manipulating, and generating email messages, including MIME documents."><code>email</code></a> version 2, <a class="reference internal" href="email.message#email.message.Message" title="email.message.Message"><code>Message</code></a> instances now have private variables <em>_charset</em> and <em>_default_type</em>.</li> <li>Several methods in the <a class="reference internal" href="email.message#email.message.Message" title="email.message.Message"><code>Message</code></a> class have been deprecated, or their signatures changed. Also, many new methods have been added. See the documentation for the <a class="reference internal" href="email.message#email.message.Message" title="email.message.Message"><code>Message</code></a> class for details. The changes should be completely backward compatible.</li> <li>
<p>The object structure has changed in the face of <em class="mimetype">message/rfc822</em> content types. In <a class="reference internal" href="#module-email" title="email: Package supporting the parsing, manipulating, and generating email messages, including MIME documents."><code>email</code></a> version 1, such a type would be represented by a scalar payload, i.e. the container message’s <a class="reference internal" href="email.message#email.message.Message.is_multipart" title="email.message.Message.is_multipart"><code>is_multipart()</code></a> returned false, <a class="reference internal" href="email.message#email.message.Message.get_payload" title="email.message.Message.get_payload"><code>get_payload()</code></a> was not a list object, but a single <a class="reference internal" href="email.message#email.message.Message" title="email.message.Message"><code>Message</code></a> instance.</p> <p>This structure was inconsistent with the rest of the package, so the object representation for <em class="mimetype">message/rfc822</em> content types was changed. In <a class="reference internal" href="#module-email" title="email: Package supporting the parsing, manipulating, and generating email messages, including MIME documents."><code>email</code></a> version 2, the container <em>does</em> return <code>True</code> from <a class="reference internal" href="email.message#email.message.Message.is_multipart" title="email.message.Message.is_multipart"><code>is_multipart()</code></a>, and <a class="reference internal" href="email.message#email.message.Message.get_payload" title="email.message.Message.get_payload"><code>get_payload()</code></a> returns a list containing a single <a class="reference internal" href="email.message#email.message.Message" title="email.message.Message"><code>Message</code></a> item.</p> <p>Note that this is one place that backward compatibility could not be completely maintained. However, if you’re already testing the return type of <a class="reference internal" href="email.message#email.message.Message.get_payload" title="email.message.Message.get_payload"><code>get_payload()</code></a>, you should be fine. You just need to make sure your code doesn’t do a <a class="reference internal" href="email.message#email.message.Message.set_payload" title="email.message.Message.set_payload"><code>set_payload()</code></a> with a <a class="reference internal" href="email.message#email.message.Message" title="email.message.Message"><code>Message</code></a> instance on a container with a content type of <em class="mimetype">message/rfc822</em>.</p> </li> <li>The <a class="reference internal" href="email.parser#email.parser.Parser" title="email.parser.Parser"><code>Parser</code></a> constructor’s <em>strict</em> argument was added, and its <a class="reference internal" href="email.parser#email.parser.Parser.parse" title="email.parser.Parser.parse"><code>parse()</code></a> and <a class="reference internal" href="email.parser#email.parser.Parser.parsestr" title="email.parser.Parser.parsestr"><code>parsestr()</code></a> methods grew a <em>headersonly</em> argument. The <em>strict</em> flag was also added to functions <a class="reference internal" href="email.parser#email.message_from_file" title="email.message_from_file"><code>email.message_from_file()</code></a> and <a class="reference internal" href="email.parser#email.message_from_string" title="email.message_from_string"><code>email.message_from_string()</code></a>.</li> <li>
<code>Generator.__call__()</code> is deprecated; use <a class="reference internal" href="email.generator#email.generator.Generator.flatten" title="email.generator.Generator.flatten"><code>Generator.flatten</code></a> instead. The <a class="reference internal" href="email.generator#email.generator.Generator" title="email.generator.Generator"><code>Generator</code></a> class has also grown the <a class="reference internal" href="email.generator#email.generator.Generator.clone" title="email.generator.Generator.clone"><code>clone()</code></a> method.</li> <li>The <a class="reference internal" href="email.generator#email.generator.DecodedGenerator" title="email.generator.DecodedGenerator"><code>DecodedGenerator</code></a> class in the <a class="reference internal" href="email.generator#module-email.generator" title="email.generator: Generate flat text email messages from a message structure."><code>email.generator</code></a> module was added.</li> <li>The intermediate base classes <a class="reference internal" href="email.mime#email.mime.nonmultipart.MIMENonMultipart" title="email.mime.nonmultipart.MIMENonMultipart"><code>MIMENonMultipart</code></a> and <a class="reference internal" href="email.mime#email.mime.multipart.MIMEMultipart" title="email.mime.multipart.MIMEMultipart"><code>MIMEMultipart</code></a> have been added, and interposed in the class hierarchy for most of the other MIME-related derived classes.</li> <li>The <em>_encoder</em> argument to the <a class="reference internal" href="email.mime#email.mime.text.MIMEText" title="email.mime.text.MIMEText"><code>MIMEText</code></a> constructor has been deprecated. Encoding now happens implicitly based on the <em>_charset</em> argument.</li> <li>The following functions in the <code>email.Utils</code> module have been deprecated: <code>dump_address_pairs()</code>, <code>decode()</code>, and <code>encode()</code>. The following functions have been added to the module: <code>make_msgid()</code>, <code>decode_rfc2231()</code>, <code>encode_rfc2231()</code>, and <code>decode_params()</code>.</li> <li>The non-public function <code>email.Iterators._structure()</code> was added.</li> </ul>   <h2 id="differences-from-mimelib">13. Differences from <code>mimelib</code>
</h2> <p>The <a class="reference internal" href="#module-email" title="email: Package supporting the parsing, manipulating, and generating email messages, including MIME documents."><code>email</code></a> package was originally prototyped as a separate library called <a class="reference external" href="http://mimelib.sourceforge.net/">mimelib</a>. Changes have been made so that method names are more consistent, and some methods or modules have either been added or removed. The semantics of some of the methods have also changed. For the most part, any functionality available in <code>mimelib</code> is still available in the <a class="reference internal" href="#module-email" title="email: Package supporting the parsing, manipulating, and generating email messages, including MIME documents."><code>email</code></a> package, albeit often in a different way. Backward compatibility between the <code>mimelib</code> package and the <a class="reference internal" href="#module-email" title="email: Package supporting the parsing, manipulating, and generating email messages, including MIME documents."><code>email</code></a> package was not a priority.</p> <p>Here is a brief description of the differences between the <code>mimelib</code> and the <a class="reference internal" href="#module-email" title="email: Package supporting the parsing, manipulating, and generating email messages, including MIME documents."><code>email</code></a> packages, along with hints on how to port your applications.</p> <p>Of course, the most visible difference between the two packages is that the package name has been changed to <a class="reference internal" href="#module-email" title="email: Package supporting the parsing, manipulating, and generating email messages, including MIME documents."><code>email</code></a>. In addition, the top-level package has the following differences:</p> <ul class="simple"> <li>
<code>messageFromString()</code> has been renamed to <a class="reference internal" href="email.parser#email.message_from_string" title="email.message_from_string"><code>message_from_string()</code></a>.</li> <li>
<code>messageFromFile()</code> has been renamed to <a class="reference internal" href="email.parser#email.message_from_file" title="email.message_from_file"><code>message_from_file()</code></a>.</li> </ul> <p>The <a class="reference internal" href="email.message#email.message.Message" title="email.message.Message"><code>Message</code></a> class has the following differences:</p> <ul class="simple"> <li>The method <code>asString()</code> was renamed to <a class="reference internal" href="email.message#email.message.Message.as_string" title="email.message.Message.as_string"><code>as_string()</code></a>.</li> <li>The method <code>ismultipart()</code> was renamed to <a class="reference internal" href="email.message#email.message.Message.is_multipart" title="email.message.Message.is_multipart"><code>is_multipart()</code></a>.</li> <li>The <a class="reference internal" href="email.message#email.message.Message.get_payload" title="email.message.Message.get_payload"><code>get_payload()</code></a> method has grown a <em>decode</em> optional argument.</li> <li>The method <code>getall()</code> was renamed to <a class="reference internal" href="email.message#email.message.Message.get_all" title="email.message.Message.get_all"><code>get_all()</code></a>.</li> <li>The method <code>addheader()</code> was renamed to <a class="reference internal" href="email.message#email.message.Message.add_header" title="email.message.Message.add_header"><code>add_header()</code></a>.</li> <li>The method <code>gettype()</code> was renamed to <code>get_type()</code>.</li> <li>The method <code>getmaintype()</code> was renamed to <code>get_main_type()</code>.</li> <li>The method <code>getsubtype()</code> was renamed to <code>get_subtype()</code>.</li> <li>The method <code>getparams()</code> was renamed to <a class="reference internal" href="email.message#email.message.Message.get_params" title="email.message.Message.get_params"><code>get_params()</code></a>. Also, whereas <code>getparams()</code> returned a list of strings, <a class="reference internal" href="email.message#email.message.Message.get_params" title="email.message.Message.get_params"><code>get_params()</code></a> returns a list of 2-tuples, effectively the key/value pairs of the parameters, split on the <code>'='</code> sign.</li> <li>The method <code>getparam()</code> was renamed to <a class="reference internal" href="email.message#email.message.Message.get_param" title="email.message.Message.get_param"><code>get_param()</code></a>.</li> <li>The method <code>getcharsets()</code> was renamed to <a class="reference internal" href="email.message#email.message.Message.get_charsets" title="email.message.Message.get_charsets"><code>get_charsets()</code></a>.</li> <li>The method <code>getfilename()</code> was renamed to <a class="reference internal" href="email.message#email.message.Message.get_filename" title="email.message.Message.get_filename"><code>get_filename()</code></a>.</li> <li>The method <code>getboundary()</code> was renamed to <a class="reference internal" href="email.message#email.message.Message.get_boundary" title="email.message.Message.get_boundary"><code>get_boundary()</code></a>.</li> <li>The method <code>setboundary()</code> was renamed to <a class="reference internal" href="email.message#email.message.Message.set_boundary" title="email.message.Message.set_boundary"><code>set_boundary()</code></a>.</li> <li>The method <code>getdecodedpayload()</code> was removed. To get similar functionality, pass the value 1 to the <em>decode</em> flag of the <a class="reference internal" href="email.message#email.message.Message.get_payload" title="email.message.Message.get_payload"><code>get_payload()</code></a> method.</li> <li>The method <code>getpayloadastext()</code> was removed. Similar functionality is supported by the <a class="reference internal" href="email.generator#email.generator.DecodedGenerator" title="email.generator.DecodedGenerator"><code>DecodedGenerator</code></a> class in the <a class="reference internal" href="email.generator#module-email.generator" title="email.generator: Generate flat text email messages from a message structure."><code>email.generator</code></a> module.</li> <li>The method <code>getbodyastext()</code> was removed. You can get similar functionality by creating an iterator with <a class="reference internal" href="email.iterators#email.iterators.typed_subpart_iterator" title="email.iterators.typed_subpart_iterator"><code>typed_subpart_iterator()</code></a> in the <a class="reference internal" href="email.iterators#module-email.iterators" title="email.iterators: Iterate over a  message object tree."><code>email.iterators</code></a> module.</li> </ul> <p>The <a class="reference internal" href="email.parser#email.parser.Parser" title="email.parser.Parser"><code>Parser</code></a> class has no differences in its public interface. It does have some additional smarts to recognize <em class="mimetype">message/delivery-status</em> type messages, which it represents as a <a class="reference internal" href="email.message#email.message.Message" title="email.message.Message"><code>Message</code></a> instance containing separate <a class="reference internal" href="email.message#email.message.Message" title="email.message.Message"><code>Message</code></a> subparts for each header block in the delivery status notification <a class="footnote-reference brackets" href="#id2" id="id1">1</a>.</p> <p>The <a class="reference internal" href="email.generator#email.generator.Generator" title="email.generator.Generator"><code>Generator</code></a> class has no differences in its public interface. There is a new class in the <a class="reference internal" href="email.generator#module-email.generator" title="email.generator: Generate flat text email messages from a message structure."><code>email.generator</code></a> module though, called <a class="reference internal" href="email.generator#email.generator.DecodedGenerator" title="email.generator.DecodedGenerator"><code>DecodedGenerator</code></a> which provides most of the functionality previously available in the <code>Message.getpayloadastext()</code> method.</p> <p>The following modules and classes have been changed:</p> <ul> <li>The <a class="reference internal" href="email.mime#email.mime.base.MIMEBase" title="email.mime.base.MIMEBase"><code>MIMEBase</code></a> class constructor arguments <em>_major</em> and <em>_minor</em> have changed to <em>_maintype</em> and <em>_subtype</em> respectively.</li> <li>The <code>Image</code> class/module has been renamed to <code>MIMEImage</code>. The <em>_minor</em> argument has been renamed to <em>_subtype</em>.</li> <li>The <code>Text</code> class/module has been renamed to <code>MIMEText</code>. The <em>_minor</em> argument has been renamed to <em>_subtype</em>.</li> <li>
<p>The <code>MessageRFC822</code> class/module has been renamed to <code>MIMEMessage</code>. Note that an earlier version of <code>mimelib</code> called this class/module <code>RFC822</code>, but that clashed with the Python standard library module <a class="reference internal" href="rfc822#module-rfc822" title="rfc822: Parse 2822 style mail messages. (deprecated)"><code>rfc822</code></a> on some case-insensitive file systems.</p> <p>Also, the <a class="reference internal" href="email.mime#email.mime.message.MIMEMessage" title="email.mime.message.MIMEMessage"><code>MIMEMessage</code></a> class now represents any kind of MIME message with main type <em class="mimetype">message</em>. It takes an optional argument <em>_subtype</em> which is used to set the MIME subtype. <em>_subtype</em> defaults to <em class="mimetype">rfc822</em>.</p> </li> </ul> <p><code>mimelib</code> provided some utility functions in its <code>address</code> and <code>date</code> modules. All of these functions have been moved to the <a class="reference internal" href="email.utils#module-email.utils" title="email.utils: Miscellaneous email package utilities."><code>email.utils</code></a> module.</p> <p>The <code>MsgReader</code> class/module has been removed. Its functionality is most closely supported in the <a class="reference internal" href="email.iterators#email.iterators.body_line_iterator" title="email.iterators.body_line_iterator"><code>body_line_iterator()</code></a> function in the <a class="reference internal" href="email.iterators#module-email.iterators" title="email.iterators: Iterate over a  message object tree."><code>email.iterators</code></a> module.</p> <h4 class="rubric">Footnotes</h4> <dl class="footnote brackets"> <dt class="label" id="id2">
<code>1</code> </dt> <dd>
<p>Delivery Status Notifications (DSN) are defined in <a class="rfc reference external" href="https://tools.ietf.org/html/rfc1894.html" id="index-9"><strong>RFC 1894</strong></a>.</p> </dd> </dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 2001–2020 Python Software Foundation<br>Licensed under the PSF License.<br>
    <a href="https://docs.python.org/2.7/library/email.html" class="_attribution-link">https://docs.python.org/2.7/library/email.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
