
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Cookie - Python 2.7 - W3cubDocs</title>
  
  <meta name="description" content=" Note ">
  <meta name="keywords" content="cookie, —, http, state, management, python, python~2.7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/python~2.7/library/cookie.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/python~2.7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/python~2.7/" class="_nav-link" title="" style="margin-left:0;">Python 2.7</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _python">
				
				
<h1 id="cookie-http-state-management"> Cookie — HTTP state management</h1> <div class="admonition note" id="module-Cookie"> <p class="admonition-title">Note</p> <p>The <a class="reference internal" href="#module-Cookie" title="Cookie: Support for HTTP state management (cookies)."><code>Cookie</code></a> module has been renamed to <code>http.cookies</code> in Python 3. The <a class="reference internal" href="https://docs.python.org/2.7/glossary.html#term-2to3"><span class="xref std std-term">2to3</span></a> tool will automatically adapt imports when converting your sources to Python 3.</p> </div> <p><strong>Source code:</strong> <a class="reference external" href="https://github.com/python/cpython/tree/2.7/Lib/Cookie.py">Lib/Cookie.py</a></p>  <p>The <a class="reference internal" href="#module-Cookie" title="Cookie: Support for HTTP state management (cookies)."><code>Cookie</code></a> module defines classes for abstracting the concept of cookies, an HTTP state management mechanism. It supports both simple string-only cookies, and provides an abstraction for having any serializable data-type as cookie value.</p> <p>The module formerly strictly applied the parsing rules described in the <a class="rfc reference external" href="https://tools.ietf.org/html/rfc2109.html" id="index-0"><strong>RFC 2109</strong></a> and <a class="rfc reference external" href="https://tools.ietf.org/html/rfc2068.html" id="index-1"><strong>RFC 2068</strong></a> specifications. It has since been discovered that MSIE 3.0x doesn’t follow the character rules outlined in those specs and also many current day browsers and servers have relaxed parsing rules when comes to Cookie handling. As a result, the parsing rules used are a bit less strict.</p> <p>The character set, <a class="reference internal" href="string#string.ascii_letters" title="string.ascii_letters"><code>string.ascii_letters</code></a>, <a class="reference internal" href="string#string.digits" title="string.digits"><code>string.digits</code></a> and <code>!#$%&amp;'*+-.^_`|~</code> denote the set of valid characters allowed by this module in Cookie name (as <a class="reference internal" href="#Cookie.Morsel.key" title="Cookie.Morsel.key"><code>key</code></a>).</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>On encountering an invalid cookie, <a class="reference internal" href="#Cookie.CookieError" title="Cookie.CookieError"><code>CookieError</code></a> is raised, so if your cookie data comes from a browser you should always prepare for invalid data and catch <a class="reference internal" href="#Cookie.CookieError" title="Cookie.CookieError"><code>CookieError</code></a> on parsing.</p> </div> <dl class="exception"> <dt id="Cookie.CookieError">
<code>exception Cookie.CookieError</code> </dt> <dd>
<p>Exception failing because of <a class="rfc reference external" href="https://tools.ietf.org/html/rfc2109.html" id="index-2"><strong>RFC 2109</strong></a> invalidity: incorrect attributes, incorrect <em class="mailheader">Set-Cookie</em> header, etc.</p> </dd>
</dl> <dl class="class"> <dt id="Cookie.BaseCookie">
<code>class Cookie.BaseCookie([input])</code> </dt> <dd>
<p>This class is a dictionary-like object whose keys are strings and whose values are <a class="reference internal" href="#Cookie.Morsel" title="Cookie.Morsel"><code>Morsel</code></a> instances. Note that upon setting a key to a value, the value is first converted to a <a class="reference internal" href="#Cookie.Morsel" title="Cookie.Morsel"><code>Morsel</code></a> containing the key and the value.</p> <p>If <em>input</em> is given, it is passed to the <a class="reference internal" href="#Cookie.BaseCookie.load" title="Cookie.BaseCookie.load"><code>load()</code></a> method.</p> </dd>
</dl> <dl class="class"> <dt id="Cookie.SimpleCookie">
<code>class Cookie.SimpleCookie([input])</code> </dt> <dd>
<p>This class derives from <a class="reference internal" href="#Cookie.BaseCookie" title="Cookie.BaseCookie"><code>BaseCookie</code></a> and overrides <code>value_decode()</code> and <code>value_encode()</code> to be the identity and <a class="reference internal" href="functions#str" title="str"><code>str()</code></a> respectively.</p> </dd>
</dl> <dl class="class"> <dt id="Cookie.SerialCookie">
<code>class Cookie.SerialCookie([input])</code> </dt> <dd>
<p>This class derives from <a class="reference internal" href="#Cookie.BaseCookie" title="Cookie.BaseCookie"><code>BaseCookie</code></a> and overrides <code>value_decode()</code> and <code>value_encode()</code> to be the <a class="reference internal" href="pickle#pickle.loads" title="pickle.loads"><code>pickle.loads()</code></a> and <a class="reference internal" href="pickle#pickle.dumps" title="pickle.dumps"><code>pickle.dumps()</code></a>.</p> <div class="deprecated"> <p><span class="versionmodified deprecated">Deprecated since version 2.3: </span>Reading pickled values from untrusted cookie data is a huge security hole, as pickle strings can be crafted to cause arbitrary code to execute on your server. It is supported for backwards compatibility only, and may eventually go away.</p> </div> </dd>
</dl> <dl class="class"> <dt id="Cookie.SmartCookie">
<code>class Cookie.SmartCookie([input])</code> </dt> <dd>
<p>This class derives from <a class="reference internal" href="#Cookie.BaseCookie" title="Cookie.BaseCookie"><code>BaseCookie</code></a>. It overrides <code>value_decode()</code> to be <a class="reference internal" href="pickle#pickle.loads" title="pickle.loads"><code>pickle.loads()</code></a> if it is a valid pickle, and otherwise the value itself. It overrides <code>value_encode()</code> to be <a class="reference internal" href="pickle#pickle.dumps" title="pickle.dumps"><code>pickle.dumps()</code></a> unless it is a string, in which case it returns the value itself.</p> <div class="deprecated"> <p><span class="versionmodified deprecated">Deprecated since version 2.3: </span>The same security warning from <a class="reference internal" href="#Cookie.SerialCookie" title="Cookie.SerialCookie"><code>SerialCookie</code></a> applies here.</p> </div> </dd>
</dl> <p>A further security note is warranted. For backwards compatibility, the <a class="reference internal" href="#module-Cookie" title="Cookie: Support for HTTP state management (cookies)."><code>Cookie</code></a> module exports a class named <code>Cookie</code> which is just an alias for <a class="reference internal" href="#Cookie.SmartCookie" title="Cookie.SmartCookie"><code>SmartCookie</code></a>. This is probably a mistake and will likely be removed in a future version. You should not use the <code>Cookie</code> class in your applications, for the same reason why you should not use the <a class="reference internal" href="#Cookie.SerialCookie" title="Cookie.SerialCookie"><code>SerialCookie</code></a> class.</p> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt>
<code>Module</code> <a class="reference internal" href="cookielib#module-cookielib" title="cookielib: Classes for automatic handling of HTTP cookies."><code>cookielib</code></a>
</dt>
<dd>
<p>HTTP cookie handling for web <em>clients</em>. The <a class="reference internal" href="cookielib#module-cookielib" title="cookielib: Classes for automatic handling of HTTP cookies."><code>cookielib</code></a> and <a class="reference internal" href="#module-Cookie" title="Cookie: Support for HTTP state management (cookies)."><code>Cookie</code></a> modules do not depend on each other.</p> </dd> <dt>
<a class="rfc reference external" href="https://tools.ietf.org/html/rfc2109.html" id="index-3"><strong>RFC 2109</strong></a> - HTTP State Management Mechanism</dt>
<dd>
<p>This is the state management specification implemented by this module.</p> </dd> </dl> </div>  <h2 id="id1">1. Cookie Objects</h2> <dl class="method" id="cookie-objects"> <dt id="Cookie.BaseCookie.value_decode">
<code>BaseCookie.value_decode(val)</code> </dt> <dd>
<p>Return a decoded value from a string representation. Return value can be any type. This method does nothing in <a class="reference internal" href="#Cookie.BaseCookie" title="Cookie.BaseCookie"><code>BaseCookie</code></a> — it exists so it can be overridden.</p> </dd>
</dl> <dl class="method"> <dt id="Cookie.BaseCookie.value_encode">
<code>BaseCookie.value_encode(val)</code> </dt> <dd>
<p>Return an encoded value. <em>val</em> can be any type, but return value must be a string. This method does nothing in <a class="reference internal" href="#Cookie.BaseCookie" title="Cookie.BaseCookie"><code>BaseCookie</code></a> — it exists so it can be overridden.</p> <p>In general, it should be the case that <a class="reference internal" href="#Cookie.BaseCookie.value_encode" title="Cookie.BaseCookie.value_encode"><code>value_encode()</code></a> and <a class="reference internal" href="#Cookie.BaseCookie.value_decode" title="Cookie.BaseCookie.value_decode"><code>value_decode()</code></a> are inverses on the range of <em>value_decode</em>.</p> </dd>
</dl> <dl class="method"> <dt id="Cookie.BaseCookie.output">
<code>BaseCookie.output([attrs[, header[, sep]]])</code> </dt> <dd>
<p>Return a string representation suitable to be sent as HTTP headers. <em>attrs</em> and <em>header</em> are sent to each <a class="reference internal" href="#Cookie.Morsel" title="Cookie.Morsel"><code>Morsel</code></a>’s <a class="reference internal" href="#Cookie.BaseCookie.output" title="Cookie.BaseCookie.output"><code>output()</code></a> method. <em>sep</em> is used to join the headers together, and is by default the combination <code>'\r\n'</code> (CRLF).</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.5: </span>The default separator has been changed from <code>'\n'</code> to match the cookie specification.</p> </div> </dd>
</dl> <dl class="method"> <dt id="Cookie.BaseCookie.js_output">
<code>BaseCookie.js_output([attrs])</code> </dt> <dd>
<p>Return an embeddable JavaScript snippet, which, if run on a browser which supports JavaScript, will act the same as if the HTTP headers was sent.</p> <p>The meaning for <em>attrs</em> is the same as in <a class="reference internal" href="#Cookie.BaseCookie.output" title="Cookie.BaseCookie.output"><code>output()</code></a>.</p> </dd>
</dl> <dl class="method"> <dt id="Cookie.BaseCookie.load">
<code>BaseCookie.load(rawdata)</code> </dt> <dd>
<p>If <em>rawdata</em> is a string, parse it as an <code>HTTP_COOKIE</code> and add the values found there as <a class="reference internal" href="#Cookie.Morsel" title="Cookie.Morsel"><code>Morsel</code></a>s. If it is a dictionary, it is equivalent to:</p> <pre data-language="python">for k, v in rawdata.items():
    cookie[k] = v
</pre> </dd>
</dl>   <h2 id="id2">2. Morsel Objects</h2> <dl class="class" id="morsel-objects"> <dt id="Cookie.Morsel">
<code>class Cookie.Morsel</code> </dt> <dd>
<p>Abstract a key/value pair, which has some <a class="rfc reference external" href="https://tools.ietf.org/html/rfc2109.html" id="index-4"><strong>RFC 2109</strong></a> attributes.</p> <p>Morsels are dictionary-like objects, whose set of keys is constant — the valid <a class="rfc reference external" href="https://tools.ietf.org/html/rfc2109.html" id="index-5"><strong>RFC 2109</strong></a> attributes, which are</p> <ul class="simple"> <li><code>expires</code></li> <li><code>path</code></li> <li><code>comment</code></li> <li><code>domain</code></li> <li><code>max-age</code></li> <li><code>secure</code></li> <li><code>version</code></li> <li><code>httponly</code></li> </ul> <p>The attribute <code>httponly</code> specifies that the cookie is only transferred in HTTP requests, and is not accessible through JavaScript. This is intended to mitigate some forms of cross-site scripting.</p> <p>The keys are case-insensitive.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.6: </span>The <code>httponly</code> attribute was added.</p> </div> </dd>
</dl> <dl class="attribute"> <dt id="Cookie.Morsel.value">
<code>Morsel.value</code> </dt> <dd>
<p>The value of the cookie.</p> </dd>
</dl> <dl class="attribute"> <dt id="Cookie.Morsel.coded_value">
<code>Morsel.coded_value</code> </dt> <dd>
<p>The encoded value of the cookie — this is what should be sent.</p> </dd>
</dl> <dl class="attribute"> <dt id="Cookie.Morsel.key">
<code>Morsel.key</code> </dt> <dd>
<p>The name of the cookie.</p> </dd>
</dl> <dl class="method"> <dt id="Cookie.Morsel.set">
<code>Morsel.set(key, value, coded_value)</code> </dt> <dd>
<p>Set the <em>key</em>, <em>value</em> and <em>coded_value</em> attributes.</p> </dd>
</dl> <dl class="method"> <dt id="Cookie.Morsel.isReservedKey">
<code>Morsel.isReservedKey(K)</code> </dt> <dd>
<p>Whether <em>K</em> is a member of the set of keys of a <a class="reference internal" href="#Cookie.Morsel" title="Cookie.Morsel"><code>Morsel</code></a>.</p> </dd>
</dl> <dl class="method"> <dt id="Cookie.Morsel.output">
<code>Morsel.output([attrs[, header]])</code> </dt> <dd>
<p>Return a string representation of the Morsel, suitable to be sent as an HTTP header. By default, all the attributes are included, unless <em>attrs</em> is given, in which case it should be a list of attributes to use. <em>header</em> is by default <code>"Set-Cookie:"</code>.</p> </dd>
</dl> <dl class="method"> <dt id="Cookie.Morsel.js_output">
<code>Morsel.js_output([attrs])</code> </dt> <dd>
<p>Return an embeddable JavaScript snippet, which, if run on a browser which supports JavaScript, will act the same as if the HTTP header was sent.</p> <p>The meaning for <em>attrs</em> is the same as in <a class="reference internal" href="#Cookie.Morsel.output" title="Cookie.Morsel.output"><code>output()</code></a>.</p> </dd>
</dl> <dl class="method"> <dt id="Cookie.Morsel.OutputString">
<code>Morsel.OutputString([attrs])</code> </dt> <dd>
<p>Return a string representing the Morsel, without any surrounding HTTP or JavaScript.</p> <p>The meaning for <em>attrs</em> is the same as in <a class="reference internal" href="#Cookie.Morsel.output" title="Cookie.Morsel.output"><code>output()</code></a>.</p> </dd>
</dl>   <h2 id="cookie-example">3. Example</h2> <p id="example">The following example demonstrates how to use the <a class="reference internal" href="#module-Cookie" title="Cookie: Support for HTTP state management (cookies)."><code>Cookie</code></a> module.</p> <pre data-language="pycon3">&gt;&gt;&gt; import Cookie
&gt;&gt;&gt; C = Cookie.SimpleCookie()
&gt;&gt;&gt; C["fig"] = "newton"
&gt;&gt;&gt; C["sugar"] = "wafer"
&gt;&gt;&gt; print C # generate HTTP headers
Set-Cookie: fig=newton
Set-Cookie: sugar=wafer
&gt;&gt;&gt; print C.output() # same thing
Set-Cookie: fig=newton
Set-Cookie: sugar=wafer
&gt;&gt;&gt; C = Cookie.SimpleCookie()
&gt;&gt;&gt; C["rocky"] = "road"
&gt;&gt;&gt; C["rocky"]["path"] = "/cookie"
&gt;&gt;&gt; print C.output(header="Cookie:")
Cookie: rocky=road; Path=/cookie
&gt;&gt;&gt; print C.output(attrs=[], header="Cookie:")
Cookie: rocky=road
&gt;&gt;&gt; C = Cookie.SimpleCookie()
&gt;&gt;&gt; C.load("chips=ahoy; vienna=finger") # load from a string (HTTP header)
&gt;&gt;&gt; print C
Set-Cookie: chips=ahoy
Set-Cookie: vienna=finger
&gt;&gt;&gt; C = Cookie.SimpleCookie()
&gt;&gt;&gt; C.load('keebler="E=everybody; L=\\"Loves\\"; fudge=\\012;";')
&gt;&gt;&gt; print C
Set-Cookie: keebler="E=everybody; L=\"Loves\"; fudge=\012;"
&gt;&gt;&gt; C = Cookie.SimpleCookie()
&gt;&gt;&gt; C["oreo"] = "doublestuff"
&gt;&gt;&gt; C["oreo"]["path"] = "/"
&gt;&gt;&gt; print C
Set-Cookie: oreo=doublestuff; Path=/
&gt;&gt;&gt; C["twix"] = "none for you"
&gt;&gt;&gt; C["twix"].value
'none for you'
&gt;&gt;&gt; C = Cookie.SimpleCookie()
&gt;&gt;&gt; C["number"] = 7 # equivalent to C["number"] = str(7)
&gt;&gt;&gt; C["string"] = "seven"
&gt;&gt;&gt; C["number"].value
'7'
&gt;&gt;&gt; C["string"].value
'seven'
&gt;&gt;&gt; print C
Set-Cookie: number=7
Set-Cookie: string=seven
&gt;&gt;&gt; # SerialCookie and SmartCookie are deprecated
&gt;&gt;&gt; # using it can cause security loopholes in your code.
&gt;&gt;&gt; C = Cookie.SerialCookie()
&gt;&gt;&gt; C["number"] = 7
&gt;&gt;&gt; C["string"] = "seven"
&gt;&gt;&gt; C["number"].value
7
&gt;&gt;&gt; C["string"].value
'seven'
&gt;&gt;&gt; print C
Set-Cookie: number="I7\012."
Set-Cookie: string="S'seven'\012p1\012."
&gt;&gt;&gt; C = Cookie.SmartCookie()
&gt;&gt;&gt; C["number"] = 7
&gt;&gt;&gt; C["string"] = "seven"
&gt;&gt;&gt; C["number"].value
7
&gt;&gt;&gt; C["string"].value
'seven'
&gt;&gt;&gt; print C
Set-Cookie: number="I7\012."
Set-Cookie: string=seven
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © 2001–2020 Python Software Foundation<br>Licensed under the PSF License.<br>
    <a href="https://docs.python.org/2.7/library/cookie.html" class="_attribution-link">https://docs.python.org/2.7/library/cookie.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
