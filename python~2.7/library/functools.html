
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Functools - Python 2.7 - W3cubDocs</title>
  
  <meta name="description" content=" New in version 2.5. ">
  <meta name="keywords" content="functools, —, higher-order, functions, and, operations, on, callable, objects, python, python~2.7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/python~2.7/library/functools.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/python~2.7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/python~2.7/" class="_nav-link" title="" style="margin-left:0;">Python 2.7</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _python">
				
				
<h1 id="functools-higher-order-functions-and-operations-on-callable-objects"> functools — Higher-order functions and operations on callable objects</h1> <div class="versionadded" id="module-functools"> <p><span class="versionmodified added">New in version 2.5.</span></p> </div> <p><strong>Source code:</strong> <a class="reference external" href="https://github.com/python/cpython/tree/2.7/Lib/functools.py">Lib/functools.py</a></p>  <p>The <a class="reference internal" href="#module-functools" title="functools: Higher-order functions and operations on callable objects."><code>functools</code></a> module is for higher-order functions: functions that act on or return other functions. In general, any callable object can be treated as a function for the purposes of this module.</p> <p>The <a class="reference internal" href="#module-functools" title="functools: Higher-order functions and operations on callable objects."><code>functools</code></a> module defines the following functions:</p> <dl class="function"> <dt id="functools.cmp_to_key">
<code>functools.cmp_to_key(func)</code> </dt> <dd>
<p>Transform an old-style comparison function to a <a class="reference internal" href="https://docs.python.org/2.7/glossary.html#term-key-function"><span class="xref std std-term">key function</span></a>. Used with tools that accept key functions (such as <a class="reference internal" href="functions#sorted" title="sorted"><code>sorted()</code></a>, <a class="reference internal" href="functions#min" title="min"><code>min()</code></a>, <a class="reference internal" href="functions#max" title="max"><code>max()</code></a>, <a class="reference internal" href="heapq#heapq.nlargest" title="heapq.nlargest"><code>heapq.nlargest()</code></a>, <a class="reference internal" href="heapq#heapq.nsmallest" title="heapq.nsmallest"><code>heapq.nsmallest()</code></a>, <a class="reference internal" href="itertools#itertools.groupby" title="itertools.groupby"><code>itertools.groupby()</code></a>). This function is primarily used as a transition tool for programs being converted to Python 3 where comparison functions are no longer supported.</p> <p>A comparison function is any callable that accept two arguments, compares them, and returns a negative number for less-than, zero for equality, or a positive number for greater-than. A key function is a callable that accepts one argument and returns another value to be used as the sort key.</p> <p>Example:</p> <pre data-language="python">sorted(iterable, key=cmp_to_key(locale.strcoll))  # locale-aware sort order
</pre> <p>For sorting examples and a brief sorting tutorial, see <a class="reference internal" href="https://docs.python.org/2.7/howto/sorting.html#sortinghowto"><span class="std std-ref">Sorting HOW TO</span></a>.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.7.</span></p> </div> </dd>
</dl> <dl class="function"> <dt id="functools.total_ordering">
<code>functools.total_ordering(cls)</code> </dt> <dd>
<p>Given a class defining one or more rich comparison ordering methods, this class decorator supplies the rest. This simplifies the effort involved in specifying all of the possible rich comparison operations:</p> <p>The class must define one of <a class="reference internal" href="https://docs.python.org/2.7/reference/datamodel.html#object.__lt__" title="object.__lt__"><code>__lt__()</code></a>, <a class="reference internal" href="https://docs.python.org/2.7/reference/datamodel.html#object.__le__" title="object.__le__"><code>__le__()</code></a>, <a class="reference internal" href="https://docs.python.org/2.7/reference/datamodel.html#object.__gt__" title="object.__gt__"><code>__gt__()</code></a>, or <a class="reference internal" href="https://docs.python.org/2.7/reference/datamodel.html#object.__ge__" title="object.__ge__"><code>__ge__()</code></a>. In addition, the class should supply an <a class="reference internal" href="https://docs.python.org/2.7/reference/datamodel.html#object.__eq__" title="object.__eq__"><code>__eq__()</code></a> method.</p> <p>For example:</p> <pre data-language="python">@total_ordering
class Student:
    def __eq__(self, other):
        return ((self.lastname.lower(), self.firstname.lower()) ==
                (other.lastname.lower(), other.firstname.lower()))
    def __lt__(self, other):
        return ((self.lastname.lower(), self.firstname.lower()) &lt;
                (other.lastname.lower(), other.firstname.lower()))
</pre> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.7.</span></p> </div> </dd>
</dl> <dl class="function"> <dt id="functools.reduce">
<code>functools.reduce(function, iterable[, initializer])</code> </dt> <dd>
<p>This is the same function as <a class="reference internal" href="functions#reduce" title="reduce"><code>reduce()</code></a>. It is made available in this module to allow writing code more forward-compatible with Python 3.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.6.</span></p> </div> </dd>
</dl> <dl class="function"> <dt id="functools.partial">
<code>functools.partial(func[,*args][, **keywords])</code> </dt> <dd>
<p>Return a new <a class="reference internal" href="#partial-objects"><span class="std std-ref">partial object</span></a> which when called will behave like <em>func</em> called with the positional arguments <em>args</em> and keyword arguments <em>keywords</em>. If more arguments are supplied to the call, they are appended to <em>args</em>. If additional keyword arguments are supplied, they extend and override <em>keywords</em>. Roughly equivalent to:</p> <pre data-language="python">def partial(func, *args, **keywords):
    def newfunc(*fargs, **fkeywords):
        newkeywords = keywords.copy()
        newkeywords.update(fkeywords)
        return func(*(args + fargs), **newkeywords)
    newfunc.func = func
    newfunc.args = args
    newfunc.keywords = keywords
    return newfunc
</pre> <p>The <a class="reference internal" href="#functools.partial" title="functools.partial"><code>partial()</code></a> is used for partial function application which “freezes” some portion of a function’s arguments and/or keywords resulting in a new object with a simplified signature. For example, <a class="reference internal" href="#functools.partial" title="functools.partial"><code>partial()</code></a> can be used to create a callable that behaves like the <a class="reference internal" href="functions#int" title="int"><code>int()</code></a> function where the <em>base</em> argument defaults to two:</p> <pre data-language="python">&gt;&gt;&gt; from functools import partial
&gt;&gt;&gt; basetwo = partial(int, base=2)
&gt;&gt;&gt; basetwo.__doc__ = 'Convert base 2 string to an int.'
&gt;&gt;&gt; basetwo('10010')
18
</pre> </dd>
</dl> <dl class="function"> <dt id="functools.update_wrapper">
<code>functools.update_wrapper(wrapper, wrapped[, assigned][, updated])</code> </dt> <dd>
<p>Update a <em>wrapper</em> function to look like the <em>wrapped</em> function. The optional arguments are tuples to specify which attributes of the original function are assigned directly to the matching attributes on the wrapper function and which attributes of the wrapper function are updated with the corresponding attributes from the original function. The default values for these arguments are the module level constants <em>WRAPPER_ASSIGNMENTS</em> (which assigns to the wrapper function’s <em>__name__</em>, <em>__module__</em> and <em>__doc__</em>, the documentation string) and <em>WRAPPER_UPDATES</em> (which updates the wrapper function’s <em>__dict__</em>, i.e. the instance dictionary).</p> <p>The main intended use for this function is in <a class="reference internal" href="https://docs.python.org/2.7/glossary.html#term-decorator"><span class="xref std std-term">decorator</span></a> functions which wrap the decorated function and return the wrapper. If the wrapper function is not updated, the metadata of the returned function will reflect the wrapper definition rather than the original function definition, which is typically less than helpful.</p> </dd>
</dl> <dl class="function"> <dt id="functools.wraps">
<code>functools.wraps(wrapped[, assigned][, updated])</code> </dt> <dd>
<p>This is a convenience function for invoking <a class="reference internal" href="#functools.update_wrapper" title="functools.update_wrapper"><code>update_wrapper()</code></a> as a function decorator when defining a wrapper function. It is equivalent to <code>partial(update_wrapper, wrapped=wrapped, assigned=assigned, updated=updated)</code>. For example:</p> <pre data-language="python">&gt;&gt;&gt; from functools import wraps
&gt;&gt;&gt; def my_decorator(f):
...     @wraps(f)
...     def wrapper(*args, **kwds):
...         print 'Calling decorated function'
...         return f(*args, **kwds)
...     return wrapper
...
&gt;&gt;&gt; @my_decorator
... def example():
...     """Docstring"""
...     print 'Called example function'
...
&gt;&gt;&gt; example()
Calling decorated function
Called example function
&gt;&gt;&gt; example.__name__
'example'
&gt;&gt;&gt; example.__doc__
'Docstring'
</pre> <p>Without the use of this decorator factory, the name of the example function would have been <code>'wrapper'</code>, and the docstring of the original <code>example()</code> would have been lost.</p> </dd>
</dl>  <h2 id="id1">1. partial Objects</h2> <p id="partial-objects"><a class="reference internal" href="#functools.partial" title="functools.partial"><code>partial</code></a> objects are callable objects created by <a class="reference internal" href="#functools.partial" title="functools.partial"><code>partial()</code></a>. They have three read-only attributes:</p> <dl class="attribute"> <dt id="functools.partial.func">
<code>partial.func</code> </dt> <dd>
<p>A callable object or function. Calls to the <a class="reference internal" href="#functools.partial" title="functools.partial"><code>partial</code></a> object will be forwarded to <a class="reference internal" href="#functools.partial.func" title="functools.partial.func"><code>func</code></a> with new arguments and keywords.</p> </dd>
</dl> <dl class="attribute"> <dt id="functools.partial.args">
<code>partial.args</code> </dt> <dd>
<p>The leftmost positional arguments that will be prepended to the positional arguments provided to a <a class="reference internal" href="#functools.partial" title="functools.partial"><code>partial</code></a> object call.</p> </dd>
</dl> <dl class="attribute"> <dt id="functools.partial.keywords">
<code>partial.keywords</code> </dt> <dd>
<p>The keyword arguments that will be supplied when the <a class="reference internal" href="#functools.partial" title="functools.partial"><code>partial</code></a> object is called.</p> </dd>
</dl> <p><a class="reference internal" href="#functools.partial" title="functools.partial"><code>partial</code></a> objects are like <code>function</code> objects in that they are callable, weak referencable, and can have attributes. There are some important differences. For instance, the <a class="reference internal" href="stdtypes#definition.__name__" title="definition.__name__"><code>__name__</code></a> and <code>__doc__</code> attributes are not created automatically. Also, <a class="reference internal" href="#functools.partial" title="functools.partial"><code>partial</code></a> objects defined in classes behave like static methods and do not transform into bound methods during instance attribute look-up.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2001–2020 Python Software Foundation<br>Licensed under the PSF License.<br>
    <a href="https://docs.python.org/2.7/library/functools.html" class="_attribution-link">https://docs.python.org/2.7/library/functools.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
