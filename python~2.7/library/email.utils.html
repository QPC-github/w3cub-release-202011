
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>email.utils&#58; Miscellaneous Utilities - Python 2.7 - W3cubDocs</title>
  
  <meta name="description" content=" There are several useful utilities provided in the email.utils module&#58; ">
  <meta name="keywords" content="email, utils, miscellaneous, utilities, python, python~2.7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/python~2.7/library/email.utils.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/python~2.7.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/python~2.7/" class="_nav-link" title="" style="margin-left:0;">Python 2.7</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _python">
				
				
<h1 id="email-utils-miscellaneous-utilities"> email.utils: Miscellaneous utilities</h1> <p id="module-email.utils">There are several useful utilities provided in the <a class="reference internal" href="#module-email.utils" title="email.utils: Miscellaneous email package utilities."><code>email.utils</code></a> module:</p> <dl class="function"> <dt id="email.utils.quote">
<code>email.utils.quote(str)</code> </dt> <dd>
<p>Return a new string with backslashes in <em>str</em> replaced by two backslashes, and double quotes replaced by backslash-double quote.</p> </dd>
</dl> <dl class="function"> <dt id="email.utils.unquote">
<code>email.utils.unquote(str)</code> </dt> <dd>
<p>Return a new string which is an <em>unquoted</em> version of <em>str</em>. If <em>str</em> ends and begins with double quotes, they are stripped off. Likewise if <em>str</em> ends and begins with angle brackets, they are stripped off.</p> </dd>
</dl> <dl class="function"> <dt id="email.utils.parseaddr">
<code>email.utils.parseaddr(address)</code> </dt> <dd>
<p>Parse address – which should be the value of some address-containing field such as <em class="mailheader">To</em> or <em class="mailheader">Cc</em> – into its constituent <em>realname</em> and <em>email address</em> parts. Returns a tuple of that information, unless the parse fails, in which case a 2-tuple of <code>('', '')</code> is returned.</p> </dd>
</dl> <dl class="function"> <dt id="email.utils.formataddr">
<code>email.utils.formataddr(pair)</code> </dt> <dd>
<p>The inverse of <a class="reference internal" href="#email.utils.parseaddr" title="email.utils.parseaddr"><code>parseaddr()</code></a>, this takes a 2-tuple of the form <code>(realname,
email_address)</code> and returns the string value suitable for a <em class="mailheader">To</em> or <em class="mailheader">Cc</em> header. If the first element of <em>pair</em> is false, then the second element is returned unmodified.</p> </dd>
</dl> <dl class="function"> <dt id="email.utils.getaddresses">
<code>email.utils.getaddresses(fieldvalues)</code> </dt> <dd>
<p>This method returns a list of 2-tuples of the form returned by <code>parseaddr()</code>. <em>fieldvalues</em> is a sequence of header field values as might be returned by <a class="reference internal" href="email.message#email.message.Message.get_all" title="email.message.Message.get_all"><code>Message.get_all</code></a>. Here’s a simple example that gets all the recipients of a message:</p> <pre data-language="python">from email.utils import getaddresses

tos = msg.get_all('to', [])
ccs = msg.get_all('cc', [])
resent_tos = msg.get_all('resent-to', [])
resent_ccs = msg.get_all('resent-cc', [])
all_recipients = getaddresses(tos + ccs + resent_tos + resent_ccs)
</pre> </dd>
</dl> <dl class="function"> <dt id="email.utils.parsedate">
<code>email.utils.parsedate(date)</code> </dt> <dd>
<p>Attempts to parse a date according to the rules in <a class="rfc reference external" href="https://tools.ietf.org/html/rfc2822.html" id="index-0"><strong>RFC 2822</strong></a>. however, some mailers don’t follow that format as specified, so <a class="reference internal" href="#email.utils.parsedate" title="email.utils.parsedate"><code>parsedate()</code></a> tries to guess correctly in such cases. <em>date</em> is a string containing an <a class="rfc reference external" href="https://tools.ietf.org/html/rfc2822.html" id="index-1"><strong>RFC 2822</strong></a> date, such as <code>"Mon, 20 Nov 1995 19:12:08 -0500"</code>. If it succeeds in parsing the date, <a class="reference internal" href="#email.utils.parsedate" title="email.utils.parsedate"><code>parsedate()</code></a> returns a 9-tuple that can be passed directly to <a class="reference internal" href="time#time.mktime" title="time.mktime"><code>time.mktime()</code></a>; otherwise <code>None</code> will be returned. Note that indexes 6, 7, and 8 of the result tuple are not usable.</p> </dd>
</dl> <dl class="function"> <dt id="email.utils.parsedate_tz">
<code>email.utils.parsedate_tz(date)</code> </dt> <dd>
<p>Performs the same function as <a class="reference internal" href="#email.utils.parsedate" title="email.utils.parsedate"><code>parsedate()</code></a>, but returns either <code>None</code> or a 10-tuple; the first 9 elements make up a tuple that can be passed directly to <a class="reference internal" href="time#time.mktime" title="time.mktime"><code>time.mktime()</code></a>, and the tenth is the offset of the date’s timezone from UTC (which is the official term for Greenwich Mean Time) <a class="footnote-reference brackets" href="#id2" id="id1">1</a>. If the input string has no timezone, the last element of the tuple returned is <code>None</code>. Note that indexes 6, 7, and 8 of the result tuple are not usable.</p> </dd>
</dl> <dl class="function"> <dt id="email.utils.mktime_tz">
<code>email.utils.mktime_tz(tuple)</code> </dt> <dd>
<p>Turn a 10-tuple as returned by <a class="reference internal" href="#email.utils.parsedate_tz" title="email.utils.parsedate_tz"><code>parsedate_tz()</code></a> into a UTC timestamp (seconds since the Epoch). If the timezone item in the tuple is <code>None</code>, assume local time.</p> </dd>
</dl> <dl class="function"> <dt id="email.utils.formatdate">
<code>email.utils.formatdate([timeval[, localtime][, usegmt]])</code> </dt> <dd>
<p>Returns a date string as per <a class="rfc reference external" href="https://tools.ietf.org/html/rfc2822.html" id="index-2"><strong>RFC 2822</strong></a>, e.g.:</p> <pre data-language="python">Fri, 09 Nov 2001 01:08:47 -0000
</pre> <p>Optional <em>timeval</em> if given is a floating point time value as accepted by <a class="reference internal" href="time#time.gmtime" title="time.gmtime"><code>time.gmtime()</code></a> and <a class="reference internal" href="time#time.localtime" title="time.localtime"><code>time.localtime()</code></a>, otherwise the current time is used.</p> <p>Optional <em>localtime</em> is a flag that when <code>True</code>, interprets <em>timeval</em>, and returns a date relative to the local timezone instead of UTC, properly taking daylight savings time into account. The default is <code>False</code> meaning UTC is used.</p> <p>Optional <em>usegmt</em> is a flag that when <code>True</code>, outputs a date string with the timezone as an ascii string <code>GMT</code>, rather than a numeric <code>-0000</code>. This is needed for some protocols (such as HTTP). This only applies when <em>localtime</em> is <code>False</code>. The default is <code>False</code>.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.4.</span></p> </div> </dd>
</dl> <dl class="function"> <dt id="email.utils.make_msgid">
<code>email.utils.make_msgid([idstring])</code> </dt> <dd>
<p>Returns a string suitable for an <a class="rfc reference external" href="https://tools.ietf.org/html/rfc2822.html" id="index-3"><strong>RFC 2822</strong></a>-compliant <em class="mailheader">Message-ID</em> header. Optional <em>idstring</em> if given, is a string used to strengthen the uniqueness of the message id.</p> </dd>
</dl> <dl class="function"> <dt id="email.utils.decode_rfc2231">
<code>email.utils.decode_rfc2231(s)</code> </dt> <dd>
<p>Decode the string <em>s</em> according to <a class="rfc reference external" href="https://tools.ietf.org/html/rfc2231.html" id="index-4"><strong>RFC 2231</strong></a>.</p> </dd>
</dl> <dl class="function"> <dt id="email.utils.encode_rfc2231">
<code>email.utils.encode_rfc2231(s[, charset[, language]])</code> </dt> <dd>
<p>Encode the string <em>s</em> according to <a class="rfc reference external" href="https://tools.ietf.org/html/rfc2231.html" id="index-5"><strong>RFC 2231</strong></a>. Optional <em>charset</em> and <em>language</em>, if given is the character set name and language name to use. If neither is given, <em>s</em> is returned as-is. If <em>charset</em> is given but <em>language</em> is not, the string is encoded using the empty string for <em>language</em>.</p> </dd>
</dl> <dl class="function"> <dt id="email.utils.collapse_rfc2231_value">
<code>email.utils.collapse_rfc2231_value(value[, errors[, fallback_charset]])</code> </dt> <dd>
<p>When a header parameter is encoded in <a class="rfc reference external" href="https://tools.ietf.org/html/rfc2231.html" id="index-6"><strong>RFC 2231</strong></a> format, <a class="reference internal" href="email.message#email.message.Message.get_param" title="email.message.Message.get_param"><code>Message.get_param</code></a> may return a 3-tuple containing the character set, language, and value. <a class="reference internal" href="#email.utils.collapse_rfc2231_value" title="email.utils.collapse_rfc2231_value"><code>collapse_rfc2231_value()</code></a> turns this into a unicode string. Optional <em>errors</em> is passed to the <em>errors</em> argument of the built-in <a class="reference internal" href="functions#unicode" title="unicode"><code>unicode()</code></a> function; it defaults to <code>replace</code>. Optional <em>fallback_charset</em> specifies the character set to use if the one in the <a class="rfc reference external" href="https://tools.ietf.org/html/rfc2231.html" id="index-7"><strong>RFC 2231</strong></a> header is not known by Python; it defaults to <code>us-ascii</code>.</p> <p>For convenience, if the <em>value</em> passed to <a class="reference internal" href="#email.utils.collapse_rfc2231_value" title="email.utils.collapse_rfc2231_value"><code>collapse_rfc2231_value()</code></a> is not a tuple, it should be a string and it is returned unquoted.</p> </dd>
</dl> <dl class="function"> <dt id="email.utils.decode_params">
<code>email.utils.decode_params(params)</code> </dt> <dd>
<p>Decode parameters list according to <a class="rfc reference external" href="https://tools.ietf.org/html/rfc2231.html" id="index-8"><strong>RFC 2231</strong></a>. <em>params</em> is a sequence of 2-tuples containing elements of the form <code>(content-type, string-value)</code>.</p> </dd>
</dl> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.4: </span>The <code>dump_address_pair()</code> function has been removed; use <a class="reference internal" href="#email.utils.formataddr" title="email.utils.formataddr"><code>formataddr()</code></a> instead.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.4: </span>The <code>decode()</code> function has been removed; use the <code>Header.decode_header</code> method instead.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.4: </span>The <code>encode()</code> function has been removed; use the <a class="reference internal" href="email.header#email.header.Header.encode" title="email.header.Header.encode"><code>Header.encode</code></a> method instead.</p> </div> <h4 class="rubric">Footnotes</h4> <dl class="footnote brackets"> <dt class="label" id="id2">
<code>1</code> </dt> <dd>
<p>Note that the sign of the timezone offset is the opposite of the sign of the <code>time.timezone</code> variable for the same timezone; the latter variable follows the POSIX standard while this module follows <a class="rfc reference external" href="https://tools.ietf.org/html/rfc2822.html" id="index-9"><strong>RFC 2822</strong></a>.</p> </dd> </dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 2001–2020 Python Software Foundation<br>Licensed under the PSF License.<br>
    <a href="https://docs.python.org/2.7/library/email.utils.html" class="_attribution-link">https://docs.python.org/2.7/library/email.utils.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
