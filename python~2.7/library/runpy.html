
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Runpy - Python 2.7 - W3cubDocs</title>
  
  <meta name="description" content=" New in version 2.5. ">
  <meta name="keywords" content="runpy, —, locating, and, executing, python, modules, python~2.7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/python~2.7/library/runpy.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/python~2.7.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/python~2.7/" class="_nav-link" title="" style="margin-left:0;">Python 2.7</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _python">
				
				
<h1 id="runpy-locating-and-executing-python-modules"> runpy — Locating and executing Python modules</h1> <div class="versionadded" id="module-runpy"> <p><span class="versionmodified added">New in version 2.5.</span></p> </div> <p><strong>Source code:</strong> <a class="reference external" href="https://github.com/python/cpython/tree/2.7/Lib/runpy.py">Lib/runpy.py</a></p>  <p>The <a class="reference internal" href="#module-runpy" title="runpy: Locate and run Python modules without importing them first."><code>runpy</code></a> module is used to locate and run Python modules without importing them first. Its main use is to implement the <a class="reference internal" href="https://docs.python.org/2.7/using/cmdline.html#cmdoption-m"><code>-m</code></a> command line switch that allows scripts to be located using the Python module namespace rather than the filesystem.</p> <p>The <a class="reference internal" href="#module-runpy" title="runpy: Locate and run Python modules without importing them first."><code>runpy</code></a> module provides two functions:</p> <dl class="function"> <dt id="runpy.run_module">
<code>runpy.run_module(mod_name, init_globals=None, run_name=None, alter_sys=False)</code> </dt> <dd>
<p id="index-0">Execute the code of the specified module and return the resulting module globals dictionary. The module’s code is first located using the standard import mechanism (refer to <a class="pep reference external" href="https://www.python.org/dev/peps/pep-0302" id="index-1"><strong>PEP 302</strong></a> for details) and then executed in a fresh module namespace.</p> <p>If the supplied module name refers to a package rather than a normal module, then that package is imported and the <code>__main__</code> submodule within that package is then executed and the resulting module globals dictionary returned.</p> <p>The optional dictionary argument <em>init_globals</em> may be used to pre-populate the module’s globals dictionary before the code is executed. The supplied dictionary will not be modified. If any of the special global variables below are defined in the supplied dictionary, those definitions are overridden by <a class="reference internal" href="#runpy.run_module" title="runpy.run_module"><code>run_module()</code></a>.</p> <p>The special global variables <code>__name__</code>, <code>__file__</code>, <code>__loader__</code> and <code>__package__</code> are set in the globals dictionary before the module code is executed (Note that this is a minimal set of variables - other variables may be set implicitly as an interpreter implementation detail).</p> <p><code>__name__</code> is set to <em>run_name</em> if this optional argument is not <a class="reference internal" href="constants#None" title="None"><code>None</code></a>, to <code>mod_name + '.__main__'</code> if the named module is a package and to the <em>mod_name</em> argument otherwise.</p> <p><code>__file__</code> is set to the name provided by the module loader. If the loader does not make filename information available, this variable is set to <a class="reference internal" href="constants#None" title="None"><code>None</code></a>.</p> <p><code>__loader__</code> is set to the <a class="pep reference external" href="https://www.python.org/dev/peps/pep-0302" id="index-2"><strong>PEP 302</strong></a> module loader used to retrieve the code for the module (This loader may be a wrapper around the standard import mechanism).</p> <p><code>__package__</code> is set to <em>mod_name</em> if the named module is a package and to <code>mod_name.rpartition('.')[0]</code> otherwise.</p> <p>If the argument <em>alter_sys</em> is supplied and evaluates to <a class="reference internal" href="constants#True" title="True"><code>True</code></a>, then <code>sys.argv[0]</code> is updated with the value of <code>__file__</code> and <code>sys.modules[__name__]</code> is updated with a temporary module object for the module being executed. Both <code>sys.argv[0]</code> and <code>sys.modules[__name__]</code> are restored to their original values before the function returns.</p> <p>Note that this manipulation of <a class="reference internal" href="sys#module-sys" title="sys: Access system-specific parameters and functions."><code>sys</code></a> is not thread-safe. Other threads may see the partially initialised module, as well as the altered list of arguments. It is recommended that the <a class="reference internal" href="sys#module-sys" title="sys: Access system-specific parameters and functions."><code>sys</code></a> module be left alone when invoking this function from threaded code.</p> <div class="admonition seealso"> <p class="admonition-title">See also</p> <p>The <a class="reference internal" href="https://docs.python.org/2.7/using/cmdline.html#cmdoption-m"><code>-m</code></a> option offering equivalent functionality from the command line.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.7: </span>Added ability to execute packages by looking for a <code>__main__</code> submodule</p> </div> </dd>
</dl> <dl class="function"> <dt id="runpy.run_path">
<code>runpy.run_path(file_path, init_globals=None, run_name=None)</code> </dt> <dd>
<p id="index-3">Execute the code at the named filesystem location and return the resulting module globals dictionary. As with a script name supplied to the CPython command line, the supplied path may refer to a Python source file, a compiled bytecode file or a valid sys.path entry containing a <code>__main__</code> module (e.g. a zipfile containing a top-level <code>__main__.py</code> file).</p> <p>For a simple script, the specified code is simply executed in a fresh module namespace. For a valid sys.path entry (typically a zipfile or directory), the entry is first added to the beginning of <code>sys.path</code>. The function then looks for and executes a <a class="reference internal" href="__main__#module-__main__" title="__main__: The environment where the top-level script is run."><code>__main__</code></a> module using the updated path. Note that there is no special protection against invoking an existing <a class="reference internal" href="__main__#module-__main__" title="__main__: The environment where the top-level script is run."><code>__main__</code></a> entry located elsewhere on <code>sys.path</code> if there is no such module at the specified location.</p> <p>The optional dictionary argument <em>init_globals</em> may be used to pre-populate the module’s globals dictionary before the code is executed. The supplied dictionary will not be modified. If any of the special global variables below are defined in the supplied dictionary, those definitions are overridden by <a class="reference internal" href="#runpy.run_path" title="runpy.run_path"><code>run_path()</code></a>.</p> <p>The special global variables <code>__name__</code>, <code>__file__</code>, <code>__loader__</code> and <code>__package__</code> are set in the globals dictionary before the module code is executed (Note that this is a minimal set of variables - other variables may be set implicitly as an interpreter implementation detail).</p> <p><code>__name__</code> is set to <em>run_name</em> if this optional argument is not <a class="reference internal" href="constants#None" title="None"><code>None</code></a> and to <code>'&lt;run_path&gt;'</code> otherwise.</p> <p><code>__file__</code> is set to the name provided by the module loader. If the loader does not make filename information available, this variable is set to <a class="reference internal" href="constants#None" title="None"><code>None</code></a>. For a simple script, this will be set to <code>file_path</code>.</p> <p><code>__loader__</code> is set to the <a class="pep reference external" href="https://www.python.org/dev/peps/pep-0302" id="index-4"><strong>PEP 302</strong></a> module loader used to retrieve the code for the module (This loader may be a wrapper around the standard import mechanism). For a simple script, this will be set to <a class="reference internal" href="constants#None" title="None"><code>None</code></a>.</p> <p><code>__package__</code> is set to <code>__name__.rpartition('.')[0]</code>.</p> <p>A number of alterations are also made to the <a class="reference internal" href="sys#module-sys" title="sys: Access system-specific parameters and functions."><code>sys</code></a> module. Firstly, <code>sys.path</code> may be altered as described above. <code>sys.argv[0]</code> is updated with the value of <code>file_path</code> and <code>sys.modules[__name__]</code> is updated with a temporary module object for the module being executed. All modifications to items in <a class="reference internal" href="sys#module-sys" title="sys: Access system-specific parameters and functions."><code>sys</code></a> are reverted before the function returns.</p> <p>Note that, unlike <a class="reference internal" href="#runpy.run_module" title="runpy.run_module"><code>run_module()</code></a>, the alterations made to <a class="reference internal" href="sys#module-sys" title="sys: Access system-specific parameters and functions."><code>sys</code></a> are not optional in this function as these adjustments are essential to allowing the execution of sys.path entries. As the thread-safety limitations still apply, use of this function in threaded code should be either serialised with the import lock or delegated to a separate process.</p> <div class="admonition seealso"> <p class="admonition-title">See also</p> <p><a class="reference internal" href="https://docs.python.org/2.7/using/cmdline.html#using-on-interface-options"><span class="std std-ref">Interface options</span></a> for equivalent functionality on the command line (<code>python path/to/script</code>).</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.7.</span></p> </div> </dd>
</dl> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt>
<a class="pep reference external" href="https://www.python.org/dev/peps/pep-0338" id="index-5"><strong>PEP 338</strong></a> – Executing modules as scripts</dt>
<dd>
<p>PEP written and implemented by Nick Coghlan.</p> </dd> <dt>
<a class="pep reference external" href="https://www.python.org/dev/peps/pep-0366" id="index-6"><strong>PEP 366</strong></a> – Main module explicit relative imports</dt>
<dd>
<p>PEP written and implemented by Nick Coghlan.</p> </dd> </dl> <p><a class="reference internal" href="https://docs.python.org/2.7/using/cmdline.html#using-on-general"><span class="std std-ref">Command line and environment</span></a> - CPython command line details</p> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2001–2020 Python Software Foundation<br>Licensed under the PSF License.<br>
    <a href="https://docs.python.org/2.7/library/runpy.html" class="_attribution-link">https://docs.python.org/2.7/library/runpy.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
