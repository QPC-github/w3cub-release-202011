
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>xml.dom.minidom - Python 2.7 - W3cubDocs</title>
  
  <meta name="description" content=" New in version 2.0. ">
  <meta name="keywords" content="xml, dom, minidom, —, minimal, implementation, python, python~2.7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/python~2.7/library/xml.dom.minidom.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/python~2.7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/python~2.7/" class="_nav-link" title="" style="margin-left:0;">Python 2.7</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _python">
				
				
<h1 id="xml-dom-minidom-minimal-dom-implementation"> xml.dom.minidom — Minimal DOM implementation</h1> <div class="versionadded" id="module-xml.dom.minidom"> <p><span class="versionmodified added">New in version 2.0.</span></p> </div> <p><strong>Source code:</strong> <a class="reference external" href="https://github.com/python/cpython/tree/2.7/Lib/xml/dom/minidom.py">Lib/xml/dom/minidom.py</a></p>  <p><a class="reference internal" href="#module-xml.dom.minidom" title="xml.dom.minidom: Minimal Document Object Model (DOM) implementation."><code>xml.dom.minidom</code></a> is a minimal implementation of the Document Object Model interface, with an API similar to that in other languages. It is intended to be simpler than the full DOM and also significantly smaller. Users who are not already proficient with the DOM should consider using the <a class="reference internal" href="xml.etree.elementtree#module-xml.etree.ElementTree" title="xml.etree.ElementTree: Implementation of the ElementTree API."><code>xml.etree.ElementTree</code></a> module for their XML processing instead.</p> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>The <a class="reference internal" href="#module-xml.dom.minidom" title="xml.dom.minidom: Minimal Document Object Model (DOM) implementation."><code>xml.dom.minidom</code></a> module is not secure against maliciously constructed data. If you need to parse untrusted or unauthenticated data see <a class="reference internal" href="xml#xml-vulnerabilities"><span class="std std-ref">XML vulnerabilities</span></a>.</p> </div> <p>DOM applications typically start by parsing some XML into a DOM. With <a class="reference internal" href="#module-xml.dom.minidom" title="xml.dom.minidom: Minimal Document Object Model (DOM) implementation."><code>xml.dom.minidom</code></a>, this is done through the parse functions:</p> <pre data-language="python">from xml.dom.minidom import parse, parseString

dom1 = parse('c:\\temp\\mydata.xml')  # parse an XML file by name

datasource = open('c:\\temp\\mydata.xml')
dom2 = parse(datasource)  # parse an open file

dom3 = parseString('&lt;myxml&gt;Some data&lt;empty/&gt; some more data&lt;/myxml&gt;')
</pre> <p>The <a class="reference internal" href="#xml.dom.minidom.parse" title="xml.dom.minidom.parse"><code>parse()</code></a> function can take either a filename or an open file object.</p> <dl class="function"> <dt id="xml.dom.minidom.parse">
<code>xml.dom.minidom.parse(filename_or_file[, parser[, bufsize]])</code> </dt> <dd>
<p>Return a <code>Document</code> from the given input. <em>filename_or_file</em> may be either a file name, or a file-like object. <em>parser</em>, if given, must be a SAX2 parser object. This function will change the document handler of the parser and activate namespace support; other parser configuration (like setting an entity resolver) must have been done in advance.</p> </dd>
</dl> <p>If you have XML in a string, you can use the <a class="reference internal" href="#xml.dom.minidom.parseString" title="xml.dom.minidom.parseString"><code>parseString()</code></a> function instead:</p> <dl class="function"> <dt id="xml.dom.minidom.parseString">
<code>xml.dom.minidom.parseString(string[, parser])</code> </dt> <dd>
<p>Return a <code>Document</code> that represents the <em>string</em>. This method creates a <a class="reference internal" href="stringio#StringIO.StringIO" title="StringIO.StringIO"><code>StringIO</code></a> object for the string and passes that on to <a class="reference internal" href="#xml.dom.minidom.parse" title="xml.dom.minidom.parse"><code>parse()</code></a>.</p> </dd>
</dl> <p>Both functions return a <code>Document</code> object representing the content of the document.</p> <p>What the <a class="reference internal" href="#xml.dom.minidom.parse" title="xml.dom.minidom.parse"><code>parse()</code></a> and <a class="reference internal" href="#xml.dom.minidom.parseString" title="xml.dom.minidom.parseString"><code>parseString()</code></a> functions do is connect an XML parser with a “DOM builder” that can accept parse events from any SAX parser and convert them into a DOM tree. The name of the functions are perhaps misleading, but are easy to grasp when learning the interfaces. The parsing of the document will be completed before these functions return; it’s simply that these functions do not provide a parser implementation themselves.</p> <p>You can also create a <code>Document</code> by calling a method on a “DOM Implementation” object. You can get this object either by calling the <code>getDOMImplementation()</code> function in the <a class="reference internal" href="xml.dom#module-xml.dom" title="xml.dom: Document Object Model API for Python."><code>xml.dom</code></a> package or the <a class="reference internal" href="#module-xml.dom.minidom" title="xml.dom.minidom: Minimal Document Object Model (DOM) implementation."><code>xml.dom.minidom</code></a> module. Using the implementation from the <a class="reference internal" href="#module-xml.dom.minidom" title="xml.dom.minidom: Minimal Document Object Model (DOM) implementation."><code>xml.dom.minidom</code></a> module will always return a <code>Document</code> instance from the minidom implementation, while the version from <a class="reference internal" href="xml.dom#module-xml.dom" title="xml.dom: Document Object Model API for Python."><code>xml.dom</code></a> may provide an alternate implementation (this is likely if you have the <a class="reference external" href="http://pyxml.sourceforge.net/">PyXML package</a> installed). Once you have a <code>Document</code>, you can add child nodes to it to populate the DOM:</p> <pre data-language="python">from xml.dom.minidom import getDOMImplementation

impl = getDOMImplementation()

newdoc = impl.createDocument(None, "some_tag", None)
top_element = newdoc.documentElement
text = newdoc.createTextNode('Some textual content.')
top_element.appendChild(text)
</pre> <p>Once you have a DOM document object, you can access the parts of your XML document through its properties and methods. These properties are defined in the DOM specification. The main property of the document object is the <code>documentElement</code> property. It gives you the main element in the XML document: the one that holds all others. Here is an example program:</p> <pre data-language="python">dom3 = parseString("&lt;myxml&gt;Some data&lt;/myxml&gt;")
assert dom3.documentElement.tagName == "myxml"
</pre> <p>When you are finished with a DOM tree, you may optionally call the <code>unlink()</code> method to encourage early cleanup of the now-unneeded objects. <code>unlink()</code> is an <a class="reference internal" href="#module-xml.dom.minidom" title="xml.dom.minidom: Minimal Document Object Model (DOM) implementation."><code>xml.dom.minidom</code></a>-specific extension to the DOM API that renders the node and its descendants are essentially useless. Otherwise, Python’s garbage collector will eventually take care of the objects in the tree.</p> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference external" href="https://www.w3.org/TR/REC-DOM-Level-1/">Document Object Model (DOM) Level 1 Specification</a></dt>
<dd>
<p>The W3C recommendation for the DOM supported by <a class="reference internal" href="#module-xml.dom.minidom" title="xml.dom.minidom: Minimal Document Object Model (DOM) implementation."><code>xml.dom.minidom</code></a>.</p> </dd> </dl> </div>  <h2 id="minidom-objects">1. DOM Objects</h2> <p id="dom-objects">The definition of the DOM API for Python is given as part of the <a class="reference internal" href="xml.dom#module-xml.dom" title="xml.dom: Document Object Model API for Python."><code>xml.dom</code></a> module documentation. This section lists the differences between the API and <a class="reference internal" href="#module-xml.dom.minidom" title="xml.dom.minidom: Minimal Document Object Model (DOM) implementation."><code>xml.dom.minidom</code></a>.</p> <dl class="method"> <dt id="xml.dom.minidom.Node.unlink">
<code>Node.unlink()</code> </dt> <dd>
<p>Break internal references within the DOM so that it will be garbage collected on versions of Python without cyclic GC. Even when cyclic GC is available, using this can make large amounts of memory available sooner, so calling this on DOM objects as soon as they are no longer needed is good practice. This only needs to be called on the <code>Document</code> object, but may be called on child nodes to discard children of that node.</p> </dd>
</dl> <dl class="method"> <dt id="xml.dom.minidom.Node.writexml">
<code>Node.writexml(writer, indent="", addindent="", newl="")</code> </dt> <dd>
<p>Write XML to the writer object. The writer should have a <code>write()</code> method which matches that of the file object interface. The <em>indent</em> parameter is the indentation of the current node. The <em>addindent</em> parameter is the incremental indentation to use for subnodes of the current one. The <em>newl</em> parameter specifies the string to use to terminate newlines.</p> <p>For the <code>Document</code> node, an additional keyword argument <em>encoding</em> can be used to specify the encoding field of the XML header.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.1: </span>The optional keyword parameters <em>indent</em>, <em>addindent</em>, and <em>newl</em> were added to support pretty output.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.3: </span>For the <code>Document</code> node, an additional keyword argument <em>encoding</em> can be used to specify the encoding field of the XML header.</p> </div> </dd>
</dl> <dl class="method"> <dt id="xml.dom.minidom.Node.toxml">
<code>Node.toxml([encoding])</code> </dt> <dd>
<p>Return the XML that the DOM represents as a string.</p> <p>With no argument, the XML header does not specify an encoding, and the result is Unicode string if the default encoding cannot represent all characters in the document. Encoding this string in an encoding other than UTF-8 is likely incorrect, since UTF-8 is the default encoding of XML.</p> <p>With an explicit <em>encoding</em> <a class="footnote-reference brackets" href="#id3" id="id1">1</a> argument, the result is a byte string in the specified encoding. It is recommended that this argument is always specified. To avoid <a class="reference internal" href="exceptions#exceptions.UnicodeError" title="exceptions.UnicodeError"><code>UnicodeError</code></a> exceptions in case of unrepresentable text data, the encoding argument should be specified as “utf-8”.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.3: </span>the <em>encoding</em> argument was introduced; see <a class="reference internal" href="#xml.dom.minidom.Node.writexml" title="xml.dom.minidom.Node.writexml"><code>writexml()</code></a>.</p> </div> </dd>
</dl> <dl class="method"> <dt id="xml.dom.minidom.Node.toprettyxml">
<code>Node.toprettyxml(indent="\t", newl="\n", encoding=None)</code> </dt> <dd>
<p>Return a pretty-printed version of the document. <em>indent</em> specifies the indentation string and defaults to a tabulator; <em>newl</em> specifies the string emitted at the end of each line and defaults to <code>\n</code>.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.1.</span></p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.3: </span>the encoding argument was introduced; see <a class="reference internal" href="#xml.dom.minidom.Node.writexml" title="xml.dom.minidom.Node.writexml"><code>writexml()</code></a>.</p> </div> </dd>
</dl> <p>The following standard DOM methods have special considerations with <a class="reference internal" href="#module-xml.dom.minidom" title="xml.dom.minidom: Minimal Document Object Model (DOM) implementation."><code>xml.dom.minidom</code></a>:</p> <dl class="method"> <dt id="xml.dom.minidom.Node.cloneNode">
<code>Node.cloneNode(deep)</code> </dt> <dd>
<p>Although this method was present in the version of <a class="reference internal" href="#module-xml.dom.minidom" title="xml.dom.minidom: Minimal Document Object Model (DOM) implementation."><code>xml.dom.minidom</code></a> packaged with Python 2.0, it was seriously broken. This has been corrected for subsequent releases.</p> </dd>
</dl>   <h2 id="id2">2. DOM Example</h2> <p id="dom-example">This example program is a fairly realistic example of a simple program. In this particular case, we do not take much advantage of the flexibility of the DOM.</p> <pre data-language="python">import xml.dom.minidom

document = """\
&lt;slideshow&gt;
&lt;title&gt;Demo slideshow&lt;/title&gt;
&lt;slide&gt;&lt;title&gt;Slide title&lt;/title&gt;
&lt;point&gt;This is a demo&lt;/point&gt;
&lt;point&gt;Of a program for processing slides&lt;/point&gt;
&lt;/slide&gt;

&lt;slide&gt;&lt;title&gt;Another demo slide&lt;/title&gt;
&lt;point&gt;It is important&lt;/point&gt;
&lt;point&gt;To have more than&lt;/point&gt;
&lt;point&gt;one slide&lt;/point&gt;
&lt;/slide&gt;
&lt;/slideshow&gt;
"""

dom = xml.dom.minidom.parseString(document)

def getText(nodelist):
    rc = []
    for node in nodelist:
        if node.nodeType == node.TEXT_NODE:
            rc.append(node.data)
    return ''.join(rc)

def handleSlideshow(slideshow):
    print "&lt;html&gt;"
    handleSlideshowTitle(slideshow.getElementsByTagName("title")[0])
    slides = slideshow.getElementsByTagName("slide")
    handleToc(slides)
    handleSlides(slides)
    print "&lt;/html&gt;"

def handleSlides(slides):
    for slide in slides:
        handleSlide(slide)

def handleSlide(slide):
    handleSlideTitle(slide.getElementsByTagName("title")[0])
    handlePoints(slide.getElementsByTagName("point"))

def handleSlideshowTitle(title):
    print "&lt;title&gt;%s&lt;/title&gt;" % getText(title.childNodes)

def handleSlideTitle(title):
    print "&lt;h2&gt;%s&lt;/h2&gt;" % getText(title.childNodes)

def handlePoints(points):
    print "&lt;ul&gt;"
    for point in points:
        handlePoint(point)
    print "&lt;/ul&gt;"

def handlePoint(point):
    print "&lt;li&gt;%s&lt;/li&gt;" % getText(point.childNodes)

def handleToc(slides):
    for slide in slides:
        title = slide.getElementsByTagName("title")[0]
        print "&lt;p&gt;%s&lt;/p&gt;" % getText(title.childNodes)

handleSlideshow(dom)
</pre>   <h2 id="minidom-and-dom">3. minidom and the DOM standard</h2> <p id="minidom-and-the-dom-standard">The <a class="reference internal" href="#module-xml.dom.minidom" title="xml.dom.minidom: Minimal Document Object Model (DOM) implementation."><code>xml.dom.minidom</code></a> module is essentially a DOM 1.0-compatible DOM with some DOM 2 features (primarily namespace features).</p> <p>Usage of the DOM interface in Python is straight-forward. The following mapping rules apply:</p> <ul class="simple"> <li>Interfaces are accessed through instance objects. Applications should not instantiate the classes themselves; they should use the creator functions available on the <code>Document</code> object. Derived interfaces support all operations (and attributes) from the base interfaces, plus any new operations.</li> <li>Operations are used as methods. Since the DOM uses only <a class="reference internal" href="https://docs.python.org/2.7/reference/expressions.html#in"><code>in</code></a> parameters, the arguments are passed in normal order (from left to right). There are no optional arguments. <code>void</code> operations return <code>None</code>.</li> <li>IDL attributes map to instance attributes. For compatibility with the OMG IDL language mapping for Python, an attribute <code>foo</code> can also be accessed through accessor methods <code>_get_foo()</code> and <code>_set_foo()</code>. <code>readonly</code> attributes must not be changed; this is not enforced at runtime.</li> <li>The types <code>short int</code>, <code>unsigned int</code>, <code>unsigned long long</code>, and <code>boolean</code> all map to Python integer objects.</li> <li>The type <code>DOMString</code> maps to Python strings. <a class="reference internal" href="#module-xml.dom.minidom" title="xml.dom.minidom: Minimal Document Object Model (DOM) implementation."><code>xml.dom.minidom</code></a> supports either byte or Unicode strings, but will normally produce Unicode strings. Values of type <code>DOMString</code> may also be <code>None</code> where allowed to have the IDL <code>null</code> value by the DOM specification from the W3C.</li> <li>
<code>const</code> declarations map to variables in their respective scope (e.g. <code>xml.dom.minidom.Node.PROCESSING_INSTRUCTION_NODE</code>); they must not be changed.</li> <li>
<code>DOMException</code> is currently not supported in <a class="reference internal" href="#module-xml.dom.minidom" title="xml.dom.minidom: Minimal Document Object Model (DOM) implementation."><code>xml.dom.minidom</code></a>. Instead, <a class="reference internal" href="#module-xml.dom.minidom" title="xml.dom.minidom: Minimal Document Object Model (DOM) implementation."><code>xml.dom.minidom</code></a> uses standard Python exceptions such as <a class="reference internal" href="exceptions#exceptions.TypeError" title="exceptions.TypeError"><code>TypeError</code></a> and <a class="reference internal" href="exceptions#exceptions.AttributeError" title="exceptions.AttributeError"><code>AttributeError</code></a>.</li> <li>
<code>NodeList</code> objects are implemented using Python’s built-in list type. Starting with Python 2.2, these objects provide the interface defined in the DOM specification, but with earlier versions of Python they do not support the official API. They are, however, much more “Pythonic” than the interface defined in the W3C recommendations.</li> </ul> <p>The following interfaces have no implementation in <a class="reference internal" href="#module-xml.dom.minidom" title="xml.dom.minidom: Minimal Document Object Model (DOM) implementation."><code>xml.dom.minidom</code></a>:</p> <ul class="simple"> <li><code>DOMTimeStamp</code></li> <li>
<code>DocumentType</code> (added in Python 2.1)</li> <li>
<code>DOMImplementation</code> (added in Python 2.1)</li> <li><code>CharacterData</code></li> <li><code>CDATASection</code></li> <li><code>Notation</code></li> <li><code>Entity</code></li> <li><code>EntityReference</code></li> <li><code>DocumentFragment</code></li> </ul> <p>Most of these reflect information in the XML document that is not of general utility to most DOM users.</p> <h4 class="rubric">Footnotes</h4> <dl class="footnote brackets"> <dt class="label" id="id3">
<code>1</code> </dt> <dd>
<p>The encoding string included in XML output should conform to the appropriate standards. For example, “UTF-8” is valid, but “UTF8” is not. See <a class="reference external" href="https://www.w3.org/TR/2006/REC-xml11-20060816/#NT-EncodingDecl">https://www.w3.org/TR/2006/REC-xml11-20060816/#NT-EncodingDecl</a> and <a class="reference external" href="https://www.iana.org/assignments/character-sets/character-sets.xhtml">https://www.iana.org/assignments/character-sets/character-sets.xhtml</a>.</p> </dd> </dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 2001–2020 Python Software Foundation<br>Licensed under the PSF License.<br>
    <a href="https://docs.python.org/2.7/library/xml.dom.minidom.html" class="_attribution-link">https://docs.python.org/2.7/library/xml.dom.minidom.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
