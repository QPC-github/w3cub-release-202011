
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Zipfile - Python 2.7 - W3cubDocs</title>
  
  <meta name="description" content=" New in version 1.6. ">
  <meta name="keywords" content="zipfile, —, work, with, zip, archives, python, python~2.7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/python~2.7/library/zipfile.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/python~2.7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/python~2.7/" class="_nav-link" title="" style="margin-left:0;">Python 2.7</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _python">
				
				
<h1 id="zipfile-work-with-zip-archives"> zipfile — Work with ZIP archives</h1> <div class="versionadded" id="module-zipfile"> <p><span class="versionmodified added">New in version 1.6.</span></p> </div> <p><strong>Source code:</strong> <a class="reference external" href="https://github.com/python/cpython/tree/2.7/Lib/zipfile.py">Lib/zipfile.py</a></p>  <p>The ZIP file format is a common archive and compression standard. This module provides tools to create, read, write, append, and list a ZIP file. Any advanced use of this module will require an understanding of the format, as defined in <a class="reference external" href="https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT">PKZIP Application Note</a>.</p> <p>This module does not currently handle multi-disk ZIP files. It can handle ZIP files that use the ZIP64 extensions (that is ZIP files that are more than 4 GByte in size). It supports decryption of encrypted files in ZIP archives, but it currently cannot create an encrypted file. Decryption is extremely slow as it is implemented in native Python rather than C.</p> <p>The module defines the following items:</p> <dl class="exception"> <dt id="zipfile.BadZipfile">
<code>exception zipfile.BadZipfile</code> </dt> <dd>
<p>The error raised for bad ZIP files (old name: <code>zipfile.error</code>).</p> </dd>
</dl> <dl class="exception"> <dt id="zipfile.LargeZipFile">
<code>exception zipfile.LargeZipFile</code> </dt> <dd>
<p>The error raised when a ZIP file would require ZIP64 functionality but that has not been enabled.</p> </dd>
</dl> <dl class="class"> <dt>
<code>class zipfile.ZipFile</code> </dt> <dd>
<p>The class for reading and writing ZIP files. See section <a class="reference internal" href="#zipfile-objects"><span class="std std-ref">ZipFile Objects</span></a> for constructor details.</p> </dd>
</dl> <dl class="class"> <dt id="zipfile.PyZipFile">
<code>class zipfile.PyZipFile</code> </dt> <dd>
<p>Class for creating ZIP archives containing Python libraries.</p> </dd>
</dl> <dl class="class"> <dt id="zipfile.ZipInfo">
<code>class zipfile.ZipInfo([filename[, date_time]])</code> </dt> <dd>
<p>Class used to represent information about a member of an archive. Instances of this class are returned by the <a class="reference internal" href="#zipfile.ZipFile.getinfo" title="zipfile.ZipFile.getinfo"><code>getinfo()</code></a> and <a class="reference internal" href="#zipfile.ZipFile.infolist" title="zipfile.ZipFile.infolist"><code>infolist()</code></a> methods of <a class="reference internal" href="#zipfile.ZipFile" title="zipfile.ZipFile"><code>ZipFile</code></a> objects. Most users of the <a class="reference internal" href="#module-zipfile" title="zipfile: Read and write ZIP-format archive files."><code>zipfile</code></a> module will not need to create these, but only use those created by this module. <em>filename</em> should be the full name of the archive member, and <em>date_time</em> should be a tuple containing six fields which describe the time of the last modification to the file; the fields are described in section <a class="reference internal" href="#zipinfo-objects"><span class="std std-ref">ZipInfo Objects</span></a>.</p> </dd>
</dl> <dl class="function"> <dt id="zipfile.is_zipfile">
<code>zipfile.is_zipfile(filename)</code> </dt> <dd>
<p>Returns <code>True</code> if <em>filename</em> is a valid ZIP file based on its magic number, otherwise returns <code>False</code>. <em>filename</em> may be a file or file-like object too.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.7: </span>Support for file and file-like objects.</p> </div> </dd>
</dl> <dl class="data"> <dt id="zipfile.ZIP_STORED">
<code>zipfile.ZIP_STORED</code> </dt> <dd>
<p>The numeric constant for an uncompressed archive member.</p> </dd>
</dl> <dl class="data"> <dt id="zipfile.ZIP_DEFLATED">
<code>zipfile.ZIP_DEFLATED</code> </dt> <dd>
<p>The numeric constant for the usual ZIP compression method. This requires the <a class="reference internal" href="zlib#module-zlib" title="zlib: Low-level interface to compression and decompression routines compatible with gzip."><code>zlib</code></a> module. No other compression methods are currently supported.</p> </dd>
</dl> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference external" href="https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT">PKZIP Application Note</a></dt>
<dd>
<p>Documentation on the ZIP file format by Phil Katz, the creator of the format and algorithms used.</p> </dd> <dt><a class="reference external" href="http://www.info-zip.org/">Info-ZIP Home Page</a></dt>
<dd>
<p>Information about the Info-ZIP project’s ZIP archive programs and development libraries.</p> </dd> </dl> </div>  <h2 id="id1">1. ZipFile Objects</h2> <dl class="class" id="zipfile-objects"> <dt id="zipfile.ZipFile">
<code>class zipfile.ZipFile(file[, mode[, compression[, allowZip64]]])</code> </dt> <dd>
<p>Open a ZIP file, where <em>file</em> can be either a path to a file (a string) or a file-like object. The <em>mode</em> parameter should be <code>'r'</code> to read an existing file, <code>'w'</code> to truncate and write a new file, or <code>'a'</code> to append to an existing file. If <em>mode</em> is <code>'a'</code> and <em>file</em> refers to an existing ZIP file, then additional files are added to it. If <em>file</em> does not refer to a ZIP file, then a new ZIP archive is appended to the file. This is meant for adding a ZIP archive to another file (such as <code>python.exe</code>).</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.6: </span>If <em>mode</em> is <code>a</code> and the file does not exist at all, it is created.</p> </div> <p><em>compression</em> is the ZIP compression method to use when writing the archive, and should be <a class="reference internal" href="#zipfile.ZIP_STORED" title="zipfile.ZIP_STORED"><code>ZIP_STORED</code></a> or <a class="reference internal" href="#zipfile.ZIP_DEFLATED" title="zipfile.ZIP_DEFLATED"><code>ZIP_DEFLATED</code></a>; unrecognized values will cause <a class="reference internal" href="exceptions#exceptions.RuntimeError" title="exceptions.RuntimeError"><code>RuntimeError</code></a> to be raised. If <a class="reference internal" href="#zipfile.ZIP_DEFLATED" title="zipfile.ZIP_DEFLATED"><code>ZIP_DEFLATED</code></a> is specified but the <a class="reference internal" href="zlib#module-zlib" title="zlib: Low-level interface to compression and decompression routines compatible with gzip."><code>zlib</code></a> module is not available, <a class="reference internal" href="exceptions#exceptions.RuntimeError" title="exceptions.RuntimeError"><code>RuntimeError</code></a> is also raised. The default is <a class="reference internal" href="#zipfile.ZIP_STORED" title="zipfile.ZIP_STORED"><code>ZIP_STORED</code></a>. If <em>allowZip64</em> is <code>True</code> zipfile will create ZIP files that use the ZIP64 extensions when the zipfile is larger than 2 GB. If it is false (the default) <a class="reference internal" href="#module-zipfile" title="zipfile: Read and write ZIP-format archive files."><code>zipfile</code></a> will raise an exception when the ZIP file would require ZIP64 extensions. ZIP64 extensions are disabled by default because the default <strong class="program">zip</strong> and <strong class="program">unzip</strong> commands on Unix (the InfoZIP utilities) don’t support these extensions.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.7.1: </span>If the file is created with mode <code>'a'</code> or <code>'w'</code> and then <a class="reference internal" href="#zipfile.ZipFile.close" title="zipfile.ZipFile.close"><code>closed</code></a> without adding any files to the archive, the appropriate ZIP structures for an empty archive will be written to the file.</p> </div> <p>ZipFile is also a context manager and therefore supports the <a class="reference internal" href="https://docs.python.org/2.7/reference/compound_stmts.html#with"><code>with</code></a> statement. In the example, <em>myzip</em> is closed after the <a class="reference internal" href="https://docs.python.org/2.7/reference/compound_stmts.html#with"><code>with</code></a> statement’s suite is finished—even if an exception occurs:</p> <pre data-language="python">with ZipFile('spam.zip', 'w') as myzip:
    myzip.write('eggs.txt')
</pre> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.7: </span>Added the ability to use <a class="reference internal" href="#zipfile.ZipFile" title="zipfile.ZipFile"><code>ZipFile</code></a> as a context manager.</p> </div> </dd>
</dl> <dl class="method"> <dt id="zipfile.ZipFile.close">
<code>ZipFile.close()</code> </dt> <dd>
<p>Close the archive file. You must call <a class="reference internal" href="#zipfile.ZipFile.close" title="zipfile.ZipFile.close"><code>close()</code></a> before exiting your program or essential records will not be written.</p> </dd>
</dl> <dl class="method"> <dt id="zipfile.ZipFile.getinfo">
<code>ZipFile.getinfo(name)</code> </dt> <dd>
<p>Return a <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code>ZipInfo</code></a> object with information about the archive member <em>name</em>. Calling <a class="reference internal" href="#zipfile.ZipFile.getinfo" title="zipfile.ZipFile.getinfo"><code>getinfo()</code></a> for a name not currently contained in the archive will raise a <a class="reference internal" href="exceptions#exceptions.KeyError" title="exceptions.KeyError"><code>KeyError</code></a>.</p> </dd>
</dl> <dl class="method"> <dt id="zipfile.ZipFile.infolist">
<code>ZipFile.infolist()</code> </dt> <dd>
<p>Return a list containing a <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code>ZipInfo</code></a> object for each member of the archive. The objects are in the same order as their entries in the actual ZIP file on disk if an existing archive was opened.</p> </dd>
</dl> <dl class="method"> <dt id="zipfile.ZipFile.namelist">
<code>ZipFile.namelist()</code> </dt> <dd>
<p id="index-0">Return a list of archive members by name.</p> </dd>
</dl> <dl class="method"> <dt id="zipfile.ZipFile.open">
<code>ZipFile.open(name[, mode[, pwd]])</code> </dt> <dd>
<p>Extract a member from the archive as a file-like object (ZipExtFile). <em>name</em> is the name of the file in the archive, or a <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code>ZipInfo</code></a> object. The <em>mode</em> parameter, if included, must be one of the following: <code>'r'</code> (the default), <code>'U'</code>, or <code>'rU'</code>. Choosing <code>'U'</code> or <code>'rU'</code> will enable <a class="reference internal" href="https://docs.python.org/2.7/glossary.html#term-universal-newlines"><span class="xref std std-term">universal newline</span></a> support in the read-only object. <em>pwd</em> is the password used for encrypted files. Calling <a class="reference internal" href="#zipfile.ZipFile.open" title="zipfile.ZipFile.open"><code>open()</code></a> on a closed ZipFile will raise a <a class="reference internal" href="exceptions#exceptions.RuntimeError" title="exceptions.RuntimeError"><code>RuntimeError</code></a>.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>The file-like object is read-only and provides the following methods: <a class="reference internal" href="stdtypes#file.read" title="file.read"><code>read()</code></a>, <a class="reference internal" href="stdtypes#file.readline" title="file.readline"><code>readline()</code></a>, <a class="reference internal" href="stdtypes#file.readlines" title="file.readlines"><code>readlines()</code></a>, <a class="reference internal" href="https://docs.python.org/2.7/reference/datamodel.html#object.__iter__" title="object.__iter__"><code>__iter__()</code></a>, <code>next()</code>.</p> </div> <div class="admonition note"> <p class="admonition-title">Note</p> <p>If the ZipFile was created by passing in a file-like object as the first argument to the constructor, then the object returned by <a class="reference internal" href="#zipfile.ZipFile.open" title="zipfile.ZipFile.open"><code>open()</code></a> shares the ZipFile’s file pointer. Under these circumstances, the object returned by <a class="reference internal" href="#zipfile.ZipFile.open" title="zipfile.ZipFile.open"><code>open()</code></a> should not be used after any additional operations are performed on the ZipFile object. If the ZipFile was created by passing in a string (the filename) as the first argument to the constructor, then <a class="reference internal" href="#zipfile.ZipFile.open" title="zipfile.ZipFile.open"><code>open()</code></a> will create a new file object that will be held by the ZipExtFile, allowing it to operate independently of the ZipFile.</p> </div> <div class="admonition note"> <p class="admonition-title">Note</p> <p>The <a class="reference internal" href="#zipfile.ZipFile.open" title="zipfile.ZipFile.open"><code>open()</code></a>, <a class="reference internal" href="#zipfile.ZipFile.read" title="zipfile.ZipFile.read"><code>read()</code></a> and <a class="reference internal" href="#zipfile.ZipFile.extract" title="zipfile.ZipFile.extract"><code>extract()</code></a> methods can take a filename or a <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code>ZipInfo</code></a> object. You will appreciate this when trying to read a ZIP file that contains members with duplicate names.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.6.</span></p> </div> </dd>
</dl> <dl class="method"> <dt id="zipfile.ZipFile.extract">
<code>ZipFile.extract(member[, path[, pwd]])</code> </dt> <dd>
<p>Extract a member from the archive to the current working directory; <em>member</em> must be its full name or a <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code>ZipInfo</code></a> object). Its file information is extracted as accurately as possible. <em>path</em> specifies a different directory to extract to. <em>member</em> can be a filename or a <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code>ZipInfo</code></a> object. <em>pwd</em> is the password used for encrypted files.</p> <p>Returns the normalized path created (a directory or new file).</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.6.</span></p> </div> <div class="admonition note"> <p class="admonition-title">Note</p> <p>If a member filename is an absolute path, a drive/UNC sharepoint and leading (back)slashes will be stripped, e.g.: <code>///foo/bar</code> becomes <code>foo/bar</code> on Unix, and <code>C:\foo\bar</code> becomes <code>foo\bar</code> on Windows. And all <code>".."</code> components in a member filename will be removed, e.g.: <code>../../foo../../ba..r</code> becomes <code>foo../ba..r</code>. On Windows illegal characters (<code>:</code>, <code>&lt;</code>, <code>&gt;</code>, <code>|</code>, <code>"</code>, <code>?</code>, and <code>*</code>) replaced by underscore (<code>_</code>).</p> </div> </dd>
</dl> <dl class="method"> <dt id="zipfile.ZipFile.extractall">
<code>ZipFile.extractall([path[, members[, pwd]]])</code> </dt> <dd>
<p>Extract all members from the archive to the current working directory. <em>path</em> specifies a different directory to extract to. <em>members</em> is optional and must be a subset of the list returned by <a class="reference internal" href="#zipfile.ZipFile.namelist" title="zipfile.ZipFile.namelist"><code>namelist()</code></a>. <em>pwd</em> is the password used for encrypted files.</p> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>Never extract archives from untrusted sources without prior inspection. It is possible that files are created outside of <em>path</em>, e.g. members that have absolute filenames starting with <code>"/"</code> or filenames with two dots <code>".."</code>.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.7.4: </span>The zipfile module attempts to prevent that. See <a class="reference internal" href="#zipfile.ZipFile.extract" title="zipfile.ZipFile.extract"><code>extract()</code></a> note.</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.6.</span></p> </div> </dd>
</dl> <dl class="method"> <dt id="zipfile.ZipFile.printdir">
<code>ZipFile.printdir()</code> </dt> <dd>
<p>Print a table of contents for the archive to <code>sys.stdout</code>.</p> </dd>
</dl> <dl class="method"> <dt id="zipfile.ZipFile.setpassword">
<code>ZipFile.setpassword(pwd)</code> </dt> <dd>
<p>Set <em>pwd</em> as default password to extract encrypted files.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2.6.</span></p> </div> </dd>
</dl> <dl class="method"> <dt id="zipfile.ZipFile.read">
<code>ZipFile.read(name[, pwd])</code> </dt> <dd>
<p>Return the bytes of the file <em>name</em> in the archive. <em>name</em> is the name of the file in the archive, or a <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code>ZipInfo</code></a> object. The archive must be open for read or append. <em>pwd</em> is the password used for encrypted files and, if specified, it will override the default password set with <a class="reference internal" href="#zipfile.ZipFile.setpassword" title="zipfile.ZipFile.setpassword"><code>setpassword()</code></a>. Calling <a class="reference internal" href="#zipfile.ZipFile.read" title="zipfile.ZipFile.read"><code>read()</code></a> on a closed ZipFile will raise a <a class="reference internal" href="exceptions#exceptions.RuntimeError" title="exceptions.RuntimeError"><code>RuntimeError</code></a>.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.6: </span><em>pwd</em> was added, and <em>name</em> can now be a <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code>ZipInfo</code></a> object.</p> </div> </dd>
</dl> <dl class="method"> <dt id="zipfile.ZipFile.testzip">
<code>ZipFile.testzip()</code> </dt> <dd>
<p>Read all the files in the archive and check their CRC’s and file headers. Return the name of the first bad file, or else return <code>None</code>. Calling <a class="reference internal" href="#zipfile.ZipFile.testzip" title="zipfile.ZipFile.testzip"><code>testzip()</code></a> on a closed ZipFile will raise a <a class="reference internal" href="exceptions#exceptions.RuntimeError" title="exceptions.RuntimeError"><code>RuntimeError</code></a>.</p> </dd>
</dl> <dl class="method"> <dt id="zipfile.ZipFile.write">
<code>ZipFile.write(filename[, arcname[, compress_type]])</code> </dt> <dd>
<p>Write the file named <em>filename</em> to the archive, giving it the archive name <em>arcname</em> (by default, this will be the same as <em>filename</em>, but without a drive letter and with leading path separators removed). If given, <em>compress_type</em> overrides the value given for the <em>compression</em> parameter to the constructor for the new entry. The archive must be open with mode <code>'w'</code> or <code>'a'</code> – calling <a class="reference internal" href="#zipfile.ZipFile.write" title="zipfile.ZipFile.write"><code>write()</code></a> on a ZipFile created with mode <code>'r'</code> will raise a <a class="reference internal" href="exceptions#exceptions.RuntimeError" title="exceptions.RuntimeError"><code>RuntimeError</code></a>. Calling <a class="reference internal" href="#zipfile.ZipFile.write" title="zipfile.ZipFile.write"><code>write()</code></a> on a closed ZipFile will raise a <a class="reference internal" href="exceptions#exceptions.RuntimeError" title="exceptions.RuntimeError"><code>RuntimeError</code></a>.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>There is no official file name encoding for ZIP files. If you have unicode file names, you must convert them to byte strings in your desired encoding before passing them to <a class="reference internal" href="#zipfile.ZipFile.write" title="zipfile.ZipFile.write"><code>write()</code></a>. WinZip interprets all file names as encoded in CP437, also known as DOS Latin.</p> </div> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Archive names should be relative to the archive root, that is, they should not start with a path separator.</p> </div> <div class="admonition note"> <p class="admonition-title">Note</p> <p>If <code>arcname</code> (or <code>filename</code>, if <code>arcname</code> is not given) contains a null byte, the name of the file in the archive will be truncated at the null byte.</p> </div> </dd>
</dl> <dl class="method"> <dt id="zipfile.ZipFile.writestr">
<code>ZipFile.writestr(zinfo_or_arcname, bytes[, compress_type])</code> </dt> <dd>
<p>Write the string <em>bytes</em> to the archive; <em>zinfo_or_arcname</em> is either the file name it will be given in the archive, or a <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code>ZipInfo</code></a> instance. If it’s an instance, at least the filename, date, and time must be given. If it’s a name, the date and time is set to the current date and time. The archive must be opened with mode <code>'w'</code> or <code>'a'</code> – calling <a class="reference internal" href="#zipfile.ZipFile.writestr" title="zipfile.ZipFile.writestr"><code>writestr()</code></a> on a ZipFile created with mode <code>'r'</code> will raise a <a class="reference internal" href="exceptions#exceptions.RuntimeError" title="exceptions.RuntimeError"><code>RuntimeError</code></a>. Calling <a class="reference internal" href="#zipfile.ZipFile.writestr" title="zipfile.ZipFile.writestr"><code>writestr()</code></a> on a closed ZipFile will raise a <a class="reference internal" href="exceptions#exceptions.RuntimeError" title="exceptions.RuntimeError"><code>RuntimeError</code></a>.</p> <p>If given, <em>compress_type</em> overrides the value given for the <em>compression</em> parameter to the constructor for the new entry, or in the <em>zinfo_or_arcname</em> (if that is a <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code>ZipInfo</code></a> instance).</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>When passing a <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code>ZipInfo</code></a> instance as the <em>zinfo_or_arcname</em> parameter, the compression method used will be that specified in the <em>compress_type</em> member of the given <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code>ZipInfo</code></a> instance. By default, the <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code>ZipInfo</code></a> constructor sets this member to <a class="reference internal" href="#zipfile.ZIP_STORED" title="zipfile.ZIP_STORED"><code>ZIP_STORED</code></a>.</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2.7: </span>The <em>compress_type</em> argument.</p> </div> </dd>
</dl> <p>The following data attributes are also available:</p> <dl class="attribute"> <dt id="zipfile.ZipFile.debug">
<code>ZipFile.debug</code> </dt> <dd>
<p>The level of debug output to use. This may be set from <code>0</code> (the default, no output) to <code>3</code> (the most output). Debugging information is written to <code>sys.stdout</code>.</p> </dd>
</dl> <dl class="attribute"> <dt id="zipfile.ZipFile.comment">
<code>ZipFile.comment</code> </dt> <dd>
<p>The comment text associated with the ZIP file. If assigning a comment to a <a class="reference internal" href="#zipfile.ZipFile" title="zipfile.ZipFile"><code>ZipFile</code></a> instance created with mode ‘a’ or ‘w’, this should be a string no longer than 65535 bytes. Comments longer than this will be truncated in the written archive when <a class="reference internal" href="#zipfile.ZipFile.close" title="zipfile.ZipFile.close"><code>close()</code></a> is called.</p> </dd>
</dl>   <h2 id="id2">2. PyZipFile Objects</h2> <p id="pyzipfile-objects">The <a class="reference internal" href="#zipfile.PyZipFile" title="zipfile.PyZipFile"><code>PyZipFile</code></a> constructor takes the same parameters as the <a class="reference internal" href="#zipfile.ZipFile" title="zipfile.ZipFile"><code>ZipFile</code></a> constructor. Instances have one method in addition to those of <a class="reference internal" href="#zipfile.ZipFile" title="zipfile.ZipFile"><code>ZipFile</code></a> objects.</p> <dl class="method"> <dt id="zipfile.PyZipFile.writepy">
<code>PyZipFile.writepy(pathname[, basename])</code> </dt> <dd>
<p>Search for files <code>*.py</code> and add the corresponding file to the archive. The corresponding file is a <code>*.pyo</code> file if available, else a <code>*.pyc</code> file, compiling if necessary. If the pathname is a file, the filename must end with <code>.py</code>, and just the (corresponding <code>*.py[co]</code>) file is added at the top level (no path information). If the pathname is a file that does not end with <code>.py</code>, a <a class="reference internal" href="exceptions#exceptions.RuntimeError" title="exceptions.RuntimeError"><code>RuntimeError</code></a> will be raised. If it is a directory, and the directory is not a package directory, then all the files <code>*.py[co]</code> are added at the top level. If the directory is a package directory, then all <code>*.py[co]</code> are added under the package name as a file path, and if any subdirectories are package directories, all of these are added recursively. <em>basename</em> is intended for internal use only. The <a class="reference internal" href="#zipfile.PyZipFile.writepy" title="zipfile.PyZipFile.writepy"><code>writepy()</code></a> method makes archives with file names like this:</p> <pre data-language="python">string.pyc                                # Top level name
test/__init__.pyc                         # Package directory
test/test_support.pyc                          # Module test.test_support
test/bogus/__init__.pyc                   # Subpackage directory
test/bogus/myfile.pyc                     # Submodule test.bogus.myfile
</pre> </dd>
</dl>   <h2 id="id3">3. ZipInfo Objects</h2> <p id="zipinfo-objects">Instances of the <a class="reference internal" href="#zipfile.ZipInfo" title="zipfile.ZipInfo"><code>ZipInfo</code></a> class are returned by the <a class="reference internal" href="#zipfile.ZipFile.getinfo" title="zipfile.ZipFile.getinfo"><code>getinfo()</code></a> and <a class="reference internal" href="#zipfile.ZipFile.infolist" title="zipfile.ZipFile.infolist"><code>infolist()</code></a> methods of <a class="reference internal" href="#zipfile.ZipFile" title="zipfile.ZipFile"><code>ZipFile</code></a> objects. Each object stores information about a single member of the ZIP archive.</p> <p>Instances have the following attributes:</p> <dl class="attribute"> <dt id="zipfile.ZipInfo.filename">
<code>ZipInfo.filename</code> </dt> <dd>
<p>Name of the file in the archive.</p> </dd>
</dl> <dl class="attribute"> <dt id="zipfile.ZipInfo.date_time">
<code>ZipInfo.date_time</code> </dt> <dd>
<p>The time and date of the last modification to the archive member. This is a tuple of six values:</p> <table class="docutils align-center">  <thead> <tr>
<th class="head"><p>Index</p></th> <th class="head"><p>Value</p></th> </tr> </thead>  <tr>
<td><p><code>0</code></p></td> <td><p>Year (&gt;= 1980)</p></td> </tr> <tr>
<td><p><code>1</code></p></td> <td><p>Month (one-based)</p></td> </tr> <tr>
<td><p><code>2</code></p></td> <td><p>Day of month (one-based)</p></td> </tr> <tr>
<td><p><code>3</code></p></td> <td><p>Hours (zero-based)</p></td> </tr> <tr>
<td><p><code>4</code></p></td> <td><p>Minutes (zero-based)</p></td> </tr> <tr>
<td><p><code>5</code></p></td> <td><p>Seconds (zero-based)</p></td> </tr>  </table> <div class="admonition note"> <p class="admonition-title">Note</p> <p>The ZIP file format does not support timestamps before 1980.</p> </div> </dd>
</dl> <dl class="attribute"> <dt id="zipfile.ZipInfo.compress_type">
<code>ZipInfo.compress_type</code> </dt> <dd>
<p>Type of compression for the archive member.</p> </dd>
</dl> <dl class="attribute"> <dt id="zipfile.ZipInfo.comment">
<code>ZipInfo.comment</code> </dt> <dd>
<p>Comment for the individual archive member.</p> </dd>
</dl> <dl class="attribute"> <dt id="zipfile.ZipInfo.extra">
<code>ZipInfo.extra</code> </dt> <dd>
<p>Expansion field data. The <a class="reference external" href="https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT">PKZIP Application Note</a> contains some comments on the internal structure of the data contained in this string.</p> </dd>
</dl> <dl class="attribute"> <dt id="zipfile.ZipInfo.create_system">
<code>ZipInfo.create_system</code> </dt> <dd>
<p>System which created ZIP archive.</p> </dd>
</dl> <dl class="attribute"> <dt id="zipfile.ZipInfo.create_version">
<code>ZipInfo.create_version</code> </dt> <dd>
<p>PKZIP version which created ZIP archive.</p> </dd>
</dl> <dl class="attribute"> <dt id="zipfile.ZipInfo.extract_version">
<code>ZipInfo.extract_version</code> </dt> <dd>
<p>PKZIP version needed to extract archive.</p> </dd>
</dl> <dl class="attribute"> <dt id="zipfile.ZipInfo.reserved">
<code>ZipInfo.reserved</code> </dt> <dd>
<p>Must be zero.</p> </dd>
</dl> <dl class="attribute"> <dt id="zipfile.ZipInfo.flag_bits">
<code>ZipInfo.flag_bits</code> </dt> <dd>
<p>ZIP flag bits.</p> </dd>
</dl> <dl class="attribute"> <dt id="zipfile.ZipInfo.volume">
<code>ZipInfo.volume</code> </dt> <dd>
<p>Volume number of file header.</p> </dd>
</dl> <dl class="attribute"> <dt id="zipfile.ZipInfo.internal_attr">
<code>ZipInfo.internal_attr</code> </dt> <dd>
<p>Internal attributes.</p> </dd>
</dl> <dl class="attribute"> <dt id="zipfile.ZipInfo.external_attr">
<code>ZipInfo.external_attr</code> </dt> <dd>
<p>External file attributes.</p> </dd>
</dl> <dl class="attribute"> <dt id="zipfile.ZipInfo.header_offset">
<code>ZipInfo.header_offset</code> </dt> <dd>
<p>Byte offset to the file header.</p> </dd>
</dl> <dl class="attribute"> <dt id="zipfile.ZipInfo.CRC">
<code>ZipInfo.CRC</code> </dt> <dd>
<p>CRC-32 of the uncompressed file.</p> </dd>
</dl> <dl class="attribute"> <dt id="zipfile.ZipInfo.compress_size">
<code>ZipInfo.compress_size</code> </dt> <dd>
<p>Size of the compressed data.</p> </dd>
</dl> <dl class="attribute"> <dt id="zipfile.ZipInfo.file_size">
<code>ZipInfo.file_size</code> </dt> <dd>
<p>Size of the uncompressed file.</p> </dd>
</dl>   <h2 id="zipfile-commandline">4. Command-Line Interface</h2> <p id="command-line-interface">The <a class="reference internal" href="#module-zipfile" title="zipfile: Read and write ZIP-format archive files."><code>zipfile</code></a> module provides a simple command-line interface to interact with ZIP archives.</p> <p>If you want to create a new ZIP archive, specify its name after the <a class="reference internal" href="#cmdoption-zipfile-c"><code>-c</code></a> option and then list the filename(s) that should be included:</p> <pre data-language="shell">$ python -m zipfile -c monty.zip spam.txt eggs.txt
</pre> <p>Passing a directory is also acceptable:</p> <pre data-language="shell">$ python -m zipfile -c monty.zip life-of-brian_1979/
</pre> <p>If you want to extract a ZIP archive into the specified directory, use the <a class="reference internal" href="#cmdoption-zipfile-e"><code>-e</code></a> option:</p> <pre data-language="shell">$ python -m zipfile -e monty.zip target-dir/
</pre> <p>For a list of the files in a ZIP archive, use the <a class="reference internal" href="#cmdoption-zipfile-l"><code>-l</code></a> option:</p> <pre data-language="shell">$ python -m zipfile -l monty.zip
</pre>  <h3 id="command-line-options">4.1. Command-line options</h3> <dl class="cmdoption"> <dt id="cmdoption-zipfile-l">
<code>-l &lt;zipfile&gt;</code> </dt> <dd>
<p>List files in a zipfile.</p> </dd>
</dl> <dl class="cmdoption"> <dt id="cmdoption-zipfile-c">
<code>-c &lt;zipfile&gt; &lt;source1&gt; ... &lt;sourceN&gt;</code> </dt> <dd>
<p>Create zipfile from source files.</p> </dd>
</dl> <dl class="cmdoption"> <dt id="cmdoption-zipfile-e">
<code>-e &lt;zipfile&gt; &lt;output_dir&gt;</code> </dt> <dd>
<p>Extract zipfile into target directory.</p> </dd>
</dl> <dl class="cmdoption"> <dt id="cmdoption-zipfile-t">
<code>-t &lt;zipfile&gt;</code> </dt> <dd>
<p>Test whether the zipfile is valid or not.</p> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 2001–2020 Python Software Foundation<br>Licensed under the PSF License.<br>
    <a href="https://docs.python.org/2.7/library/zipfile.html" class="_attribution-link">https://docs.python.org/2.7/library/zipfile.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
