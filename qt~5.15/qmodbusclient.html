
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>QModbusClient (Class) - Qt 5.15 - W3cubDocs</title>
  
  <meta name="description" content=" The QModbusClient class is the interface to send Modbus requests. More... ">
  <meta name="keywords" content="qmodbusclient, class, qt, qt~5.15">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/qt~5.15/qmodbusclient.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/qt~5.15.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/qt~5.15/" class="_nav-link" title="" style="margin-left:0;">Qt 5.15</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _qt">
				
				
<h1 class="title">QModbusClient Class</h1>  <p>The QModbusClient class is the interface to send Modbus requests. <a href="#details">More...</a></p>  <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> Header:</td>
<td class="memItemRight bottomAlign"> <span class="preprocessor">#include &lt;QModbusClient&gt;</span> </td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> qmake:</td>
<td class="memItemRight bottomAlign"> QT += serialbus</td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> Since:</td>
<td class="memItemRight bottomAlign"> Qt 5.8</td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> Inherits:</td>
<td class="memItemRight bottomAlign"> <a href="qmodbusdevice">QModbusDevice</a>
</td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> Inherited By:</td>
<td class="memItemRight bottomAlign"> <p><a href="qmodbusrtuserialmaster">QModbusRtuSerialMaster</a> and <a href="qmodbustcpclient">QModbusTcpClient</a></p> </td>
</tr>
</table>
<p>This class was introduced in Qt 5.8.</p> <ul> <li><a href="https://doc.qt.io/qt-5.15/qmodbusclient-members.html">List of all members, including inherited members</a></li> </ul>  <h2 id="properties">Properties
</h2> <ul> <li class="fn">
<b><a href="qmodbusclient#timeout-prop">timeout</a></b> : int</li> </ul>  <h2 id="public-functions">Public Functions
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> </td>
<td class="memItemRight bottomAlign">
<b><a href="qmodbusclient#QModbusClient">QModbusClient</a></b>(QObject *<i>parent</i> = nullptr)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> int </td>
<td class="memItemRight bottomAlign">
<b><a href="qmodbusclient#numberOfRetries">numberOfRetries</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QModbusReply *</td>
<td class="memItemRight bottomAlign">
<b><a href="qmodbusclient#sendRawRequest">sendRawRequest</a></b>(const QModbusRequest &amp;<i>request</i>, int <i>serverAddress</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QModbusReply *</td>
<td class="memItemRight bottomAlign">
<b><a href="qmodbusclient#sendReadRequest">sendReadRequest</a></b>(const QModbusDataUnit &amp;<i>read</i>, int <i>serverAddress</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QModbusReply *</td>
<td class="memItemRight bottomAlign">
<b><a href="qmodbusclient#sendReadWriteRequest">sendReadWriteRequest</a></b>(const QModbusDataUnit &amp;<i>read</i>, const QModbusDataUnit &amp;<i>write</i>, int <i>serverAddress</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QModbusReply *</td>
<td class="memItemRight bottomAlign">
<b><a href="qmodbusclient#sendWriteRequest">sendWriteRequest</a></b>(const QModbusDataUnit &amp;<i>write</i>, int <i>serverAddress</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qmodbusclient#setNumberOfRetries">setNumberOfRetries</a></b>(int <i>number</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qmodbusclient#setTimeout">setTimeout</a></b>(int <i>newTimeout</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> int </td>
<td class="memItemRight bottomAlign">
<b><a href="qmodbusclient#timeout-prop">timeout</a></b>() const</td>
</tr> </table>  <h2 id="signals">Signals
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="qmodbusclient#timeoutChanged">timeoutChanged</a></b>(int <i>newTimeout</i>)</td>
</tr> </table>  <h2 id="protected-functions">Protected Functions
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual bool </td>
<td class="memItemRight bottomAlign">
<b><a href="qmodbusclient#processPrivateResponse">processPrivateResponse</a></b>(const QModbusResponse &amp;<i>response</i>, QModbusDataUnit *<i>data</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual bool </td>
<td class="memItemRight bottomAlign">
<b><a href="qmodbusclient#processResponse">processResponse</a></b>(const QModbusResponse &amp;<i>response</i>, QModbusDataUnit *<i>data</i>)</td>
</tr> </table>    <h2 id="details">Detailed Description
</h2> <p>The QModbusClient API is constructed around one QModbusClient object, which holds the common configuration and settings for the requests it sends. One QModbusClient should be enough for the whole Qt application.</p> <p>Once a QModbusClient object has been created, the application can use it to send requests. The returned object is used to obtain any data returned in response to the corresponding request.</p> <p>QModbusClient has an asynchronous API. When the finished slot is called, the parameter it takes is the <a href="qmodbusreply">QModbusReply</a> object containing the PDU as well as meta-data (Addressing, etc.).</p> <p>Note: QModbusClient queues the requests it receives. The number of requests executed in parallel is dependent on the protocol. For example, the HTTP protocol on desktop platforms issues 6 requests in parallel for one host/port combination.</p>   <div class="prop"> <h2>Property Documentation</h2>  <h3 class="fn" id="timeout-prop">
<span class="name">timeout</span> : <span class="type">int</span>
</h3> <p>This property holds the timeout value used by this client</p> <p>Returns the timeout value used by this <a href="qmodbusclient">QModbusClient</a> instance in ms. A timeout is indicated by a <a href="qmodbusdevice#Error-enum">TimeoutError</a>. The default value is 1000 ms.</p> <p><b>Access functions:</b></p> <table class="alignedsummary"> <tr>
<td class="memItemLeft topAlign rightAlign"> int </td>
<td class="memItemRight bottomAlign">
<span class="name"><b>timeout</b></span>() const</td>
</tr> <tr>
<td class="memItemLeft topAlign rightAlign"> void </td>
<td class="memItemRight bottomAlign">
<span class="name"><b><a href="qmodbusclient#setTimeout">setTimeout</a></b></span>(int <i>newTimeout</i>)</td>
</tr> </table> <p><b>Notifier signal:</b></p> <table class="alignedsummary"> <tr>
<td class="memItemLeft topAlign rightAlign"> void </td>
<td class="memItemRight bottomAlign">
<span class="name"><b><a href="qmodbusclient#timeoutChanged">timeoutChanged</a></b></span>(int <i>newTimeout</i>)</td>
</tr> </table> <p><b>See also </b><a href="qmodbusclient#setTimeout">setTimeout</a>.</p>  </div>  <h2>Member Function Documentation</h2>  <h3 class="fn" id="QModbusClient">
QModbusClient::<span class="name">QModbusClient</span>(<span class="type"><a href="qobject#QObject">QObject</a></span> *<i>parent</i> = nullptr)
</h3> <p>Constructs a Modbus client device with the specified <i>parent</i>.</p>   <h3 class="fn" id="timeoutChanged">
<code>[signal] </code><span class="type">void</span> QModbusClient::<span class="name">timeoutChanged</span>(<span class="type">int</span> <i>newTimeout</i>)
</h3> <p>This signal is emitted when the timeout used by this <a href="qmodbusclient">QModbusClient</a> instance is changed. The new response timeout for the device is passed as <i>newTimeout</i>.</p> <p><b>Note: </b>Notifier signal for property <a href="qmodbusclient#timeout-prop">timeout</a>. </p> <p><b>See also </b><a href="qmodbusclient#setTimeout">setTimeout</a>().</p>   <h3 class="fn" id="numberOfRetries">
<span class="type">int</span> QModbusClient::<span class="name">numberOfRetries</span>() const
</h3> <p>Returns the number of retries a client will perform before a request fails. The default value is set to <code>3</code>.</p> <p><b>See also </b><a href="qmodbusclient#setNumberOfRetries">setNumberOfRetries</a>().</p>   <h3 class="fn" id="processPrivateResponse">
<code>[virtual protected] </code><span class="type">bool</span> QModbusClient::<span class="name">processPrivateResponse</span>(const <span class="type"><a href="qmodbusresponse">QModbusResponse</a></span> &amp;<i>response</i>, <span class="type"><a href="qmodbusdataunit">QModbusDataUnit</a></span> *<i>data</i>)
</h3> <p>To be implemented by custom Modbus client implementation. The default implementation ignores <i>response</i> and <i>data</i>. It always returns false to indicate error.</p>   <h3 class="fn" id="processResponse">
<code>[virtual protected] </code><span class="type">bool</span> QModbusClient::<span class="name">processResponse</span>(const <span class="type"><a href="qmodbusresponse">QModbusResponse</a></span> &amp;<i>response</i>, <span class="type"><a href="qmodbusdataunit">QModbusDataUnit</a></span> *<i>data</i>)
</h3> <p>Processes a Modbus server <i>response</i> and stores the decoded information in <i>data</i>. Returns true on success; otherwise false.</p>   <h3 class="fn" id="sendRawRequest">
<span class="type"><a href="qmodbusreply">QModbusReply</a></span> *QModbusClient::<span class="name">sendRawRequest</span>(const <span class="type"><a href="qmodbusrequest">QModbusRequest</a></span> &amp;<i>request</i>, <span class="type">int</span> <i>serverAddress</i>)
</h3> <p>Sends a raw Modbus <i>request</i>. A raw request can contain anything that fits inside the Modbus PDU data section and has a valid function code. The only check performed before sending is therefore the validity check, see <a href="qmodbuspdu#isValid">QModbusPdu::isValid</a>. If no error occurred the function returns a a new valid <a href="qmodbusreply">QModbusReply</a>; nullptr otherwise. Modbus networks may have multiple servers, each server has a unique <i>serverAddress</i>.</p> <p><b>See also </b><a href="qmodbusreply#rawResult">QModbusReply::rawResult</a>().</p>   <h3 class="fn" id="sendReadRequest">
<span class="type"><a href="qmodbusreply">QModbusReply</a></span> *QModbusClient::<span class="name">sendReadRequest</span>(const <span class="type"><a href="qmodbusdataunit">QModbusDataUnit</a></span> &amp;<i>read</i>, <span class="type">int</span> <i>serverAddress</i>)
</h3> <p>Sends a request to read the contents of the data pointed by <i>read</i>. Returns a new valid <a href="qmodbusreply">QModbusReply</a> object if no error occurred, otherwise nullptr. Modbus network may have multiple servers, each server has unique <i>serverAddress</i>.</p>   <h3 class="fn" id="sendReadWriteRequest">
<span class="type"><a href="qmodbusreply">QModbusReply</a></span> *QModbusClient::<span class="name">sendReadWriteRequest</span>(const <span class="type"><a href="qmodbusdataunit">QModbusDataUnit</a></span> &amp;<i>read</i>, const <span class="type"><a href="qmodbusdataunit">QModbusDataUnit</a></span> &amp;<i>write</i>, <span class="type">int</span> <i>serverAddress</i>)
</h3> <p>Sends a request to read the contents of the data pointed by <i>read</i> and to modify the contents of the data pointed by <i>write</i> using Modbus function code <a href="qmodbuspdu#FunctionCode-enum">QModbusPdu::ReadWriteMultipleRegisters</a>. Returns a new valid <a href="qmodbusreply">QModbusReply</a> object if no error occurred, otherwise nullptr. Modbus network may have multiple servers, each server has unique <i>serverAddress</i>.</p> <p><b>Note: </b>: Sending this kind of request is only valid of both <i>read</i> and <i>write</i> are of type <a href="qmodbusdataunit#RegisterType-enum">QModbusDataUnit::HoldingRegisters</a>.</p>   <h3 class="fn" id="sendWriteRequest">
<span class="type"><a href="qmodbusreply">QModbusReply</a></span> *QModbusClient::<span class="name">sendWriteRequest</span>(const <span class="type"><a href="qmodbusdataunit">QModbusDataUnit</a></span> &amp;<i>write</i>, <span class="type">int</span> <i>serverAddress</i>)
</h3> <p>Sends a request to modify the contents of the data pointed by <i>write</i>. Returns a new valid <a href="qmodbusreply">QModbusReply</a> object if no error occurred, otherwise nullptr. Modbus network may have multiple servers, each server has unique <i>serverAddress</i>.</p>   <h3 class="fn" id="setNumberOfRetries">
<span class="type">void</span> QModbusClient::<span class="name">setNumberOfRetries</span>(<span class="type">int</span> <i>number</i>)
</h3> <p>Sets the <i>number</i> of retries a client will perform before a request fails. The default value is set to <code>3</code>.</p> <p><b>Note: </b>The new value must be greater than or equal to <code>0</code>. Changing this property will only effect new requests, not already scheduled ones.</p> <p><b>See also </b><a href="qmodbusclient#numberOfRetries">numberOfRetries</a>().</p>   <h3 class="fn" id="setTimeout">
<span class="type">void</span> QModbusClient::<span class="name">setTimeout</span>(<span class="type">int</span> <i>newTimeout</i>)
</h3> <p>Sets the <i>newTimeout</i> for this <a href="qmodbusclient">QModbusClient</a> instance. The minimum timeout is 10 ms.</p> <p>The timeout is used by the client to determine how long it waits for a response from the server. If the response is not received within the required timeout, the <a href="qmodbusdevice#Error-enum">TimeoutError</a> is set.</p> <p>Already active/running timeouts are not affected by such timeout duration changes.</p> <p><b>Note: </b>Setter function for property <a href="qmodbusclient#timeout-prop">timeout</a>. </p> <p><b>See also </b><a href="qmodbusclient#timeout-prop">timeout</a> and <a href="qmodbusclient#timeoutChanged">timeoutChanged</a>().</p>
<div class="_attribution">
  <p class="_attribution-p">
    © The Qt Company Ltd<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://doc.qt.io/qt-5.15/qmodbusclient.html" class="_attribution-link">https://doc.qt.io/qt-5.15/qmodbusclient.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
