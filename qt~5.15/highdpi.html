
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>High DPI Displays - Qt 5.15 - W3cubDocs</title>
  
  <meta name="description" content=" High DPI displays have increased pixel density, compared to standard DPI displays. ">
  <meta name="keywords" content="high, dpi, displays, qt, qt~5.15">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/qt~5.15/highdpi.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/qt~5.15.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/qt~5.15/" class="_nav-link" title="" style="margin-left:0;">Qt 5.15</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _qt">
				
				
<h1 class="title">High DPI Displays</h1>     <p>High DPI displays have increased pixel density, compared to standard DPI displays.</p> <p>Pixel density is measured in Dots per Inch (DPI) or Pixels per Inch (PPI), and is determined by the number of display pixels and their size. Consequently, the number of pixels alone isn't enough to determine if a display falls into the high-DPI category.</p> <p>A 4K monitor has a fixed number of pixels (~8M), however its DPI varies between 185 (23 inches) and 110 (40 inches). The former is around twice the standard 96 DPI desktop resolution; the latter barely exceeds this resolution.</p>  <h3 id="challenges-with-high-dpi">Challenges with High DPI
</h3> <p>High DPI displays bring about some challenges for existing applications:</p> <ul> <li>
<b>Applications using UI designs with fixed coordinates look small</b>  The combination of specifying font size in points and other sizes in pixels is particularly problematic because points are independent from the monitor's resolution. For example, suppose we have a frame of 40x20 pixels around the text "hello". If we use a 12pt font, it would look correct on low resolution monitors. But, on high DPI monitors, the frame would be too small, resulting in the text being clipped.</li> <li>
<b>Applications must adapt to situations where users have multiple displays with varying resolutions</b>  For example, a user might use a 4K monitor for the document window of an image editor but a low resolution monitor for the tool box.</li> </ul> <p>Traditionally, to support high DPI, Qt scales fonts automatically and provides a DPI value that application code can use to scale the rest of the UI.</p>  <h3 id="high-dpi-support-on-a-system-level">High DPI Support on a System Level
</h3> <p>Qt supports a high DPI mode where the main coordinate system is virtualized and made independent from the display pixel density. Some operating systems, like macOS and iOS implement this mode. Additionally, if an operating system doesn't support this mode, Qt has an implementation to fallback on.</p> <p>Now, geometry is specified in device independent pixels. This includes widget and item geometry, event geometry, desktop, window and screen geometry, as well as animation velocities. The output is rendered in device pixels, which corresponds to the display resolution. The <i>devicePixelRatio</i> is the ratio between the device independent pixels and the device pixel coordinate system.</p> <p>Typically, most applications work with device independent pixels; except for OpenGL and code for raster graphics.</p>  <h3 id="operating-system-support">Operating System Support
</h3> <p>The Qt-supported operating systems offer the following for high DPI displays:</p>  <h4 id="macos-and-ios">macOS and iOS
</h4> <p>The Apple platforms implement scaling and coordinate system virtualization in the operating system. Normally, no special configuration is required.</p> <p>On macOS, high-DPI support is enabled by settings in the <code>Info.plist</code> file; so make sure these settings are present.</p> <pre data-language="cpp">&lt;key&gt;NSPrincipalClass&lt;/key&gt;
&lt;string&gt;NSApplication&lt;/string&gt;
&lt;key&gt;NSHighResolutionCapable&lt;/key&gt;
&lt;string&gt;True&lt;/string&gt;</pre> <p>Newer versions of qmake will generate an <code>Info.plist</code> file with the NSPrincipalClass key; this is sufficient since NSHighResolutionCapable is true by default.</p> <p><b>Note: </b>Both macOS and iOS may apply further virtualization, such that device pixels no longer correspond to display pixels 1:1. This happens on the iPhone 6+ and on macOS configured with "display scaling" enabled.</p>  <h4 id="microsoft-windows">Microsoft Windows
</h4> <p><b>Scaling</b></p> <p>Users choose a scaling factor from the <b>Control Panel</b> or via the context menu. This works by making the functions for querying the system metrics return different values for standard font sizes, sizes of window borders, and so on. It doesn't perform any actual scaling.</p> <p><b>DPI</b> Awareness</p> <p>An application on Windows can assume one of the following levels of "DPI Awareness":</p> <table class="generic"> <thead><tr class="qt-style">
<th>DPI Awareness Level</th>
<th>Meaning</th>
</tr></thead> <tr class="odd" valign="top">
<td>DPI Unaware</td>
<td>This level was introduced in Windows Vista. To the application, Windows pretends as if it's running on a standard display of 96 DPI of 1920x1080 and scales the application accordingly. It's intended to accommodate older applications designed for low DPI displays. This type of scaling may result in some artifacts.</td>
</tr> <tr class="even" valign="top">
<td>System-DPI Aware</td>
<td>This level was introduced in Windows Vista. It differs from <i>Per-Monitor DPI Aware</i> only when multiple monitors are connected. Windows calculates a scaling that's suitable for all monitors connected.</td>
</tr> <tr class="odd" valign="top">
<td>Per-Monitor DPI Aware</td>
<td>This level was introduced in Windows 8.1. Windows does not perform any scaling at all.</td>
</tr> </table> <p>By default, Qt applications are set to <i>Per-Monitor DPI Aware</i> on Windows 8.1 or <i>System-DPI Aware</i> on older Windows versions. As of Qt 5.4, this level can be specified via a parameter to the platform plugin:</p> <pre data-language="cpp">&lt;application&gt; -platform windows:dpiawareness=0,1,2</pre> <p>For more information, see <a href="qt-conf">Using qt.conf</a>.</p>  <h3 id="high-dpi-support-in-qt">High DPI Support in Qt
</h3> <p>Qt provides the following ways for you to handle high DPI support in your application.</p> <ul> <li>The ability to provide pixmaps or artwork for high resolution. For more details, see <a href="qpainter#drawing-high-resolution-versions-of-pixmaps-and-images">Drawing High Resolution Versions of Pixmaps and Images</a>.</li> <li>Qt 5.6 supports cross-platform high-DPI scaling for legacy applications, similar to the scaling done natively in macOS. This allows applications written for low DPI screens to run unchanged on high DPI devices. This feature is opt-in, and can be enabled using the following environment variables:<ul> <li>
<code>QT_AUTO_SCREEN_SCALE_FACTOR</code> [boolean] enables automatic scaling, based on the monitor's pixel density. This won't change the size of point-sized fonts, since point is a physical measurement unit. Multiple screens may get different scale factors.</li> <li>
<code>QT_SCALE_FACTOR</code> [numeric] defines a global scale factor for the whole application, including point-sized fonts.</li> <li>
<code>QT_SCREEN_SCALE_FACTORS</code> [list] specifies scale factors for each screen. This won't change the size of point-sized fonts. The environment variable is mainly useful for debugging, or to work around monitors with wrong <a href="https://en.wikipedia.org/wiki/Extended_Display_Identification_Data">EDID information</a>(Extended Display Identification Data).<p>The format can either be a semicolon-separated list of scale factors in the same order as <a href="qguiapplication#screens">QGuiApplication::screens</a>(), or a semicolon-separated list of <code>name=value</code> pairs, where <code>name</code> is the same as <a href="qscreen#name-prop">QScreen::name</a>().</p> </li> </ul> <p>While the macOS style fully supports high-DPI, the Windows desktop style currently has some limitations with certain scale factors. In these cases, consider using the Fusion style instead, which supports high-DPI in all cases.</p> <p><b>Note: </b>Non-integer scale factors may cause significant scaling/painting artifacts.</p> </li> <li>The <code>Qt::AA_EnableHighDpiScaling</code> application attribute, introduced in Qt 5.6, enables automatic scaling based on the monitor's pixel density.</li> <li>The <code>Qt::AA_DisableHighDpiScaling</code> application attribute, introduced in Qt 5.6, turns off all scaling. This is intended for applications that require actual window system coordinates, regardless of environment variables. This attribute takes priority over <a href="qt#ApplicationAttribute-enum">Qt::AA_EnableHighDpiScaling</a>.</li> <li>The QT_ENABLE_HIGHDPI_SCALING environment variable, introduced in Qt 5.14, enables automatic scaling based on the pixel density of the monitor. Replaces QT_AUTO_SCREEN_SCALE_FACTOR.</li> <li>The QT_SCALE_FACTOR_ROUNDING_POLICY environment variable and <a href="qguiapplication#highDpiScaleFactorRoundingPolicy">QGuiApplication::highDpiScaleFactorRoundingPolicy</a> API, introduced in Qt 5.14, makes it possible to control if and how the device pixel ratio should be rounded to the nearest integer. This is relevant for configurations like Windows at 150% scale. Possible values are <code>Round</code>, <code>Ceil</code>, <code>Floor</code>, <code>RoundPreferFloor</code>, <code>PassThrough</code>. See the <a href="qt#HighDpiScaleFactorRoundingPolicy-enum">Qt::HighDpiScaleFactorRoundingPolicy</a> enum documentation for a full description of the options.</li> <li>In Qt 5.4, there was an experimental implementation of high DPI scaling introduced via the <code>QT_DEVICE_PIXEL_RATIO</code> environment variable, that you could set to a numerical scale factor or <code>auto</code>. This variable was deprecated in Qt 5.6.</li> </ul>  <h3 id="migrate-existing-applications">Migrate Existing Applications
</h3> <p>To get an application designed for low DPI values running on high resolution monitors quickly, consider one of the following:</p> <ul> <li>let the application run as <i>DPI Unaware</i> on Windows</li> <li>set the <code>QT_AUTO_SCREEN_SCALE_FACTOR</code> environment variable to <code>1</code>.</li> </ul> <p>However, these options may result in some scaling or painting artifacts.</p> <p>In the long term, the application should be adapted to run unmodified:</p> <ul> <li>Always use the qreal versions of the <a href="qpainter">QPainter</a> drawing API.</li> <li>Size windows and dialogs in relation to the corresponding screen size.</li> <li>Replace hard-coded sizes in layouts and drawing code with values calculated from font metrics or screen size.</li> </ul>  <h3 id="glossary-of-high-dpi-terms">Glossary Of High DPI Terms
</h3> <table class="generic"> <thead><tr class="qt-style">
<th>Term</th>
<th>Definition</th>
</tr></thead> <tr class="odd" valign="top">
<td>Device Independent Pixels</td>
<td>The pixels that an application uses (user space), subject to scaling by the operating system or Qt.</td>
</tr> <tr class="even" valign="top">
<td>Device Pixels</td>
<td>The display device's pixels.</td>
</tr> <tr class="odd" valign="top">
<td>Device Pixel Ratio</td>
<td>The scale factor that either the operating system or Qt applies.</td>
</tr> <tr class="even" valign="top">
<td>Logical DPI</td>
<td>The resolution used to convert font sizes defined in points to font sizes in pixels. The standard values are 96, 128, ... 192.</td>
</tr> <tr class="odd" valign="top">
<td>Physical DPI</td>
<td>The physical resolution obtained by dividing the size of the monitor by the number of pixels.</td>
</tr> <tr class="even" valign="top">
<td>User Space</td>
<td>The coordinate space that an application uses in Device Independent Pixels.</td>
</tr> </table>
<div class="_attribution">
  <p class="_attribution-p">
    © The Qt Company Ltd<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://doc.qt.io/qt-5.15/highdpi.html" class="_attribution-link">https://doc.qt.io/qt-5.15/highdpi.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
