
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>QAndroidJniEnvironment (Class) - Qt 5.15 - W3cubDocs</title>
  
  <meta name="description" content=" The QAndroidJniEnvironment provides access to the JNI Environment. More... ">
  <meta name="keywords" content="qandroidjnienvironment, class, qt, qt~5.15">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/qt~5.15/qandroidjnienvironment.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/qt~5.15.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/qt~5.15/" class="_nav-link" title="" style="margin-left:0;">Qt 5.15</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _qt">
				
				
<h1 class="title">QAndroidJniEnvironment Class</h1>  <p>The QAndroidJniEnvironment provides access to the JNI Environment. <a href="#details">More...</a></p>  <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> Header:</td>
<td class="memItemRight bottomAlign"> <span class="preprocessor">#include &lt;QAndroidJniEnvironment&gt;</span> </td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> qmake:</td>
<td class="memItemRight bottomAlign"> QT += androidextras</td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> Since:</td>
<td class="memItemRight bottomAlign"> Qt 5.2</td>
</tr>
</table>
<p>This class was introduced in Qt 5.2.</p> <ul> <li><a href="https://doc.qt.io/qt-5.15/qandroidjnienvironment-members.html">List of all members, including inherited members</a></li> </ul>  <h2 id="public-functions">Public Functions
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> </td>
<td class="memItemRight bottomAlign">
<b><a href="qandroidjnienvironment#QAndroidJniEnvironment">QAndroidJniEnvironment</a></b>()</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> </td>
<td class="memItemRight bottomAlign">
<b><a href="qandroidjnienvironment#dtor.QAndroidJniEnvironment">~QAndroidJniEnvironment</a></b>()</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> jclass </td>
<td class="memItemRight bottomAlign">
<b><a href="qandroidjnienvironment#findClass">findClass</a></b>(const char *<i>className</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> JNIEnv *</td>
<td class="memItemRight bottomAlign">
<b><a href="qandroidjnienvironment#operator-JNIEnv--2a">operator JNIEnv *</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> JNIEnv *</td>
<td class="memItemRight bottomAlign">
<b><a href="qandroidjnienvironment#operator--gt">operator-&gt;</a></b>()</td>
</tr> </table>  <h2 id="static-public-members">Static Public Members
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> JavaVM *</td>
<td class="memItemRight bottomAlign">
<b><a href="qandroidjnienvironment#javaVM">javaVM</a></b>()</td>
</tr> </table>    <h2 id="details">Detailed Description
</h2>    <h2>Member Function Documentation</h2>  <h3 class="fn" id="QAndroidJniEnvironment">
QAndroidJniEnvironment::<span class="name">QAndroidJniEnvironment</span>()
</h3> <p>Constructs a new QAndroidJniEnvironment object and attach the current thread to the Java VM.</p> <pre data-language="cpp">bool exceptionCheck()
{
    /*
      The QAndroidJniEnvironment attaches the current thread to the JavaVM on
      creation and detach when it goes out of scope.
     */
    QAndroidJniEnvironment qjniEnv;
    return qjniEnv-&gt;ExceptionCheck();
}</pre>   <h3 class="fn" id="dtor.QAndroidJniEnvironment">
QAndroidJniEnvironment::<span class="name">~QAndroidJniEnvironment</span>()
</h3> <p>Detaches the current thread from the Java VM and destroys the <a href="qandroidjnienvironment">QAndroidJniEnvironment</a> object.</p>   <h3 class="fn" id="findClass">
<span class="type">jclass</span> QAndroidJniEnvironment::<span class="name">findClass</span>(const <span class="type">char</span> *<i>className</i>)
</h3> <p>Searches for <i>className</i> using all available class loaders. Qt on Android uses a custom class loader to load all the .jar files and it must be used to find any classes that are created by that class loader because these classes are not visible in the default class loader.</p> <p>Returns the class pointer or null if is not found.</p> <p>A use case for this function is searching for a custom class then calling its memeber method. The following code snippet create an instance of the class <code>CustomClass</code> and then calls <code>printFromJava()</code> method:</p>    <h3 class="fn" id="javaVM">
<code>[static] </code><span class="type">JavaVM</span> *QAndroidJniEnvironment::<span class="name">javaVM</span>()
</h3> <p>Returns the Java VM interface.</p>   <h3 class="fn" id="operator-JNIEnv--2a">
<span class="type">JNIEnv</span> *QAndroidJniEnvironment::<span class="name">operator JNIEnv *</span>() const
</h3> <p>Returns the JNI Environment pointer.</p>   <h3 class="fn" id="operator--gt">
<span class="type">JNIEnv</span> *QAndroidJniEnvironment::<span class="name">operator-&gt;</span>()
</h3> <p>Provides access to the <a href="qandroidjnienvironment">QAndroidJniEnvironment</a>'s JNIEnv pointer.</p>
<div class="_attribution">
  <p class="_attribution-p">
    Â© The Qt Company Ltd<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://doc.qt.io/qt-5.15/qandroidjnienvironment.html" class="_attribution-link">https://doc.qt.io/qt-5.15/qandroidjnienvironment.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
