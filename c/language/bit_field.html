
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Bit Fields - C - W3cubDocs</title>
  
  <meta name="description" content=" Declares a member with explicit width, in bits. Adjacent bit field members may be packed to share and straddle the individual bytes. ">
  <meta name="keywords" content="bit, fields, c">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/c/language/bit_field.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/c.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/c/" class="_nav-link" title="" style="margin-left:0;">C</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _c">
				
				
<h1 id="firstHeading" class="firstHeading">Bit fields</h1>            <p>Declares a member with explicit width, in bits. Adjacent bit field members may be packed to share and straddle the individual bytes.</p>
<p>A bit field declaration is a <a href="struct" title="c/language/struct">struct</a> or <a href="union" title="c/language/union">union</a> member declaration which uses the following <a href="declarations" title="c/language/declarations">declarator</a>:</p>
<table class="t-sdsc-begin">  <tr class="t-sdsc"> <td class="t-sdsc-nopad"> <span class="t-spar">identifier</span><span class="t-mark">(optional)</span> <code>:</code> <span class="t-spar">width</span> </td> <td class="t-sdsc-nopad"> </td> <td class="t-sdsc-nopad"> </td>
</tr> 
</table> <table class="t-par-begin"> <tr class="t-par"> <td> <span class="t-spar">identifier</span> </td> <td> - </td> <td> the name of the bit field that is being declared. The name is optional: nameless bit fields introduce the specified number of bits of padding </td>
</tr> <tr class="t-par"> <td> <span class="t-spar">width</span> </td> <td> - </td> <td> an integer <a href="constant_expression" title="c/language/constant expression">constant expression</a> with a value greater or equal to zero and less or equal the number of bits in the underlying type. When greater than zero, this is the number of bits that this bit field will occupy. The value zero is only allowed for nameless bit fields and has special meaning: it specifies that the next bit field in the class definition will begin at an allocation unit's boundary. </td>
</tr>
</table> <h3 id="Explanation">Explanation</h3> <p>Bit fields can have only one of four types (possibly <a href="const" title="c/language/const">const</a> or <a href="volatile" title="c/language/volatile">volatile</a> qualified):</p>
<ul>
<li> <code>unsigned int</code>, for unsigned bit fields (<code>unsigned int b:3;</code> has the range <code>0..7</code>) </li>
<li> <code>signed int</code>, for signed bit fields (<code>signed int b:3;</code> has the range <code>-4..3</code>) </li>
<li> <code>int</code>, for bit fields with implementation-defined signedness (Note that this differs from the meaning of the keyword <code>int</code> everywhere else, where it means "signed int"). For example, <code>int b:3;</code> may have the range of values <code>0..7</code> or <code>-4..3</code>. </li>
<li> <code>_Bool</code>, for single-bit bit fields (<code>bool x:1;</code> has the range <code>0..1</code> and <a href="conversion" title="c/language/conversion">implicit conversions</a> to and from it follow the boolean conversion rules. </li>
</ul> <p>Additional implementation-defined types may be acceptable.<span class="t-rev-inl t-since-c11"><span> It is also implementation-defined whether a bit field may have <a href="atomic" title="c/language/atomic">atomic</a> type.</span> <span><span class="t-mark-rev t-since-c11">(since C11)</span></span></span> The number of bits in a bit field (<span class="t-spar">width</span>) sets the limit to the range of values it can hold:</p>
<div class="t-example"> <div class="c source-c"><pre data-language="c">#include &lt;stdio.h&gt;
struct S {
 // three-bit unsigned field,
 // allowed values are 0...7
 unsigned int b : 3;
};
int main(void)
{
    struct S s = {7};
    ++s.b; // unsigned overflow
    printf("%d\n", s.b); // output: 0
}</pre></div> </div> <p>Multiple adjacent bit fields are permitted to be (and usually are) packed together:</p>
<div class="t-example"> <div class="c source-c"><pre data-language="c">#include &lt;stdio.h&gt;
struct S {
    // will usually occupy 4 bytes:
    // 5 bits: value of b1
    // 11 bits: unused
    // 6 bits: value of b2
    // 2 bits: value of b3
    // 8 bits: unused
    unsigned b1 : 5, : 11, b2 : 6, b3 : 2;
};
int main(void)
{
    printf("%zu\n",sizeof(struct S)); // usually prints 4
}</pre></div> </div> <p>The special <i>unnamed bit field</i> of <span class="t-spar">width</span> zero breaks up padding: it specifies that the next bit field begins at the beginning of the next allocation unit:</p>
<div class="t-example"> <div class="c source-c"><pre data-language="c">#include &lt;stdio.h&gt;
struct S {
    // will usually occupy 8 bytes:
    // 5 bits: value of b1
    // 27 bits: unused
    // 6 bits: value of b2
    // 15 bits: value of b3
    // 11 bits: unused
    unsigned b1 : 5;
    unsigned :0; // start a new unsigned int
    unsigned b2 : 6;
    unsigned b3 : 15;
};
int main(void)
{
    printf("%zu\n", sizeof(struct S)); // usually prints 8
}</pre></div> </div> <p>Because bit fields do not necessarily begin at the beginning of a byte, address of a bit field cannot be taken. Pointers to bit fields are not possible. Bit fields cannot be used with <a href="sizeof" title="c/language/sizeof">sizeof</a> <span class="t-rev-inl t-since-c11"><span>and <a href="alignas" title="c/language/alignas" class="mw-redirect">alignas</a> </span> <span><span class="t-mark-rev t-since-c11">(since C11)</span></span></span>.</p>
<h3 id="Notes">Notes</h3> <p>The following properties of bit fields are <i>undefined</i>:</p>
<ul><li> The effect of calling <code><a href="../types/offsetof" title="c/types/offsetof">offsetof</a></code> on a bit field </li></ul> <p>The following properties of bit fields are <i>unspecified</i>:</p>
<ul><li> Alignment of the allocation unit that holds a bit field </li></ul> <p>The following properties of bit fields are <i>implementation-defined</i>:</p>
<ul>
<li> Whether bit fields of type <code>int</code> are treated as signed or unsigned </li>
<li> Whether types other than int, signed int, unsigned int, and _Bool are permitted </li>
<li> Whether atomic types are permitted </li>
<li> Whether a bit field can straddle an allocation unit boundary </li>
<li> The order of bit fields within an allocation unit (on some platforms, bit fields are packed left-to-right, on others right-to-left) </li>
</ul> <p>Even though the number of bits in the object representation of <code>_Bool</code> is at least <code><a href="../types/limits" title="c/types/limits">CHAR_BIT</a></code>, the <span class="t-spar">width</span> of the bit field of type <code>_Bool</code> cannot be greater than 1.</p>
<p>In the C++ programming language, the width of a bit field can exceed the width of the underlying type.</p>
<h3 id="References">References</h3>  <ul>
<li> C11 standard (ISO/IEC 9899:2011): </li>
<ul><li> 6.7.2.1 Structure and union specifiers </li></ul>
<li> C99 standard (ISO/IEC 9899:1999): </li>
<ul><li> 6.7.2.1 Structure and union specifiers </li></ul>
<li> C89/C90 standard (ISO/IEC 9899:1990): </li>
<ul><li> 3.5.2.1 Structure and union specifiers </li></ul>
</ul>         <h3 id="See_also">See also</h3>            <div class="_attribution">
  <p class="_attribution-p">
    © cppreference.com<br>Licensed under the Creative Commons Attribution-ShareAlike Unported License v3.0.<br>
    <a href="http://en.cppreference.com/w/c/language/bit_field" class="_attribution-link">http://en.cppreference.com/w/c/language/bit_field</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
