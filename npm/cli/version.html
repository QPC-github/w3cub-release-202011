
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Version (CLI) - Npm - W3cubDocs</title>
  
  <meta name="description" content=" Bump a package version. ">
  <meta name="keywords" content="npm-version, version, cli, npm">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/npm/cli/version.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-1ac6eabaecc683cd82c4f9cff1325300a6f78291d4703b38c83379c2d31e4781e5f1277b26e5d61ba4232a879009bfe9c74d0000181d6786d9ab654f8dcad819.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/npm.js"></script>
  
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/npm/" class="_nav-link" title="" style="margin-left:0;">npm</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _npm">
				
				
<h1>npm-version</h1> <p class="subtitle">Bump a package version.</p> <h2 id="synopsis">Synopsis</h2> <pre>npm version [&lt;newversion&gt; | major | minor | patch | premajor | preminor | prepatch | prerelease [--preid=&lt;prerelease-id&gt;] | from-git]

'npm [-v | --version]' to print npm version
'npm view &lt;pkg&gt; version' to view a package's published version
'npm ls' to inspect current package/dependency versions
</pre> <h2 id="description">Description</h2> <p>Run this in a package directory to bump the version and write the new data back to <code>package.json</code>, <code>package-lock.json</code>, and, if present, <code>npm-shrinkwrap.json</code>.</p> <p>The <code>newversion</code> argument should be a valid semver string, a valid second argument to <a href="https://github.com/npm/node-semver#functions">semver.inc</a> (one of <code>patch</code>, <code>minor</code>, <code>major</code>, <code>prepatch</code>, <code>preminor</code>, <code>premajor</code>, <code>prerelease</code>), or <code>from-git</code>. In the second case, the existing version will be incremented by 1 in the specified field. <code>from-git</code> will try to read the latest git tag, and use that as the new npm version.</p> <p>If run in a git repo, it will also create a version commit and tag. This behavior is controlled by <code>git-tag-version</code> (see below), and can be disabled on the command line by running <code>npm --no-git-tag-version version</code>. It will fail if the working directory is not clean, unless the <code>-f</code> or <code>--force</code> flag is set.</p> <p>If supplied with <code>-m</code> or <code>--message</code> config option, npm will use it as a commit message when creating a version commit. If the <code>message</code> config contains <code>%s</code> then that will be replaced with the resulting version number. For example:</p> <pre>npm version patch -m "Upgrade to %s for reasons"
</pre> <p>If the <code>sign-git-tag</code> config is set, then the tag will be signed using the <code>-s</code> flag to git. Note that you must have a default GPG key set up in your git config for this to work properly. For example:</p> <pre>$ npm config set sign-git-tag true
$ npm version patch

You need a passphrase to unlock the secret key for
user: "isaacs (http://blog.izs.me/) &lt;i@izs.me&gt;"
2048-bit RSA key, ID 6C481CF6, created 2010-08-31

Enter passphrase:
</pre> <p>If <code>preversion</code>, <code>version</code>, or <code>postversion</code> are in the <code>scripts</code> property of the package.json, they will be executed as part of running <code>npm version</code>.</p> <p>The exact order of execution is as follows:</p> <ol> <li>Check to make sure the git working directory is clean before we get started. Your scripts may add files to the commit in future steps. This step is skipped if the <code>--force</code> flag is set.</li> <li>Run the <code>preversion</code> script. These scripts have access to the old <code>version</code> in package.json. A typical use would be running your full test suite before deploying. Any files you want added to the commit should be explicitly added using <code>git add</code>.</li> <li>Bump <code>version</code> in <code>package.json</code> as requested (<code>patch</code>, <code>minor</code>, <code>major</code>, etc).</li> <li>Run the <code>version</code> script. These scripts have access to the new <code>version</code> in package.json (so they can incorporate it into file headers in generated files for example). Again, scripts should explicitly add generated files to the commit using <code>git add</code>.</li> <li>Commit and tag.</li> <li>Run the <code>postversion</code> script. Use it to clean up the file system or automatically push the commit and/or tag.</li> </ol> <p>Take the following example:</p> <pre>"scripts": {
  "preversion": "npm test",
  "version": "npm run build &amp;&amp; git add -A dist",
  "postversion": "git push &amp;&amp; git push --tags &amp;&amp; rm -rf build/temp"
}
</pre> <p>This runs all your tests, and proceeds only if they pass. Then runs your <code>build</code> script, and adds everything in the <code>dist</code> directory to the commit. After the commit, it pushes the new commit and tag up to the server, and deletes the <code>build/temp</code> directory.</p> <h2 id="configuration">Configuration</h2> <h3 id="allow-same-version">allow-same-version</h3> <ul> <li>Default: false</li> <li>Type: Boolean</li> </ul> <p>Prevents throwing an error when <code>npm version</code> is used to set the new version to the same value as the current version.</p> <h3 id="git-tag-version">git-tag-version</h3> <ul> <li>Default: true</li> <li>Type: Boolean</li> </ul> <p>Commit and tag the version change.</p> <h3 id="commit-hooks">commit-hooks</h3> <ul> <li>Default: true</li> <li>Type: Boolean</li> </ul> <p>Run git commit hooks when committing the version change.</p> <h3 id="sign-git-tag">sign-git-tag</h3> <ul> <li>Default: false</li> <li>Type: Boolean</li> </ul> <p>Pass the <code>-s</code> flag to git to sign the tag.</p> <p>Note that you must have a default GPG key set up in your git config for this to work properly.</p> <h2 id="see-also">See Also</h2> <ul> <li><a href="init">npm-init</a></li> <li><a href="run-script">npm-run-script</a></li> <li><a href="../misc/scripts">npm-scripts</a></li> <li><a href="../files/package.json">package.json</a></li> <li><a href="../misc/semver">semver</a></li> <li><a href="../misc/config">config</a></li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    Â© npm, Inc. and Contributors<br>Licensed under the npm License.<br>npm is a trademark of npm, Inc.<br>
    <a href="https://docs.npmjs.com/cli/version" class="_attribution-link">https://docs.npmjs.com/cli/version</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
