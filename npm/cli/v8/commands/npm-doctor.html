
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Npm-doctor - Npm - W3cubDocs</title>
  
  <meta name="description" content=" Note&#58; This command is unaware of workspaces. ">
  <meta name="keywords" content="npm-doctor, npm">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/npm/cli/v8/commands/npm-doctor.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-60a6449bb52e9968d95c133a29f066ffcb8dbe4f077d4022e51c991ce30bf256c8e19c508207a4193c414ffd0414826564317669b0f27f9f85c1cb21b84e097e.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/npm.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/npm/" class="_nav-link" title="" style="margin-left:0;">npm</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _npm">
				
				
<h1 class="Heading-sc-1m35ws5-0 iZclfL">npm-doctor</h1>
<div id="___gatsby">
<div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="BaseStyles-sc-8q0tj8-0 fDevHB"><div display="flex" class="Box-sc-1b6inku-0 Flex-jlpa5r-0 fHJZpJ"><div display="flex" class="Box-sc-1b6inku-0 Flex-jlpa5r-0 layout___StyledFlex-sc-1xkoyzi-0 iqdyRg"><div id="skip-nav" display="grid" class="Box-sc-1b6inku-0 Grid-nhubvi-0 layout___StyledGrid-sc-1xkoyzi-1 iAgMbs">
<div class="Box-sc-1b6inku-0 layout___StyledBox-sc-1xkoyzi-2 bWYaaq">
<div class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 ebbWWE"><div class="Box-sc-1b6inku-0 jVPEnE"><div class="Box-sc-1b6inku-0 jVPEnE">Check your npm environment</div></div></div>

</div>
<div class="Box-sc-1b6inku-0 layout___StyledBox3-sc-1xkoyzi-5 dPTlHs">

<h3 id="synopsis" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH3-ceok90-3 ZvtHx Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
Synopsis</h3>
<div class="Box-sc-1b6inku-0 Position-gj4o9g-0 dIAadT">

<pre class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 jRndWL prism-code language-bash" data-language="javascript">npm doctor</pre>
</div>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">Note: This command is unaware of workspaces.</p>
<h3 id="description" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH3-ceok90-3 ZvtHx Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
Description</h3>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH"><code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm doctor</code> runs a set of checks to ensure that your npm installation has what it needs to manage your JavaScript packages. npm is mostly a standalone tool, but it does have some basic requirements that must be met:</p>
<ul class="list__List-sc-12i9x9y-0 hmihVt">
<li>Node.js and git must be executable by npm.</li>
<li>The primary npm registry, <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">registry.npmjs.com</code>, or another service that uses the registry API, is available.</li>
<li>The directories that npm uses, <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">node_modules</code> (both locally and globally), exist and can be written by the current user.</li>
<li>The npm cache exists, and the package tarballs within it aren't corrupt.</li>
</ul>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">Without all of these working properly, npm may not work properly. Many issues are often attributable to things that are outside npm's code base, so <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm doctor</code> confirms that the npm installation is in a good state.</p>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">Also, in addition to this, there are also very many issue reports due to using old versions of npm. Since npm is constantly improving, running <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm@latest</code> is better than an old version.</p>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH"><code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm doctor</code> verifies the following items in your environment, and if there are any recommended changes, it will display them.</p>
<h4 id="npm-ping" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH4-ceok90-4 kXfvHH Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
<code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm ping</code>
</h4>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">By default, npm installs from the primary npm registry, <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">registry.npmjs.org</code>. <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm doctor</code> hits a special ping endpoint within the registry. This can also be checked with <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm ping</code>. If this check fails, you may be using a proxy that needs to be configured, or may need to talk to your IT staff to get access over HTTPS to <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">registry.npmjs.org</code>.</p>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">This check is done against whichever registry you've configured (you can see what that is by running <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm config get registry</code>), and if you're using a private registry that doesn't support the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">/whoami</code> endpoint supported by the primary registry, this check may fail.</p>
<h4 id="npm--v" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH4-ceok90-4 kXfvHH Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
<code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm -v</code>
</h4>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">While Node.js may come bundled with a particular version of npm, it's the policy of the CLI team that we recommend all users run <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm@latest</code> if they can. As the CLI is maintained by a small team of contributors, there are only resources for a single line of development, so npm's own long-term support releases typically only receive critical security and regression fixes. The team believes that the latest tested version of npm is almost always likely to be the most functional and defect-free version of npm.</p>
<h4 id="node--v" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH4-ceok90-4 kXfvHH Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
<code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">node -v</code>
</h4>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">For most users, in most circumstances, the best version of Node will be the latest long-term support (LTS) release. Those of you who want access to new ECMAscript features or bleeding-edge changes to Node's standard library may be running a newer version, and some may be required to run an older version of Node because of enterprise change control policies. That's OK! But in general, the npm team recommends that most users run Node.js LTS.</p>
<h4 id="npm-config-get-registry" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH4-ceok90-4 kXfvHH Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
<code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm config get registry</code>
</h4>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">You may be installing from private package registries for your project or company. That's great! Others may be following tutorials or StackOverflow questions in an effort to troubleshoot problems you may be having. Sometimes, this may entail changing the registry you're pointing at. This part of <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm doctor</code> just lets you, and maybe whoever's helping you with support, know that you're not using the default registry.</p>
<h4 id="which-git" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH4-ceok90-4 kXfvHH Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
<code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">which git</code>
</h4>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">While it's documented in the README, it may not be obvious that npm needs Git installed to do many of the things that it does. Also, in some cases – especially on Windows – you may have Git set up in such a way that it's not accessible via your <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">PATH</code> so that npm can find it. This check ensures that Git is available.</p>
<h4 id="permissions-checks" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH4-ceok90-4 kXfvHH Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
Permissions checks</h4>
<ul class="list__List-sc-12i9x9y-0 hmihVt">
<li>Your cache must be readable and writable by the user running npm.</li>
<li>Global package binaries must be writable by the user running npm.</li>
<li>Your local <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">node_modules</code> path, if you're running <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm doctor</code> with a project directory, must be readable and writable by the user running npm.</li>
</ul>
<h4 id="validate-the-checksums-of-cached-packages" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH4-ceok90-4 kXfvHH Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
Validate the checksums of cached packages</h4>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">When an npm package is published, the publishing process generates a checksum that npm uses at install time to verify that the package didn't get corrupted in transit. <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm doctor</code> uses these checksums to validate the package tarballs in your local cache (you can see where that cache is located with <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm config get cache</code>). In the event that there are corrupt packages in your cache, you should probably run <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm cache clean -f</code> and reset the cache.</p>
<h3 id="configuration" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH3-ceok90-3 ZvtHx Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
Configuration</h3>
<h4 id="registry" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH4-ceok90-4 kXfvHH Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
<code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">registry</code>
</h4>
<ul class="list__List-sc-12i9x9y-0 hmihVt">
<li>Default: "<a href="https://registry.npmjs.org/%22" color="blue.5" class="Link-kudw2l-0 fXZrkv">https://registry.npmjs.org/"</a>
</li>
<li>Type: URL</li>
</ul>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">The base URL of the npm registry.</p>
<h3 id="see-also" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH3-ceok90-3 ZvtHx Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
See Also</h3>
<ul class="list__List-sc-12i9x9y-0 hmihVt">
<li><a href="npm-bugs" color="blue.5" class="Link-kudw2l-0 fXZrkv">npm bugs</a></li>
<li><a href="npm-help" color="blue.5" class="Link-kudw2l-0 fXZrkv">npm help</a></li>
<li><a href="npm-ping" color="blue.5" class="Link-kudw2l-0 fXZrkv">npm ping</a></li>
</ul>
</div>
</div></div></div></div></div>

</div>
<div class="_attribution">
  <p class="_attribution-p">
    © npm, Inc. and Contributors<br>Licensed under the npm License.<br>npm is a trademark of npm, Inc.<br>
    <a href="https://docs.npmjs.com/cli/v8/commands/npm-doctor" class="_attribution-link">https://docs.npmjs.com/cli/v8/commands/npm-doctor</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
