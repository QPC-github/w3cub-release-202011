
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Npm-exec - Npm - W3cubDocs</title>
  
  <meta name="description" content="This command allows you to run an arbitrary command from an npm package (either one installed locally, or fetched remotely), in a similar context as &hellip;">
  <meta name="keywords" content="npm-exec, npm">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/npm/cli/v8/commands/npm-exec.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/npm.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/npm/" class="_nav-link" title="" style="margin-left:0;">npm</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _npm">
				
				
<h1 class="Heading-sc-1m35ws5-0 iZclfL">npm-exec</h1>
<div id="___gatsby">
<div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="BaseStyles-sc-8q0tj8-0 fDevHB"><div display="flex" class="Box-sc-1b6inku-0 Flex-jlpa5r-0 fHJZpJ"><div display="flex" class="Box-sc-1b6inku-0 Flex-jlpa5r-0 layout___StyledFlex-sc-1xkoyzi-0 iqdyRg"><div id="skip-nav" display="grid" class="Box-sc-1b6inku-0 Grid-nhubvi-0 layout___StyledGrid-sc-1xkoyzi-1 iAgMbs">
<div class="Box-sc-1b6inku-0 layout___StyledBox-sc-1xkoyzi-2 bWYaaq">
<div class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 ebbWWE"><div class="Box-sc-1b6inku-0 jVPEnE"><div class="Box-sc-1b6inku-0 jVPEnE">Run a command from a local or remote npm package</div></div></div>

</div>
<div class="Box-sc-1b6inku-0 layout___StyledBox3-sc-1xkoyzi-5 dPTlHs">

<h3 id="synopsis" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH3-ceok90-3 ZvtHx Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
Synopsis</h3>
<div class="Box-sc-1b6inku-0 Position-gj4o9g-0 dIAadT">

<pre class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 jRndWL prism-code language-bash" data-language="javascript">npm exec -- &lt;pkg&gt;[@&lt;version&gt;] [args...]
npm exec --package=&lt;pkg&gt;[@&lt;version&gt;] -- &lt;cmd&gt; [args...]
npm exec -c '&lt;cmd&gt; [args...]'
npm exec --package=foo -c '&lt;cmd&gt; [args...]'
npm exec [--ws] [-w &lt;workspace-name] [args...]

npx &lt;pkg&gt;[@&lt;specifier&gt;] [args...]
npx -p &lt;pkg&gt;[@&lt;specifier&gt;] &lt;cmd&gt; [args...]
npx -c '&lt;cmd&gt; [args...]'
npx -p &lt;pkg&gt;[@&lt;specifier&gt;] -c '&lt;cmd&gt; [args...]'
Run without --call or positional args to open interactive subshell

alias: npm x, npx

common options:
--package=&lt;pkg&gt; (may be specified multiple times)
-p is a shorthand for --package only when using npx executable
-c &lt;cmd&gt; --call=&lt;cmd&gt; (may not be mixed with positional arguments)</pre>
</div>
<h3 id="description" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH3-ceok90-3 ZvtHx Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
Description</h3>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">This command allows you to run an arbitrary command from an npm package (either one installed locally, or fetched remotely), in a similar context as running it via <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm run</code>.</p>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">Run without positional arguments or <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--call</code>, this allows you to interactively run commands in the same sort of shell environment that <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">package.json</code> scripts are run. Interactive mode is not supported in CI environments when standard input is a TTY, to prevent hangs.</p>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">Whatever packages are specified by the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--package</code> option will be provided in the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">PATH</code> of the executed command, along with any locally installed package executables. The <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--package</code> option may be specified multiple times, to execute the supplied command in an environment where all specified packages are available.</p>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">If any requested packages are not present in the local project dependencies, then they are installed to a folder in the npm cache, which is added to the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">PATH</code> environment variable in the executed process. A prompt is printed (which can be suppressed by providing either <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--yes</code> or <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--no</code>).</p>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">Package names provided without a specifier will be matched with whatever version exists in the local project. Package names with a specifier will only be considered a match if they have the exact same name and version as the local dependency.</p>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">If no <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">-c</code> or <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--call</code> option is provided, then the positional arguments are used to generate the command string. If no <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--package</code> options are provided, then npm will attempt to determine the executable name from the package specifier provided as the first positional argument according to the following heuristic:</p>
<ul class="list__List-sc-12i9x9y-0 hmihVt">
<li>If the package has a single entry in its <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">bin</code> field in <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">package.json</code>, or if all entries are aliases of the same command, then that command will be used.</li>
<li>If the package has multiple <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">bin</code> entries, and one of them matches the unscoped portion of the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">name</code> field, then that command will be used.</li>
<li>If this does not result in exactly one option (either because there are no bin entries, or none of them match the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">name</code> of the package), then <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm exec</code> exits with an error.</li>
</ul>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">To run a binary <em>other than</em> the named binary, specify one or more <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--package</code> options, which will prevent npm from inferring the package from the first command argument.</p>
<h3 id="npx-vs-npm-exec" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH3-ceok90-3 ZvtHx Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
<code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npx</code> vs <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm exec</code>
</h3>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">When run via the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npx</code> binary, all flags and options <em>must</em> be set prior to any positional arguments. When run via <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm exec</code>, a double-hyphen <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--</code> flag can be used to suppress npm's parsing of switches and options that should be sent to the executed command.</p>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">For example:</p>
<div class="Box-sc-1b6inku-0 Position-gj4o9g-0 dIAadT">

<pre class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 jRndWL prism-code language-" data-language="javascript">$ npx foo@latest bar --package=@npmcli/foo</pre>
</div>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">In this case, npm will resolve the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">foo</code> package name, and run the following command:</p>
<div class="Box-sc-1b6inku-0 Position-gj4o9g-0 dIAadT">

<pre class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 jRndWL prism-code language-" data-language="javascript">$ foo bar --package=@npmcli/foo</pre>
</div>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">Since the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--package</code> option comes <em>after</em> the positional arguments, it is treated as an argument to the executed command.</p>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">In contrast, due to npm's argument parsing logic, running this command is different:</p>
<div class="Box-sc-1b6inku-0 Position-gj4o9g-0 dIAadT">

<pre class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 jRndWL prism-code language-" data-language="javascript">$ npm exec foo@latest bar --package=@npmcli/foo</pre>
</div>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">In this case, npm will parse the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--package</code> option first, resolving the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">@npmcli/foo</code> package. Then, it will execute the following command in that context:</p>
<div class="Box-sc-1b6inku-0 Position-gj4o9g-0 dIAadT">

<pre class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 jRndWL prism-code language-" data-language="javascript">$ foo@latest bar</pre>
</div>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">The double-hyphen character is recommended to explicitly tell npm to stop parsing command line options and switches. The following command would thus be equivalent to the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npx</code> command above:</p>
<div class="Box-sc-1b6inku-0 Position-gj4o9g-0 dIAadT">

<pre class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 jRndWL prism-code language-" data-language="javascript">$ npm exec -- foo@latest bar --package=@npmcli/foo</pre>
</div>
<h3 id="configuration" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH3-ceok90-3 ZvtHx Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
Configuration</h3>
<h4 id="package" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH4-ceok90-4 kXfvHH Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
<code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">package</code>
</h4>
<ul class="list__List-sc-12i9x9y-0 hmihVt">
<li>Default:</li>
<li>Type: String (can be set multiple times)</li>
</ul>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">The package to install for <a href="npm-exec" color="blue.5" class="Link-kudw2l-0 fXZrkv"><code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm exec</code></a></p>
<h4 id="call" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH4-ceok90-4 kXfvHH Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
<code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">call</code>
</h4>
<ul class="list__List-sc-12i9x9y-0 hmihVt">
<li>Default: ""</li>
<li>Type: String</li>
</ul>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">Optional companion option for <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm exec</code>, <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npx</code> that allows for specifying a custom command to be run along with the installed packages.</p>
<div class="Box-sc-1b6inku-0 Position-gj4o9g-0 dIAadT">

<pre class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 jRndWL prism-code language-bash" data-language="javascript">npm exec --package yo --package generator-node --call "yo node"</pre>
</div>
<h4 id="workspace" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH4-ceok90-4 kXfvHH Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
<code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">workspace</code>
</h4>
<ul class="list__List-sc-12i9x9y-0 hmihVt">
<li>Default:</li>
<li>Type: String (can be set multiple times)</li>
</ul>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">Enable running a command in the context of the configured workspaces of the current project while filtering by running only the workspaces defined by this configuration option.</p>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">Valid values for the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">workspace</code> config are either:</p>
<ul class="list__List-sc-12i9x9y-0 hmihVt">
<li>Workspace names</li>
<li>Path to a workspace directory</li>
<li>Path to a parent workspace directory (will result in selecting all workspaces within that folder)</li>
</ul>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">When set for the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm init</code> command, this may be set to the folder of a workspace which does not yet exist, to create the folder and set it up as a brand new workspace within the project.</p>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">This value is not exported to the environment for child processes.</p>
<h4 id="workspaces" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH4-ceok90-4 kXfvHH Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
<code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">workspaces</code>
</h4>
<ul class="list__List-sc-12i9x9y-0 hmihVt">
<li>Default: null</li>
<li>Type: null or Boolean</li>
</ul>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">Set to true to run the command in the context of <strong>all</strong> configured workspaces.</p>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">Explicitly setting this to false will cause commands like <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">install</code> to ignore workspaces altogether. When not set explicitly:</p>
<ul class="list__List-sc-12i9x9y-0 hmihVt"><li>Commands that operate on the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">node_modules</code> tree (install, update, etc.) will link workspaces into the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">node_modules</code> folder. - Commands that do other things (test, exec, publish, etc.) will operate on the root project, <em>unless</em> one or more workspaces are specified in the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">workspace</code> config.</li></ul>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">This value is not exported to the environment for child processes.</p>
<h4 id="include-workspace-root" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH4-ceok90-4 kXfvHH Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
<code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">include-workspace-root</code>
</h4>
<ul class="list__List-sc-12i9x9y-0 hmihVt">
<li>Default: false</li>
<li>Type: Boolean</li>
</ul>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">Include the workspace root when workspaces are enabled for a command.</p>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">When false, specifying individual workspaces via the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">workspace</code> config, or all workspaces via the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">workspaces</code> flag, will cause npm to operate only on the specified workspaces, and not on the root project.</p>
<h3 id="examples" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH3-ceok90-3 ZvtHx Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
Examples</h3>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">Run the version of <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">tap</code> in the local dependencies, with the provided arguments:</p>
<div class="Box-sc-1b6inku-0 Position-gj4o9g-0 dIAadT">

<pre class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 jRndWL prism-code language-" data-language="javascript">$ npm exec -- tap --bail test/foo.js
$ npx tap --bail test/foo.js</pre>
</div>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">Run a command <em>other than</em> the command whose name matches the package name by specifying a <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--package</code> option:</p>
<div class="Box-sc-1b6inku-0 Position-gj4o9g-0 dIAadT">

<pre class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 jRndWL prism-code language-" data-language="javascript">$ npm exec --package=foo -- bar --bar-argument
# ~ or ~
$ npx --package=foo bar --bar-argument</pre>
</div>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">Run an arbitrary shell script, in the context of the current project:</p>
<div class="Box-sc-1b6inku-0 Position-gj4o9g-0 dIAadT">

<pre class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 jRndWL prism-code language-" data-language="javascript">$ npm x -c 'eslint &amp;&amp; say "hooray, lint passed"'
$ npx -c 'eslint &amp;&amp; say "hooray, lint passed"'</pre>
</div>
<h3 id="workspaces-support" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH3-ceok90-3 ZvtHx Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
Workspaces support</h3>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">You may use the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">workspace</code> or <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">workspaces</code> configs in order to run an arbitrary command from an npm package (either one installed locally, or fetched remotely) in the context of the specified workspaces. If no positional argument or <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--call</code> option is provided, it will open an interactive subshell in the context of each of these configured workspaces one at a time.</p>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">Given a project with configured workspaces, e.g:</p>
<div class="Box-sc-1b6inku-0 Position-gj4o9g-0 dIAadT">

<pre class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 jRndWL prism-code language-" data-language="javascript">.
+-- package.json
`-- packages
   +-- a
   |   `-- package.json
   +-- b
   |   `-- package.json
   `-- c
       `-- package.json</pre>
</div>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">Assuming the workspace configuration is properly set up at the root level <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">package.json</code> file. e.g:</p>
<div class="Box-sc-1b6inku-0 Position-gj4o9g-0 dIAadT">

<pre class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 jRndWL prism-code language-" data-language="javascript">{
    "workspaces": [ "./packages/*" ]
}</pre>
</div>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">You can execute an arbitrary command from a package in the context of each of the configured workspaces when using the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">workspaces</code> configuration options, in this example we're using <strong>eslint</strong> to lint any js file found within each workspace folder:</p>
<div class="Box-sc-1b6inku-0 Position-gj4o9g-0 dIAadT">

<pre class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 jRndWL prism-code language-" data-language="javascript">npm exec --ws -- eslint ./*.js</pre>
</div>
<h4 id="filtering-workspaces" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH4-ceok90-4 kXfvHH Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
Filtering workspaces</h4>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">It's also possible to execute a command in a single workspace using the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">workspace</code> config along with a name or directory path:</p>
<div class="Box-sc-1b6inku-0 Position-gj4o9g-0 dIAadT">

<pre class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 jRndWL prism-code language-" data-language="javascript">npm exec --workspace=a -- eslint ./*.js</pre>
</div>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">The <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">workspace</code> config can also be specified multiple times in order to run a specific script in the context of multiple workspaces. When defining values for the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">workspace</code> config in the command line, it also possible to use <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">-w</code> as a shorthand, e.g:</p>
<div class="Box-sc-1b6inku-0 Position-gj4o9g-0 dIAadT">

<pre class="Box-sc-1b6inku-0 BorderBox-sc-1y9cbfx-0 jRndWL prism-code language-" data-language="javascript">npm exec -w a -w b -- eslint ./*.js</pre>
</div>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">This last command will run the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">eslint</code> command in both <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">./packages/a</code> and <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">./packages/b</code> folders.</p>
<h3 id="compatibility-with-older-npx-versions" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH3-ceok90-3 ZvtHx Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
Compatibility with Older npx Versions</h3>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">The <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npx</code> binary was rewritten in npm v7.0.0, and the standalone <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npx</code> package deprecated at that time. <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npx</code> uses the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm exec</code> command instead of a separate argument parser and install process, with some affordances to maintain backwards compatibility with the arguments it accepted in previous versions.</p>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">This resulted in some shifts in its functionality:</p>
<ul class="list__List-sc-12i9x9y-0 hmihVt">
<li>Any <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm</code> config value may be provided.</li>
<li>To prevent security and user-experience problems from mistyping package names, <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npx</code> prompts before installing anything. Suppress this prompt with the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">-y</code> or <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--yes</code> option.</li>
<li>The <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--no-install</code> option is deprecated, and will be converted to <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--no</code>.</li>
<li>Shell fallback functionality is removed, as it is not advisable.</li>
<li>The <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">-p</code> argument is a shorthand for <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--parseable</code> in npm, but shorthand for <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--package</code> in npx. This is maintained, but only for the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npx</code> executable.</li>
<li>The <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--ignore-existing</code> option is removed. Locally installed bins are always present in the executed process <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">PATH</code>.</li>
<li>The <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--npm</code> option is removed. <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npx</code> will always use the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm</code> it ships with.</li>
<li>The <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--node-arg</code> and <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">-n</code> options are removed.</li>
<li>The <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--always-spawn</code> option is redundant, and thus removed.</li>
<li>The <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--shell</code> option is replaced with <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--script-shell</code>, but maintained in the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npx</code> executable for backwards compatibility.</li>
</ul>
<h3 id="a-note-on-caching" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH3-ceok90-3 ZvtHx Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
A note on caching</h3>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">The npm cli utilizes its internal package cache when using the package name specified. You can use the following to change how and when the cli uses this cache. See <a href="npm-cache" color="blue.5" class="Link-kudw2l-0 fXZrkv"><code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">npm cache</code></a> for more on how the cache works.</p>
<h4 id="prefer-online" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH4-ceok90-4 kXfvHH Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
prefer-online</h4>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">Forces staleness checks for packages, making the cli look for updates immediately even if the package is already in the cache.</p>
<h4 id="prefer-offline" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH4-ceok90-4 kXfvHH Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
prefer-offline</h4>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">Bypasses staleness checks for packages. Missing data will still be requested from the server. To force full offline mode, use <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">offline</code>.</p>
<h4 id="offline" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH4-ceok90-4 kXfvHH Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
offline</h4>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">Forces full offline mode. Any packages not locally cached will result in an error.</p>
<h4 id="workspace" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH4-ceok90-4 kXfvHH Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
workspace</h4>
<ul class="list__List-sc-12i9x9y-0 hmihVt">
<li>Default:</li>
<li>Type: String (can be set multiple times)</li>
</ul>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">Enable running a command in the context of the configured workspaces of the current project while filtering by running only the workspaces defined by this configuration option.</p>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">Valid values for the <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">workspace</code> config are either:</p>
<ul class="list__List-sc-12i9x9y-0 hmihVt">
<li>Workspace names</li>
<li>Path to a workspace directory</li>
<li>Path to a parent workspace directory (will result to selecting all of the nested workspaces)</li>
</ul>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">This value is not exported to the environment for child processes.</p>
<h4 id="workspaces" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH4-ceok90-4 kXfvHH Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
workspaces</h4>
<ul class="list__List-sc-12i9x9y-0 hmihVt">
<li>Alias: <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">--ws</code>
</li>
<li>Type: Boolean</li>
<li>Default: <code class="inline-code__InlineCode-sc-6w7ni7-0 cfZKRM">false</code>
</li>
</ul>
<p class="paragraph__Paragraph-sc-10e3u8p-0 hNfxuH">Run scripts in the context of all configured workspaces for the current project.</p>
<h3 id="see-also" class="Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 heading__StyledH3-ceok90-3 ZvtHx Heading-sc-1m35ws5-0 heading__StyledHeading-ceok90-0 llhjUK">
See Also</h3>
<ul class="list__List-sc-12i9x9y-0 hmihVt">
<li><a href="npm-run-script" color="blue.5" class="Link-kudw2l-0 fXZrkv">npm run-script</a></li>
<li><a href="../using-npm/scripts" color="blue.5" class="Link-kudw2l-0 fXZrkv">npm scripts</a></li>
<li><a href="npm-test" color="blue.5" class="Link-kudw2l-0 fXZrkv">npm test</a></li>
<li><a href="npm-start" color="blue.5" class="Link-kudw2l-0 fXZrkv">npm start</a></li>
<li><a href="npm-restart" color="blue.5" class="Link-kudw2l-0 fXZrkv">npm restart</a></li>
<li><a href="npm-stop" color="blue.5" class="Link-kudw2l-0 fXZrkv">npm stop</a></li>
<li><a href="npm-config" color="blue.5" class="Link-kudw2l-0 fXZrkv">npm config</a></li>
<li><a href="../using-npm/workspaces" color="blue.5" class="Link-kudw2l-0 fXZrkv">npm workspaces</a></li>
</ul>
</div>
</div></div></div></div></div>

</div>
<div class="_attribution">
  <p class="_attribution-p">
    © npm, Inc. and Contributors<br>Licensed under the npm License.<br>npm is a trademark of npm, Inc.<br>
    <a href="https://docs.npmjs.com/cli/v8/commands/npm-exec" class="_attribution-link">https://docs.npmjs.com/cli/v8/commands/npm-exec</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
