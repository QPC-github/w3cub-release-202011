
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Varnishstat - Varnish - W3cubDocs</title>
  
  <meta name="description" content=" 1 ">
  <meta name="keywords" content="varnishstat, varnish">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/varnish/reference/varnishstat.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/varnish.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/varnish/" class="_nav-link" title="" style="margin-left:0;">Varnish</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx">
				
				
<h1 id="varnishstat-1">varnishstat</h1>  <h2 id="varnish-cache-statistics">Varnish Cache statistics</h2> <dl class="field-list simple"> <dt class="field-odd">Manual section</dt> <dd class="field-odd">
<p>1</p> </dd> </dl>  <h3 id="synopsis">SYNOPSIS</h3> <p>varnishstat [-1] [-f &lt;glob&gt;] [-h] [-I &lt;glob&gt;] [-j] [-l] [-n &lt;dir&gt;] [-t &lt;seconds|off&gt;] [-V] [-X &lt;glob&gt;] [-x]</p>   <h3 id="description">DESCRIPTION</h3> <p>The varnishstat utility displays statistics from a running varnishd(1) instance.</p> <p>The following options are available:</p> <dl class="option-list"> <dt><kbd><span class="option">-1</span></kbd></dt> <dd>
<p>Instead of presenting a continuously updated display, print the statistics to stdout.</p> </dd> <dt><kbd><span class="option">-f <var>&lt;glob&gt;</var></span></kbd></dt> <dd>
<p>Legacy field filtering glob. Use backslash to escape characters. If the argument starts with ‘^’ it is used as an exclusive glob. Multiple -f arguments may be given. Legacy filtering globs are run along with inclusion globs (-I arguments) and exclusion globs (-X arguments) in order on a first-match basis.</p> </dd> <dt><kbd><span class="option">-h</span></kbd></dt> <dd>
<p>Print program usage and exit</p> </dd> <dt><kbd><span class="option">-I <var>&lt;glob&gt;</var></span></kbd></dt> <dd>
<p>Field inclusion glob. Use backslash to escape characters. Multiple -I arguments may be given. Exclusion globs are run in order along with exclusion globs (-X arguments) and legacy filtering globs (-f arguments) on a first-match basis.</p> </dd> <dt><kbd><span class="option">-j</span></kbd></dt> <dd>
<p>Print statistics to stdout as JSON.</p> </dd> <dt><kbd><span class="option">-l</span></kbd></dt> <dd>
<p>Lists the available fields to use with the -f option.</p> </dd> <dt><kbd><span class="option">-n <var>&lt;dir&gt;</var></span></kbd></dt> <dd>
<p>Specify the varnishd working directory (also known as instance name) to get logs from. If -n is not specified, the host name is used.</p> </dd> <dt><kbd><span class="option">-t <var>&lt;seconds|off&gt;</var></span></kbd></dt> <dd>
<p>Timeout before returning error on initial VSM connection. If set the VSM connection is retried every 0.5 seconds for this many seconds. If zero the connection is attempted only once and will fail immediately if unsuccessful. If set to “off”, the connection will not fail, allowing the utility to start and wait indefinetely for the Varnish instance to appear. Defaults to 5 seconds.</p> </dd> <dt><kbd><span class="option">-V</span></kbd></dt> <dd>
<p>Print version information and exit.</p> </dd> <dt><kbd><span class="option">-X <var>&lt;glob&gt;</var></span></kbd></dt> <dd>
<p>Field exclusion glob. Use backslash to escape characters. Multiple -X arguments may be given. Exclusion globs are run in order along with inclusion globs (-I arguments) and legacy filtering globs (-f arguments) on a first-match basis.</p> </dd> <dt><kbd><span class="option">-x</span></kbd></dt> <dd>
<p>Print statistics to stdout as XML.</p> </dd> <dt><kbd><span class="option">--optstring</span></kbd></dt> <dd>
<p>Print the optstring parameter to <code>getopt(3)</code> to help writing wrapper scripts.</p> </dd> </dl>   <h3 id="curses-mode">CURSES MODE</h3> <p>When neither -1, -j nor -x options are given, the application starts up in curses mode. This shows a continuously updated view of the counter values, along with their description.</p> <p>The top area shows process uptime information.</p> <p>The center area shows a list of counter values.</p> <p>The bottom area shows the description of the currently selected counter.</p> <p>On startup, only counters at INFO level are shown.</p>  <h4 id="columns">Columns</h4> <p>The following columns are displayed, from left to right:</p> <dl class="simple"> <dt>Name</dt>
<dd>
<p>The name of the counter</p> </dd> <dt>Current</dt>
<dd>
<p>The current value of the counter.</p> </dd> <dt>Change</dt>
<dd>
<p>The average per second change over the last update interval.</p> </dd> <dt>Average</dt>
<dd>
<p>The average value of this counter over the runtime of the Varnish daemon, or a period if the counter can’t be averaged.</p> </dd> <dt>Avg_10</dt>
<dd>
<p>The moving average over the last 10 update intervals.</p> </dd> <dt>Avg_100</dt>
<dd>
<p>The moving average over the last 100 update intervals.</p> </dd> <dt>Avg_1000</dt>
<dd>
<p>The moving average over the last 1000 update intervals.</p> </dd> </dl>   <h4 id="key-bindings">Key bindings</h4> <dl class="simple"> <dt>&lt;h&gt;</dt>
<dd>
<p>Toggle the help screen.</p> </dd> <dt>&lt;UP&gt; or &lt;k&gt;</dt>
<dd>
<p>Navigate the counter list one line up.</p> </dd> <dt>&lt;DOWN&gt; or &lt;j&gt;</dt>
<dd>
<p>Navigate the counter list one line down.</p> </dd> <dt>&lt;PAGEUP&gt; or &lt;b&gt; or &lt;CTRL-B&gt;</dt>
<dd>
<p>Navigate the counter list one page up.</p> </dd> <dt>&lt;PAGEDOWN&gt; or &lt;SPACE&gt; or &lt;CTRL-F&gt;</dt>
<dd>
<p>Navigate the counter list one page down.</p> </dd> <dt>&lt;HOME&gt; or &lt;g&gt;</dt>
<dd>
<p>Navigate the counter list to the top.</p> </dd> <dt>&lt;END&gt; or &lt;G&gt;</dt>
<dd>
<p>Navigate the counter list to the bottom.</p> </dd> <dt>&lt;d&gt;</dt>
<dd>
<p>Toggle between showing and hiding unseen counters. Unseen counters are those that has been zero for the entire runtime of varnishstat. Defaults to hide unseen counters.</p> </dd> <dt>&lt;e&gt;</dt>
<dd>
<p>Toggle scaling of values.</p> </dd> <dt>&lt;v&gt;</dt>
<dd>
<p>Increase verbosity. Defaults to only showing informational counters.</p> </dd> <dt>&lt;V&gt;</dt>
<dd>
<p>Decrease verbosity. Defaults to only showing informational counters.</p> </dd> <dt>&lt;q&gt;</dt>
<dd>
<p>Quit.</p> </dd> <dt>&lt;CTRL+T&gt;</dt>
<dd>
<p>Sample now.</p> </dd> <dt>&lt;+&gt;</dt>
<dd>
<p>Increase refresh interval.</p> </dd> <dt>&lt;-&gt;</dt>
<dd>
<p>Decrease refresh interval.</p> </dd> </dl>    <h3 id="outputs">OUTPUTS</h3> <p>The XML output format is:</p> <pre data-language="python">&lt;varnishstat timestamp="YYYY-MM-DDTHH:mm:SS"&gt;
  &lt;stat&gt;
    &lt;name&gt;FIELD NAME&lt;/name&gt;
    &lt;value&gt;FIELD VALUE&lt;/value&gt;
    &lt;flag&gt;FIELD SEMANTICS&lt;/flag&gt;
    &lt;format&gt;FIELD DISPLAY FORMAT&lt;/format&gt;
    &lt;description&gt;FIELD DESCRIPTION&lt;/description&gt;
  &lt;/stat&gt;
  [..]
&lt;/varnishstat&gt;
</pre> <p>The JSON output format is:</p> <pre data-language="python">{
  "timestamp": "YYYY-MM-DDTHH:mm:SS",
  "FIELD NAME": {
    "description": "FIELD DESCRIPTION",
    "flag": "FIELD SEMANTICS", "format": "FIELD DISPLAY FORMAT",
    "value": FIELD VALUE
  },
  "FIELD NAME": {
    "description": "FIELD DESCRIPTION",
    "flag": "FIELD SEMANTICS", "format": "FIELD DISPLAY FORMAT",
    "value": FIELD VALUE
  },
  [..]
}
</pre> <p>Timestamp is the time when the report was generated by varnishstat.</p>   <h3 id="see-also">SEE ALSO</h3> <ul class="simple"> <li><a class="reference internal" href="varnishd#varnishd-1"><span class="std std-ref">varnishd</span></a></li> <li><a class="reference internal" href="varnishhist#varnishhist-1"><span class="std std-ref">varnishhist</span></a></li> <li><a class="reference internal" href="varnishlog#varnishlog-1"><span class="std std-ref">varnishlog</span></a></li> <li><a class="reference internal" href="varnishncsa#varnishncsa-1"><span class="std std-ref">varnishncsa</span></a></li> <li><a class="reference internal" href="varnishtop#varnishtop-1"><span class="std std-ref">varnishtop</span></a></li> <li>curses(3)</li> <li><a class="reference internal" href="varnish-counters#varnish-counters-7"><span class="std std-ref">varnish-counters</span></a></li> </ul>   <h3 id="authors">AUTHORS</h3> <p>This manual page was written by Dag-Erling Smørgrav, Per Buer, Lasse Karstensen and Martin Blix Grydeland.</p>
<div class="_attribution">
  <p class="_attribution-p">
    Copyright © 2006 Verdens Gang AS<br>Copyright © 2006–2020 Varnish Software AS<br>Licensed under the BSD-2-Clause License.<br>
    <a href="https://varnish-cache.org/docs/6.5/reference/varnishstat.html" class="_attribution-link">https://varnish-cache.org/docs/6.5/reference/varnishstat.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
