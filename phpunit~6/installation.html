
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Installing PHPUnit - PHPUnit 6 - W3cubDocs</title>
  
  <meta name="description" content=" PHPUnit 6.5 requires PHP 7; using the latest version of PHP is highly recommended. ">
  <meta name="keywords" content="installing, phpunit, phpunit~6">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/phpunit~6/installation.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/phpunit~6.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/phpunit~6/" class="_nav-link" title="" style="margin-left:0;">PHPUnit 6</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _phpunit">
				
				
<h1 class="title" id="installation">Installing PHPUnit</h1>
<h2 class="title" id="installation.requirements">Requirements</h2>
<p> PHPUnit 6.5 requires PHP 7; using the latest version of PHP is highly recommended. </p>
<p> PHPUnit requires the <a class="ulink" href="http://php.net/manual/en/dom.setup.php" target="_top">dom</a> and <a class="ulink" href="http://php.net/manual/en/json.installation.php" target="_top">json</a> extensions, which are normally enabled by default. </p>
<p> PHPUnit also requires the <a class="ulink" href="http://php.net/manual/en/pcre.installation.php" target="_top">pcre</a>, <a class="ulink" href="http://php.net/manual/en/reflection.installation.php" target="_top">reflection</a>, and <a class="ulink" href="http://php.net/manual/en/spl.installation.php" target="_top">spl</a> extensions. These standard extensions are enabled by default and cannot be disabled without patching PHP's build system and/or C sources. </p>
<p> The code coverage report feature requires the <a class="ulink" href="http://xdebug.org/" target="_top">Xdebug</a> (2.5.0 or later) and <a class="ulink" href="http://php.net/manual/en/tokenizer.installation.php" target="_top">tokenizer</a> extensions. Generating XML reports requires the <a class="ulink" href="http://php.net/manual/en/xmlwriter.installation.php" target="_top">xmlwriter</a> extension. </p>
<h2 class="title" id="installation.phar">PHP Archive (PHAR)</h2>
<p> The easiest way to obtain PHPUnit is to download a <a class="ulink" href="http://php.net/phar" target="_top">PHP Archive (PHAR)</a> that has all required (as well as some optional) dependencies of PHPUnit bundled in a single file. </p>
<p> The <a class="ulink" href="http://php.net/manual/en/phar.installation.php" target="_top">phar</a> extension is required for using PHP Archives (PHAR). </p>
<p> If the <a class="ulink" href="http://suhosin.org/" target="_top">Suhosin</a> extension is enabled, you need to allow execution of PHARs in your <code class="literal">php.ini</code>: </p>
<pre class="screen">
suhosin.executor.include.whitelist = phar
</pre>

<p> To globally install the PHAR: </p>
<pre class="screen">
$ wget https://phar.phpunit.de/phpunit-6.5.phar
$ chmod +x phpunit-6.5.phar
$ sudo mv phpunit-6.5.phar /usr/local/bin/phpunit
$ phpunit --version
PHPUnit x.y.z by Sebastian Bergmann and contributors.
</pre>
<p> You may also use the downloaded PHAR file directly: </p>
<pre class="screen">
$ wget https://phar.phpunit.de/phpunit-6.5.phar
$ php phpunit-6.5.phar --version
PHPUnit x.y.z by Sebastian Bergmann and contributors.
</pre>
<h3 class="title" id="installation.phar.windows">Windows</h3>
<p> Globally installing the PHAR involves the same procedure as manually <a class="ulink" href="https://getcomposer.org/doc/00-intro.md#installation-windows" target="_top"> installing Composer on Windows</a>: </p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p> Create a directory for PHP binaries; e.g., <code class="filename">C:\bin</code> </p></li>
<li class="listitem"><p> Append <strong class="userinput"><code>;C:\bin</code></strong> to your <code class="varname">PATH</code> environment variable (<a class="ulink" href="http://stackoverflow.com/questions/6318156/adding-python-path-on-windows-7" target="_top">related help</a>) </p></li>
<li class="listitem"><p> Download <a class="ulink" href="https://phar.phpunit.de/phpunit-6.5.phar" target="_top">https://phar.phpunit.de/phpunit-6.5.phar</a> and save the file as <code class="filename">C:\bin\phpunit.phar</code> </p></li>
<li class="listitem"><p> Open a command line (e.g., press <span class="keycap"><strong>Windows</strong></span>+<span class="keycap"><strong>R</strong></span> » type <strong class="userinput"><code>cmd</code></strong> » <span class="keycap"><strong>ENTER</strong></span>) </p></li>
<li class="listitem">
<p> Create a wrapping batch script (results in <code class="filename">C:\bin\phpunit.cmd</code>): </p>
<pre class="screen">
C:\Users\username&gt; cd C:\bin
C:\bin&gt; echo @php "%~dp0phpunit.phar" %* &gt; phpunit.cmd
C:\bin&gt; exit
</pre>
</li>
<li class="listitem">
<p> Open a new command line and confirm that you can execute PHPUnit from any path: </p>
<pre class="screen">
C:\Users\username&gt; phpunit --version
PHPUnit x.y.z by Sebastian Bergmann and contributors.
</pre>
</li>
</ol></div>
<p> For Cygwin and/or MingW32 (e.g., TortoiseGit) shell environments, you may skip step 5. above, simply save the file as <code class="filename">phpunit</code> (without <code class="filename">.phar</code> extension), and make it executable via <strong class="userinput"><code>chmod 775 phpunit</code></strong>. </p>
<h3 class="title" id="installation.phar.verification">Verifying PHPUnit PHAR Releases</h3>
<p> All official releases of code distributed by the PHPUnit Project are signed by the release manager for the release. PGP signatures and SHA1 hashes are available for verification on <a class="ulink" href="https://phar.phpunit.de/" target="_top">phar.phpunit.de</a>. </p>
<p> The following example details how release verification works. We start by downloading <code class="filename">phpunit.phar</code> as well as its detached PGP signature <code class="filename">phpunit.phar.asc</code>: </p>
<pre class="screen">wget https://phar.phpunit.de/phpunit.phar
wget https://phar.phpunit.de/phpunit.phar.asc</pre>
<p> We want to verify PHPUnit's PHP Archive (<code class="filename">phpunit.phar</code>) against its detached signature (<code class="filename">phpunit.phar.asc</code>): </p>
<pre class="screen">gpg phpunit.phar.asc
gpg: Signature made Sat 19 Jul 2014 01:28:02 PM CEST using RSA key ID 6372C20A
gpg: Can't check signature: public key not found</pre>
<p> We don't have the release manager's public key (<code class="literal">6372C20A</code>) in our local system. In order to proceed with the verification we need to retrieve the release manager's public key from a key server. One such server is <code class="filename">pgp.uni-mainz.de</code>. The public key servers are linked together, so you should be able to connect to any key server. </p>
<pre class="screen">gpg --keyserver pgp.uni-mainz.de --recv-keys 0x4AA394086372C20A
gpg: requesting key 6372C20A from hkp server pgp.uni-mainz.de
gpg: key 6372C20A: public key "Sebastian Bergmann &lt;sb@sebastian-bergmann.de&gt;" imported
gpg: Total number processed: 1
gpg:               imported: 1  (RSA: 1)</pre>
<p> Now we have received a public key for an entity known as "Sebastian Bergmann &lt;sb@sebastian-bergmann.de&gt;". However, we have no way of verifying this key was created by the person known as Sebastian Bergmann. But, let's try to verify the release signature again. </p>
<pre class="screen">gpg phpunit.phar.asc
gpg: Signature made Sat 19 Jul 2014 01:28:02 PM CEST using RSA key ID 6372C20A
gpg: Good signature from "Sebastian Bergmann &lt;sb@sebastian-bergmann.de&gt;"
gpg:                 aka "Sebastian Bergmann &lt;sebastian@php.net&gt;"
gpg:                 aka "Sebastian Bergmann &lt;sebastian@thephp.cc&gt;"
gpg:                 aka "Sebastian Bergmann &lt;sebastian@phpunit.de&gt;"
gpg:                 aka "Sebastian Bergmann &lt;sebastian.bergmann@thephp.cc&gt;"
gpg:                 aka "[jpeg image of size 40635]"
gpg: WARNING: This key is not certified with a trusted signature!
gpg:          There is no indication that the signature belongs to the owner.
Primary key fingerprint: D840 6D0D 8294 7747 2937  7831 4AA3 9408 6372 C20A</pre>
<p> At this point, the signature is good, but we don't trust this key. A good signature means that the file has not been tampered. However, due to the nature of public key cryptography, you need to additionally verify that key <code class="literal">6372C20A</code> was created by the real Sebastian Bergmann. </p>
<p> Any attacker can create a public key and upload it to the public key servers. They can then create a malicious release signed by this fake key. Then, if you tried to verify the signature of this corrupt release, it would succeed because the key was not the "real" key. Therefore, you need to validate the authenticity of this key. Validating the authenticity of a public key, however, is outside the scope of this documentation. </p>
<p> It may be prudent to create a shell script to manage PHPUnit installation that verifies the GnuPG signature before running your test suite. For example: </p>
<pre class="screen">
#!/usr/bin/env bash
clean=1 # Delete phpunit.phar after the tests are complete?
aftercmd="php phpunit.phar --bootstrap bootstrap.php src/tests"
gpg --fingerprint D8406D0D82947747293778314AA394086372C20A
if [ $? -ne 0 ]; then
    echo -e "\033[33mDownloading PGP Public Key...\033[0m"
    gpg --recv-keys D8406D0D82947747293778314AA394086372C20A
    # Sebastian Bergmann &lt;sb@sebastian-bergmann.de&gt;
    gpg --fingerprint D8406D0D82947747293778314AA394086372C20A
    if [ $? -ne 0 ]; then
        echo -e "\033[31mCould not download PGP public key for verification\033[0m"
        exit
    fi
fi

if [ "$clean" -eq 1 ]; then
    # Let's clean them up, if they exist
    if [ -f phpunit.phar ]; then
        rm -f phpunit.phar
    fi
    if [ -f phpunit.phar.asc ]; then
        rm -f phpunit.phar.asc
    fi
fi

# Let's grab the latest release and its signature
if [ ! -f phpunit.phar ]; then
    wget https://phar.phpunit.de/phpunit.phar
fi
if [ ! -f phpunit.phar.asc ]; then
    wget https://phar.phpunit.de/phpunit.phar.asc
fi

# Verify before running
gpg --verify phpunit.phar.asc phpunit.phar
if [ $? -eq 0 ]; then
    echo
    echo -e "\033[33mBegin Unit Testing\033[0m"
    # Run the testing suite
    `$after_cmd`
    # Cleanup
    if [ "$clean" -eq 1 ]; then
        echo -e "\033[32mCleaning Up!\033[0m"
        rm -f phpunit.phar
        rm -f phpunit.phar.asc
    fi
else
    echo
    chmod -x phpunit.phar
    mv phpunit.phar /tmp/bad-phpunit.phar
    mv phpunit.phar.asc /tmp/bad-phpunit.phar.asc
    echo -e "\033[31mSignature did not match! PHPUnit has been moved to /tmp/bad-phpunit.phar\033[0m"
    exit 1
fi
      </pre>
<h2 class="title" id="installation.composer">Composer</h2>
<p> Simply add a (development-time) dependency on <code class="literal">phpunit/phpunit</code> to your project's <code class="literal">composer.json</code> file if you use <a class="ulink" href="https://getcomposer.org/" target="_top">Composer</a> to manage the dependencies of your project: </p>
<pre class="screen">composer require --dev phpunit/phpunit ^6.5</pre>
<h2 class="title" id="installation.optional-packages">Optional packages</h2>
<p> The following optional packages are available: </p>
<div class="variablelist"><dl class="variablelist">
<dt><span class="term"> PHP_Invoker </span></dt>
<dd>
<p> A utility class for invoking callables with a timeout. This package is required to enforce test timeouts in strict mode. </p>
<p> This package is included in the PHAR distribution of PHPUnit. It can be installed via Composer using the following command: </p>
<pre class="screen">composer require --dev phpunit/php-invoker</pre>
</dd>
<dt><span class="term"> DbUnit </span></dt>
<dd>
<p> DbUnit port for PHP/PHPUnit to support database interaction testing. </p>
<p> This package is not included in the PHAR distribution of PHPUnit. It can be installed via Composer using the following command: </p>
<pre class="screen">composer require --dev phpunit/dbunit</pre>
</dd>
</dl></div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2017 Sebastian Bergmann<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>
    <a href="https://phpunit.de/manual/6.5/en/installation.html" class="_attribution-link">https://phpunit.de/manual/6.5/en/installation.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
