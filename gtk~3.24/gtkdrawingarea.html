
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>GtkDrawingArea - GTK 3.24 - W3cubDocs</title>
  
  <meta name="description" content=" GtkDrawingArea — A widget for custom user interface elements ">
  <meta name="keywords" content="gtkdrawingarea, gtk, gtk~3.24">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/gtk~3.24/gtkdrawingarea.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/gtk~3.24.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/gtk~3.24/" class="_nav-link" title="" style="margin-left:0;">GTK 3.24</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _gtk">
				
				
<h1>GtkDrawingArea</h1>
<div class="refentry">  <div class="refnamediv"><p>GtkDrawingArea — A widget for custom user interface elements</p></div> <div class="refsect1"> <h2 id="GtkDrawingArea.functions">Functions</h2> <div class="informaltable"><table class="informaltable">  <tbody><tr> <td class="function_type"> <a class="link" href="gtkwidget" title="GtkWidget"><span class="returnvalue">GtkWidget</span></a> * </td> <td class="function_name"> <a class="link" href="gtkdrawingarea#gtk-drawing-area-new" title="gtk_drawing_area_new ()">gtk_drawing_area_new</a> <span class="c_punctuation">()</span> </td> </tr></tbody> </table></div> </div> <div class="refsect1"> <h2 id="GtkDrawingArea.other">Types and Values</h2> <div class="informaltable"><table class="informaltable">  <tbody><tr> <td class="datatype_keyword">struct</td> <td class="function_name"><a class="link" href="gtkdrawingarea#GtkDrawingArea-struct" title="struct GtkDrawingArea">GtkDrawingArea</a></td> </tr></tbody> </table></div> </div> <div class="refsect1"> <h2 id="GtkDrawingArea.object-hierarchy">Object Hierarchy</h2> <pre class="screen">    GObject
    <span class="lineart">╰──</span> GInitiallyUnowned
        <span class="lineart">╰──</span> <a class="link" href="gtkwidget" title="GtkWidget">GtkWidget</a>
            <span class="lineart">╰──</span> GtkDrawingArea
</pre> </div> <div class="refsect1"> <h2 id="GtkDrawingArea.implemented-interfaces">Implemented Interfaces</h2> <p> GtkDrawingArea implements AtkImplementorIface and <a class="link" href="gtkbuildable" title="GtkBuildable">GtkBuildable</a>.</p> </div> <div class="refsect1"> <h2 id="GtkDrawingArea.includes">Includes</h2> <pre class="synopsis" data-language="c">#include &lt;gtk/gtk.h&gt;
</pre> </div> <div class="refsect1"> <h2 id="GtkDrawingArea.description">Description</h2> <p>The <a class="link" href="gtkdrawingarea" title="GtkDrawingArea"><span class="type">GtkDrawingArea</span></a> widget is used for creating custom user interface elements. It’s essentially a blank widget; you can draw on it. After creating a drawing area, the application may want to connect to:</p> <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "> <li class="listitem"><p>Mouse and button press signals to respond to input from the user. (Use <a class="link" href="gtkwidget#gtk-widget-add-events" title="gtk_widget_add_events ()"><code class="function">gtk_widget_add_events()</code></a> to enable events you wish to receive.)</p></li> <li class="listitem"><p>The <a class="link" href="gtkwidget#GtkWidget-realize" title="The “realize” signal"><span class="type">“realize”</span></a> signal to take any necessary actions when the widget is instantiated on a particular display. (Create GDK resources in response to this signal.)</p></li> <li class="listitem"><p>The <a class="link" href="gtkwidget#GtkWidget-size-allocate" title="The “size-allocate” signal"><span class="type">“size-allocate”</span></a> signal to take any necessary actions when the widget changes size.</p></li> <li class="listitem"><p>The <a class="link" href="gtkwidget#GtkWidget-draw" title="The “draw” signal"><span class="type">“draw”</span></a> signal to handle redrawing the contents of the widget.</p></li> </ul></div> <p>The following code portion demonstrates using a drawing area to display a circle in the normal widget foreground color.</p> <p>Note that GDK automatically clears the exposed area before sending the expose event, and that drawing is implicitly clipped to the exposed area. If you want to have a theme-provided background, you need to call <a class="link" href="gtkstylecontext#gtk-render-background" title="gtk_render_background ()"><code class="function">gtk_render_background()</code></a> in your ::draw method.</p> <div class="refsect3"> <h4>Simple GtkDrawingArea usage</h4> <div class="informalexample"> <td class="listing_code"><pre class="programlisting" data-language="c">gboolean
draw_callback (GtkWidget *widget, cairo_t *cr, gpointer data)
{
  guint width, height;
  GdkRGBA color;
  GtkStyleContext *context;

  context = gtk_widget_get_style_context (widget);

  width = gtk_widget_get_allocated_width (widget);
  height = gtk_widget_get_allocated_height (widget);

  gtk_render_background (context, cr, 0, 0, width, height);

  cairo_arc (cr,
             width / 2.0, height / 2.0,
             MIN (width, height) / 2.0,
             0, 2 * G_PI);

  gtk_style_context_get_color (context,
                               gtk_style_context_get_state (context),
                               &amp;color);
  gdk_cairo_set_source_rgba (cr, &amp;color);

  cairo_fill (cr);

 return FALSE;
}
[...]
  GtkWidget *drawing_area = gtk_drawing_area_new ();
  gtk_widget_set_size_request (drawing_area, 100, 100);
  g_signal_connect (G_OBJECT (drawing_area), "draw",
                    G_CALLBACK (draw_callback), NULL);</pre></td> </div>  <p>Draw signals are normally delivered when a drawing area first comes onscreen, or when it’s covered by another window and then uncovered. You can also force an expose event by adding to the “damage region” of the drawing area’s window; <a class="link" href="gtkwidget#gtk-widget-queue-draw-area" title="gtk_widget_queue_draw_area ()"><code class="function">gtk_widget_queue_draw_area()</code></a> and <a href="https://developer.gnome.org/gtk3/html/gdk3-Windows.html#gdk-window-invalidate-rect"><code class="function">gdk_window_invalidate_rect()</code></a> are equally good ways to do this. You’ll then get a draw signal for the invalid region.</p> <p>The available routines for drawing are documented on the GDK Drawing Primitives page and the cairo documentation.</p> <p>To receive mouse events on a drawing area, you will need to enable them with <a class="link" href="gtkwidget#gtk-widget-add-events" title="gtk_widget_add_events ()"><code class="function">gtk_widget_add_events()</code></a>. To receive keyboard events, you will need to set the “can-focus” property on the drawing area, and you should probably draw some user-visible indication that the drawing area is focused. Use <a class="link" href="gtkwidget#gtk-widget-has-focus" title="gtk_widget_has_focus ()"><code class="function">gtk_widget_has_focus()</code></a> in your expose event handler to decide whether to draw the focus indicator. See <a class="link" href="gtkstylecontext#gtk-render-focus" title="gtk_render_focus ()"><code class="function">gtk_render_focus()</code></a> for one way to draw focus.</p> </div> </div> <div class="refsect1"> <h2 id="GtkDrawingArea.functions_details">Functions</h2> <div class="refsect2"> <h3 id="gtk-drawing-area-new">gtk_drawing_area_new ()</h3> <pre class="programlisting"><a class="link" href="gtkwidget" title="GtkWidget"><span class="returnvalue">GtkWidget</span></a> *
gtk_drawing_area_new (<em class="parameter"><code><span class="type">void</span></code></em>);</pre> <p>Creates a new drawing area.</p> <div class="refsect3"> <h4>Returns</h4> <p> a new <a class="link" href="gtkdrawingarea" title="GtkDrawingArea"><span class="type">GtkDrawingArea</span></a></p> </div> </div> </div> <div class="refsect1"> <h2 id="GtkDrawingArea.other_details">Types and Values</h2> <div class="refsect2"> <h3 id="GtkDrawingArea-struct">struct GtkDrawingArea</h3> <pre class="programlisting" data-language="c">struct GtkDrawingArea;</pre> </div> </div> <div class="refsect1"> <h2 id="GtkDrawingArea.see-also">See Also</h2> <p><a class="link" href="gtkimage" title="GtkImage"><span class="type">GtkImage</span></a></p> </div> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2020 The GNOME Project<br>Licensed under the GNU Lesser General Public License version 2.1 or later.<br>
    <a href="https://developer.gnome.org/gtk3/3.24/GtkDrawingArea.html" class="_attribution-link">https://developer.gnome.org/gtk3/3.24/GtkDrawingArea.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
