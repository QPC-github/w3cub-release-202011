
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Di - Phalcon 3 - W3cubDocs</title>
  
  <meta name="description" content=" implements Phalcon&#92;DiInterface, ArrayAccess ">
  <meta name="keywords" content="class, di, phalcon, phalcon~3">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/phalcon~3/api/phalcon_di.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/phalcon~3.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/phalcon~3/" class="_nav-link" title="" style="margin-left:0;">Phalcon 3</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _phalcon">
				
				
<h1 id="class-phalcon-di">Class <strong>Phalcon\Di</strong>
</h1> <p><em>implements</em> <a class="reference internal" href="phalcon_diinterface"><em>Phalcon\DiInterface</em></a>, <a class="reference external" href="http://php.net/manual/en/class.arrayaccess.php">ArrayAccess</a></p> <p><span class="raw-html"><a href="https://github.com/phalcon/cphalcon/blob/master/phalcon/di.zep" class="btn btn-default btn-sm">Source on GitHub</a></span></p> <p>Phalcon\Di is a component that implements Dependency Injection/Service Location of services and it’s itself a container for them.</p> <p>Since Phalcon is highly decoupled, Phalcon\Di is essential to integrate the different components of the framework. The developer can also use this component to inject dependencies and manage global instances of the different classes used in the application.</p> <p>Basically, this component implements the <cite>Inversion of Control</cite> pattern. Applying this, the objects do not receive their dependencies using setters or constructors, but requesting a service dependency injector. This reduces the overall complexity, since there is only one way to get the required dependencies within a component.</p> <p>Additionally, this pattern increases testability in the code, thus making it less prone to errors.</p> <pre class="highlight-php" data-language="php">use Phalcon\Di;
use Phalcon\Http\Request;

$di = new Di();

// Using a string definition
$di-&gt;set("request", Request::class, true);

// Using an anonymous function
$di-&gt;setShared(
    "request",
    function () {
        return new Request();
    }
);

$request = $di-&gt;getRequest();
</pre>  <h2 id="methods">Methods</h2> <h3 id="__construct" class="method-signature">public <strong>__construct</strong> ()</h3> <p>Phalcon\Di constructor</p> <h3 id="setinternaleventsmanager" class="method-signature">public <strong>setInternalEventsManager</strong> (<a class="reference internal" href="phalcon_events_managerinterface"><em>Phalcon\Events\ManagerInterface</em></a> $eventsManager)</h3> <p>Sets the internal event manager</p> <h3 id="getinternaleventsmanager" class="method-signature">public <strong>getInternalEventsManager</strong> ()</h3> <p>Returns the internal event manager</p> <h3 id="set" class="method-signature">public <strong>set</strong> (<em>mixed</em> $name, <em>mixed</em> $definition, [<em>mixed</em> $shared])</h3> <p>Registers a service in the services container</p> <h3 id="setshared" class="method-signature">public <strong>setShared</strong> (<em>mixed</em> $name, <em>mixed</em> $definition)</h3> <p>Registers an “always shared” service in the services container</p> <h3 id="remove" class="method-signature">public <strong>remove</strong> (<em>mixed</em> $name)</h3> <p>Removes a service in the services container It also removes any shared instance created for the service</p> <h3 id="attempt" class="method-signature">public <strong>attempt</strong> (<em>mixed</em> $name, <em>mixed</em> $definition, [<em>mixed</em> $shared])</h3> <p>Attempts to register a service in the services container Only is successful if a service hasn’t been registered previously with the same name</p> <h3 id="setraw" class="method-signature">public <strong>setRaw</strong> (<em>mixed</em> $name, <a class="reference internal" href="phalcon_di_serviceinterface"><em>Phalcon\Di\ServiceInterface</em></a> $rawDefinition)</h3> <p>Sets a service using a raw Phalcon\Di\Service definition</p> <h3 id="getraw" class="method-signature">public <strong>getRaw</strong> (<em>mixed</em> $name)</h3> <p>Returns a service definition without resolving</p> <h3 id="getservice" class="method-signature">public <strong>getService</strong> (<em>mixed</em> $name)</h3> <p>Returns a Phalcon\Di\Service instance</p> <h3 id="get" class="method-signature">public <strong>get</strong> (<em>mixed</em> $name, [<em>mixed</em> $parameters])</h3> <p>Resolves the service based on its configuration</p> <h3 id="getshared" class="method-signature">public <em>mixed</em> <strong>getShared</strong> (<em>string</em> $name, [<em>array</em> $parameters])</h3> <p>Resolves a service, the resolved service is stored in the DI, subsequent requests for this service will return the same instance</p> <h3 id="has" class="method-signature">public <strong>has</strong> (<em>mixed</em> $name)</h3> <p>Check whether the DI contains a service by a name</p> <h3 id="wasfreshinstance" class="method-signature">public <strong>wasFreshInstance</strong> ()</h3> <p>Check whether the last service obtained via getShared produced a fresh instance or an existing one</p> <h3 id="getservices" class="method-signature">public <strong>getServices</strong> ()</h3> <p>Return the services registered in the DI</p> <h3 id="offsetexists" class="method-signature">public <strong>offsetExists</strong> (<em>mixed</em> $name)</h3> <p>Check if a service is registered using the array syntax</p> <h3 id="offsetset" class="method-signature">public <strong>offsetSet</strong> (<em>mixed</em> $name, <em>mixed</em> $definition)</h3> <p>Allows to register a shared service using the array syntax</p> <pre class="highlight-php" data-language="php">$di["request"] = new \Phalcon\Http\Request();
</pre> <h3 id="offsetget" class="method-signature">public <strong>offsetGet</strong> (<em>mixed</em> $name)</h3> <p>Allows to obtain a shared service using the array syntax</p> <pre class="highlight-php" data-language="php">var_dump($di["request"]);
</pre> <h3 id="offsetunset" class="method-signature">public <strong>offsetUnset</strong> (<em>mixed</em> $name)</h3> <p>Removes a service from the services container using the array syntax</p> <h3 id="__call" class="method-signature">public <strong>__call</strong> (<em>mixed</em> $method, [<em>mixed</em> $arguments])</h3> <p>Magic method to get or set services using setters/getters</p> <h3 id="setdefault" class="method-signature">public static <strong>setDefault</strong> (<a class="reference internal" href="phalcon_diinterface"><em>Phalcon\DiInterface</em></a> $dependencyInjector)</h3> <p>Set a default dependency injection container to be obtained into static methods</p> <h3 id="getdefault" class="method-signature">public static <strong>getDefault</strong> ()</h3> <p>Return the latest DI created</p> <h3 id="reset" class="method-signature">public static <strong>reset</strong> ()</h3> <p>Resets the internal default DI</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2011–2017 Phalcon Framework Team<br>Licensed under the Creative Commons Attribution License 3.0.<br>
    <a href="https://docs.phalconphp.com/en/latest/api/Phalcon_Di.html" class="_attribution-link">https://docs.phalconphp.com/en/latest/api/Phalcon_Di.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
