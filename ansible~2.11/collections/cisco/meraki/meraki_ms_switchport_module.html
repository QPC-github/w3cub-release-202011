
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>cisco.meraki.meraki_ms_switchport – Manage Switchports on a Switch in the Meraki Cloud - Ansible 2.11 - W3cubDocs</title>
  
  <meta name="description" content=" Note ">
  <meta name="keywords" content="cisco, meraki, ms, switchport, –, manage, switchports, on, switch, cloud, ansible, ansible~2.11">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/ansible~2.11/collections/cisco/meraki/meraki_ms_switchport_module.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-9352e6910fe51dd10a2c4166dc5a7847892ebc84c0bb52d7e40dcdccbf262592790483d09e6dbfd62c689609a706227727ca9acb967a718e944c111f43ca96a0.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/ansible~2.11.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ansible~2.11/" class="_nav-link" title="" style="margin-left:0;">Ansible 2.11</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx">
				
				
<h1 id="cisco-meraki-meraki-ms-switchport-manage-switchports-on-a-switch-in-the-meraki-cloud">cisco.meraki.meraki_ms_switchport – Manage switchports on a switch in the Meraki cloud</h1> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/cisco/meraki">cisco.meraki collection</a> (version 2.2.0).</p> <p>To install it use: <code>ansible-galaxy collection install cisco.meraki</code>.</p> <p>To use it in a playbook, specify: <code>cisco.meraki.meraki_ms_switchport</code>.</p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id3">Notes</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id5">Return Values</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Allows for management of switchports settings for Meraki MS switches.</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>access_policy_number</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>Number of the access policy to apply.</div> <div>Only applicable to access port types.</div> </td> </tr> <tr> <td colspan="1">  <b>access_policy_type</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>Open</li> <li>Custom access policy</li> <li>MAC whitelist</li> <li>Sticky MAC whitelist</li> </ul> </td> <td> <div>Type of access policy to apply to port.</div> </td> </tr> <tr> <td colspan="1">  <b>allowed_vlans</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> <b>Default:</b><br><div>"all"</div> </td> <td> <div>List of VLAN numbers to be allowed on switchport.</div> </td> </tr> <tr> <td colspan="1">  <b>auth_key</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>Authentication key provided by the dashboard. Required if environmental variable <code>MERAKI_KEY</code> is not set.</div> </td> </tr> <tr> <td colspan="1">  <b>enabled</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>Whether a switchport should be enabled or disabled.</div> </td> </tr> <tr> <td colspan="1">  <b>host</b>  <div> <span>string</span> </div> </td> <td> <b>Default:</b><br><div>"api.meraki.com"</div> </td> <td> <div>Hostname for Meraki dashboard.</div> <div>Can be used to access regional Meraki environments, such as China.</div> </td> </tr> <tr> <td colspan="1">  <b>internal_error_retry_time</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>60</div> </td> <td> <div>Number of seconds to retry if server returns an internal server error.</div> </td> </tr> <tr> <td colspan="1">  <b>isolation_enabled</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Isolation status of switchport.</div> </td> </tr> <tr> <td colspan="1">  <b>link_negotiation</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>Auto negotiate</b> ←</div></li> <li>100Megabit (auto)</li> <li>100 Megabit full duplex (forced)</li> </ul> </td> <td> <div>Link speed for the switchport.</div> </td> </tr> <tr> <td colspan="1">  <b>name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Switchport description.</div> <div>
<br>aliases: description</div> </td> </tr> <tr> <td colspan="1">  <b>number</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Port number.</div> </td> </tr> <tr> <td colspan="1">  <b>org_id</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>ID of organization.</div> </td> </tr> <tr> <td colspan="1">  <b>org_name</b>  <div> <span>string</span> </div> </td> <td> </td> <td> <div>Name of organization.</div> <div>
<br>aliases: organization</div> </td> </tr> <tr> <td colspan="1">  <b>output_format</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>snakecase</b> ←</div></li> <li>camelcase</li> </ul> </td> <td> <div>Instructs module whether response keys should be snake case (ex. <code>net_id</code>) or camel case (ex. <code>netId</code>).</div> </td> </tr> <tr> <td colspan="1">  <b>output_level</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>debug</li> <li><div>
<b>normal</b> ←</div></li> </ul> </td> <td> <div>Set amount of debug output during module execution.</div> </td> </tr> <tr> <td colspan="1">  <b>poe_enabled</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>Enable or disable Power Over Ethernet on a port.</div> </td> </tr> <tr> <td colspan="1">  <b>rate_limit_retry_time</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>165</div> </td> <td> <div>Number of seconds to retry if rate limiter is triggered.</div> </td> </tr> <tr> <td colspan="1">  <b>rstp_enabled</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>Enable or disable Rapid Spanning Tree Protocol on a port.</div> </td> </tr> <tr> <td colspan="1">  <b>serial</b>  <div> <span>string</span> / <span>required</span> </div> </td> <td> </td> <td> <div>Serial nubmer of the switch.</div> </td> </tr> <tr> <td colspan="1">  <b>state</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>query</b> ←</div></li> <li>present</li> </ul> </td> <td> <div>Specifies whether a switchport should be queried or modified.</div> </td> </tr> <tr> <td colspan="1">  <b>stp_guard</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>disabled</b> ←</div></li> <li>root guard</li> <li>bpdu guard</li> <li>loop guard</li> </ul> </td> <td> <div>Set state of STP guard.</div> </td> </tr> <tr> <td colspan="1">  <b>tags</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td> </td> <td> <div>List of tags to assign to a port.</div> </td> </tr> <tr> <td colspan="1">  <b>timeout</b>  <div> <span>integer</span> </div> </td> <td> <b>Default:</b><br><div>30</div> </td> <td> <div>Time to timeout for HTTP requests.</div> </td> </tr> <tr> <td colspan="1">  <b>type</b>  <div> <span>string</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>access</b> ←</div></li> <li>trunk</li> </ul> </td> <td> <div>Set port type.</div> </td> </tr> <tr> <td colspan="1">  <b>use_https</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>If <code>no</code>, it will use HTTP. Otherwise it will use HTTPS.</div> <div>Only useful for internal Meraki developers.</div> </td> </tr> <tr> <td colspan="1">  <b>use_proxy</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li><div>
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>If <code>no</code>, it will not use a proxy, even if one is defined in an environment variable on the target hosts.</div> </td> </tr> <tr> <td colspan="1">  <b>validate_certs</b>  <div> <span>boolean</span> </div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div>
<b>yes</b> ←</div></li> </ul> </td> <td> <div>Whether to validate HTTP certificates.</div> </td> </tr> <tr> <td colspan="1">  <b>vlan</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>VLAN number assigned to port.</div> <div>If a port is of type trunk, the specified VLAN is the native VLAN.</div> </td> </tr> <tr> <td colspan="1">  <b>voice_vlan</b>  <div> <span>integer</span> </div> </td> <td> </td> <td> <div>VLAN number assigned to a port for voice traffic.</div> <div>Only applicable to access port type.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="admonition-title">Note</p> <ul class="simple"> <li>More information about the Meraki API can be found at <a class="reference external" href="https://dashboard.meraki.com/api_docs">https://dashboard.meraki.com/api_docs</a>.</li> <li>Some of the options are likely only used for developers within Meraki.</li> <li>As of Ansible 2.9, Meraki modules output keys as snake case. To use camel case, set the <code>ANSIBLE_MERAKI_FORMAT</code> environment variable to <code>camelcase</code>.</li> <li>Ansible’s Meraki modules will stop supporting camel case output in Ansible 2.13. Please update your playbooks.</li> <li>Check Mode downloads the current configuration from the dashboard, then compares changes against this download. Check Mode will report changed if there are differences in the configurations, but does not submit changes to the API for validation of change.</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml+jinja">- name: Query information about all switchports on a switch
  meraki_switchport:
    auth_key: abc12345
    state: query
    serial: ABC-123
  delegate_to: localhost

- name: Query information about all switchports on a switch
  meraki_switchport:
    auth_key: abc12345
    state: query
    serial: ABC-123
    number: 2
  delegate_to: localhost

- name: Name switchport
  meraki_switchport:
    auth_key: abc12345
    state: present
    serial: ABC-123
    number: 7
    name: Test Port
  delegate_to: localhost

- name: Configure access port with voice VLAN
  meraki_switchport:
    auth_key: abc12345
    state: present
    serial: ABC-123
    number: 7
    enabled: true
    name: Test Port
    tags: desktop
    type: access
    vlan: 10
    voice_vlan: 11
  delegate_to: localhost

- name: Check access port for idempotency
  meraki_switchport:
    auth_key: abc12345
    state: present
    serial: ABC-123
    number: 7
    enabled: true
    name: Test Port
    tags: desktop
    type: access
    vlan: 10
    voice_vlan: 11
  delegate_to: localhost

- name: Configure trunk port with specific VLANs
  meraki_switchport:
    auth_key: abc12345
    state: present
    serial: ABC-123
    number: 7
    enabled: true
    name: Server port
    tags: server
    type: trunk
    allowed_vlans:
      - 10
      - 15
      - 20
  delegate_to: localhost
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../../reference_appendices/common_return_values#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="2">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="2">  <b>data</b>  <div> <span>complex</span> </div> </td> <td>success</td> <td> <div>Information queried or updated switchports.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>access_policy_number</b>  <div> <span>integer</span> </div> </td> <td>success</td> <td> <div>Number of assigned access policy. Only applicable to access ports.</div> <br> <div><b>Sample:</b></div> <div>1234</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>enabled</b>  <div> <span>boolean</span> </div> </td> <td>success</td> <td> <div>Enabled state of port.</div> <br> <div><b>Sample:</b></div> <div>True</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>isolation_enabled</b>  <div> <span>boolean</span> </div> </td> <td>success</td> <td> <div>Port isolation status of port.</div> <br> <div><b>Sample:</b></div> <div>True</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>link_negotiation</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>Link speed for the port.</div> <br> <div><b>Sample:</b></div> <div>Auto negotiate</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>name</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>Human friendly description of port.</div> <br> <div><b>Sample:</b></div> <div>Jim Phone Port</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>number</b>  <div> <span>integer</span> </div> </td> <td>success</td> <td> <div>Number of port.</div> <br> <div><b>Sample:</b></div> <div>1</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>poe_enabled</b>  <div> <span>boolean</span> </div> </td> <td>success</td> <td> <div>Power Over Ethernet enabled state of port.</div> <br> <div><b>Sample:</b></div> <div>True</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>rstp_enabled</b>  <div> <span>boolean</span> </div> </td> <td>success</td> <td> <div>Enabled or disabled state of Rapid Spanning Tree Protocol (RSTP)</div> <br> <div><b>Sample:</b></div> <div>True</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>stp_guard</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>State of STP guard</div> <br> <div><b>Sample:</b></div> <div>Root Guard</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>tags</b>  <div> <span>list</span> / <span>elements=string</span> </div> </td> <td>success</td> <td> <div>List of tags assigned to port.</div> <br> <div><b>Sample:</b></div> <div>['phone', 'marketing']</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>type</b>  <div> <span>string</span> </div> </td> <td>success</td> <td> <div>Type of switchport.</div> <br> <div><b>Sample:</b></div> <div>trunk</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>vlan</b>  <div> <span>integer</span> </div> </td> <td>success</td> <td> <div>VLAN assigned to port.</div> <br> <div><b>Sample:</b></div> <div>10</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>voice_vlan</b>  <div> <span>integer</span> </div> </td> <td>success</td> <td> <div>VLAN assigned to port with voice VLAN enabled devices.</div> <br> <div><b>Sample:</b></div> <div>20</div> </td> </tr> </table> <br><br> <h3 id="authors">Authors</h3> <ul class="simple"> <li>Kevin Breit (@kbreit)</li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2018 Michael DeHaan<br>© 2018–2021 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/2.11/collections/cisco/meraki/meraki_ms_switchport_module.html" class="_attribution-link">https://docs.ansible.com/ansible/2.11/collections/cisco/meraki/meraki_ms_switchport_module.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
