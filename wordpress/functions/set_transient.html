
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Set_transient() - WordPress - W3cubDocs</title>
  
  <meta name="description" content=" Sets&#47;updates the value of a transient. ">
  <meta name="keywords" content="set, transient, string, &#36;transient, mixed, &#36;value, int, &#36;expiration, wordpress">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/wordpress/functions/set_transient.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/wordpress.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/wordpress/" class="_nav-link" title="" style="margin-left:0;">WordPress</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _wordpress">
				
				
<h1>set_transient( string $transient, mixed $value, int $expiration )</h1>  <section class="summary"> <p>Sets/updates the value of a transient.</p> </section> <div class="content-toc">  <section class="description"> <h2 class="toc-heading" id="description" tabindex="-1">Description </h2> <p>You do not need to serialize values. If the value needs to be serialized, then it will be serialized before it is set.</p> </section>  <section class="parameters"> <h2 class="toc-heading" id="parameters" tabindex="-1">Parameters </h2> <dl> <dt>$transient</dt> <dd> <p class="desc"> <span class="type">(<span class="string">string</span>)</span> <span class="required">(Required)</span> <span class="description">Transient name. Expected to not be SQL-escaped. Must be 172 characters or fewer in length.</span> </p> </dd> <dt>$value</dt> <dd> <p class="desc"> <span class="type">(<span class="mixed">mixed</span>)</span> <span class="required">(Required)</span> <span class="description">Transient value. Must be serializable if non-scalar. Expected to not be SQL-escaped.</span> </p> </dd> <dt>$expiration</dt> <dd> <p class="desc"> <span class="type">(<span class="int">int</span>)</span> <span class="required">(Optional)</span> <span class="description"> Time until expiration in seconds. Default 0 (no expiration).</span> </p> </dd> </dl> </section>  <section class="return"> <h2 class="toc-heading" id="return" tabindex="-1">Return </h2> <p><span class="return-type">(bool)</span> True if the value was set, false otherwise.</p> </section>  <section class="explanation"> <h2 class="toc-heading" id="more-information" tabindex="-1">More Information </h2> <p>For parameter <code>$transient</code>, if memcached is not enabled the name should be 172 characters or less in length as WordPress will prefix your name with “_transient_” or “_transient_timeout_” in the options table (depending on whether it expires or not). Longer key names will silently fail. See <a class="external text" href="https://core.trac.wordpress.org/ticket/15058" rel="nofollow">Trac #15058</a>.</p> <p>If a transient exists, this function will update the transient’s expiration time.</p> <p>NB: transients that never expire are autoloaded, whereas transients with an expiration time are not autoloaded. Consider this when adding transients that may not be needed on every page, and thus do not need to be autoloaded, impacting page performance.</p> <p>WordPress provides some constants for specifying time in seconds. Instead of multiplying out integers, see <a title="Transients API" href="https://codex.wordpress.org/Transients_API#Using_Time_Constants">Transients_API#Using_Time_Constants</a>.</p> <p>Transient key names are limited to 191 characters due to the database schema in the wp_options table ( option_name: varchar(191) ).</p> <p>In WordPress versions previous to 4.4, the length limitation was 45 in set_transient (now 172) and 64 in the database (now 191).</p> </section>  <section class="source-content"> <h2 class="toc-heading" id="source" tabindex="-1">Source </h2> <p> File: <a href="https://developer.wordpress.org/reference/files/wp-includes/option.php/">wp-includes/option.php</a> </p> <pre class="source-code-container" data-language="php">function set_transient( $transient, $value, $expiration = 0 ) {

	$expiration = (int) $expiration;

	/**
	 * Filters a specific transient before its value is set.
	 *
	 * The dynamic portion of the hook name, `$transient`, refers to the transient name.
	 *
	 * @since 3.0.0
	 * @since 4.2.0 The `$expiration` parameter was added.
	 * @since 4.4.0 The `$transient` parameter was added.
	 *
	 * @param mixed  $value      New value of transient.
	 * @param int    $expiration Time until expiration in seconds.
	 * @param string $transient  Transient name.
	 */
	$value = apply_filters( "pre_set_transient_{$transient}", $value, $expiration, $transient );

	/**
	 * Filters the expiration for a transient before its value is set.
	 *
	 * The dynamic portion of the hook name, `$transient`, refers to the transient name.
	 *
	 * @since 4.4.0
	 *
	 * @param int    $expiration Time until expiration in seconds. Use 0 for no expiration.
	 * @param mixed  $value      New value of transient.
	 * @param string $transient  Transient name.
	 */
	$expiration = apply_filters( "expiration_of_transient_{$transient}", $expiration, $value, $transient );

	if ( wp_using_ext_object_cache() ) {
		$result = wp_cache_set( $transient, $value, 'transient', $expiration );
	} else {
		$transient_timeout = '_transient_timeout_' . $transient;
		$transient_option  = '_transient_' . $transient;

		if ( false === get_option( $transient_option ) ) {
			$autoload = 'yes';
			if ( $expiration ) {
				$autoload = 'no';
				add_option( $transient_timeout, time() + $expiration, '', 'no' );
			}
			$result = add_option( $transient_option, $value, '', $autoload );
		} else {
			// If expiration is requested, but the transient has no timeout option,
			// delete, then re-create transient rather than update.
			$update = true;

			if ( $expiration ) {
				if ( false === get_option( $transient_timeout ) ) {
					delete_option( $transient_option );
					add_option( $transient_timeout, time() + $expiration, '', 'no' );
					$result = add_option( $transient_option, $value, '', 'no' );
					$update = false;
				} else {
					update_option( $transient_timeout, time() + $expiration );
				}
			}

			if ( $update ) {
				$result = update_option( $transient_option, $value );
			}
		}
	}

	if ( $result ) {

		/**
		 * Fires after the value for a specific transient has been set.
		 *
		 * The dynamic portion of the hook name, `$transient`, refers to the transient name.
		 *
		 * @since 3.0.0
		 * @since 3.6.0 The `$value` and `$expiration` parameters were added.
		 * @since 4.4.0 The `$transient` parameter was added.
		 *
		 * @param mixed  $value      Transient value.
		 * @param int    $expiration Time until expiration in seconds.
		 * @param string $transient  The name of the transient.
		 */
		do_action( "set_transient_{$transient}", $value, $expiration, $transient );

		/**
		 * Fires after the value for a transient has been set.
		 *
		 * @since 3.0.0
		 * @since 3.6.0 The `$value` and `$expiration` parameters were added.
		 *
		 * @param string $transient  The name of the transient.
		 * @param mixed  $value      Transient value.
		 * @param int    $expiration Time until expiration in seconds.
		 */
		do_action( 'setted_transient', $transient, $value, $expiration );
	}

	return $result;
}</pre>  </section>  <section class="related"> <h2 class="toc-heading" id="related" tabindex="-1">Related </h2> <article class="uses"> <h3 class="toc-heading" id="uses" tabindex="-1">Uses </h3> <table id="uses-table">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/option.php:</span> <a href="../hooks/expiration_of_transient_transient">expiration_of_transient_{$transient}</a> </td> <td class="related-desc"> <p>Filters the expiration for a transient before its value is set.</p> </td> </tr> <tr> <td> <span>wp-includes/cache.php:</span> <a href="wp_cache_set">wp_cache_set()</a> </td> <td class="related-desc"> <p>Saves the data to the cache.</p> </td> </tr> <tr> <td> <span>wp-includes/load.php:</span> <a href="wp_using_ext_object_cache">wp_using_ext_object_cache()</a> </td> <td class="related-desc"> <p>Toggle <code>$_wp_using_ext_object_cache</code> on and off without directly touching global.</p> </td> </tr> <tr> <td> <span>wp-includes/plugin.php:</span> <a href="apply_filters">apply_filters()</a> </td> <td class="related-desc"> <p>Calls the callback functions that have been added to a filter hook.</p> </td> </tr> <tr> <td> <span>wp-includes/plugin.php:</span> <a href="do_action">do_action()</a> </td> <td class="related-desc"> <p>Execute functions hooked on a specific action hook.</p> </td> </tr> <tr> <td> <span>wp-includes/option.php:</span> <a href="../hooks/pre_set_transient_transient">pre_set_transient_{$transient}</a> </td> <td class="related-desc"> <p>Filters a specific transient before its value is set.</p> </td> </tr> <tr> <td> <span>wp-includes/option.php:</span> <a href="../hooks/set_transient_transient">set_transient_{$transient}</a> </td> <td class="related-desc"> <p>Fires after the value for a specific transient has been set.</p> </td> </tr> <tr> <td> <span>wp-includes/option.php:</span> <a href="../hooks/setted_transient">setted_transient</a> </td> <td class="related-desc"> <p>Fires after the value for a transient has been set.</p> </td> </tr> <tr> <td> <span>wp-includes/option.php:</span> <a href="add_option">add_option()</a> </td> <td class="related-desc"> <p>Adds a new option.</p> </td> </tr> <tr> <td> <span>wp-includes/option.php:</span> <a href="delete_option">delete_option()</a> </td> <td class="related-desc"> <p>Removes option by name. Prevents removal of protected WordPress options.</p> </td> </tr> <tr> <td> <span>wp-includes/option.php:</span> <a href="update_option">update_option()</a> </td> <td class="related-desc"> <p>Updates the value of an option that was already added.</p> </td> </tr> <tr> <td> <span>wp-includes/option.php:</span> <a href="get_option">get_option()</a> </td> <td class="related-desc"> <p>Retrieves an option value based on an option name.</p> </td> </tr> </tbody>

</table>   </article>  <article class="used-by"> <h3 class="toc-heading" id="used-by" tabindex="-1">Used By </h3> <table id="used-by-table">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-admin/includes/class-wp-site-health.php:</span> <a href="../classes/wp_site_health/wp_cron_scheduled_check">WP_Site_Health::wp_cron_scheduled_check()</a> </td> <td class="related-desc"> <p>Run our scheduled event to check and update the latest site health status for the website.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/ajax-actions.php:</span> <a href="wp_ajax_health_check_site_status_result">wp_ajax_health_check_site_status_result()</a> </td> <td class="related-desc"> <p>Ajax handler for site health check to update the result status.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/file.php:</span> <a href="wp_edit_theme_plugin_file">wp_edit_theme_plugin_file()</a> </td> <td class="related-desc"> <p>Attempts to edit a file for a theme or plugin.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-oembed-controller.php:</span> <a href="../classes/wp_oembed_controller/get_proxy_item">WP_oEmbed_Controller::get_proxy_item()</a> </td> <td class="related-desc"> <p>Callback for the proxy API endpoint.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/theme-install.php:</span> <a href="install_themes_feature_list">install_themes_feature_list()</a> </td> <td class="related-desc"> <p>Retrieve list of WordPress theme features (aka theme tags).</p> </td> </tr> <tr> <td> <span>wp-admin/includes/deprecated.php:</span> <a href="wp_dashboard_plugins_output">wp_dashboard_plugins_output()</a> </td> <td class="related-desc"> <p>Display plugins text for the WordPress news widget.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/dashboard.php:</span> <a href="wp_dashboard_cached_rss_widget">wp_dashboard_cached_rss_widget()</a> </td> <td class="related-desc"> <p>Checks to see if all of the feed url in $check_urls are cached.</p> </td> </tr> <tr> <td> <span>wp-includes/cron.php:</span> <a href="spawn_cron">spawn_cron()</a> </td> <td class="related-desc"> <p>Sends a request to run cron through HTTP request that doesn’t halt page loading.</p> </td> </tr> <tr> <td> <span>wp-includes/pluggable.php:</span> <a href="wp_rand">wp_rand()</a> </td> <td class="related-desc"> <p>Generates a random number.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-feed-cache-transient.php:</span> <a href="../classes/wp_feed_cache_transient/save">WP_Feed_Cache_Transient::save()</a> </td> <td class="related-desc"> <p>Sets the transient.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-feed-cache-transient.php:</span> <a href="../classes/wp_feed_cache_transient/touch">WP_Feed_Cache_Transient::touch()</a> </td> <td class="related-desc"> <p>Sets mod transient.</p> </td> </tr> <tr> <td> <span>wp-includes/media.php:</span> <a href="wp_maybe_generate_attachment_metadata">wp_maybe_generate_attachment_metadata()</a> </td> <td class="related-desc"> <p>Maybe attempts to generate attachment metadata, if missing.</p> </td> </tr> <tr> <td> <span>wp-includes/functions.php:</span> <a href="get_dirsize">get_dirsize()</a> </td> <td class="related-desc"> <p>Get the size of a directory.</p> </td> </tr> <tr> <td> <span>wp-includes/author-template.php:</span> <a href="is_multi_author">is_multi_author()</a> </td> <td class="related-desc"> <p>Determines whether this site has more than one author.</p> </td> </tr> <tr> <td> <span>wp-includes/rss.php:</span> <a href="../classes/rsscache/set">RSSCache::set()</a> </td> <td class="related-desc"> </td> </tr> </tbody>

</table>   </article> </section>  <section class="changelog"> <h2 class="toc-heading" id="changelog" tabindex="-1">Changelog </h2> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/2.8.0/" alt="WordPress 2.8.0">2.8.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section>   </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2003–2019 WordPress Foundation<br>Licensed under the GNU GPLv2+ License.<br>
    <a href="https://developer.wordpress.org/reference/functions/set_transient" class="_attribution-link">https://developer.wordpress.org/reference/functions/set_transient</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
