
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Update_user_meta() - WordPress - W3cubDocs</title>
  
  <meta name="description" content=" Update user meta field based on user ID. ">
  <meta name="keywords" content="update, user, meta, int, &#36;user, id, string, &#36;meta, key, mixed, value, &#36;prev, &#39;&#39;, wordpress">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/wordpress/functions/update_user_meta.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/wordpress.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/wordpress/" class="_nav-link" title="" style="margin-left:0;">WordPress</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _wordpress">
				
				
<h1>update_user_meta( int $user_id, string $meta_key, mixed $meta_value, mixed $prev_value = '' )</h1>  <section class="summary"> <p>Update user meta field based on user ID.</p> </section> <div class="content-toc">  <section class="description"> <h2 class="toc-heading" id="description" tabindex="-1">Description </h2> <p>Use the $prev_value parameter to differentiate between meta fields with the same key and user ID.</p> <p>If the meta field for the user does not exist, it will be added.</p> </section>  <section class="parameters"> <h2 class="toc-heading" id="parameters" tabindex="-1">Parameters </h2> <dl> <dt>$user_id</dt> <dd> <p class="desc"> <span class="type">(<span class="int">int</span>)</span> <span class="required">(Required)</span> <span class="description">User ID.</span> </p> </dd> <dt>$meta_key</dt> <dd> <p class="desc"> <span class="type">(<span class="string">string</span>)</span> <span class="required">(Required)</span> <span class="description">Metadata key.</span> </p> </dd> <dt>$meta_value</dt> <dd> <p class="desc"> <span class="type">(<span class="mixed">mixed</span>)</span> <span class="required">(Required)</span> <span class="description">Metadata value. Must be serializable if non-scalar.</span> </p> </dd> <dt>$prev_value</dt> <dd> <p class="desc"> <span class="type">(<span class="mixed">mixed</span>)</span> <span class="required">(Optional)</span> <span class="description"> Previous value to check before updating. If specified, only update existing metadata entries with this value. Otherwise, update all entries. </span> </p> <p class="default">Default value: ''</p> </dd> </dl> </section>  <section class="return"> <h2 class="toc-heading" id="return" tabindex="-1">Return </h2> <p><span class="return-type">(int|bool)</span> Meta ID if the key didn't exist, true on successful update, false on failure or if the value passed to the function is the same as the one that is already in the database.</p> </section>  <section class="explanation"> <h2 class="toc-heading" id="more-information" tabindex="-1">More Information </h2> <p>Changes in behavior from the now deprecated update_usermeta:</p> <p>Update_user_meta does not delete the meta if the new value is empty.</p> <p>The actions are different.</p> </section>  <section class="source-content"> <h2 class="toc-heading" id="source" tabindex="-1">Source </h2> <p> File: <a href="https://developer.wordpress.org/reference/files/wp-includes/user.php/">wp-includes/user.php</a> </p> <pre class="source-code-container" data-language="php">function update_user_meta( $user_id, $meta_key, $meta_value, $prev_value = '' ) {
	return update_metadata( 'user', $user_id, $meta_key, $meta_value, $prev_value );
}</pre>  </section>  <section class="related"> <h2 class="toc-heading" id="related" tabindex="-1">Related </h2> <article class="uses"> <h3 class="toc-heading" id="uses" tabindex="-1">Uses </h3> <table id="uses-table">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/meta.php:</span> <a href="update_metadata">update_metadata()</a> </td> <td class="related-desc"> <p>Updates metadata for the specified object. If no value already exists for the specified object ID and metadata key, the metadata will be added.</p> </td> </tr> </tbody>

</table> </article> <article class="used-by"> <h3 class="toc-heading" id="used-by" tabindex="-1">Used By </h3> <table id="used-by-table">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/ms-site.php:</span> <a href="wp_initialize_site">wp_initialize_site()</a> </td> <td class="related-desc"> <p>Runs the initialization routine for a given site.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/class-wp-screen.php:</span> <a href="../classes/wp_screen/render_meta_boxes_preferences">WP_Screen::render_meta_boxes_preferences()</a> </td> <td class="related-desc"> <p>Render the meta boxes preferences.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/ajax-actions.php:</span> <a href="wp_ajax_save_wporg_username">wp_ajax_save_wporg_username()</a> </td> <td class="related-desc"> <p>Ajax handler for saving the user’s WordPress.org username.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-user-meta-session-tokens.php:</span> <a href="../classes/wp_user_meta_session_tokens/update_sessions">WP_User_Meta_Session_Tokens::update_sessions()</a> </td> <td class="related-desc"> <p>Updates the user’s sessions in the usermeta table.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/ms.php:</span> <a href="choose_primary_blog">choose_primary_blog()</a> </td> <td class="related-desc"> <p>Handles the display of choosing a user’s primary site.</p> </td> </tr> <tr> <td> <span>wp-includes/user.php:</span> <a href="send_confirmation_on_profile_email">send_confirmation_on_profile_email()</a> </td> <td class="related-desc"> <p>Send a confirmation request email when a change of user email address is attempted.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/misc.php:</span> <a href="set_screen_options">set_screen_options()</a> </td> <td class="related-desc"> <p>Saves option for number of rows when listing posts, pages, comments, etc.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/schema.php:</span> <a href="populate_network">populate_network()</a> </td> <td class="related-desc"> <p>Populate network settings.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/upgrade.php:</span> <a href="wp_install_defaults">wp_install_defaults()</a> </td> <td class="related-desc"> <p>Creates the initial content for a newly-installed site.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/class-wp-plugin-install-list-table.php:</span> <a href="../classes/wp_plugin_install_list_table/prepare_items">WP_Plugin_Install_List_Table::prepare_items()</a> </td> <td class="related-desc"> </td> </tr> <tr> <td> <span>wp-admin/includes/ajax-actions.php:</span> <a href="wp_ajax_save_user_color_scheme">wp_ajax_save_user_color_scheme()</a> </td> <td class="related-desc"> <p>Ajax handler for auto-saving the selected color scheme for a user’s own profile.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/ajax-actions.php:</span> <a href="wp_ajax_dismiss_wp_pointer">wp_ajax_dismiss_wp_pointer()</a> </td> <td class="related-desc"> <p>Ajax handler for dismissing a WordPress pointer.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/ajax-actions.php:</span> <a href="wp_ajax_update_welcome_panel">wp_ajax_update_welcome_panel()</a> </td> <td class="related-desc"> <p>Ajax handler for updating whether to display the welcome panel.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-user.php:</span> <a href="../classes/wp_user/update_user_level_from_caps">WP_User::update_user_level_from_caps()</a> </td> <td class="related-desc"> <p>Update the maximum user level for the user.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-user.php:</span> <a href="../classes/wp_user/add_cap">WP_User::add_cap()</a> </td> <td class="related-desc"> <p>Add capability and grant or deny access to capability.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-user.php:</span> <a href="../classes/wp_user/remove_cap">WP_User::remove_cap()</a> </td> <td class="related-desc"> <p>Remove capability from user.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-user.php:</span> <a href="../classes/wp_user/add_role">WP_User::add_role()</a> </td> <td class="related-desc"> <p>Add role to user.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-user.php:</span> <a href="../classes/wp_user/remove_role">WP_User::remove_role()</a> </td> <td class="related-desc"> <p>Remove role from user.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-user.php:</span> <a href="../classes/wp_user/set_role">WP_User::set_role()</a> </td> <td class="related-desc"> <p>Set the role of the user.</p> </td> </tr> <tr> <td> <span>wp-includes/user.php:</span> <a href="wp_insert_user">wp_insert_user()</a> </td> <td class="related-desc"> <p>Insert a user into the database.</p> </td> </tr> <tr> <td> <span>wp-includes/user.php:</span> <a href="update_user_option">update_user_option()</a> </td> <td class="related-desc"> <p>Update user option with global blog capability.</p> </td> </tr> <tr> <td> <span>wp-includes/ms-functions.php:</span> <a href="add_new_user_to_blog">add_new_user_to_blog()</a> </td> <td class="related-desc"> <p>Adds a newly created user to the appropriate blog</p> </td> </tr> <tr> <td> <span>wp-includes/ms-functions.php:</span> <a href="get_active_blog_for_user">get_active_blog_for_user()</a> </td> <td class="related-desc"> <p>Get one of a user’s active blogs</p> </td> </tr> <tr> <td> <span>wp-includes/ms-functions.php:</span> <a href="add_user_to_blog">add_user_to_blog()</a> </td> <td class="related-desc"> <p>Adds a user to a blog, along with specifying the user’s role.</p> </td> </tr> <tr> <td> <span>wp-includes/ms-functions.php:</span> <a href="remove_user_from_blog">remove_user_from_blog()</a> </td> <td class="related-desc"> <p>Remove a user from a blog.</p> </td> </tr> </tbody>

</table>   </article> </section>  <section class="changelog"> <h2 class="toc-heading" id="changelog" tabindex="-1">Changelog </h2> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/3.0.0/" alt="WordPress 3.0.0">3.0.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section>   </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2003–2019 WordPress Foundation<br>Licensed under the GNU GPLv2+ License.<br>
    <a href="https://developer.wordpress.org/reference/functions/update_user_meta" class="_attribution-link">https://developer.wordpress.org/reference/functions/update_user_meta</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
