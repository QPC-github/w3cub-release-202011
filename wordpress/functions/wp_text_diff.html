
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Wp_text_diff() - WordPress - W3cubDocs</title>
  
  <meta name="description" content=" Displays a human readable HTML representation of the difference between two strings. ">
  <meta name="keywords" content="wp, text, diff, string, &#36;left, &#36;right, string|array, &#36;args, null, wordpress">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/wordpress/functions/wp_text_diff.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/wordpress.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/wordpress/" class="_nav-link" title="" style="margin-left:0;">WordPress</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _wordpress">
				
				
<h1>wp_text_diff( string $left_string, string $right_string, string|array $args = null )</h1>  <section class="summary"> <p>Displays a human readable HTML representation of the difference between two strings.</p> </section> <div class="content-toc">  <section class="description"> <h2 class="toc-heading" id="description" tabindex="-1">Description </h2> <p>The Diff is available for getting the changes between versions. The output is HTML, so the primary use is for displaying the changes. If the two strings are equivalent, then an empty string will be returned.</p> <h3 class="toc-heading" id="see-also" tabindex="-1">See also </h3> <ul> <li>
<a href="wp_parse_args">wp_parse_args()</a>: Used to change defaults to user defined settings.</li> </ul> </section>  <section class="parameters"> <h2 class="toc-heading" id="parameters" tabindex="-1">Parameters </h2> <dl> <dt>$left_string</dt> <dd> <p class="desc"> <span class="type">(<span class="string">string</span>)</span> <span class="required">(Required)</span> <span class="description">"old" (left) version of string</span> </p> </dd> <dt>$right_string</dt> <dd> <p class="desc"> <span class="type">(<span class="string">string</span>)</span> <span class="required">(Required)</span> <span class="description">"new" (right) version of string</span> </p> </dd> <dt>$args</dt> <dd> <p class="desc"> <span class="type">(<span class="string">string</span>|<span class="array">array</span>)</span> <span class="required">(Optional)</span> <span class="description">Associative array of options to pass to <a href="../classes/wp_text_diff_renderer_table">WP_Text_Diff_Renderer_Table</a>(). <ul class="param-hash">
<li>
<b>'title'</b><br><i><span class="type">(string)</span></i> Titles the diff in a manner compatible with the output. Default empty.</li> <li>
<b>'title_left'</b><br><i><span class="type">(string)</span></i> Change the HTML to the left of the title. Default empty.</li> <li>
<b>'title_right'</b><br><i><span class="type">(string)</span></i> Change the HTML to the right of the title. Default empty.</li> <li>
<b>'show_split_view'</b><br><i><span class="type">(bool)</span></i> True for split view (two columns), false for un-split view (single column). Default true.</li> </ul> </span> </p> <p class="default">Default value: null</p> </dd> </dl> </section>  <section class="return"> <h2 class="toc-heading" id="return" tabindex="-1">Return </h2> <p><span class="return-type">(string)</span> Empty string if strings are equivalent or HTML with differences.</p> </section>  <section class="source-content"> <h2 class="toc-heading" id="source" tabindex="-1">Source </h2> <p> File: <a href="https://developer.wordpress.org/reference/files/wp-includes/pluggable.php/">wp-includes/pluggable.php</a> </p> <pre class="source-code-container" data-language="php">function wp_text_diff( $left_string, $right_string, $args = null ) {
		$defaults = array(
			'title'           =&gt; '',
			'title_left'      =&gt; '',
			'title_right'     =&gt; '',
			'show_split_view' =&gt; true,
		);
		$args     = wp_parse_args( $args, $defaults );

		if ( ! class_exists( 'WP_Text_Diff_Renderer_Table', false ) ) {
			require ABSPATH . WPINC . '/wp-diff.php';
		}

		$left_string  = normalize_whitespace( $left_string );
		$right_string = normalize_whitespace( $right_string );

		$left_lines  = explode( "\n", $left_string );
		$right_lines = explode( "\n", $right_string );
		$text_diff   = new Text_Diff( $left_lines, $right_lines );
		$renderer    = new WP_Text_Diff_Renderer_Table( $args );
		$diff        = $renderer-&gt;render( $text_diff );

		if ( ! $diff ) {
			return '';
		}

		$r = "&lt;table class='diff'&gt;\n";

		if ( ! empty( $args['show_split_view'] ) ) {
			$r .= "&lt;col class='content diffsplit left' /&gt;&lt;col class='content diffsplit middle' /&gt;&lt;col class='content diffsplit right' /&gt;";
		} else {
			$r .= "&lt;col class='content' /&gt;";
		}

		if ( $args['title'] || $args['title_left'] || $args['title_right'] ) {
			$r .= '&lt;thead&gt;';
		}
		if ( $args['title'] ) {
			$r .= "&lt;tr class='diff-title'&gt;&lt;th colspan='4'&gt;$args[title]&lt;/th&gt;&lt;/tr&gt;\n";
		}
		if ( $args['title_left'] || $args['title_right'] ) {
			$r .= "&lt;tr class='diff-sub-title'&gt;\n";
			$r .= "\t&lt;td&gt;&lt;/td&gt;&lt;th&gt;$args[title_left]&lt;/th&gt;\n";
			$r .= "\t&lt;td&gt;&lt;/td&gt;&lt;th&gt;$args[title_right]&lt;/th&gt;\n";
			$r .= "&lt;/tr&gt;\n";
		}
		if ( $args['title'] || $args['title_left'] || $args['title_right'] ) {
			$r .= "&lt;/thead&gt;\n";
		}

		$r .= "&lt;tbody&gt;\n$diff\n&lt;/tbody&gt;\n";
		$r .= '&lt;/table&gt;';

		return $r;
	}</pre>  </section>  <section class="related"> <h2 class="toc-heading" id="related" tabindex="-1">Related </h2> <article class="uses"> <h3 class="toc-heading" id="uses" tabindex="-1">Uses </h3> <table id="uses-table">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/formatting.php:</span> <a href="normalize_whitespace">normalize_whitespace()</a> </td> <td class="related-desc"> <p>Normalize EOL characters and strip duplicate whitespace.</p> </td> </tr> <tr> <td> <span>wp-includes/functions.php:</span> <a href="wp_parse_args">wp_parse_args()</a> </td> <td class="related-desc"> <p>Merge user defined arguments into defaults array.</p> </td> </tr> <tr> <td> <span>wp-includes/class-wp-text-diff-renderer-table.php:</span> <a href="../classes/wp_text_diff_renderer_table/__construct">WP_Text_Diff_Renderer_Table::__construct()</a> </td> <td class="related-desc"> <p>Constructor – Call parent constructor with params array.</p> </td> </tr> </tbody>

</table> </article> <article class="used-by"> <h3 class="toc-heading" id="used-by" tabindex="-1">Used By </h3> <table id="used-by-table">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-admin/includes/revision.php:</span> <a href="wp_get_revision_ui_diff">wp_get_revision_ui_diff()</a> </td> <td class="related-desc"> <p>Get the revision UI diff.</p> </td> </tr> </tbody>

</table> </article> </section>  <section class="changelog"> <h2 class="toc-heading" id="changelog" tabindex="-1">Changelog </h2> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/2.6.0/" alt="WordPress 2.6.0">2.6.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section>   </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2003–2019 WordPress Foundation<br>Licensed under the GNU GPLv2+ License.<br>
    <a href="https://developer.wordpress.org/reference/functions/wp_text_diff" class="_attribution-link">https://developer.wordpress.org/reference/functions/wp_text_diff</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
