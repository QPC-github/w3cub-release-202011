
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>_get_plugin_data_markup_translate() - WordPress - W3cubDocs</title>
  
  <meta name="description" content="This function’s access is marked private. This means it is not intended for use by plugin or theme developers, only in other core functions. It is &hellip;">
  <meta name="keywords" content="get, plugin, data, markup, translate, string, &#36;plugin, file, array, bool, &#36;markup, true, &#36;translate, wordpress">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/wordpress/functions/_get_plugin_data_markup_translate.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/wordpress.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/wordpress/" class="_nav-link" title="" style="margin-left:0;">WordPress</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _wordpress">
				
				
<h1>_get_plugin_data_markup_translate( string $plugin_file, array $plugin_data, bool $markup = true, bool $translate = true )</h1> <div class="callout callout-alert">
<p> This function’s access is marked private. This means it is not intended for use by plugin or theme developers, only in other core functions. It is listed here for completeness. Use <a href="get_plugin_data">get_plugin_data()</a> instead.</p> </div>  <section class="summary"> <p>Sanitizes plugin data, optionally adds markup, optionally translates.</p> </section> <div class="content-toc">  <section class="description"> <h2 class="toc-heading" id="description" tabindex="-1">Description </h2> <h3 class="toc-heading" id="see-also" tabindex="-1">See also </h3> <ul> <li><a href="get_plugin_data">get_plugin_data()</a></li> </ul> </section>  <section class="parameters"> <h2 class="toc-heading" id="parameters" tabindex="-1">Parameters </h2> <dl> <dt>$plugin_file</dt> <dd> <p class="desc"> <span class="type">(<span class="string">string</span>)</span> <span class="required">(Required)</span> <span class="description">Path to the main plugin file.</span> </p> </dd> <dt>$plugin_data</dt> <dd> <p class="desc"> <span class="type">(<span class="array">array</span>)</span> <span class="required">(Required)</span> <span class="description">An array of plugin data. See <code>get_plugin_data()</code>.</span> </p> </dd> <dt>$markup</dt> <dd> <p class="desc"> <span class="type">(<span class="bool">bool</span>)</span> <span class="required">(Optional)</span> <span class="description"> If the returned data should have HTML markup applied. </span> </p> <p class="default">Default value: true</p> </dd> <dt>$translate</dt> <dd> <p class="desc"> <span class="type">(<span class="bool">bool</span>)</span> <span class="required">(Optional)</span> <span class="description"> If the returned data should be translated. </span> </p> <p class="default">Default value: true</p> </dd> </dl> </section>  <section class="return"> <h2 class="toc-heading" id="return" tabindex="-1">Return </h2> <p><span class="return-type">(array)</span> Plugin data. Values will be empty if not supplied by the plugin. </p>
<ul class="param-hash">
<li>
<b>'Name'</b><br><i><span class="type">(string)</span></i> Name of the plugin. Should be unique.</li> <li>
<b>'Title'</b><br><i><span class="type">(string)</span></i> Title of the plugin and link to the plugin's site (if set).</li> <li>
<b>'Description'</b><br><i><span class="type">(string)</span></i> Plugin description.</li> <li>
<b>'Author'</b><br><i><span class="type">(string)</span></i> Author's name.</li> <li>
<b>'AuthorURI'</b><br><i><span class="type">(string)</span></i> Author's website address (if set).</li> <li>
<b>'Version'</b><br><i><span class="type">(string)</span></i> Plugin version.</li> <li>
<b>'TextDomain'</b><br><i><span class="type">(string)</span></i> Plugin textdomain.</li> <li>
<b>'DomainPath'</b><br><i><span class="type">(string)</span></i> Plugins relative directory path to .mo files.</li> <li>
<b>'Network'</b><br><i><span class="type">(bool)</span></i> Whether the plugin can only be activated network-wide.</li> </ul> </section>  <section class="source-content"> <h2 class="toc-heading" id="source" tabindex="-1">Source </h2> <p> File: <a href="https://developer.wordpress.org/reference/files/wp-admin/includes/plugin.php/">wp-admin/includes/plugin.php</a> </p> <pre class="source-code-container" data-language="php">function _get_plugin_data_markup_translate( $plugin_file, $plugin_data, $markup = true, $translate = true ) {

	// Sanitize the plugin filename to a WP_PLUGIN_DIR relative path.
	$plugin_file = plugin_basename( $plugin_file );

	// Translate fields.
	if ( $translate ) {
		$textdomain = $plugin_data['TextDomain'];
		if ( $textdomain ) {
			if ( ! is_textdomain_loaded( $textdomain ) ) {
				if ( $plugin_data['DomainPath'] ) {
					load_plugin_textdomain( $textdomain, false, dirname( $plugin_file ) . $plugin_data['DomainPath'] );
				} else {
					load_plugin_textdomain( $textdomain, false, dirname( $plugin_file ) );
				}
			}
		} elseif ( 'hello.php' === basename( $plugin_file ) ) {
			$textdomain = 'default';
		}
		if ( $textdomain ) {
			foreach ( array( 'Name', 'PluginURI', 'Description', 'Author', 'AuthorURI', 'Version' ) as $field ) {
				// phpcs:ignore WordPress.WP.I18n.LowLevelTranslationFunction,WordPress.WP.I18n.NonSingularStringLiteralText,WordPress.WP.I18n.NonSingularStringLiteralDomain
				$plugin_data[ $field ] = translate( $plugin_data[ $field ], $textdomain );
			}
		}
	}

	// Sanitize fields.
	$allowed_tags_in_links = array(
		'abbr'    =&gt; array( 'title' =&gt; true ),
		'acronym' =&gt; array( 'title' =&gt; true ),
		'code'    =&gt; true,
		'em'      =&gt; true,
		'strong'  =&gt; true,
	);

	$allowed_tags      = $allowed_tags_in_links;
	$allowed_tags['a'] = array(
		'href'  =&gt; true,
		'title' =&gt; true,
	);

	// Name is marked up inside &lt;a&gt; tags. Don't allow these.
	// Author is too, but some plugins have used &lt;a&gt; here (omitting Author URI).
	$plugin_data['Name']   = wp_kses( $plugin_data['Name'], $allowed_tags_in_links );
	$plugin_data['Author'] = wp_kses( $plugin_data['Author'], $allowed_tags );

	$plugin_data['Description'] = wp_kses( $plugin_data['Description'], $allowed_tags );
	$plugin_data['Version']     = wp_kses( $plugin_data['Version'], $allowed_tags );

	$plugin_data['PluginURI'] = esc_url( $plugin_data['PluginURI'] );
	$plugin_data['AuthorURI'] = esc_url( $plugin_data['AuthorURI'] );

	$plugin_data['Title']      = $plugin_data['Name'];
	$plugin_data['AuthorName'] = $plugin_data['Author'];

	// Apply markup.
	if ( $markup ) {
		if ( $plugin_data['PluginURI'] &amp;&amp; $plugin_data['Name'] ) {
			$plugin_data['Title'] = '&lt;a href="' . $plugin_data['PluginURI'] . '"&gt;' . $plugin_data['Name'] . '&lt;/a&gt;';
		}

		if ( $plugin_data['AuthorURI'] &amp;&amp; $plugin_data['Author'] ) {
			$plugin_data['Author'] = '&lt;a href="' . $plugin_data['AuthorURI'] . '"&gt;' . $plugin_data['Author'] . '&lt;/a&gt;';
		}

		$plugin_data['Description'] = wptexturize( $plugin_data['Description'] );

		if ( $plugin_data['Author'] ) {
			$plugin_data['Description'] .= sprintf(
				/* translators: %s: Plugin author. */
				' &lt;cite&gt;' . __( 'By %s.' ) . '&lt;/cite&gt;',
				$plugin_data['Author']
			);
		}
	}

	return $plugin_data;
}</pre>  </section>  <section class="related"> <h2 class="toc-heading" id="related" tabindex="-1">Related </h2> <article class="uses"> <h3 class="toc-heading" id="uses" tabindex="-1">Uses </h3> <table id="uses-table">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/l10n.php:</span> <a href="is_textdomain_loaded">is_textdomain_loaded()</a> </td> <td class="related-desc"> <p>Whether there are translations for the text domain.</p> </td> </tr> <tr> <td> <span>wp-includes/l10n.php:</span> <a href="load_plugin_textdomain">load_plugin_textdomain()</a> </td> <td class="related-desc"> <p>Loads a plugin’s translated strings.</p> </td> </tr> <tr> <td> <span>wp-includes/l10n.php:</span> <a href="translate">translate()</a> </td> <td class="related-desc"> <p>Retrieve the translation of $text.</p> </td> </tr> <tr> <td> <span>wp-includes/l10n.php:</span> <a href="__">__()</a> </td> <td class="related-desc"> <p>Retrieve the translation of $text.</p> </td> </tr> <tr> <td> <span>wp-includes/formatting.php:</span> <a href="esc_url">esc_url()</a> </td> <td class="related-desc"> <p>Checks and cleans a URL.</p> </td> </tr> <tr> <td> <span>wp-includes/formatting.php:</span> <a href="wptexturize">wptexturize()</a> </td> <td class="related-desc"> <p>Replaces common plain text characters with formatted entities.</p> </td> </tr> <tr> <td> <span>wp-includes/kses.php:</span> <a href="wp_kses">wp_kses()</a> </td> <td class="related-desc"> <p>Filters text content and strips out disallowed HTML.</p> </td> </tr> <tr> <td> <span>wp-includes/plugin.php:</span> <a href="plugin_basename">plugin_basename()</a> </td> <td class="related-desc"> <p>Gets the basename of a plugin.</p> </td> </tr> </tbody>

</table>   </article>  <article class="used-by"> <h3 class="toc-heading" id="used-by" tabindex="-1">Used By </h3> <table id="used-by-table">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td> <span>wp-includes/rest-api/endpoints/class-wp-rest-plugins-controller.php:</span> <a href="../classes/wp_rest_plugins_controller/prepare_item_for_response">WP_REST_Plugins_Controller::prepare_item_for_response()</a> </td> <td class="related-desc"> <p>Prepares the plugin for the REST response.</p> </td> </tr> <tr> <td> <span>wp-admin/includes/class-wp-plugins-list-table.php:</span> <a href="../classes/wp_plugins_list_table/prepare_items">WP_Plugins_List_Table::prepare_items()</a> </td> <td class="related-desc"> </td> </tr> <tr> <td> <span>wp-admin/includes/plugin.php:</span> <a href="get_plugin_data">get_plugin_data()</a> </td> <td class="related-desc"> <p>Parses the plugin contents to retrieve plugin’s metadata.</p> </td> </tr> <tr> <td> <span>wp-admin/update-core.php:</span> <a href="list_plugin_updates">list_plugin_updates()</a> </td> <td class="related-desc"> <p>Display the upgrade plugins form.</p> </td> </tr> </tbody>

</table> </article> </section>  <section class="changelog"> <h2 class="toc-heading" id="changelog" tabindex="-1">Changelog </h2> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/2.7.0/" alt="WordPress 2.7.0">2.7.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section>   </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2003–2019 WordPress Foundation<br>Licensed under the GNU GPLv2+ License.<br>
    <a href="https://developer.wordpress.org/reference/functions/_get_plugin_data_markup_translate" class="_attribution-link">https://developer.wordpress.org/reference/functions/_get_plugin_data_markup_translate</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
