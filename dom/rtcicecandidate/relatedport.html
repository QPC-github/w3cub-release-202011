
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>RTCIceCandidate.relatedPort - Web APIs - W3cubDocs</title>
  
  <meta name="description" content=" The RTCIceCandidate interface&#39;s read-only relatedPort property indicates the port number of reflexive or relay candidates. ">
  <meta name="keywords" content="rtcicecandidate, relatedport, web, apis, dom">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/dom/rtcicecandidate/relatedport.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/dom.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/dom/" class="_nav-link" title="" style="margin-left:0;">Web APIs</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<h1>RTCIceCandidate.relatedPort</h1>
<p>The <strong><a href="../rtcicecandidate"><code>RTCIceCandidate</code></a></strong> interface's read-only <code>relatedPort</code> property indicates the port number of reflexive or relay candidates.</p> <p>If the candidate is a host candidate (that is, its <a href="address"><code>address</code></a> is in fact the real IP address of the remote peer), <code>relatedPort</code> is <code>null</code>.</p> <p> The <code>relatedPort</code> field's value is set from the <code>candidateInfo</code> options object passed to the <a href="rtcicecandidate"><code>RTCIceCandidate()</code></a> constructor. You can't specify the value of <code>relatedPort</code> directly in the options object, but its value is automatically extracted from the object's <code>candidate</code> a-line, if it's formatted properly (the <code>rel-port</code> field). </p> <p> The related address (<a href="relatedaddress"><code>relatedAddress</code></a>) and port are not used at all by <a href="https://developer.mozilla.org/en-US/docs/Glossary/ICE">ICE</a> itself; they are provided for analysis and diagnostic purposes only, and their inclusion may be blocked by security systems, so do not rely on them having non-<code>null</code> values. </p>
<h2 id="syntax">Syntax</h2>
<div class="code-example"><pre data-language="js"><span class="token keyword">var</span> relPort <span class="token operator">=</span> RTCIceCandidate<span class="token punctuation">.</span>relatedPort<span class="token punctuation">;</span>
</pre></div>
<h3 id="value">Value</h3>
<p> An unsigned 16-bit value containing the candidate's related port number, if any. For both peer and server reflexive candidates, the related address and port describe the base for that candidate. For relay candidates, the related address and port provide the mapped address selected by the TURN server. </p> <p>For host candidates, <code>relatedPort</code> is <code>null</code>, meaning the field is not included in the candidate's a-line.</p>
<h2 id="usage_notes">Usage notes</h2>
<p> The related address and port are not used by ICE itself, and are only present for diagnostic and Quality-of-Service purposes. They may in fact be omitted for security reasons, but if present can be a useful tool during debugging. See the <a href="#example">example</a>, which shows a bit of this. </p> <p> Here's an <a href="https://developer.mozilla.org/en-US/docs/Glossary/SDP">SDP</a> attribute line (a-line) describing an ICE candidate discovered by the STUN server: </p> <pre class="notranslate">a=candidate:4234997325 1 udp 2043278322 192.168.0.56 6502 typ srflx raddr 192.168.2.77 rport 32768 generation 0
</pre> <p>The remote port, <code>relatedPort</code>, is the number immediately following the <code>"rport"</code> label on the a-line, or 32768.</p>
<h2 id="example">Example</h2>
<p> In this example, the candidate's <a href="type"><code>type</code></a> is checked, and then debugging output is presented, based on the candidate type, including the candidate's type, address (<code>ip</code> and <a href="port"><code>port</code></a>), and related address (<a href="relatedaddress"><code>relatedAddress</code></a> and <code>relatedPort</code>). </p> <div class="code-example"><pre data-language="js"><span class="token keyword">var</span> ip <span class="token operator">=</span> candidate<span class="token punctuation">.</span>ip<span class="token punctuation">;</span>
<span class="token keyword">var</span> port <span class="token operator">=</span> candidate<span class="token punctuation">.</span>port<span class="token punctuation">;</span>
<span class="token keyword">var</span> relIP <span class="token operator">=</span> candidate<span class="token punctuation">.</span>relatedAddress<span class="token punctuation">;</span>
<span class="token keyword">var</span> relPort <span class="token operator">=</span> candidate<span class="token punctuation">.</span>relatedPort<span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>relIP <span class="token operator">&amp;&amp;</span> relPort<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Candidate type '"</span> <span class="token operator">+</span> type <span class="token operator">+</span> <span class="token string">"' -- contact address: "</span> <span class="token operator">+</span> ip <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> port <span class="token operator">+</span> <span class="token string">", related address: "</span> <span class="token operator">+</span> relIP <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> relPort<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Host candidate address is "</span> <span class="token operator">+</span> ip <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> port<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre></div>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-relatedport">WebRTC 1.0: Real-Time Communication Between Browsers (WebRTC 1.0)<br><small># dom-rtcicecandidate-relatedport</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody><tr>
<th><code>relatedPort</code></th>
<td class="bc-supports-yes"><div>74</div></td>
<td class="bc-supports-yes"><div>79</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>62</div></td>
<td class="bc-supports-yes"><div>14.1</div></td>
<td class="bc-supports-yes"><div>74</div></td>
<td class="bc-supports-yes"><div>74</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>53</div></td>
<td class="bc-supports-yes"><div>14.5</div></td>
<td class="bc-supports-yes"><div>11.0</div></td>
</tr></tbody>
</table>
<h2 id="see_also">See also</h2>
<ul> <li><a href="../webrtc_api">WebRTC API</a></li> <li><a href="../webrtc_api/protocols">Introduction to WebRTC protocols</a></li> <li><a href="../webrtc_api/connectivity">WebRTC connectivity</a></li> <li><a href="../webrtc_api/session_lifetime">Lifetime of a WebRTC session</a></li> <li><a href="relatedaddress"><code>RTCIceCandidate.relatedAddress</code></a></li> <li>
<a href="address"><code>RTCIceCandidate.address</code></a> and <a href="port"><code>RTCIceCandidate.port</code></a>
</li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2021 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/RTCIceCandidate/relatedPort" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/RTCIceCandidate/relatedPort</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
