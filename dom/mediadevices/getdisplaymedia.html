
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>MediaDevices.getDisplayMedia - Web APIs - W3cubDocs</title>
  
  <meta name="description" content="The MediaDevices interface&#39;s getDisplayMedia() method prompts the user to select and grant permission to capture the contents of a display or &hellip;">
  <meta name="keywords" content="mediadevices, getdisplaymedia, web, apis, dom">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/dom/mediadevices/getdisplaymedia.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/dom.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/dom/" class="_nav-link" title="" style="margin-left:0;">Web APIs</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<h1>MediaDevices.getDisplayMedia()</h1>
<p> The <a href="../mediadevices"><code>MediaDevices</code></a> interface's <code>getDisplayMedia()</code> method prompts the user to select and grant permission to capture the contents of a display or portion thereof (such as a window) as a <a href="../mediastream"><code>MediaStream</code></a>. </p> <p> The resulting stream can then be recorded using the <a href="../mediastream_recording_api">MediaStream Recording API</a> or transmitted as part of a <a href="../webrtc_api">WebRTC</a> session. </p> <p>See <a href="../screen_capture_api/using_screen_capture">Using the Screen Capture API</a> for more details and an example.</p>
<h2 id="syntax">Syntax</h2>
<div class="code-example"><pre data-language="js"><span class="token keyword">var</span> promise <span class="token operator">=</span> navigator<span class="token punctuation">.</span>mediaDevices<span class="token punctuation">.</span><span class="token function">getDisplayMedia</span><span class="token punctuation">(</span>constraints<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></div>
<h3 id="parameters">Parameters</h3>
<dl> <dt>
<code>constraints</code> <span class="badge inline optional">Optional</span>
</dt> <dd> <p> An optional object specifying requirements for the returned <a href="../mediastream"><code>MediaStream</code></a>. Since <code>getDisplayMedia()</code> requires a video track, the returned stream will have one even if no video track is expressly requested by the <code>constraints</code> object. For more details, see the <a href="getusermedia#parameters">constraints</a> section under the <a href="getusermedia"><code>MediaDevices.getUserMedia()</code></a> method, as well as the article <a href="../media_streams_api/constraints">Capabilities, constraints, and settings</a>. </p> </dd> </dl>
<h3 id="return_value">Return value</h3>
<p> A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that resolves to a <a href="../mediastream"><code>MediaStream</code></a> containing a video track whose contents come from a user-selected screen area, as well as an optional audio track. </p> <div class="notecard note"> <p> <strong>Note:</strong> Browser support for audio tracks varies, both in terms of whether or not they're supported at all by the media recorder and in terms of the audio sources supported. Check the <a href="#browser%0A____compatibility">compatibility table</a> for details for each browser. </p> </div>
<h3 id="exceptions">Exceptions</h3>
<dl> <dt>
<code>AbortError</code> <a href="../domexception"><code>DOMException</code></a>
</dt> <dd> <p>Returned if an error or failure does not match any of the other exceptions listed here.</p> </dd> <dt>
<code>InvalidStateError</code> <a href="../domexception"><code>DOMException</code></a>
</dt> <dd> <p> Returned if the call to <code>getDisplayMedia()</code> was not made from code running due to a user action, such as an event handler. Another potential cause for this event: the <a href="../document"><code>document</code></a> in whose context <code>getDisplayMedia()</code> was called is not fully active; for example, perhaps it is not the frontmost tab. </p> </dd> <dt>
<code>NotAllowedError</code> <a href="../domexception"><code>DOMException</code></a>
</dt> <dd> <p> Returned if the permission to access a screen area was denied by the user, or the current browsing instance is not permitted access to screen sharing. </p> </dd> <dt>
<code>NotFoundError</code> <a href="../domexception"><code>DOMException</code></a>
</dt> <dd> <p>Returned if no sources of screen video are available for capture.</p> </dd> <dt>
<code>NotReadableError</code> <a href="../domexception"><code>DOMException</code></a>
</dt> <dd> <p> Returned if the user selected a screen, window, tab, or other source of screen data, but a hardware or operating system level error or lockout occurred, preventing the sharing of the selected source. </p> </dd> <dt>
<code>OverconstrainedError</code> <a href="../domexception"><code>DOMException</code></a>
</dt> <dd> <p> Returned if, after creating the stream, applying the specified <code>constraints</code> fails because no compatible stream could be generated. </p> </dd> <dt>
<code>TypeError</code> <a href="../domexception"><code>DOMException</code></a>
</dt> <dd> <p> Returned if the specified <code>constraints</code> include constraints which are not permitted when calling <code>getDisplayMedia()</code>. These unsupported constraints are <code>advanced</code> and any constraints which in turn have a member named <code>min</code> or <code>exact</code>. </p> </dd> </dl>
<h2 id="usage_notes">Usage notes</h2>
<h3 id="privacy_and_security">Privacy and security</h3>
<p> Because <code>getDisplayMedia()</code> could be used in nefarious ways, it can be a source of significant privacy and security concerns. For that reason, the specification details measures browsers are required to take in order to fully support <code>getDisplayMedia()</code>. </p> <ul> <li> The specified <code>constraints</code> can't be used to limit the options available to the user. Instead, they must be applied after the user chooses a source, in order to generate output that matches the constraints. </li> <li> The go-ahead permission to use <code>getDisplayMedia()</code> cannot be persisted for reuse. The user must be prompted for permission every time. </li> <li> The call to <code>getDisplayMedia()</code> must be made from code which is running in response to a user action, such as in an event handler. </li> <li> Browsers are encouraged to provide a warning to users about sharing displays or windows that contain browsers, and to keep a close eye on what other content might be getting captured and shown to other users. </li> </ul>
<h2 id="example">Example</h2>
<p> In the example below, a <code>startCapture()</code> method is created which initiates screen capture given a set of options specified by the <code>displayMediaOptions</code> parameter. The options are specified in an object which specifies the preferred stream configuration and the <a href="../screen_capture_api/using_screen_capture#visible_vs_logical_display_surfaces">display surface</a> from which video is to be captured. </p> <div class="code-example"><pre data-language="js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">startCapture</span><span class="token punctuation">(</span><span class="token parameter">displayMediaOptions</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> captureStream <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    captureStream <span class="token operator">=</span> <span class="token keyword">await</span> navigator<span class="token punctuation">.</span>mediaDevices<span class="token punctuation">.</span><span class="token function">getDisplayMedia</span><span class="token punctuation">(</span>displayMediaOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Error: "</span> <span class="token operator">+</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> captureStream<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre></div> <p> This uses <a class="page-not-created"><code>await</code></a> to asynchronously wait for <code>getDisplayMedia()</code> to resolve with a <a href="../mediastream"><code>MediaStream</code></a> which contains the display contents as requested by the specified options. The stream is then returned to the caller for use, perhaps for adding to a WebRTC call using <a href="../rtcpeerconnection/addtrack"><code>RTCPeerConnection.addTrack()</code></a> to add the video track from the stream. </p>
<h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://w3c.github.io/mediacapture-screen-share/#dom-mediadevices-getdisplaymedia">Screen Capture <br><small># dom-mediadevices-getdisplaymedia</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="6">Desktop</th>
<th colspan="6">Mobile</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Internet Explorer</th>
<th>Opera</th>
<th>Safari</th>
<th>WebView Android</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>getDisplayMedia</code></th>
<td class="bc-supports-yes"><div>72</div></td>
<td class="bc-supports-yes">
<div>79</div>
<div>17</div>
<div>Available as a member of <code>Navigator</code> instead of <code>MediaDevices</code>.</div>
</td>
<td class="bc-supports-yes">
<div>66</div>
<div>33-66</div>
<div>Since Firefox 33 you can capture screen data using <code><a href="https://developer.mozilla.org/docs/Web/API/MediaDevices/getUserMedia">getUserMedia()</a></code>, with a <code>video</code> constraint called <code>mediaSource</code>. Before 52 it relied on a client-configurable list of allowed sites.</div>
</td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-yes"><div>60</div></td>
<td class="bc-supports-yes"><div>13</div></td>
<td class="bc-supports-no">
<div>No</div>
<div>API is available, but will always fail with <code>NotAllowedError</code>.</div>
</td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no">
<div>No</div>
<div>API is available, but will always fail with <code>NotAllowedError</code>.</div>
</td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
</tr>
<tr>
<th><code>audio-capture-support</code></th>
<td class="bc-supports-yes">
<div>74</div>
<div>On Windows and Chrome OS the entire system audio can be captured, but on Linux and Mac only the audio of a tab can be captured.</div>
</td>
<td class="bc-supports-yes">
<div>≤79</div>
<div>On Windows, the entire system audio can be captured, but on Linux and Mac only the audio of a tab can be captured.</div>
</td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-unknown"><div>?</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
<td class="bc-supports-no"><div>No</div></td>
</tr>
</tbody>
</table>
<h2 id="see_also">See also</h2>
<ul> <li><a href="../screen_capture_api">Screen Capture API</a></li> <li><a href="../screen_capture_api/using_screen_capture">Using the Screen Capture API</a></li> <li><a href="../media_streams_api">Media Capture and Streams API</a></li> <li><a href="../webrtc_api">WebRTC API</a></li> <li> <a href="getusermedia"><code>getUserMedia()</code></a>: Capturing media from a camera and/or microphone </li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2021 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getDisplayMedia" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getDisplayMedia</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
