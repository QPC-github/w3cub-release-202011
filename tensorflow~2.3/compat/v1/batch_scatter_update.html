
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>tf.compat.v1.batch_scatter_update - TensorFlow 2.3 - W3cubDocs</title>
  
  <meta name="description" content=" Generalization of tf.compat.v1.scatter_update to axis different than 0. (deprecated) ">
  <meta name="keywords" content="tf, compat, batch, scatter, update, tensorflow, tensorflow~2.3">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/tensorflow~2.3/compat/v1/batch_scatter_update.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/tensorflow~2.3.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/tensorflow~2.3/" class="_nav-link" title="" style="margin-left:0;">TensorFlow 2.3</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _tensorflow">
				
				
<h1 class="devsite-page-title">tf.compat.v1.batch_scatter_update</h1>       <p>Generalization of <a href="scatter_update"><code translate="no" dir="ltr">tf.compat.v1.scatter_update</code></a> to axis different than 0. (deprecated)</p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
tf.compat.v1.batch_scatter_update(
    ref, indices, updates, use_locking=True, name=None
)
</pre>  <aside class="warning"><strong>Warning:</strong><span> THIS FUNCTION IS DEPRECATED. It will be removed after 2018-11-29. Instructions for updating: Use the batch_scatter_update method of Variable instead.</span></aside> <p>Analogous to <code translate="no" dir="ltr">batch_gather</code>. This assumes that <code translate="no" dir="ltr">ref</code>, <code translate="no" dir="ltr">indices</code> and <code translate="no" dir="ltr">updates</code> have a series of leading dimensions that are the same for all of them, and the updates are performed on the last dimension of indices. In other words, the dimensions should be the following:</p> <p><code translate="no" dir="ltr">num_prefix_dims = indices.ndims - 1</code> <code translate="no" dir="ltr">batch_dim = num_prefix_dims + 1</code> <code translate="no" dir="ltr">updates.shape = indices.shape + var.shape[batch_dim:]</code></p> <p>where</p> <p><code translate="no" dir="ltr">updates.shape[:num_prefix_dims]</code> <code translate="no" dir="ltr">== indices.shape[:num_prefix_dims]</code> <code translate="no" dir="ltr">== var.shape[:num_prefix_dims]</code></p> <p>And the operation performed can be expressed as:</p> <p><code translate="no" dir="ltr">var[i_1, ..., i_n, indices[i_1, ..., i_n, j]] = updates[i_1, ..., i_n, j]</code></p> <p>When indices is a 1D tensor, this operation is equivalent to <a href="scatter_update"><code translate="no" dir="ltr">tf.compat.v1.scatter_update</code></a>.</p> <p>To avoid this operation there would be 2 alternatives:</p> <p>1) Reshaping the variable by merging the first <code translate="no" dir="ltr">ndims</code> dimensions. However, this is not possible because <a href="../../reshape"><code translate="no" dir="ltr">tf.reshape</code></a> returns a Tensor, which we cannot use <a href="scatter_update"><code translate="no" dir="ltr">tf.compat.v1.scatter_update</code></a> on. 2) Looping over the first <code translate="no" dir="ltr">ndims</code> of the variable and using <a href="scatter_update"><code translate="no" dir="ltr">tf.compat.v1.scatter_update</code></a> on the subtensors that result of slicing the first dimension. This is a valid option for <code translate="no" dir="ltr">ndims = 1</code>, but less efficient than this implementation.</p> <p>See also <a href="scatter_update"><code translate="no" dir="ltr">tf.compat.v1.scatter_update</code></a> and <a href="scatter_nd_update"><code translate="no" dir="ltr">tf.compat.v1.scatter_nd_update</code></a>.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">ref</code> </td> <td> <code translate="no" dir="ltr">Variable</code> to scatter onto. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">indices</code> </td> <td> Tensor containing indices as described above. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">updates</code> </td> <td> Tensor of updates to apply to <code translate="no" dir="ltr">ref</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">use_locking</code> </td> <td> Boolean indicating whether to lock the writing operation. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">name</code> </td> <td> Optional scope name string. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> Ref to <code translate="no" dir="ltr">variable</code> after it has been modified. </td> </tr> 
</table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Raises</th></tr> 
<tr> <td> <code translate="no" dir="ltr">ValueError</code> </td> <td> If the initial <code translate="no" dir="ltr">ndims</code> of <code translate="no" dir="ltr">ref</code>, <code translate="no" dir="ltr">indices</code>, and <code translate="no" dir="ltr">updates</code> are not the same. </td> </tr> </table>  <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0"> </devsite-page-rating><div class="_attribution">
  <p class="_attribution-p">
    Â© 2020 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 3.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r2.3/api_docs/python/tf/compat/v1/batch_scatter_update" class="_attribution-link">https://www.tensorflow.org/versions/r2.3/api_docs/python/tf/compat/v1/batch_scatter_update</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
