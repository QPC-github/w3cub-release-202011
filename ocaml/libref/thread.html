
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Thread - OCaml - W3cubDocs</title>
  
  <meta name="description" content=" Lightweight threads for Posix 1003.1c and Win32. ">
  <meta name="keywords" content="module, thread, ocaml">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/ocaml/libref/thread.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/ocaml.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ocaml/" class="_nav-link" title="" style="margin-left:0;">OCaml</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _ocaml">
				
				
<h1>Module Thread</h1> <pre id="MODULEThread" data-type="module Thread [Module Thread]" data-language="ocaml">module Thread: sig .. end</pre>
<div class="info module top"> <div class="info-desc"> <p>Lightweight threads for Posix <code class="code">1003.1c</code> and Win32.</p> </div> </div> <hr width="100%"> <pre id="TYPEt" data-type="type t [Module Thread]" data-language="ocaml">type t </pre> <div class="info "> <div class="info-desc"> <p>The type of thread handles.</p> </div> </div> <h2 id="1_Threadcreationandtermination">Thread creation and termination</h2> <pre id="VALcreate" data-type="val create [Module Thread]" data-language="ocaml">val create : ('a -&gt; 'b) -&gt; 'a -&gt; t</pre>
<div class="info "> <div class="info-desc"> <p><code class="code"><span class="constructor">Thread</span>.create funct arg</code> creates a new thread of control, in which the function application <code class="code">funct arg</code> is executed concurrently with the other threads of the program. The application of <code class="code"><span class="constructor">Thread</span>.create</code> returns the handle of the newly created thread. The new thread terminates when the application <code class="code">funct arg</code> returns, either normally or by raising an uncaught exception. In the latter case, the exception is printed on standard error, but not propagated back to the parent thread. Similarly, the result of the application <code class="code">funct arg</code> is discarded and not directly accessible to the parent thread.</p> </div> </div> <pre id="VALself" data-type="val self [Module Thread]" data-language="ocaml">val self : unit -&gt; t</pre>
<div class="info "> <div class="info-desc"> <p>Return the thread currently executing.</p> </div> </div> <pre id="VALid" data-type="val id [Module Thread]" data-language="ocaml">val id : t -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p>Return the identifier of the given thread. A thread identifier is an integer that identifies uniquely the thread. It can be used to build data structures indexed by threads.</p> </div> </div> <pre id="VALexit" data-type="val exit [Module Thread]" data-language="ocaml">val exit : unit -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Terminate prematurely the currently executing thread.</p> </div> </div> <pre id="VALkill" data-type="val kill [Module Thread]" data-language="ocaml">val kill : t -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Terminate prematurely the thread whose handle is given.</p> </div> </div> <h2 id="1_Suspendingthreads">Suspending threads</h2> <pre id="VALdelay" data-type="val delay [Module Thread]" data-language="ocaml">val delay : float -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">delay d</code> suspends the execution of the calling thread for <code class="code">d</code> seconds. The other program threads continue to run during this time.</p> </div> </div> <pre id="VALjoin" data-type="val join [Module Thread]" data-language="ocaml">val join : t -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">join th</code> suspends the execution of the calling thread until the thread <code class="code">th</code> has terminated.</p> </div> </div> <pre id="VALwait_read" data-type="val wait_read [Module Thread]" data-language="ocaml">val wait_read : Unix.file_descr -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>See <a href="thread#VALwait_write"><code class="code"><span class="constructor">Thread</span>.wait_write</code></a>.</p> </div> </div> <pre id="VALwait_write" data-type="val wait_write [Module Thread]" data-language="ocaml">val wait_write : Unix.file_descr -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>This function does nothing in this implementation.</p> </div> </div> <pre id="VALwait_timed_read" data-type="val wait_timed_read [Module Thread]" data-language="ocaml">val wait_timed_read : Unix.file_descr -&gt; float -&gt; bool</pre>
<div class="info "> <div class="info-desc"> <p>See <a href="thread#VALwait_timed_write"><code class="code"><span class="constructor">Thread</span>.wait_timed_write</code></a>.</p> </div> </div> <pre id="VALwait_timed_write" data-type="val wait_timed_write [Module Thread]" data-language="ocaml">val wait_timed_write : Unix.file_descr -&gt; float -&gt; bool</pre>
<div class="info "> <div class="info-desc"> <p>Suspend the execution of the calling thread until at least one character or EOF is available for reading (<code class="code">wait_read</code>) or one character can be written without blocking (<code class="code">wait_write</code>) on the given Unix file descriptor. Wait for at most the amount of time given as second argument (in seconds). Return <code class="code"><span class="keyword">true</span></code> if the file descriptor is ready for input/output and <code class="code"><span class="keyword">false</span></code> if the timeout expired.</p> <p>These functions return immediately <code class="code"><span class="keyword">true</span></code> in the Win32 implementation.</p> </div> </div> <pre id="VALselect" data-type="val select [Module Thread]" data-language="ocaml">val select : Unix.file_descr list -&gt;       Unix.file_descr list -&gt;       Unix.file_descr list -&gt;       float -&gt; Unix.file_descr list * Unix.file_descr list * Unix.file_descr list</pre>
<div class="info "> <div class="info-desc"> <p>Suspend the execution of the calling thread until input/output becomes possible on the given Unix file descriptors. The arguments and results have the same meaning as for <code class="code"><span class="constructor">Unix</span>.select</code>. This function is not implemented yet under Win32.</p> </div> </div> <pre id="VALwait_pid" data-type="val wait_pid [Module Thread]" data-language="ocaml">val wait_pid : int -&gt; int * Unix.process_status</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">wait_pid p</code> suspends the execution of the calling thread until the process specified by the process identifier <code class="code">p</code> terminates. Returns the pid of the child caught and its termination status, as per <code class="code"><span class="constructor">Unix</span>.wait</code>. This function is not implemented under MacOS.</p> </div> </div> <pre id="VALyield" data-type="val yield [Module Thread]" data-language="ocaml">val yield : unit -&gt; unit</pre>
<div class="info "> <div class="info-desc"> <p>Re-schedule the calling thread without suspending it. This function can be used to give scheduling hints, telling the scheduler that now is a good time to switch to other threads.</p> </div> </div> <h2 id="1_Managementofsignals">Management of signals</h2>
<p>Signal handling follows the POSIX thread model: signals generated by a thread are delivered to that thread; signals generated externally are delivered to one of the threads that does not block it. Each thread possesses a set of blocked signals, which can be modified using <a href="thread#VALsigmask"><code class="code"><span class="constructor">Thread</span>.sigmask</code></a>. This set is inherited at thread creation time. Per-thread signal masks are supported only by the system thread library under Unix, but not under Win32, nor by the VM thread library.</p> <pre id="VALsigmask" data-type="val sigmask [Module Thread]" data-language="ocaml">val sigmask : Unix.sigprocmask_command -&gt; int list -&gt; int list</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">sigmask cmd sigs</code> changes the set of blocked signals for the calling thread. If <code class="code">cmd</code> is <code class="code"><span class="constructor">SIG_SETMASK</span></code>, blocked signals are set to those in the list <code class="code">sigs</code>. If <code class="code">cmd</code> is <code class="code"><span class="constructor">SIG_BLOCK</span></code>, the signals in <code class="code">sigs</code> are added to the set of blocked signals. If <code class="code">cmd</code> is <code class="code"><span class="constructor">SIG_UNBLOCK</span></code>, the signals in <code class="code">sigs</code> are removed from the set of blocked signals. <code class="code">sigmask</code> returns the set of previously blocked signals for the thread.</p> </div> </div> <pre id="VALwait_signal" data-type="val wait_signal [Module Thread]" data-language="ocaml">val wait_signal : int list -&gt; int</pre>
<div class="info "> <div class="info-desc"> <p><code class="code">wait_signal sigs</code> suspends the execution of the calling thread until the process receives one of the signals specified in the list <code class="code">sigs</code>. It then returns the number of the signal received. Signal handlers attached to the signals in <code class="code">sigs</code> will not be invoked. The signals <code class="code">sigs</code> are expected to be blocked before calling <code class="code">wait_signal</code>.</p> </div> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © INRIA 1995-2020.<br>
    <a href="https://www.ocaml.org/releases/4.11/htmlman/libref/Thread.html" class="_attribution-link">https://www.ocaml.org/releases/4.11/htmlman/libref/Thread.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
