
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>08.12. Attributes - OCaml - W3cubDocs</title>
  
  <meta name="description" content=" (Introduced in OCaml 4.02, infix notations for constructs other than expressions added in 4.03) ">
  <meta name="keywords" content="attributes, ocaml">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/ocaml/attributes.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/ocaml.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ocaml/" class="_nav-link" title="" style="margin-left:0;">OCaml</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _ocaml">
				
				
<a href="bigarray"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGhlaWdodD0iMjQiIHdpZHRoPSIyNCIgPgogIDxwYXRoIGQ9Ik00IDEybDggOGwxLjQxNCAtMS40MTRMNy44MjggMTNIMjB2LTJINy44MjhMMTMuNDE0IDUuNDE0TDEyIDR6Ii8+Cjwvc3ZnPgo=" alt="Previous"></a> <a href="extn"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDI0IDI0IiBoZWlnaHQ9IjI0IiB3aWR0aD0iMjQiPgogIDxwYXRoIGQ9Ik0xMiA0bDggOGwtMS40MTQgMS40MTRMMTMgNy44MjhWMjBoLTJWNy44MjhMNS40MTQgMTMuNDE0TDQgMTJ6Ii8+Cjwvc3ZnPgo=" alt="Up"></a> <a href="extensionnodes"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGhlaWdodD0iMjQiIHdpZHRoPSIyNCIgPgogIDxwYXRoIGQ9Ik0yMCAxMmwtOCA4bC0xLjQxNCAtMS40MTRMMTYuMTcyIDEzSDR2LTJIMTYuMTcyTDEwLjU4NiA1LjQxNEwxMiA0IHoiLz4KPC9zdmc+Cg==" alt="Next"></a> <hr> <h2 class="section" id="s:attributes">
<a class="section-anchor" href="#s:attributes" aria-hidden="true">﻿</a>8.12 Attributes</h2> <ul> <li>
<a href="attributes#ss%3Abuiltin-attributes">8.12.1 Built-in attributes</a> </li>
</ul> 
<p>(Introduced in OCaml 4.02, infix notations for constructs other than expressions added in 4.03)</p>
<p>Attributes are “decorations” of the syntax tree which are mostly ignored by the type-checker but can be used by external tools. An attribute is made of an identifier and a payload, which can be a structure, a type expression (prefixed with <span class="c003">:</span>), a signature (prefixed with <span class="c003">:</span>) or a pattern (prefixed with <span class="c003">?</span>) optionally followed by a <span class="c003">when</span> clause:</p>
<div class="syntax"><table class="display dcenter">
<tr class="c019"><td class="dcell"><table class="c001 cellpading0">
<tr>
<td class="c018"> <a class="syntax" id="attr-id"><span class="c010">attr-id</span></a>
</td>
<td class="c015">::=</td>
<td class="c017"> <a class="syntax" href="lex#lowercase-ident"><span class="c010">lowercase-ident</span></a> </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="lex#capitalized-ident"><span class="c010">capitalized-ident</span></a> </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="#attr-id"><span class="c010">attr-id</span></a> <span class="c004">.</span> <a class="syntax" href="#attr-id"><span class="c010">attr-id</span></a> </td>
</tr> <tr><td class="c018"> </td></tr> <tr>
<td class="c018"> <a class="syntax" id="attr-payload"><span class="c010">attr-payload</span></a>
</td>
<td class="c015">::=</td>
<td class="c017"> [ <a class="syntax" href="modules#module-items"><span class="c010">module-items</span></a> ] </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <span class="c004">:</span> <a class="syntax" href="types#typexpr"><span class="c010">typexpr</span></a> </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <span class="c004">:</span> [ <a class="syntax" href="modtypes#specification"><span class="c010">specification</span></a> ] </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <span class="c004">?</span> <a class="syntax" href="patterns#pattern"><span class="c010">pattern</span></a> [<span class="c004">when</span> <a class="syntax" href="expr#expr"><span class="c010">expr</span></a>] </td>
</tr> <tr><td class="c018"> </td></tr> </table></td></tr> </table></div>
<p>The first form of attributes is attached with a postfix notation on “algebraic” categories:</p>
<div class="syntax"><table class="display dcenter">
<tr class="c019"><td class="dcell"><table class="c001 cellpading0">
<tr>
<td class="c018"> <a class="syntax" id="attribute"><span class="c010">attribute</span></a>
</td>
<td class="c015">::=</td>
<td class="c017"> <span class="c004">[@</span> <a class="syntax" href="#attr-id"><span class="c010">attr-id</span></a> <a class="syntax" href="#attr-payload"><span class="c010">attr-payload</span></a> <span class="c004">]</span> </td>
</tr> <tr><td class="c018"> </td></tr> <tr>
<td class="c018"> <a class="syntax" href="expr#expr"><span class="c010">expr</span></a>
</td>
<td class="c015">::=</td>
<td class="c017"> ... </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="expr#expr"><span class="c010">expr</span></a> <a class="syntax" href="#attribute"><span class="c010">attribute</span></a> </td>
</tr> <tr><td class="c018"> </td></tr> <tr>
<td class="c018"> <a class="syntax" href="types#typexpr"><span class="c010">typexpr</span></a>
</td>
<td class="c015">::=</td>
<td class="c017"> ... </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="types#typexpr"><span class="c010">typexpr</span></a> <a class="syntax" href="#attribute"><span class="c010">attribute</span></a> </td>
</tr> <tr><td class="c018"> </td></tr> <tr>
<td class="c018"> <a class="syntax" href="patterns#pattern"><span class="c010">pattern</span></a>
</td>
<td class="c015">::=</td>
<td class="c017"> ... </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="patterns#pattern"><span class="c010">pattern</span></a> <a class="syntax" href="#attribute"><span class="c010">attribute</span></a> </td>
</tr> <tr><td class="c018"> </td></tr> <tr>
<td class="c018"> <a class="syntax" href="modules#module-expr"><span class="c010">module-expr</span></a>
</td>
<td class="c015">::=</td>
<td class="c017"> ... </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="modules#module-expr"><span class="c010">module-expr</span></a> <a class="syntax" href="#attribute"><span class="c010">attribute</span></a> </td>
</tr> <tr><td class="c018"> </td></tr> <tr>
<td class="c018"> <a class="syntax" href="modtypes#module-type"><span class="c010">module-type</span></a>
</td>
<td class="c015">::=</td>
<td class="c017"> ... </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="modtypes#module-type"><span class="c010">module-type</span></a> <a class="syntax" href="#attribute"><span class="c010">attribute</span></a> </td>
</tr> <tr><td class="c018"> </td></tr> <tr>
<td class="c018"> <span class="c010">class-expr</span>
</td>
<td class="c015">::=</td>
<td class="c017"> ... </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="classes#class-expr"><span class="c010">class-expr</span></a> <a class="syntax" href="#attribute"><span class="c010">attribute</span></a> </td>
</tr> <tr><td class="c018"> </td></tr> <tr>
<td class="c018"> <span class="c010">class-type</span>
</td>
<td class="c015">::=</td>
<td class="c017"> ... </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="classes#class-type"><span class="c010">class-type</span></a> <a class="syntax" href="#attribute"><span class="c010">attribute</span></a> </td>
</tr> <tr><td class="c018"> </td></tr> </table></td></tr> </table></div>
<p>This form of attributes can also be inserted after the <span class="c004">`</span><a class="syntax" href="names#tag-name"><span class="c010">tag-name</span></a> in polymorphic variant type expressions (<a class="syntax" href="types#tag-spec-first"><span class="c010">tag-spec-first</span></a>, <a class="syntax" href="types#tag-spec"><span class="c010">tag-spec</span></a>, <a class="syntax" href="types#tag-spec-full"><span class="c010">tag-spec-full</span></a>) or after the <a class="syntax" href="names#method-name"><span class="c010">method-name</span></a> in <a class="syntax" href="types#method-type"><span class="c010">method-type</span></a>.</p>
<p>The same syntactic form is also used to attach attributes to labels and constructors in type declarations:</p>
<div class="syntax"><table class="display dcenter">
<tr class="c019"><td class="dcell"><table class="c001 cellpading0">
<tr>
<td class="c018"> <span class="c010">field-decl</span>
</td>
<td class="c015">::=</td>
<td class="c017"> [<span class="c004">mutable</span>] <a class="syntax" href="names#field-name"><span class="c010">field-name</span></a> <span class="c004">:</span> <a class="syntax" href="types#poly-typexpr"><span class="c010">poly-typexpr</span></a> {<a class="syntax" href="#attribute"><span class="c010">attribute</span></a>} </td>
</tr> <tr><td class="c018"> </td></tr> <tr>
<td class="c018"> <a class="syntax" href="typedecl#constr-decl"><span class="c010">constr-decl</span></a>
</td>
<td class="c015">::=</td>
<td class="c017"> (<a class="syntax" href="names#constr-name"><span class="c010">constr-name</span></a> ∣ <span class="c004">()</span>) [ <span class="c004">of</span> <a class="syntax" href="typedecl#constr-args"><span class="c010">constr-args</span></a> ] {<a class="syntax" href="#attribute"><span class="c010">attribute</span></a>} </td>
</tr> <tr><td class="c018"> </td></tr> </table></td></tr> </table></div>
<p>Note: when a label declaration is followed by a semi-colon, attributes can also be put after the semi-colon (in which case they are merged to those specified before).</p>
<p>The second form of attributes are attached to “blocks” such as type declarations, class fields, etc:</p>
<div class="syntax"><table class="display dcenter">
<tr class="c019"><td class="dcell"><table class="c001 cellpading0">
<tr>
<td class="c018"> <a class="syntax" id="item-attribute"><span class="c010">item-attribute</span></a>
</td>
<td class="c015">::=</td>
<td class="c017"> <span class="c004">[@@</span> <a class="syntax" href="#attr-id"><span class="c010">attr-id</span></a> <a class="syntax" href="#attr-payload"><span class="c010">attr-payload</span></a> <span class="c004">]</span> </td>
</tr> <tr><td class="c018"> </td></tr> <tr>
<td class="c018"> <span class="c010">typedef</span>
</td>
<td class="c015">::=</td>
<td class="c017"> ... </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="typedecl#typedef"><span class="c010">typedef</span></a> <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> </td>
</tr> <tr><td class="c018"> </td></tr> <tr>
<td class="c018"> <span class="c010">exception-definition</span>
</td>
<td class="c015">::=</td>
<td class="c017"> <span class="c004">exception</span> <a class="syntax" href="typedecl#constr-decl"><span class="c010">constr-decl</span></a> </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <span class="c004">exception</span> <a class="syntax" href="names#constr-name"><span class="c010">constr-name</span></a> <span class="c004">=</span> <a class="syntax" href="names#constr"><span class="c010">constr</span></a> </td>
</tr> <tr><td class="c018"> </td></tr> <tr>
<td class="c018"> <span class="c010">module-items</span>
</td>
<td class="c015">::=</td>
<td class="c017"> [<span class="c004">;;</span>] ( <a class="syntax" href="modules#definition"><span class="c010">definition</span></a> ∣ <a class="syntax" href="expr#expr"><span class="c010">expr</span></a> { <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> } ) { [<span class="c004">;;</span>] <a class="syntax" href="modules#definition"><span class="c010">definition</span></a> ∣ <span class="c004">;;</span> <a class="syntax" href="expr#expr"><span class="c010">expr</span></a> { <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> } } [<span class="c004">;;</span>] </td>
</tr> <tr><td class="c018"> </td></tr> <tr>
<td class="c018"> <span class="c010">class-binding</span>
</td>
<td class="c015">::=</td>
<td class="c017"> ... </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="classes#class-binding"><span class="c010">class-binding</span></a> <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> </td>
</tr> <tr><td class="c018"> </td></tr> <tr>
<td class="c018"> <span class="c010">class-spec</span>
</td>
<td class="c015">::=</td>
<td class="c017"> ... </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="classes#class-spec"><span class="c010">class-spec</span></a> <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> </td>
</tr> <tr><td class="c018"> </td></tr> <tr>
<td class="c018"> <span class="c010">classtype-def</span>
</td>
<td class="c015">::=</td>
<td class="c017"> ... </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="classes#classtype-def"><span class="c010">classtype-def</span></a> <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> </td>
</tr> <tr><td class="c018"> </td></tr> <tr>
<td class="c018"> <a class="syntax" href="modules#definition"><span class="c010">definition</span></a>
</td>
<td class="c015">::=</td>
<td class="c017"> <span class="c004">let</span> [<span class="c004">rec</span>] <a class="syntax" href="expr#let-binding"><span class="c010">let-binding</span></a> { <span class="c004">and</span> <a class="syntax" href="expr#let-binding"><span class="c010">let-binding</span></a> } </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <span class="c004">external</span> <a class="syntax" href="names#value-name"><span class="c010">value-name</span></a> <span class="c004">:</span> <a class="syntax" href="types#typexpr"><span class="c010">typexpr</span></a> <span class="c004">=</span> <a class="syntax" href="intfc#external-declaration"><span class="c010">external-declaration</span></a> { <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> } </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="typedecl#type-definition"><span class="c010">type-definition</span></a> </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="typedecl#exception-definition"><span class="c010">exception-definition</span></a> { <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> } </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="classes#class-definition"><span class="c010">class-definition</span></a> </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="classes#classtype-definition"><span class="c010">classtype-definition</span></a> </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <span class="c004">module</span> <a class="syntax" href="names#module-name"><span class="c010">module-name</span></a> { <span class="c004">(</span> <a class="syntax" href="names#module-name"><span class="c010">module-name</span></a> <span class="c004">:</span> <a class="syntax" href="modtypes#module-type"><span class="c010">module-type</span></a> <span class="c004">)</span> } [ <span class="c004">:</span> <a class="syntax" href="modtypes#module-type"><span class="c010">module-type</span></a> ] <span class="c004">=</span> <a class="syntax" href="modules#module-expr"><span class="c010">module-expr</span></a> { <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> } </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <span class="c004">module</span> <span class="c004">type</span> <a class="syntax" href="names#modtype-name"><span class="c010">modtype-name</span></a> <span class="c004">=</span> <a class="syntax" href="modtypes#module-type"><span class="c010">module-type</span></a> { <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> } </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <span class="c004">open</span> <a class="syntax" href="names#module-path"><span class="c010">module-path</span></a> { <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> } </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <span class="c004">include</span> <a class="syntax" href="modules#module-expr"><span class="c010">module-expr</span></a> { <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> } </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <span class="c004">module</span> <span class="c004">rec</span> <a class="syntax" href="names#module-name"><span class="c010">module-name</span></a> <span class="c004">:</span> <a class="syntax" href="modtypes#module-type"><span class="c010">module-type</span></a> <span class="c004">=</span> <a class="syntax" href="modules#module-expr"><span class="c010">module-expr</span></a> { <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> } { <span class="c004">and</span> <a class="syntax" href="names#module-name"><span class="c010">module-name</span></a> <span class="c004">:</span> <a class="syntax" href="modtypes#module-type"><span class="c010">module-type</span></a> <span class="c004">=</span> <a class="syntax" href="modules#module-expr"><span class="c010">module-expr</span></a> { <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> } } </td>
</tr> <tr><td class="c018"> </td></tr> <tr>
<td class="c018"> <a class="syntax" href="modtypes#specification"><span class="c010">specification</span></a>
</td>
<td class="c015">::=</td>
<td class="c017"> <span class="c004">val</span> <a class="syntax" href="names#value-name"><span class="c010">value-name</span></a> <span class="c004">:</span> <a class="syntax" href="types#typexpr"><span class="c010">typexpr</span></a> { <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> } </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <span class="c004">external</span> <a class="syntax" href="names#value-name"><span class="c010">value-name</span></a> <span class="c004">:</span> <a class="syntax" href="types#typexpr"><span class="c010">typexpr</span></a> <span class="c004">=</span> <a class="syntax" href="intfc#external-declaration"><span class="c010">external-declaration</span></a> { <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> } </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="typedecl#type-definition"><span class="c010">type-definition</span></a> </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <span class="c004">exception</span> <a class="syntax" href="typedecl#constr-decl"><span class="c010">constr-decl</span></a> { <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> } </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="classes#class-specification"><span class="c010">class-specification</span></a> </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="classes#classtype-definition"><span class="c010">classtype-definition</span></a> </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <span class="c004">module</span> <a class="syntax" href="names#module-name"><span class="c010">module-name</span></a> <span class="c004">:</span> <a class="syntax" href="modtypes#module-type"><span class="c010">module-type</span></a> { <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> } </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <span class="c004">module</span> <a class="syntax" href="names#module-name"><span class="c010">module-name</span></a> { <span class="c004">(</span> <a class="syntax" href="names#module-name"><span class="c010">module-name</span></a> <span class="c004">:</span> <a class="syntax" href="modtypes#module-type"><span class="c010">module-type</span></a> <span class="c004">)</span> } <span class="c004">:</span> <a class="syntax" href="modtypes#module-type"><span class="c010">module-type</span></a> { <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> } </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <span class="c004">module</span> <span class="c004">type</span> <a class="syntax" href="names#modtype-name"><span class="c010">modtype-name</span></a> { <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> } </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <span class="c004">module</span> <span class="c004">type</span> <a class="syntax" href="names#modtype-name"><span class="c010">modtype-name</span></a> <span class="c004">=</span> <a class="syntax" href="modtypes#module-type"><span class="c010">module-type</span></a> { <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> } </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <span class="c004">open</span> <a class="syntax" href="names#module-path"><span class="c010">module-path</span></a> { <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> } </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <span class="c004">include</span> <a class="syntax" href="modtypes#module-type"><span class="c010">module-type</span></a> { <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> } </td>
</tr> <tr><td class="c018"> </td></tr> <tr>
<td class="c018"> <span class="c010">class-field-spec</span>
</td>
<td class="c015">::=</td>
<td class="c017"> ... </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="classes#class-field-spec"><span class="c010">class-field-spec</span></a> <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> </td>
</tr> <tr><td class="c018"> </td></tr> <tr>
<td class="c018"> <a class="syntax" href="classes#class-field"><span class="c010">class-field</span></a>
</td>
<td class="c015">::=</td>
<td class="c017"> ... </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="classes#class-field"><span class="c010">class-field</span></a> <a class="syntax" href="#item-attribute"><span class="c010">item-attribute</span></a> </td>
</tr> <tr><td class="c018"> </td></tr> </table></td></tr> </table></div>
<p>A third form of attributes appears as stand-alone structure or signature items in the module or class sub-languages. They are not attached to any specific node in the syntax tree:</p>
<div class="syntax"><table class="display dcenter">
<tr class="c019"><td class="dcell"><table class="c001 cellpading0">
<tr>
<td class="c018"> <a class="syntax" id="floating-attribute"><span class="c010">floating-attribute</span></a>
</td>
<td class="c015">::=</td>
<td class="c017"> <span class="c004">[@@@</span> <a class="syntax" href="#attr-id"><span class="c010">attr-id</span></a> <a class="syntax" href="#attr-payload"><span class="c010">attr-payload</span></a> <span class="c004">]</span> </td>
</tr> <tr><td class="c018"> </td></tr> <tr>
<td class="c018"> <a class="syntax" href="modules#definition"><span class="c010">definition</span></a>
</td>
<td class="c015">::=</td>
<td class="c017"> ... </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="#floating-attribute"><span class="c010">floating-attribute</span></a> </td>
</tr> <tr><td class="c018"> </td></tr> <tr>
<td class="c018"> <a class="syntax" href="modtypes#specification"><span class="c010">specification</span></a>
</td>
<td class="c015">::=</td>
<td class="c017"> ... </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="#floating-attribute"><span class="c010">floating-attribute</span></a> </td>
</tr> <tr><td class="c018"> </td></tr> <tr>
<td class="c018"> <span class="c010">class-field-spec</span>
</td>
<td class="c015">::=</td>
<td class="c017"> ... </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="#floating-attribute"><span class="c010">floating-attribute</span></a> </td>
</tr> <tr><td class="c018"> </td></tr> <tr>
<td class="c018"> <a class="syntax" href="classes#class-field"><span class="c010">class-field</span></a>
</td>
<td class="c015">::=</td>
<td class="c017"> ... </td>
</tr> <tr>
<td class="c018"> </td>
<td class="c015">∣</td>
<td class="c017"> <a class="syntax" href="#floating-attribute"><span class="c010">floating-attribute</span></a> </td>
</tr> <tr><td class="c018"> </td></tr> </table></td></tr> </table></div>
<p>(Note: contrary to what the grammar above describes, <span class="c010">item-attributes</span> cannot be attached to these floating attributes in <a class="syntax" href="classes#class-field-spec"><span class="c010">class-field-spec</span></a> and <a class="syntax" href="classes#class-field"><span class="c010">class-field</span></a>.)</p>
<p>It is also possible to specify attributes using an infix syntax. For instance:</p>
<pre data-language="ocaml">let[@foo] x = 2 in x + 1          === (let x = 2 [@@foo] in x + 1)
begin[@foo][@bar x] ... end       === (begin ... end)[@foo][@bar x]
module[@foo] M = ...              === module M = ... [@@foo]
type[@foo] t = T                  === type t = T [@@foo]
method[@foo] m = ...              === method m = ... [@@foo]
</pre>
<p> For <span class="c003">let</span>, the attributes are applied to each bindings:</p>
<pre data-language="ocaml">let[@foo] x = 2 and y = 3 in x + y === (let x = 2 [@@foo] and y = 3 in x + y)
let[@foo] x = 2
and[@bar] y = 3 in x + y           === (let x = 2 [@@foo] and y = 3 [@@bar] in x + y)
</pre> <h3 class="subsection" id="ss:builtin-attributes">
<a class="section-anchor" href="#ss:builtin-attributes" aria-hidden="true">﻿</a>8.12.1 Built-in attributes</h3> <p>Some attributes are understood by the type-checker: </p>
<ul class="itemize">
<li class="li-itemize"> “ocaml.warning” or “warning”, with a string literal payload. This can be used as floating attributes in a signature/structure/object/object type. The string is parsed and has the same effect as the <span class="c003">-w</span> command-line option, in the scope between the attribute and the end of the current signature/structure/object/object type. The attribute can also be attached to any kind of syntactic item which support attributes (such as an expression, or a type expression) in which case its scope is limited to that item. Note that it is not well-defined which scope is used for a specific warning. This is implementation dependent and can change between versions. Some warnings are even completely outside the control of “ocaml.warning” (for instance, warnings 1, 2, 14, 29 and 50).</li>
<li class="li-itemize">“ocaml.warnerror” or “warnerror”, with a string literal payload. Same as “ocaml.warning”, for the <span class="c003">-warn-error</span> command-line option.</li>
<li class="li-itemize">“ocaml.alert” or “alert”: see section <a href="alerts#s%3Aalerts">8.21</a>.</li>
<li class="li-itemize">“ocaml.deprecated” or “deprecated”: alias for the “deprecated” alert, see section <a href="alerts#s%3Aalerts">8.21</a>. </li>
<li class="li-itemize">“ocaml.deprecated_mutable” or “deprecated_mutable”. Can be applied to a mutable record label. If the label is later used to modify the field (with “expr.l &lt;- expr”), the “deprecated” alert will be triggered. If the payload of the attribute is a string literal, the alert message includes this text. </li>
<li class="li-itemize">“ocaml.ppwarning” or “ppwarning”, in any context, with a string literal payload. The text is reported as warning (22) by the compiler (currently, the warning location is the location of the string payload). This is mostly useful for preprocessors which need to communicate warnings to the user. This could also be used to mark explicitly some code location for further inspection. </li>
<li class="li-itemize">“ocaml.warn_on_literal_pattern” or “warn_on_literal_pattern” annotate constructors in type definition. A warning (52) is then emitted when this constructor is pattern matched with a constant literal as argument. This attribute denotes constructors whose argument is purely informative and may change in the future. Therefore, pattern matching on this argument with a constant literal is unreliable. For instance, all built-in exception constructors are marked as “warn_on_literal_pattern”. Note that, due to an implementation limitation, this warning (52) is only triggered for single argument constructor. </li>
<li class="li-itemize">“ocaml.tailcall” or “tailcall” can be applied to function application in order to check that the call is tailcall optimized. If it it not the case, a warning (51) is emitted. </li>
<li class="li-itemize">“ocaml.inline” or “inline” take either “never”, “always” or nothing as payload on a function or functor definition. If no payload is provided, the default value is “always”. This payload controls when applications of the annotated functions should be inlined. </li>
<li class="li-itemize">“ocaml.inlined” or “inlined” can be applied to any function or functor application to check that the call is inlined by the compiler. If the call is not inlined, a warning (55) is emitted. </li>
<li class="li-itemize">“ocaml.noalloc”, “ocaml.unboxed”and “ocaml.untagged” or “noalloc”, “unboxed” and “untagged” can be used on external definitions to obtain finer control over the C-to-OCaml interface. See <a href="intfc#s%3AC-cheaper-call">20.11</a> for more details. </li>
<li class="li-itemize">“ocaml.immediate” or “immediate” applied on an abstract type mark the type as having a non-pointer implementation (e.g. “int”, “bool”, “char” or enumerated types). Mutation of these immediate types does not activate the garbage collector’s write barrier, which can significantly boost performance in programs relying heavily on mutable state. </li>
<li class="li-itemize">“ocaml.immediate64” or “immediate64” applied on an abstract type mark the type as having a non-pointer implementation on 64 bit platforms. No assumption is made on other platforms. In order to produce a type with the “immediate64“ attribute, one must use “Sys.Immediate64.Make“ functor. </li>
<li class="li-itemize">
<span class="c003">ocaml.unboxed</span> or <span class="c003">unboxed</span> can be used on a type definition if the type is a single-field record or a concrete type with a single constructor that has a single argument. It tells the compiler to optimize the representation of the type by removing the block that represents the record or the constructor (i.e. a value of this type is physically equal to its argument). In the case of GADTs, an additional restriction applies: the argument must not be an existential variable, represented by an existential type variable, or an abstract type constructor applied to an existential type variable. </li>
<li class="li-itemize">
<span class="c003">ocaml.boxed</span> or <span class="c003">boxed</span> can be used on type definitions to mean the opposite of <span class="c003">ocaml.unboxed</span>: keep the unoptimized representation of the type. When there is no annotation, the default is currently <span class="c003">boxed</span> but it may change in the future. </li>
<li class="li-itemize">
<span class="c003">ocaml.local</span> or <span class="c003">local</span> take either <span class="c003">never</span>, <span class="c003">always</span>, <span class="c003">maybe</span> or nothing as payload on a function definition. If no payload is provided, the default is <span class="c003">always</span>. The attribute controls an optimization which consists in compiling a function into a static continuation. Contrary to inlining, this optimization does not duplicate the function’s body. This is possible when all references to the function are full applications, all sharing the same continuation (for instance, the returned value of several branches of a pattern matching). <span class="c003">never</span> disables the optimization, <span class="c003">always</span> asserts that the optimization applies (otherwise a warning 55 is emitted) and <span class="c003">maybe</span> lets the optimization apply when possible (this is the default behavior when the attribute is not specified). The optimization is implicitly disabled when using the bytecode compiler in debug mode (-g), and for functions marked with an <span class="c003">ocaml.inline always</span> or <span class="c003">ocaml.unrolled</span> attribute which supersede <span class="c003">ocaml.local</span>. </li>
</ul>
<pre class="caml-example verbatim" data-language="ocaml">   module X = struct [@@@warning "+9"] (* locally enable warning 9 in this structure *) … end [@@deprecated "Please use module 'Y' instead."] let x = begin[@warning "+9"] […] end type t = A | B [@@deprecated "Please use type 's' instead."] </pre>
<pre class="caml-example verbatim" data-language="ocaml">   let fires_warning_22 x = assert (x &gt;= 0) [@ppwarning "TODO: remove this later"] Warning 22: TODO: remove this later </pre>
<pre class="caml-example verbatim" data-language="ocaml">   let rec is_a_tail_call = function | [] -&gt; () | _ :: q -&gt; (is_a_tail_call[@tailcall]) q let rec not_a_tail_call = function | [] -&gt; [] | x :: q -&gt; x :: (not_a_tail_call[@tailcall]) q Warning 51: expected tailcall </pre>
<pre class="caml-example verbatim" data-language="ocaml">   let f x = x [@@inline] let () = (f[@inlined]) () </pre>
<pre class="caml-example verbatim" data-language="ocaml">   type fragile = | Int of int [@warn_on_literal_pattern] | String of string [@warn_on_literal_pattern] </pre>
<pre class="caml-example verbatim" data-language="ocaml">   let fragile_match_1 = function | Int 0 -&gt; () | _ -&gt; () Warning 52: Code should not depend on the actual values of this constructor's arguments. They are only for information and may change in future versions. (See manual section 9.5) val fragile_match_1 : fragile -&gt; unit = &lt;fun&gt; </pre>
<pre class="caml-example verbatim" data-language="ocaml">   let fragile_match_2 = function | String "constant" -&gt; () | _ -&gt; () Warning 52: Code should not depend on the actual values of this constructor's arguments. They are only for information and may change in future versions. (See manual section 9.5) val fragile_match_2 : fragile -&gt; unit = &lt;fun&gt; </pre>
<pre class="caml-example verbatim" data-language="ocaml">   module Immediate: sig type t [@@immediate] val x: t ref end = struct type t = A | B let x = ref A end </pre>
<pre class="caml-example verbatim" data-language="ocaml">   module Int_or_int64 : sig type t [@@immediate64] val zero : t val one : t val add : t -&gt; t -&gt; t end = struct include Sys.Immediate64.Make(Int)(Int64) module type S = sig val zero : t val one : t val add : t -&gt; t -&gt; t end let impl : (module S) = match repr with | Immediate -&gt; (module Int : S) | Non_immediate -&gt; (module Int64 : S) include (val impl : S) end </pre> <hr> <a href="bigarray"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGhlaWdodD0iMjQiIHdpZHRoPSIyNCIgPgogIDxwYXRoIGQ9Ik00IDEybDggOGwxLjQxNCAtMS40MTRMNy44MjggMTNIMjB2LTJINy44MjhMMTMuNDE0IDUuNDE0TDEyIDR6Ii8+Cjwvc3ZnPgo=" alt="Previous"></a> <a href="extn"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDI0IDI0IiBoZWlnaHQ9IjI0IiB3aWR0aD0iMjQiPgogIDxwYXRoIGQ9Ik0xMiA0bDggOGwtMS40MTQgMS40MTRMMTMgNy44MjhWMjBoLTJWNy44MjhMNS40MTQgMTMuNDE0TDQgMTJ6Ii8+Cjwvc3ZnPgo=" alt="Up"></a> <a href="extensionnodes"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGhlaWdodD0iMjQiIHdpZHRoPSIyNCIgPgogIDxwYXRoIGQ9Ik0yMCAxMmwtOCA4bC0xLjQxNCAtMS40MTRMMTYuMTcyIDEzSDR2LTJIMTYuMTcyTDEwLjU4NiA1LjQxNEwxMiA0IHoiLz4KPC9zdmc+Cg==" alt="Next"></a><div class="_attribution">
  <p class="_attribution-p">
    © INRIA 1995-2020.<br>
    <a href="https://www.ocaml.org/releases/4.11/htmlman/attributes.html" class="_attribution-link">https://www.ocaml.org/releases/4.11/htmlman/attributes.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
