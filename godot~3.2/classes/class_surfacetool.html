
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>SurfaceTool - Godot 3.2 - W3cubDocs</title>
  
  <meta name="description" content=" Inherits&#58; Reference &#60; Object ">
  <meta name="keywords" content="surfacetool, godot, godot~3.2">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/godot~3.2/classes/class_surfacetool.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/godot~3.2.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/godot~3.2/" class="_nav-link" title="" style="margin-left:0;">Godot 3.2</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx_simple">
				
				
<h1 id="class-surfacetool">SurfaceTool</h1> <p><strong>Inherits:</strong> <a href="class_reference#class-reference"><span class="std std-ref">Reference</span></a> <strong>&lt;</strong> <a href="class_object#class-object"><span class="std std-ref">Object</span></a></p> <p>Helper tool to create geometry.</p>  <h2 id="description">Description</h2> <p>The <code>SurfaceTool</code> is used to construct a <a href="class_mesh#class-mesh"><span class="std std-ref">Mesh</span></a> by specifying vertex attributes individually. It can be used to construct a <a href="class_mesh#class-mesh"><span class="std std-ref">Mesh</span></a> from a script. All properties except indices need to be added before calling <a href="#class-surfacetool-method-add-vertex"><span class="std std-ref">add_vertex</span></a>. For example, to add vertex colors and UVs:</p> <pre data-language="gdscript">var st = SurfaceTool.new()
st.begin(Mesh.PRIMITIVE_TRIANGLES)
st.add_color(Color(1, 0, 0))
st.add_uv(Vector2(0, 0))
st.add_vertex(Vector3(0, 0, 0))
</pre> <p>The above <code>SurfaceTool</code> now contains one vertex of a triangle which has a UV coordinate and a specified <a href="class_color#class-color"><span class="std std-ref">Color</span></a>. If another vertex were added without calling <a href="#class-surfacetool-method-add-uv"><span class="std std-ref">add_uv</span></a> or <a href="#class-surfacetool-method-add-color"><span class="std std-ref">add_color</span></a>, then the last values would be used.</p> <p>Vertex attributes must be passed <strong>before</strong> calling <a href="#class-surfacetool-method-add-vertex"><span class="std std-ref">add_vertex</span></a>. Failure to do so will result in an error when committing the vertex information to a mesh.</p> <p>Additionally, the attributes used before the first vertex is added determine the format of the mesh. For example, if you only add UVs to the first vertex, you cannot add color to any of the subsequent vertices.</p> <p>See also <a href="class_arraymesh#class-arraymesh"><span class="std std-ref">ArrayMesh</span></a>, <a href="class_immediategeometry#class-immediategeometry"><span class="std std-ref">ImmediateGeometry</span></a> and <a href="class_meshdatatool#class-meshdatatool"><span class="std std-ref">MeshDataTool</span></a> for procedural geometry generation.</p> <p><strong>Note:</strong> Godot uses clockwise <a href="https://learnopengl.com/Advanced-OpenGL/Face-culling">winding order</a> for front faces of triangle primitive modes.</p>   <h2 id="methods">Methods</h2> <table class="docutils">   <tr>
<td>void</td> <td>
<a href="#class-surfacetool-method-add-bones"><span class="std std-ref">add_bones</span></a> <strong>(</strong> <a href="class_poolintarray#class-poolintarray"><span class="std std-ref">PoolIntArray</span></a> bones <strong>)</strong>
</td> </tr> <tr>
<td>void</td> <td>
<a href="#class-surfacetool-method-add-color"><span class="std std-ref">add_color</span></a> <strong>(</strong> <a href="class_color#class-color"><span class="std std-ref">Color</span></a> color <strong>)</strong>
</td> </tr> <tr>
<td>void</td> <td>
<a href="#class-surfacetool-method-add-index"><span class="std std-ref">add_index</span></a> <strong>(</strong> <a href="class_int#class-int"><span class="std std-ref">int</span></a> index <strong>)</strong>
</td> </tr> <tr>
<td>void</td> <td>
<a href="#class-surfacetool-method-add-normal"><span class="std std-ref">add_normal</span></a> <strong>(</strong> <a href="class_vector3#class-vector3"><span class="std std-ref">Vector3</span></a> normal <strong>)</strong>
</td> </tr> <tr>
<td>void</td> <td>
<a href="#class-surfacetool-method-add-smooth-group"><span class="std std-ref">add_smooth_group</span></a> <strong>(</strong> <a href="class_bool#class-bool"><span class="std std-ref">bool</span></a> smooth <strong>)</strong>
</td> </tr> <tr>
<td>void</td> <td>
<a href="#class-surfacetool-method-add-tangent"><span class="std std-ref">add_tangent</span></a> <strong>(</strong> <a href="class_plane#class-plane"><span class="std std-ref">Plane</span></a> tangent <strong>)</strong>
</td> </tr> <tr>
<td>void</td> <td>
<a href="#class-surfacetool-method-add-triangle-fan"><span class="std std-ref">add_triangle_fan</span></a> <strong>(</strong> <a href="class_poolvector3array#class-poolvector3array"><span class="std std-ref">PoolVector3Array</span></a> vertices, <a href="class_poolvector2array#class-poolvector2array"><span class="std std-ref">PoolVector2Array</span></a> uvs=PoolVector2Array( ), <a href="class_poolcolorarray#class-poolcolorarray"><span class="std std-ref">PoolColorArray</span></a> colors=PoolColorArray( ), <a href="class_poolvector2array#class-poolvector2array"><span class="std std-ref">PoolVector2Array</span></a> uv2s=PoolVector2Array( ), <a href="class_poolvector3array#class-poolvector3array"><span class="std std-ref">PoolVector3Array</span></a> normals=PoolVector3Array( ), <a href="class_array#class-array"><span class="std std-ref">Array</span></a> tangents=[ ] <strong>)</strong>
</td> </tr> <tr>
<td>void</td> <td>
<a href="#class-surfacetool-method-add-uv"><span class="std std-ref">add_uv</span></a> <strong>(</strong> <a href="class_vector2#class-vector2"><span class="std std-ref">Vector2</span></a> uv <strong>)</strong>
</td> </tr> <tr>
<td>void</td> <td>
<a href="#class-surfacetool-method-add-uv2"><span class="std std-ref">add_uv2</span></a> <strong>(</strong> <a href="class_vector2#class-vector2"><span class="std std-ref">Vector2</span></a> uv2 <strong>)</strong>
</td> </tr> <tr>
<td>void</td> <td>
<a href="#class-surfacetool-method-add-vertex"><span class="std std-ref">add_vertex</span></a> <strong>(</strong> <a href="class_vector3#class-vector3"><span class="std std-ref">Vector3</span></a> vertex <strong>)</strong>
</td> </tr> <tr>
<td>void</td> <td>
<a href="#class-surfacetool-method-add-weights"><span class="std std-ref">add_weights</span></a> <strong>(</strong> <a href="class_poolrealarray#class-poolrealarray"><span class="std std-ref">PoolRealArray</span></a> weights <strong>)</strong>
</td> </tr> <tr>
<td>void</td> <td>
<a href="#class-surfacetool-method-append-from"><span class="std std-ref">append_from</span></a> <strong>(</strong> <a href="class_mesh#class-mesh"><span class="std std-ref">Mesh</span></a> existing, <a href="class_int#class-int"><span class="std std-ref">int</span></a> surface, <a href="class_transform#class-transform"><span class="std std-ref">Transform</span></a> transform <strong>)</strong>
</td> </tr> <tr>
<td>void</td> <td>
<a href="#class-surfacetool-method-begin"><span class="std std-ref">begin</span></a> <strong>(</strong> <a href="class_mesh#enum-mesh-primitivetype"><span class="std std-ref">PrimitiveType</span></a> primitive <strong>)</strong>
</td> </tr> <tr>
<td>void</td> <td>
<a href="#class-surfacetool-method-clear"><span class="std std-ref">clear</span></a> <strong>(</strong> <strong>)</strong>
</td> </tr> <tr>
<td><a href="class_arraymesh#class-arraymesh"><span class="std std-ref">ArrayMesh</span></a></td> <td>
<a href="#class-surfacetool-method-commit"><span class="std std-ref">commit</span></a> <strong>(</strong> <a href="class_arraymesh#class-arraymesh"><span class="std std-ref">ArrayMesh</span></a> existing=null, <a href="class_int#class-int"><span class="std std-ref">int</span></a> flags=97280 <strong>)</strong>
</td> </tr> <tr>
<td><a href="class_array#class-array"><span class="std std-ref">Array</span></a></td> <td>
<a href="#class-surfacetool-method-commit-to-arrays"><span class="std std-ref">commit_to_arrays</span></a> <strong>(</strong> <strong>)</strong>
</td> </tr> <tr>
<td>void</td> <td>
<a href="#class-surfacetool-method-create-from"><span class="std std-ref">create_from</span></a> <strong>(</strong> <a href="class_mesh#class-mesh"><span class="std std-ref">Mesh</span></a> existing, <a href="class_int#class-int"><span class="std std-ref">int</span></a> surface <strong>)</strong>
</td> </tr> <tr>
<td>void</td> <td>
<a href="#class-surfacetool-method-create-from-blend-shape"><span class="std std-ref">create_from_blend_shape</span></a> <strong>(</strong> <a href="class_mesh#class-mesh"><span class="std std-ref">Mesh</span></a> existing, <a href="class_int#class-int"><span class="std std-ref">int</span></a> surface, <a href="class_string#class-string"><span class="std std-ref">String</span></a> blend_shape <strong>)</strong>
</td> </tr> <tr>
<td>void</td> <td>
<a href="#class-surfacetool-method-deindex"><span class="std std-ref">deindex</span></a> <strong>(</strong> <strong>)</strong>
</td> </tr> <tr>
<td>void</td> <td>
<a href="#class-surfacetool-method-generate-normals"><span class="std std-ref">generate_normals</span></a> <strong>(</strong> <a href="class_bool#class-bool"><span class="std std-ref">bool</span></a> flip=false <strong>)</strong>
</td> </tr> <tr>
<td>void</td> <td>
<a href="#class-surfacetool-method-generate-tangents"><span class="std std-ref">generate_tangents</span></a> <strong>(</strong> <strong>)</strong>
</td> </tr> <tr>
<td>void</td> <td>
<a href="#class-surfacetool-method-index"><span class="std std-ref">index</span></a> <strong>(</strong> <strong>)</strong>
</td> </tr> <tr>
<td>void</td> <td>
<a href="#class-surfacetool-method-set-material"><span class="std std-ref">set_material</span></a> <strong>(</strong> <a href="class_material#class-material"><span class="std std-ref">Material</span></a> material <strong>)</strong>
</td> </tr>  </table>   <h2 id="method-descriptions">Method Descriptions</h2> <h3 id="class-surfacetool-method-add-bones">void add_bones ( <a href="class_poolintarray#class-poolintarray"><span class="std std-ref">PoolIntArray</span></a> bones )</h3> <p>Adds an array of bones for the next vertex to use. <code>bones</code> must contain 4 integers.</p>  <h3 id="class-surfacetool-method-add-color">void add_color ( <a href="class_color#class-color"><span class="std std-ref">Color</span></a> color )</h3> <p>Specifies a <a href="class_color#class-color"><span class="std std-ref">Color</span></a> for the next vertex to use.</p>  <h3 id="class-surfacetool-method-add-index">void add_index ( <a href="class_int#class-int"><span class="std std-ref">int</span></a> index )</h3> <p>Adds an index to index array if you are using indexed vertices. Does not need to be called before adding vertices.</p>  <h3 id="class-surfacetool-method-add-normal">void add_normal ( <a href="class_vector3#class-vector3"><span class="std std-ref">Vector3</span></a> normal )</h3> <p>Specifies a normal for the next vertex to use.</p>  <h3 id="class-surfacetool-method-add-smooth-group">void add_smooth_group ( <a href="class_bool#class-bool"><span class="std std-ref">bool</span></a> smooth )</h3> <p>Specifies whether the current vertex (if using only vertex arrays) or current index (if also using index arrays) should use smooth normals for normal calculation.</p>  <h3 id="class-surfacetool-method-add-tangent">void add_tangent ( <a href="class_plane#class-plane"><span class="std std-ref">Plane</span></a> tangent )</h3> <p>Specifies a tangent for the next vertex to use.</p>  <h3 id="class-surfacetool-method-add-triangle-fan">void add_triangle_fan ( <a href="class_poolvector3array#class-poolvector3array"><span class="std std-ref">PoolVector3Array</span></a> vertices, <a href="class_poolvector2array#class-poolvector2array"><span class="std std-ref">PoolVector2Array</span></a> uvs=PoolVector2Array( ), <a href="class_poolcolorarray#class-poolcolorarray"><span class="std std-ref">PoolColorArray</span></a> colors=PoolColorArray( ), <a href="class_poolvector2array#class-poolvector2array"><span class="std std-ref">PoolVector2Array</span></a> uv2s=PoolVector2Array( ), <a href="class_poolvector3array#class-poolvector3array"><span class="std std-ref">PoolVector3Array</span></a> normals=PoolVector3Array( ), <a href="class_array#class-array"><span class="std std-ref">Array</span></a> tangents=[ ] )</h3> <p>Inserts a triangle fan made of array data into <a href="class_mesh#class-mesh"><span class="std std-ref">Mesh</span></a> being constructed.</p> <p>Requires the primitive type be set to <a href="class_mesh#class-mesh-constant-primitive-triangles"><span class="std std-ref">Mesh.PRIMITIVE_TRIANGLES</span></a>.</p>  <h3 id="class-surfacetool-method-add-uv">void add_uv ( <a href="class_vector2#class-vector2"><span class="std std-ref">Vector2</span></a> uv )</h3> <p>Specifies a set of UV coordinates to use for the next vertex.</p>  <h3 id="class-surfacetool-method-add-uv2">void add_uv2 ( <a href="class_vector2#class-vector2"><span class="std std-ref">Vector2</span></a> uv2 )</h3> <p>Specifies an optional second set of UV coordinates to use for the next vertex.</p>  <h3 id="class-surfacetool-method-add-vertex">void add_vertex ( <a href="class_vector3#class-vector3"><span class="std std-ref">Vector3</span></a> vertex )</h3> <p>Specifies the position of current vertex. Should be called after specifying other vertex properties (e.g. Color, UV).</p>  <h3 id="class-surfacetool-method-add-weights">void add_weights ( <a href="class_poolrealarray#class-poolrealarray"><span class="std std-ref">PoolRealArray</span></a> weights )</h3> <p>Specifies weight values for next vertex to use. <code>weights</code> must contain 4 values.</p>  <h3 id="class-surfacetool-method-append-from">void append_from ( <a href="class_mesh#class-mesh"><span class="std std-ref">Mesh</span></a> existing, <a href="class_int#class-int"><span class="std std-ref">int</span></a> surface, <a href="class_transform#class-transform"><span class="std std-ref">Transform</span></a> transform )</h3> <p>Append vertices from a given <a href="class_mesh#class-mesh"><span class="std std-ref">Mesh</span></a> surface onto the current vertex array with specified <a href="class_transform#class-transform"><span class="std std-ref">Transform</span></a>.</p>  <h3 id="class-surfacetool-method-begin">void begin ( <a href="class_mesh#enum-mesh-primitivetype"><span class="std std-ref">PrimitiveType</span></a> primitive )</h3> <p>Called before adding any vertices. Takes the primitive type as an argument (e.g. <a href="class_mesh#class-mesh-constant-primitive-triangles"><span class="std std-ref">Mesh.PRIMITIVE_TRIANGLES</span></a>).</p>  <h3 id="class-surfacetool-method-clear">void clear ( )</h3> <p>Clear all information passed into the surface tool so far.</p>  <h3 id="class-surfacetool-method-commit">
<a href="class_arraymesh#class-arraymesh"><span class="std std-ref">ArrayMesh</span></a> commit ( <a href="class_arraymesh#class-arraymesh"><span class="std std-ref">ArrayMesh</span></a> existing=null, <a href="class_int#class-int"><span class="std std-ref">int</span></a> flags=97280 )</h3> <p>Returns a constructed <a href="class_arraymesh#class-arraymesh"><span class="std std-ref">ArrayMesh</span></a> from current information passed in. If an existing <a href="class_arraymesh#class-arraymesh"><span class="std std-ref">ArrayMesh</span></a> is passed in as an argument, will add an extra surface to the existing <a href="class_arraymesh#class-arraymesh"><span class="std std-ref">ArrayMesh</span></a>.</p> <p>Default flag is <a href="class_mesh#class-mesh-constant-array-compress-default"><span class="std std-ref">Mesh.ARRAY_COMPRESS_DEFAULT</span></a>. See <code>ARRAY_COMPRESS_*</code> constants in <a href="class_mesh#enum-mesh-arrayformat"><span class="std std-ref">ArrayFormat</span></a> for other flags.</p>  <h3 id="class-surfacetool-method-commit-to-arrays">
<a href="class_array#class-array"><span class="std std-ref">Array</span></a> commit_to_arrays ( )</h3> <p>Commits the data to the same format used by <a href="class_arraymesh#class-arraymesh-method-add-surface-from-arrays"><span class="std std-ref">ArrayMesh.add_surface_from_arrays</span></a>. This way you can further process the mesh data using the <a href="class_arraymesh#class-arraymesh"><span class="std std-ref">ArrayMesh</span></a> API.</p>  <h3 id="class-surfacetool-method-create-from">void create_from ( <a href="class_mesh#class-mesh"><span class="std std-ref">Mesh</span></a> existing, <a href="class_int#class-int"><span class="std std-ref">int</span></a> surface )</h3> <p>Creates a vertex array from an existing <a href="class_mesh#class-mesh"><span class="std std-ref">Mesh</span></a>.</p>  <h3 id="class-surfacetool-method-create-from-blend-shape">void create_from_blend_shape ( <a href="class_mesh#class-mesh"><span class="std std-ref">Mesh</span></a> existing, <a href="class_int#class-int"><span class="std std-ref">int</span></a> surface, <a href="class_string#class-string"><span class="std std-ref">String</span></a> blend_shape )</h3> <p>Creates a vertex array from the specified blend shape of an existing <a href="class_mesh#class-mesh"><span class="std std-ref">Mesh</span></a>. This can be used to extract a specific pose from a blend shape.</p>  <h3 id="class-surfacetool-method-deindex">void deindex ( )</h3> <p>Removes the index array by expanding the vertex array.</p>  <h3 id="class-surfacetool-method-generate-normals">void generate_normals ( <a href="class_bool#class-bool"><span class="std std-ref">bool</span></a> flip=false )</h3> <p>Generates normals from vertices so you do not have to do it manually. If <code>flip</code> is <code>true</code>, the resulting normals will be inverted.</p> <p>Requires the primitive type to be set to <a href="class_mesh#class-mesh-constant-primitive-triangles"><span class="std std-ref">Mesh.PRIMITIVE_TRIANGLES</span></a>.</p>  <h3 id="class-surfacetool-method-generate-tangents">void generate_tangents ( )</h3> <p>Generates a tangent vector for each vertex. Requires that each vertex have UVs and normals set already.</p>  <h3 id="class-surfacetool-method-index">void index ( )</h3> <p>Shrinks the vertex array by creating an index array (avoids reusing vertices).</p>  <h3 id="class-surfacetool-method-set-material">void set_material ( <a href="class_material#class-material"><span class="std std-ref">Material</span></a> material )</h3> <p>Sets <a href="class_material#class-material"><span class="std std-ref">Material</span></a> to be used by the <a href="class_mesh#class-mesh"><span class="std std-ref">Mesh</span></a> you are constructing.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2014–2020 Juan Linietsky, Ariel Manzur, Godot Engine contributors<br>Licensed under the MIT License.<br>
    <a href="https://docs.godotengine.org/en/3.2/classes/class_surfacetool.html" class="_attribution-link">https://docs.godotengine.org/en/3.2/classes/class_surfacetool.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
