
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Ce_bgp_neighbor – Manages BGP Peer Configuration on HUAWEI CloudEngine Switches - Ansible 2.9 - W3cubDocs</title>
  
  <meta name="description" content=" New in version 2.4. ">
  <meta name="keywords" content="ce, bgp, neighbor, –, manages, peer, configuration, on, huawei, cloudengine, switches, ansible, ansible~2.9">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/ansible~2.9/modules/ce_bgp_neighbor_module.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/ansible~2.9.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ansible~2.9/" class="_nav-link" title="" style="margin-left:0;">Ansible 2.9</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx">
				
				
<h1 id="ce-bgp-neighbor-module">ce_bgp_neighbor – Manages BGP peer configuration on HUAWEI CloudEngine switches</h1> <div class="versionadded" id="ce-bgp-neighbor-manages-bgp-peer-configuration-on-huawei-cloudengine-switches"> <p><span class="versionmodified">New in version 2.4.</span></p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id3">Notes</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id5">Return Values</a></li> <li><a class="reference internal" href="#status" id="id6">Status</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Manages BGP peer configurations on HUAWEI CloudEngine switches.</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>conn_retry_time</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>ConnectRetry interval. The value is an integer ranging from 1 to 65535.</div> </td> </tr> <tr> <td colspan="1">  <b>connect_mode</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>The value can be Connect-only, Listen-only, or Both.</div> </td> </tr> <tr> <td colspan="1">  <b>conventional</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>no_use</b> ←</div></li> <li>true</li> <li>false</li> </ul> </td> <td> <div>If the value is true, the router has all extended capabilities. If the value is false, the router does not have all extended capabilities.</div> </td> </tr> <tr> <td colspan="1">  <b>description</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>Description of a peer, which can be letters or digits. The value is a string of 1 to 80 characters.</div> </td> </tr> <tr> <td colspan="1">  <b>dual_as</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>no_use</b> ←</div></li> <li>true</li> <li>false</li> </ul> </td> <td> <div>If the value is true, the EBGP peer can use either a fake AS number or the actual AS number. If the value is false, the EBGP peer can only use a fake AS number.</div> </td> </tr> <tr> <td colspan="1">  <b>ebgp_max_hop</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>Maximum number of hops in an indirect EBGP connection. The value is an ranging from 1 to 255.</div> </td> </tr> <tr> <td colspan="1">  <b>fake_as</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>Fake AS number that is specified for a local peer. The value is a string of 1 to 11 characters.</div> </td> </tr> <tr> <td colspan="1">  <b>hold_time</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>Specify the Hold time of a peer or peer group. The value is 0 or an integer ranging from 3 to 65535.</div> </td> </tr> <tr> <td colspan="1">  <b>is_bfd_block</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>no_use</b> ←</div></li> <li>true</li> <li>false</li> </ul> </td> <td> <div>If the value is true, peers are enabled to inherit the BFD function from the peer group. If the value is false, peers are disabled to inherit the BFD function from the peer group.</div> </td> </tr> <tr> <td colspan="1">  <b>is_bfd_enable</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>no_use</b> ←</div></li> <li>true</li> <li>false</li> </ul> </td> <td> <div>If the value is true, BFD is enabled. If the value is false, BFD is disabled.</div> </td> </tr> <tr> <td colspan="1">  <b>is_ignore</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>no_use</b> ←</div></li> <li>true</li> <li>false</li> </ul> </td> <td> <div>If the value is true, the session with a specified peer is torn down and all related routing entries are cleared. If the value is false, the session with a specified peer is retained.</div> </td> </tr> <tr> <td colspan="1">  <b>is_log_change</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>no_use</b> ←</div></li> <li>true</li> <li>false</li> </ul> </td> <td> <div>If the value is true, BGP is enabled to record peer session status and event information. If the value is false, BGP is disabled from recording peer session status and event information.</div> </td> </tr> <tr> <td colspan="1">  <b>is_single_hop</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>no_use</b> ←</div></li> <li>true</li> <li>false</li> </ul> </td> <td> <div>If the value is true, the system is enabled to preferentially use the single-hop mode for BFD session setup between IBGP peers. If the value is false, the system is disabled from preferentially using the single-hop mode for BFD session setup between IBGP peers.</div> </td> </tr> <tr> <td colspan="1">  <b>keep_alive_time</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>Specify the Keepalive time of a peer or peer group. The value is an integer ranging from 0 to 21845. The default value is 60.</div> </td> </tr> <tr> <td colspan="1">  <b>key_chain_name</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>Specify the Keychain authentication name used when BGP peers establish a TCP connection. The value is a string of 1 to 47 case-insensitive characters.</div> </td> </tr> <tr> <td colspan="1">  <b>local_if_name</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>Name of a source interface that sends BGP packets. The value is a string of 1 to 63 characters.</div> </td> </tr> <tr> <td colspan="1">  <b>min_hold_time</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>Specify the Min hold time of a peer or peer group.</div> </td> </tr> <tr> <td colspan="1">  <b>mpls_local_ifnet_disable</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>no_use</b> ←</div></li> <li>true</li> <li>false</li> </ul> </td> <td> <div>If the value is true, peer create MPLS Local IFNET disable. If the value is false, peer create MPLS Local IFNET enable.</div> </td> </tr> <tr> <td colspan="1">  <b>multiplier</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>Specify the detection multiplier. The default value is 3. The value is an integer ranging from 3 to 50.</div> </td> </tr> <tr> <td colspan="1">  <b>peer_addr</b>  <div style="font-size: small"> <span style="color: purple">-</span> / <span style="color: red">required</span> </div> </td> <td> </td> <td> <div>Connection address of a peer, which can be an IPv4 or IPv6 address.</div> </td> </tr> <tr> <td colspan="1">  <b>prepend_fake_as</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>no_use</b> ←</div></li> <li>true</li> <li>false</li> </ul> </td> <td> <div>Add the Fake AS number to received Update packets.</div> </td> </tr> <tr> <td colspan="1">  <b>prepend_global_as</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>no_use</b> ←</div></li> <li>true</li> <li>false</li> </ul> </td> <td> <div>Add the global AS number to the Update packets to be advertised.</div> </td> </tr> <tr> <td colspan="1">  <b>pswd_cipher_text</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>The character string in a password identifies the contents of the password, spaces not supported. The value is a string of 1 to 255 characters.</div> </td> </tr> <tr> <td colspan="1">  <b>pswd_type</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li>null</li> <li>cipher</li> <li>simple</li> </ul> </td> <td> <div>Enable BGP peers to establish a TCP connection and perform the Message Digest 5 (MD5) authentication for BGP messages.</div> </td> </tr> <tr> <td colspan="1">  <b>remote_as</b>  <div style="font-size: small"> <span style="color: purple">-</span> / <span style="color: red">required</span> </div> </td> <td> </td> <td> <div>AS number of a peer. The value is a string of 1 to 11 characters.</div> </td> </tr> <tr> <td colspan="1">  <b>route_refresh</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>no_use</b> ←</div></li> <li>true</li> <li>false</li> </ul> </td> <td> <div>If the value is true, BGP is enabled to advertise REFRESH packets. If the value is false, the route refresh function is enabled.</div> </td> </tr> <tr> <td colspan="1">  <b>rx_interval</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>Specify the minimum interval at which BFD packets are received. The value is an integer ranging from 50 to 1000, in milliseconds.</div> </td> </tr> <tr> <td colspan="1">  <b>state</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>present</b> ←</div></li> <li>absent</li> </ul> </td> <td> <div>Specify desired state of the resource.</div> </td> </tr> <tr> <td colspan="1">  <b>tcp_MSS</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>Maximum TCP MSS value used for TCP connection establishment for a peer. The value is an integer ranging from 176 to 4096.</div> </td> </tr> <tr> <td colspan="1">  <b>tx_interval</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>Specify the minimum interval at which BFD packets are sent. The value is an integer ranging from 50 to 1000, in milliseconds.</div> </td> </tr> <tr> <td colspan="1">  <b>valid_ttl_hops</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>Enable GTSM on a peer or peer group. The valid-TTL-Value parameter is used to specify the number of TTL hops to be detected. The value is an integer ranging from 1 to 255.</div> </td> </tr> <tr> <td colspan="1">  <b>vrf_name</b>  <div style="font-size: small"> <span style="color: purple">-</span> / <span style="color: red">required</span> </div> </td> <td> </td> <td> <div>Name of a BGP instance. The name is a case-sensitive string of characters. The BGP instance can be used only after the corresponding VPN instance is created.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="first admonition-title">Note</p> <ul class="last simple"> <li>This module requires the netconf system service be enabled on the remote device being managed.</li> <li>Recommended connection is <code>netconf</code>.</li> <li>This module also works with <code>local</code> connections for legacy playbooks.</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml">- name: CloudEngine BGP neighbor test
  hosts: cloudengine
  connection: local
  gather_facts: no
  vars:
    cli:
      host: "{{ inventory_hostname }}"
      port: "{{ ansible_ssh_port }}"
      username: "{{ username }}"
      password: "{{ password }}"
      transport: cli

  tasks:

  - name: "Config bgp peer"
    ce_bgp_neighbor:
      state: present
      vrf_name: js
      peer_addr: 192.168.10.10
      remote_as: 500
      provider: "{{ cli }}"

  - name: "Config bgp route id"
    ce_bgp_neighbor:
      state: absent
      vrf_name: js
      peer_addr: 192.168.10.10
      provider: "{{ cli }}"
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../reference_appendices/common_return_values#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="1">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="1">  <b>changed</b>  <div style="font-size: small"> <span style="color: purple">boolean</span> </div> </td> <td>always</td> <td> <div>check to see if a change was made on the device</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">True</div> </td> </tr> <tr> <td colspan="1">  <b>end_state</b>  <div style="font-size: small"> <span style="color: purple">dictionary</span> </div> </td> <td>always</td> <td> <div>k/v pairs of aaa params after module execution</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">{'bgp peer': [['192.168.10.10', '500']]}</div> </td> </tr> <tr> <td colspan="1">  <b>existing</b>  <div style="font-size: small"> <span style="color: purple">dictionary</span> </div> </td> <td>always</td> <td> <div>k/v pairs of existing aaa server</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">{'bgp peer': []}</div> </td> </tr> <tr> <td colspan="1">  <b>proposed</b>  <div style="font-size: small"> <span style="color: purple">dictionary</span> </div> </td> <td>always</td> <td> <div>k/v pairs of parameters passed into module</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">{'peer_addr': '192.168.10.10', 'remote_as': '500', 'state': 'present', 'vrf_name': 'js'}</div> </td> </tr> <tr> <td colspan="1">  <b>updates</b>  <div style="font-size: small"> <span style="color: purple">list</span> </div> </td> <td>always</td> <td> <div>command sent to the device</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">['peer 192.168.10.10 as-number 500']</div> </td> </tr> </table> <br><br>  <h2 id="status">Status</h2> <ul class="simple"> <li>This module is not guaranteed to have a backwards compatible interface. <em>[preview]</em>
</li> <li>This module is <a class="reference internal" href="../user_guide/modules_support#modules-support"><span class="std std-ref">maintained by the Ansible Community</span></a>. <em>[community]</em>
</li> </ul>  <h3 id="authors">Authors</h3> <ul class="simple"> <li>wangdezhuang (@QijunPan)</li> </ul> <div class="admonition hint"> <p class="first admonition-title">Hint</p> <p class="last">If you notice any issues in this documentation, you can <a class="reference external" href="https://github.com/ansible/ansible/edit/devel/lib/ansible/modules/network/cloudengine/ce_bgp_neighbor.py?description=%23%23%23%23%23%20SUMMARY%0A%3C!---%20Your%20description%20here%20--%3E%0A%0A%0A%23%23%23%23%23%20ISSUE%20TYPE%0A-%20Docs%20Pull%20Request%0A%0A%2Blabel:%20docsite_pr">edit this document</a> to improve it.</p> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2018 Michael DeHaan<br>© 2018–2019 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/2.9/modules/ce_bgp_neighbor_module.html" class="_attribution-link">https://docs.ansible.com/ansible/2.9/modules/ce_bgp_neighbor_module.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
