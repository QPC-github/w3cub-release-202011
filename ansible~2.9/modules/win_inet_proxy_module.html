
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Win_inet_proxy – Manages Proxy Settings for WinINet and Internet Explorer - Ansible 2.9 - W3cubDocs</title>
  
  <meta name="description" content=" New in version 2.8. ">
  <meta name="keywords" content="win, inet, proxy, –, manages, settings, for, wininet, and, internet, explorer, ansible, ansible~2.9">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/ansible~2.9/modules/win_inet_proxy_module.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/ansible~2.9.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ansible~2.9/" class="_nav-link" title="" style="margin-left:0;">Ansible 2.9</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx">
				
				
<h1 id="win-inet-proxy-module">win_inet_proxy – Manages proxy settings for WinINet and Internet Explorer</h1> <div class="versionadded" id="win-inet-proxy-manages-proxy-settings-for-wininet-and-internet-explorer"> <p><span class="versionmodified">New in version 2.8.</span></p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id3">Notes</a></li> <li><a class="reference internal" href="#see-also" id="id4">See Also</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> <li><a class="reference internal" href="#status" id="id6">Status</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Used to set or remove proxy settings for Windows INet which includes Internet Explorer.</li> <li>WinINet is a framework used by interactive applications to submit web requests through.</li> <li>The proxy settings can also be used by other applications like Firefox, Chrome, and others but there is no definitive list.</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>auto_config_url</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>The URL of a proxy configuration script.</div> <div>Proxy configuration scripts are typically JavaScript files with the <code>.pac</code> extension that implement the C(FindProxyForUR<a href="host">url</a> function.</div> <div>Omit, set to null or an empty string to remove the auto config URL.</div> <div>This corresponds to the checkbox <em>Use automatic configuration script</em> in the connection settings window.</div> </td> </tr> <tr> <td colspan="1">  <b>auto_detect</b>  <div style="font-size: small"> <span style="color: purple">boolean</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li>no</li> <li><div style="color: blue">
<b>yes</b> ←</div></li> </ul> </td> <td> <div>Whether to configure WinINet to automatically detect proxy settings through Web Proxy Auto-Detection <code>WPAD</code>.</div> <div>This corresponds to the checkbox <em>Automatically detect settings</em> in the connection settings window.</div> </td> </tr> <tr> <td colspan="1">  <b>bypass</b>  <div style="font-size: small"> <span style="color: purple">list</span> </div> </td> <td> </td> <td> <div>A list of hosts that will bypass the set proxy when being accessed.</div> <div>Use <code>&lt;local&gt;</code> to match hostnames that are not fully qualified domain names. This is useful when needing to connect to intranet sites using just the hostname. If defined, this should be the last entry in the bypass list.</div> <div>Use <code>&lt;-loopback&gt;</code> to stop automatically bypassing the proxy when connecting through any loopback address like <code>127.0.0.1</code>, <code>localhost</code>, or the local hostname.</div> <div>Omit, set to null or an empty string/list to remove the bypass list.</div> <div>If this is set then <em>proxy</em> must also be set.</div> </td> </tr> <tr> <td colspan="1">  <b>connection</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>The name of the IE connection to set the proxy settings for.</div> <div>These are the connections under the <em>Dial-up and Virtual Private Network</em> header in the IE settings.</div> <div>When omitted, the default LAN connection is used.</div> </td> </tr> <tr> <td colspan="1">  <b>proxy</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>A string or dict that specifies the proxy to be set.</div> <div>If setting a string, should be in the form <code>hostname</code>, <code>hostname:port</code>, or <code>protocol=hostname:port</code>.</div> <div>If the port is undefined, the default port for the protocol in use is used.</div> <div>If setting a dict, the keys should be the protocol and the values should be the hostname and/or port for that protocol.</div> <div>Valid protocols are <code>http</code>, <code>https</code>, <code>ftp</code>, and <code>socks</code>.</div> <div>Omit, set to null or an empty string to remove the proxy settings.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="first admonition-title">Note</p> <ul class="last simple"> <li>This is not the same as the proxy settings set in WinHTTP through the <code>netsh</code> command. Use the <a class="reference internal" href="win_http_proxy_module#win-http-proxy-module"><span class="std std-ref">win_http_proxy</span></a> module to manage that instead.</li> <li>These settings are by default set per user and not system wide. A registry property must be set independently from this module if you wish to apply the proxy for all users. See examples for more detail.</li> <li>If per user proxy settings are desired, use <em>become</em> to become any local user on the host. No password is needed to be set for this to work.</li> <li>If the proxy requires authentication, set the credentials using the <a class="reference internal" href="win_credential_module#win-credential-module"><span class="std std-ref">win_credential</span></a> module. This requires <em>become</em> to be used so the credential store can be accessed.</li> </ul> </div>   <h2 id="see-also">See Also</h2> <div class="admonition seealso"> <p class="first admonition-title">See also</p> <dl class="last docutils"> <dt><a class="reference internal" href="win_http_proxy_module#win-http-proxy-module"><span class="std std-ref">win_http_proxy – Manages proxy settings for WinHTTP</span></a></dt> <dd>The official documentation on the <strong>win_http_proxy</strong> module.</dd> <dt><a class="reference internal" href="win_credential_module#win-credential-module"><span class="std std-ref">win_credential – Manages Windows Credentials in the Credential Manager</span></a></dt> <dd>The official documentation on the <strong>win_credential</strong> module.</dd> </dl> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml"># This should be set before running the win_inet_proxy module
- name: Configure IE proxy settings to apply to all users
  win_regedit:
    path: HKLM:\SOFTWARE\Policies\Microsoft\Windows\CurrentVersion\Internet Settings
    name: ProxySettingsPerUser
    data: 0
    type: dword
    state: present

# This should be set before running the win_inet_proxy module
- name: Configure IE proxy settings to apply per user
  win_regedit:
    path: HKLM:\SOFTWARE\Policies\Microsoft\Windows\CurrentVersion\Internet Settings
    name: ProxySettingsPerUser
    data: 1
    type: dword
    state: present

- name: Configure IE proxy to use auto detected settings without an explicit proxy
  win_inet_proxy:
    auto_detect: yes

- name: Configure IE proxy to use auto detected settings with a configuration script
  win_inet_proxy:
    auto_detect: yes
    auto_config_url: http://proxy.ansible.com/proxy.pac

- name: Configure IE to use explicit proxy host
  win_inet_proxy:
    auto_detect: yes
    proxy: ansible.proxy

- name: Configure IE to use explicit proxy host with port and without auto detection
  win_inet_proxy:
    auto_detect: no
    proxy: ansible.proxy:8080

- name: Configure IE to use a specific proxy per protocol
  win_inet_proxy:
    proxy:
      http: ansible.proxy:8080
      https: ansible.proxy:8443

- name: Configure IE to use a specific proxy per protocol using a string
  win_inet_proxy:
    proxy: http=ansible.proxy:8080;https=ansible.proxy:8443

- name: Set a proxy with a bypass list
  win_inet_proxy:
    proxy: ansible.proxy
    bypass:
    - server1
    - server2
    - &lt;-loopback&gt;
    - &lt;local&gt;

- name: Remove any explicit proxies that are set
  win_inet_proxy:
    proxy: ''
    bypass: ''

# This should be done after setting the IE proxy with win_inet_proxy
- name: Import IE proxy configuration to WinHTTP
  win_http_proxy:
    source: ie

# Explicit credentials can only be set per user and require become to work
- name: Set credential to use for proxy auth
  win_credential:
    name: ansible.proxy  # The name should be the FQDN of the proxy host
    type: generic_password
    username: proxyuser
    secret: proxypass
    state: present
  become: yes
  become_user: '{{ ansible_user }}'
  become_method: runas
</pre>   <h2 id="status">Status</h2> <ul class="simple"> <li>This module is not guaranteed to have a backwards compatible interface. <em>[preview]</em>
</li> <li>This module is <a class="reference internal" href="../user_guide/modules_support#modules-support"><span class="std std-ref">maintained by the Ansible Community</span></a>. <em>[community]</em>
</li> </ul>  <h3 id="authors">Authors</h3> <ul class="simple"> <li>Jordan Borean (@jborean93)</li> </ul> <div class="admonition hint"> <p class="first admonition-title">Hint</p> <p class="last">If you notice any issues in this documentation, you can <a class="reference external" href="https://github.com/ansible/ansible/edit/devel/lib/ansible/modules/windows/win_inet_proxy.py?description=%23%23%23%23%23%20SUMMARY%0A%3C!---%20Your%20description%20here%20--%3E%0A%0A%0A%23%23%23%23%23%20ISSUE%20TYPE%0A-%20Docs%20Pull%20Request%0A%0A%2Blabel:%20docsite_pr">edit this document</a> to improve it.</p> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2018 Michael DeHaan<br>© 2018–2019 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/2.9/modules/win_inet_proxy_module.html" class="_attribution-link">https://docs.ansible.com/ansible/2.9/modules/win_inet_proxy_module.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
