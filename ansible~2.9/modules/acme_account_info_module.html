
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Acme_account_info – Retrieves Information on ACME Accounts - Ansible 2.9 - W3cubDocs</title>
  
  <meta name="description" content=" New in version 2.7. ">
  <meta name="keywords" content="acme, account, info, –, retrieves, information, on, accounts, ansible, ansible~2.9">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/ansible~2.9/modules/acme_account_info_module.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/ansible~2.9.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ansible~2.9/" class="_nav-link" title="" style="margin-left:0;">Ansible 2.9</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx">
				
				
<h1 id="acme-account-info-module">acme_account_info – Retrieves information on ACME accounts</h1> <div class="versionadded" id="acme-account-info-retrieves-information-on-acme-accounts"> <p><span class="versionmodified">New in version 2.7.</span></p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id2">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id3">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id4">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id5">Notes</a></li> <li><a class="reference internal" href="#see-also" id="id6">See Also</a></li> <li><a class="reference internal" href="#examples" id="id7">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id8">Return Values</a></li> <li><a class="reference internal" href="#status" id="id9">Status</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Allows to retrieve information on accounts a CA supporting the <a class="reference external" href="https://tools.ietf.org/html/rfc8555">ACME protocol</a>, such as <a class="reference external" href="https://letsencrypt.org/">Let’s Encrypt</a>.</li> <li>This module only works with the ACME v2 protocol.</li> </ul> <p>Aliases: acme_account_facts</p>   <h2 id="requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>python &gt;= 2.6</li> <li>either openssl or <a class="reference external" href="https://cryptography.io/">cryptography</a> &gt;= 1.5</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>account_key_content</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> <div style="font-style: italic; font-size: small; color: darkgreen">added in 2.5</div> </td> <td> </td> <td> <div>Content of the ACME account RSA or Elliptic Curve key.</div> <div>Mutually exclusive with <code>account_key_src</code>.</div> <div>Required if <code>account_key_src</code> is not used.</div> <div>
<em>Warning</em>: the content will be written into a temporary file, which will be deleted by Ansible when the module completes. Since this is an important private key — it can be used to change the account key, or to revoke your certificates without knowing their private keys —, this might not be acceptable.</div> <div>In case <code>cryptography</code> is used, the content is not written into a temporary file. It can still happen that it is written to disk by Ansible in the process of moving the module with its argument to the node where it is executed.</div> </td> </tr> <tr> <td colspan="1">  <b>account_key_src</b>  <div style="font-size: small"> <span style="color: purple">path</span> </div> </td> <td> </td> <td> <div>Path to a file containing the ACME account RSA or Elliptic Curve key.</div> <div>RSA keys can be created with <code>openssl genrsa ...</code>. Elliptic curve keys can be created with <code>openssl ecparam -genkey ...</code>. Any other tool creating private keys in PEM format can be used as well.</div> <div>Mutually exclusive with <code>account_key_content</code>.</div> <div>Required if <code>account_key_content</code> is not used.</div> <div style="font-size: small; color: darkgreen">
<br>aliases: account_key</div> </td> </tr> <tr> <td colspan="1">  <b>account_uri</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> <div style="font-style: italic; font-size: small; color: darkgreen">added in 2.7</div> </td> <td> </td> <td> <div>If specified, assumes that the account URI is as given. If the account key does not match this account, or an account with this URI does not exist, the module fails.</div> </td> </tr> <tr> <td colspan="1">  <b>acme_directory</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> <b>Default:</b><br><div style="color: blue">"https://acme-staging.api.letsencrypt.org/directory"</div> </td> <td> <div>The ACME directory to use. This is the entry point URL to access CA server API.</div> <div>For safety reasons the default is set to the Let's Encrypt staging server (for the ACME v1 protocol). This will create technically correct, but untrusted certificates.</div> <div>For Let's Encrypt, all staging endpoints can be found here: <a href="https://letsencrypt.org/docs/staging-environment/">https://letsencrypt.org/docs/staging-environment/</a>. For Buypass, all endpoints can be found here: <a href="https://community.buypass.com/t/63d4ay/buypass-go-ssl-endpoints">https://community.buypass.com/t/63d4ay/buypass-go-ssl-endpoints</a>
</div> <div>For Let's Encrypt, the production directory URL for ACME v1 is <a href="https://acme-v01.api.letsencrypt.org/directory">https://acme-v01.api.letsencrypt.org/directory</a>, and the production directory URL for ACME v2 is <a href="https://acme-v02.api.letsencrypt.org/directory">https://acme-v02.api.letsencrypt.org/directory</a>.</div> <div>For Buypass, the production directory URL for ACME v2 and v1 is <a href="https://api.buypass.com/acme/directory">https://api.buypass.com/acme/directory</a>.</div> <div>
<em>Warning</em>: So far, the module has only been tested against Let's Encrypt (staging and production), Buypass (staging and production), and <a href="https://github.com/letsencrypt/Pebble">Pebble testing server</a>.</div> </td> </tr> <tr> <td colspan="1">  <b>acme_version</b>  <div style="font-size: small"> <span style="color: purple">integer</span> </div> <div style="font-style: italic; font-size: small; color: darkgreen">added in 2.5</div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>1</b> ←</div></li> <li>2</li> </ul> </td> <td> <div>The ACME version of the endpoint.</div> <div>Must be 1 for the classic Let's Encrypt and Buypass ACME endpoints, or 2 for standardized ACME v2 endpoints.</div> </td> </tr> <tr> <td colspan="1">  <b>retrieve_orders</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> <div style="font-style: italic; font-size: small; color: darkgreen">added in 2.9</div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>ignore</b> ←</div></li> <li>url_list</li> <li>object_list</li> </ul> </td> <td> <div>Whether to retrieve the list of order URLs or order objects, if provided by the ACME server.</div> <div>A value of <code>ignore</code> will not fetch the list of orders.</div> <div>Currently, Let's Encrypt does not return orders, so the <code>orders</code> result will always be empty.</div> </td> </tr> <tr> <td colspan="1">  <b>select_crypto_backend</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> <div style="font-style: italic; font-size: small; color: darkgreen">added in 2.7</div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>auto</b> ←</div></li> <li>cryptography</li> <li>openssl</li> </ul> </td> <td> <div>Determines which crypto backend to use.</div> <div>The default choice is <code>auto</code>, which tries to use <code>cryptography</code> if available, and falls back to <code>openssl</code>.</div> <div>If set to <code>openssl</code>, will try to use the <code>openssl</code> binary.</div> <div>If set to <code>cryptography</code>, will try to use the <a href="https://cryptography.io/">cryptography</a> library.</div> </td> </tr> <tr> <td colspan="1">  <b>validate_certs</b>  <div style="font-size: small"> <span style="color: purple">boolean</span> </div> <div style="font-style: italic; font-size: small; color: darkgreen">added in 2.5</div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li>no</li> <li><div style="color: blue">
<b>yes</b> ←</div></li> </ul> </td> <td> <div>Whether calls to the ACME directory will validate TLS certificates.</div> <div>
<em>Warning</em>: Should <em>only ever</em> be set to <code>no</code> for testing purposes, for example when testing against a local Pebble server.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="first admonition-title">Note</p> <ul class="last simple"> <li>The <a class="reference internal" href="acme_account_module#acme-account-module"><span class="std std-ref">acme_account</span></a> module allows to modify, create and delete ACME accounts.</li> <li>This module was called <code>acme_account_facts</code> before Ansible 2.8. The usage did not change.</li> <li>If a new enough version of the <code>cryptography</code> library is available (see Requirements for details), it will be used instead of the <code>openssl</code> binary. This can be explicitly disabled or enabled with the <code>select_crypto_backend</code> option. Note that using the <code>openssl</code> binary will be slower and less secure, as private key contents always have to be stored on disk (see <code>account_key_content</code>).</li> <li>Although the defaults are chosen so that the module can be used with the <a class="reference external" href="https://letsencrypt.org/">Let’s Encrypt</a> CA, the module can in principle be used with any CA providing an ACME endpoint, such as <a class="reference external" href="https://www.buypass.com/ssl/products/acme">Buypass Go SSL</a>.</li> </ul> </div>   <h2 id="see-also">See Also</h2> <div class="admonition seealso"> <p class="first admonition-title">See also</p> <dl class="last docutils"> <dt><a class="reference internal" href="acme_account_module#acme-account-module"><span class="std std-ref">acme_account – Create, modify or delete ACME accounts</span></a></dt> <dd>Allows to create, modify or delete an ACME account.</dd> </dl> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml">- name: Check whether an account with the given account key exists
  acme_account_info:
    account_key_src: /etc/pki/cert/private/account.key
    register: account_data
- name: Verify that account exists
  assert:
    that:
      - account_data.exists
- name: Print account URI
  debug: var=account_data.account_uri
- name: Print account contacts
  debug: var=account_data.account.contact

- name: Check whether the account exists and is accessible with the given account key
  acme_account_info:
    account_key_content: "{{ acme_account_key }}"
    account_uri: "{{ acme_account_uri }}"
    register: account_data
- name: Verify that account exists
  assert:
    that:
      - account_data.exists
- name: Print account contacts
  debug: var=account_data.account.contact
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../reference_appendices/common_return_values#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="3">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="3">  <b>account</b>  <div style="font-size: small"> <span style="color: purple">dictionary</span> </div> </td> <td>if account exists</td> <td> <div>The account information, as retrieved from the ACME server.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>contact</b>  <div style="font-size: small"> <span style="color: purple">list</span> / <span style="color: purple">elements=string</span> </div> </td> <td>always</td> <td> <div>the challenge resource that must be created for validation</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">['mailto:me@example.com', 'tel:00123456789']</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>orders</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>always</td> <td> <div>A URL where a list of orders can be retrieved for this account.</div> <div>Use the <em>retrieve_orders</em> option to query this URL and retrieve the complete list of orders.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">https://example.ca/account/1/orders</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>public_account_key</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>always</td> <td> <div>the public account key as a <a href="https://tools.ietf.org/html/rfc7517">JSON Web Key</a>.</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">{"kty":"EC","crv":"P-256","x":"MKBCTNIcKUSDii11ySs3526iDZ8AiTo7Tu6KPAqv7D4","y":"4Etl6SRW2YiLUrN5vfvVHuhp7x8PxltmWWlbbM4IFyM"}</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>status</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>always</td> <td> <div>the account's status</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">valid</div> </td> </tr> <tr> <td colspan="3">  <b>account_uri</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>always</td> <td> <div>ACME account URI, or None if account does not exist.</div> <br> </td> </tr> <tr> <td colspan="3">  <b>exists</b>  <div style="font-size: small"> <span style="color: purple">boolean</span> </div> </td> <td>always</td> <td> <div>Whether the account exists.</div> <br> </td> </tr> <tr> <td colspan="3">  <b>orders</b>  <div style="font-size: small"> <span style="color: purple">list</span> </div> </td> <td>if account exists, <em>retrieve_orders</em> is not <code>ignore</code>, and server supports order listing</td> <td> <div>The list of orders.</div> <div>If <em>retrieve_orders</em> is <code>url_list</code>, this will be a list of URLs.</div> <div>If <em>retrieve_orders</em> is <code>object_list</code>, this will be a list of objects.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>authorizations</b>  <div style="font-size: small"> <span style="color: purple">list</span> / <span style="color: purple">elements=string</span> </div> </td> <td></td> <td> <div>A list of URLs for authorizations for this order.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>certificate</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>when certificate was issued</td> <td> <div>The URL for retrieving the certificate.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>error</b>  <div style="font-size: small"> <span style="color: purple">dictionary</span> </div> </td> <td>when an error occurred</td> <td> <div>In case an error occurred during processing, this contains information about the error.</div> <div>The field is structured as a problem document (RFC7807).</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>expires</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>when server gives expiry date</td> <td> <div>When the order expires.</div> <div>Timestamp should be formatted as described in RFC3339.</div> <div>Only required to be included in result when <em>status</em> is <code>pending</code> or <code>valid</code>.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>finalize</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td></td> <td> <div>A URL used for finalizing an ACME order.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>identifiers</b>  <div style="font-size: small"> <span style="color: purple">list</span> / <span style="color: purple">elements=dictionary</span> </div> </td> <td></td> <td> <div>List of identifiers this order is for.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>type</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td></td> <td> <div>Type of identifier. <code>dns</code> or <code>ip</code>.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>value</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td></td> <td> <div>Name of identifier. Hostname or IP address.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td class="elbow-placeholder"> </td> <td colspan="1">  <b>wildcard</b>  <div style="font-size: small"> <span style="color: purple">boolean</span> </div> </td> <td>required to be included if the identifier is wildcarded</td> <td> <div>Whether <em>value</em> is actually a wildcard. The wildcard prefix <code>*.</code> is not included in <em>value</em> if this is <code>true</code>.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>notAfter</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>when server returns this</td> <td> <div>The requested value of the <code>notAfter</code> field in the certificate.</div> <div>Date should be formatted as described in RFC3339.</div> <div>Server is not required to return this.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>notBefore</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>when server returns this</td> <td> <div>The requested value of the <code>notBefore</code> field in the certificate.</div> <div>Date should be formatted as described in RFC3339.</div> <div>Server is not required to return this.</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="2">  <b>status</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td></td> <td> <div>The order's status.</div> <br> </td> </tr> </table> <br><br>  <h2 id="status">Status</h2> <ul class="simple"> <li>This module is not guaranteed to have a backwards compatible interface. <em>[preview]</em>
</li> <li>This module is <a class="reference internal" href="../user_guide/modules_support#modules-support"><span class="std std-ref">maintained by the Ansible Community</span></a>. <em>[community]</em>
</li> </ul>  <h3 id="authors">Authors</h3> <ul class="simple"> <li>Felix Fontein (@felixfontein)</li> </ul> <div class="admonition hint"> <p class="first admonition-title">Hint</p> <p class="last">If you notice any issues in this documentation, you can <a class="reference external" href="https://github.com/ansible/ansible/edit/devel/lib/ansible/modules/crypto/acme/acme_account_info.py?description=%23%23%23%23%23%20SUMMARY%0A%3C!---%20Your%20description%20here%20--%3E%0A%0A%0A%23%23%23%23%23%20ISSUE%20TYPE%0A-%20Docs%20Pull%20Request%0A%0A%2Blabel:%20docsite_pr">edit this document</a> to improve it.</p> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2018 Michael DeHaan<br>© 2018–2019 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/2.9/modules/acme_account_info_module.html" class="_attribution-link">https://docs.ansible.com/ansible/2.9/modules/acme_account_info_module.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
