
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Fortios_ipv4_policy – Manage IPv4 Policy Objects on Fortinet FortiOS Firewall Devices - Ansible 2.9 - W3cubDocs</title>
  
  <meta name="description" content=" The below requirements are needed on the host that executes this module. ">
  <meta name="keywords" content="fortios, ipv, policy, –, manage, objects, on, fortinet, firewall, devices, ansible, ansible~2.9">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/ansible~2.9/modules/fortios_ipv4_policy_module.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/ansible~2.9.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ansible~2.9/" class="_nav-link" title="" style="margin-left:0;">Ansible 2.9</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx">
				
				
<h1 id="fortios-ipv4-policy-module">fortios_ipv4_policy – Manage IPv4 policy objects on Fortinet FortiOS firewall devices</h1>  <ul class="simple" id="fortios-ipv4-policy-manage-ipv4-policy-objects-on-fortinet-fortios-firewall-devices"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id5">Return Values</a></li> <li><a class="reference internal" href="#status" id="id6">Status</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>This module provides management of firewall IPv4 policies on FortiOS devices.</li> </ul>   <h2 id="requirements">Requirements</h2> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>pyFG</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1">  <b>application_list</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>Specifies Application Control name.</div> </td> </tr> <tr> <td colspan="1">  <b>av_profile</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>Specifies Antivirus profile name.</div> </td> </tr> <tr> <td colspan="1">  <b>backup</b>  <div style="font-size: small"> <span style="color: purple">boolean</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>This argument will cause the module to create a backup of the current <code>running-config</code> from the remote device before any changes are made. The backup file is written to the i(backup) folder.</div> </td> </tr> <tr> <td colspan="1">  <b>backup_filename</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Specifies the backup filename. If omitted filename will be formatted like HOST_config.YYYY-MM-DD@HH:MM:SS</div> </td> </tr> <tr> <td colspan="1">  <b>backup_path</b>  <div style="font-size: small"> <span style="color: purple">path</span> </div> </td> <td> </td> <td> <div>Specifies where to store backup files. Required if <em>backup=yes</em>.</div> </td> </tr> <tr> <td colspan="1">  <b>comment</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>free text to describe policy.</div> </td> </tr> <tr> <td colspan="1">  <b>config_file</b>  <div style="font-size: small"> <span style="color: purple">path</span> </div> <div style="font-style: italic; font-size: small; color: darkgreen">added in 2.4</div> </td> <td> </td> <td> <div>Path to configuration file. Required when <em>file_mode</em> is True.</div> </td> </tr> <tr> <td colspan="1">  <b>dst_addr</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>Specifies destination address (or group) object name(s). Required when <em>state=present</em>.</div> </td> </tr> <tr> <td colspan="1">  <b>dst_addr_negate</b>  <div style="font-size: small"> <span style="color: purple">boolean</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Negate destination address param.</div> </td> </tr> <tr> <td colspan="1">  <b>dst_intf</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> <b>Default:</b><br><div style="color: blue">"any"</div> </td> <td> <div>Specifies destination interface name(s).</div> </td> </tr> <tr> <td colspan="1">  <b>file_mode</b>  <div style="font-size: small"> <span style="color: purple">boolean</span> </div> <div style="font-style: italic; font-size: small; color: darkgreen">added in 2.4</div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Don't connect to any device, only use <em>config_file</em> as input and Output.</div> </td> </tr> <tr> <td colspan="1">  <b>fixedport</b>  <div style="font-size: small"> <span style="color: purple">boolean</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Use fixed port for nat.</div> </td> </tr> <tr> <td colspan="1">  <b>host</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Specifies the DNS hostname or IP address for connecting to the remote fortios device. Required when <em>file_mode</em> is False.</div> </td> </tr> <tr> <td colspan="1">  <b>id</b>  <div style="font-size: small"> <span style="color: purple">-</span> / <span style="color: red">required</span> </div> </td> <td> </td> <td> <div>Policy ID. Warning: policy ID number is different than Policy sequence number. The policy ID is the number assigned at policy creation. The sequence number represents the order in which the Fortigate will evaluate the rule for policy enforcement, and also the order in which rules are listed in the GUI and CLI. These two numbers do not necessarily correlate: this module is based off policy ID. TIP: policy ID can be viewed in the GUI by adding 'ID' to the display columns</div> </td> </tr> <tr> <td colspan="1">  <b>ips_sensor</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>Specifies IPS Sensor profile name.</div> </td> </tr> <tr> <td colspan="1">  <b>logtraffic</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> <div style="font-style: italic; font-size: small; color: darkgreen">added in 2.4</div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li>disable</li> <li><div style="color: blue">
<b>utm</b> ←</div></li> <li>all</li> </ul> </td> <td> <div>Logs sessions that matched policy.</div> </td> </tr> <tr> <td colspan="1">  <b>logtraffic_start</b>  <div style="font-size: small"> <span style="color: purple">boolean</span> </div> <div style="font-style: italic; font-size: small; color: darkgreen">added in 2.4</div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Logs beginning of session as well.</div> </td> </tr> <tr> <td colspan="1">  <b>nat</b>  <div style="font-size: small"> <span style="color: purple">boolean</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Enable or disable Nat.</div> </td> </tr> <tr> <td colspan="1">  <b>password</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Specifies the password used to authenticate to the remote device. Required when <em>file_mode</em> is True.</div> </td> </tr> <tr> <td colspan="1">  <b>policy_action</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li>accept</li> <li>deny</li> </ul> </td> <td> <div>Specifies accept or deny action policy. Required when <em>state=present</em>.</div> <div style="font-size: small; color: darkgreen">
<br>aliases: action</div> </td> </tr> <tr> <td colspan="1">  <b>poolname</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>Specifies NAT pool name.</div> </td> </tr> <tr> <td colspan="1">  <b>schedule</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> <b>Default:</b><br><div style="color: blue">"always"</div> </td> <td> <div>defines policy schedule.</div> </td> </tr> <tr> <td colspan="1">  <b>service</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>Specifies policy service(s), could be a list (ex: ['MAIL','DNS']). Required when <em>state=present</em>.</div> <div style="font-size: small; color: darkgreen">
<br>aliases: services</div> </td> </tr> <tr> <td colspan="1">  <b>service_negate</b>  <div style="font-size: small"> <span style="color: purple">boolean</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Negate policy service(s) defined in service value.</div> </td> </tr> <tr> <td colspan="1">  <b>src_addr</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>Specifies source address (or group) object name(s). Required when <em>state=present</em>.</div> </td> </tr> <tr> <td colspan="1">  <b>src_addr_negate</b>  <div style="font-size: small"> <span style="color: purple">boolean</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Negate source address param.</div> </td> </tr> <tr> <td colspan="1">  <b>src_intf</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> <b>Default:</b><br><div style="color: blue">"any"</div> </td> <td> <div>Specifies source interface name(s).</div> </td> </tr> <tr> <td colspan="1">  <b>state</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> <ul style="margin: 0; padding: 0">
<b>Choices:</b> <li><div style="color: blue">
<b>present</b> ←</div></li> <li>absent</li> </ul> </td> <td> <div>Specifies if policy <em>id</em> need to be added or deleted.</div> </td> </tr> <tr> <td colspan="1">  <b>timeout</b>  <div style="font-size: small"> <span style="color: purple">integer</span> </div> </td> <td> <b>Default:</b><br><div style="color: blue">60</div> </td> <td> <div>Timeout in seconds for connecting to the remote device.</div> </td> </tr> <tr> <td colspan="1">  <b>username</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Configures the username used to authenticate to the remote device. Required when <em>file_mode</em> is True.</div> </td> </tr> <tr> <td colspan="1">  <b>vdom</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td> </td> <td> <div>Specifies on which vdom to apply configuration</div> </td> </tr> <tr> <td colspan="1">  <b>webfilter_profile</b>  <div style="font-size: small"> <span style="color: purple">-</span> </div> </td> <td> </td> <td> <div>Specifies Webfilter profile name.</div> </td> </tr> </table> <br>  <h2 id="examples">Examples</h2> <pre data-language="yaml">- name: Allow external DNS call
  fortios_ipv4_policy:
    host: 192.168.0.254
    username: admin
    password: password
    id: 42
    src_addr: internal_network
    dst_addr: all
    service: dns
    nat: True
    state: present
    policy_action: accept
    logtraffic: disable

- name: Public Web
  fortios_ipv4_policy:
    host: 192.168.0.254
    username: admin
    password: password
    id: 42
    src_addr: all
    dst_addr: webservers
    services:
      - http
      - https
    state: present
    policy_action: accept

- name: Some Policy
  fortios_ipv4_policy:
    host: 192.168.0.254
    username: admin
    password: password
    id: 42
    comment: "no comment (created by ansible)"
    src_intf: vl1000
    src_addr:
      - some_serverA
      - some_serverB
    dst_intf:
      - vl2000
      - vl3000
    dst_addr: all
    services:
      - HTTP
      - HTTPS
    nat: True
    state: present
    policy_action: accept
    logtraffic: disable
  tags:
    - policy
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../reference_appendices/common_return_values#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="1">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="1">  <b>change_string</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>only if config changed</td> <td> <div>The commands executed by the module</div> <br> </td> </tr> <tr> <td colspan="1">  <b>firewall_address_config</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>always</td> <td> <div>full firewall addresses config string</div> <br> </td> </tr> <tr> <td colspan="1">  <b>msg_error_list</b>  <div style="font-size: small"> <span style="color: purple">string</span> </div> </td> <td>only when error</td> <td> <div>List of errors returned by CLI (use -vvv for better readability).</div> <br> </td> </tr> </table> <br><br>  <h2 id="status">Status</h2> <ul class="simple"> <li>This module is not guaranteed to have a backwards compatible interface. <em>[preview]</em>
</li> <li>This module is <a class="reference internal" href="../user_guide/modules_support#modules-support"><span class="std std-ref">maintained by the Ansible Community</span></a>. <em>[community]</em>
</li> </ul>  <h3 id="authors">Authors</h3> <ul class="simple"> <li>Benjamin Jolivot (@bjolivot)</li> </ul> <div class="admonition hint"> <p class="first admonition-title">Hint</p> <p class="last">If you notice any issues in this documentation, you can <a class="reference external" href="https://github.com/ansible/ansible/edit/devel/lib/ansible/modules/network/fortios/fortios_ipv4_policy.py?description=%23%23%23%23%23%20SUMMARY%0A%3C!---%20Your%20description%20here%20--%3E%0A%0A%0A%23%23%23%23%23%20ISSUE%20TYPE%0A-%20Docs%20Pull%20Request%0A%0A%2Blabel:%20docsite_pr">edit this document</a> to improve it.</p> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2018 Michael DeHaan<br>© 2018–2019 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/2.9/modules/fortios_ipv4_policy_module.html" class="_attribution-link">https://docs.ansible.com/ansible/2.9/modules/fortios_ipv4_policy_module.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
