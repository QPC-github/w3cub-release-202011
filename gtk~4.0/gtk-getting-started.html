
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Getting Started With GTK - GTK 4.0 - W3cubDocs</title>
  
  <meta name="description" content="GTK is a widget toolkit. Each user interface created by GTK consists of widgets. This is implemented in C using GObject, an object-oriented &hellip;">
  <meta name="keywords" content="getting, started, with, gtk, gtk~4.0">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/gtk~4.0/gtk-getting-started.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c7076d7cdaddc6969cb97911f9b488459d4bebca88d6f2525f2a12432f0bec8426c751ccfbc34920dda3867e50ab24698396bc4e548e788fc826f69a158d6856.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/gtk~4.0.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/gtk~4.0/" class="_nav-link" title="" style="margin-left:0;">GTK 4.0</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _gtk">
				
				
<h1>Getting Started with GTK</h1>
<div class="chapter">  <div class="toc"><dl class="toc"> <dt><span class="sect1"><a href="gtk-getting-started#id-1.2.3.5">Basics</a></span></dt> <dt><span class="sect1"><a href="ch01s02">Hello, World</a></span></dt> <dd><dl><dt><span class="sect2"><a href="ch01s02#gtk-getting-started-hello-world">Hello World in C</a></span></dt></dl></dd> <dt><span class="sect1"><a href="ch01s03">Packing</a></span></dt> <dd><dl><dt><span class="sect2"><a href="ch01s03#gtk-getting-started-grid-packing">Packing buttons</a></span></dt></dl></dd> <dt><span class="sect1"><a href="ch01s04">Custom Drawing</a></span></dt> <dd><dl><dt><span class="sect2"><a href="ch01s04#gtk-getting-started-drawing">Drawing in response to input</a></span></dt></dl></dd> <dt><span class="sect1"><a href="ch01s05">Building user interfaces</a></span></dt> <dd><dl><dt><span class="sect2"><a href="ch01s05#id-1.2.3.9.4">Packing buttons with GtkBuilder</a></span></dt></dl></dd> <dt><span class="sect1"><a href="ch01s06">Building applications</a></span></dt> <dd><dl> <dt><span class="sect2"><a href="ch01s06#id-1.2.3.10.7">A trivial application</a></span></dt> <dt><span class="sect2"><a href="ch01s06#id-1.2.3.10.8">Populating the window</a></span></dt> <dt><span class="sect2"><a href="ch01s06#id-1.2.3.10.9">Opening files</a></span></dt> <dt><span class="sect2"><a href="ch01s06#id-1.2.3.10.10">A menu</a></span></dt> <dt><span class="sect2"><a href="ch01s06#id-1.2.3.10.11">A preference dialog</a></span></dt> <dt><span class="sect2"><a href="ch01s06#id-1.2.3.10.12">Adding a search bar</a></span></dt> <dt><span class="sect2"><a href="ch01s06#id-1.2.3.10.13">Adding a side bar</a></span></dt> <dt><span class="sect2"><a href="ch01s06#id-1.2.3.10.14">Properties</a></span></dt> </dl></dd> </dl></div> <p> GTK is a <a class="ulink" href="http://en.wikipedia.org/wiki/Widget_toolkit" target="_top">widget toolkit</a>. Each user interface created by GTK consists of widgets. This is implemented in C using GObject, an object-oriented framework for C. Widgets are organized in a hierarchy. The window widget is the main container. The user interface is then built by adding buttons, drop-down menus, input fields, and other widgets to the window. If you are creating complex user interfaces it is recommended to use GtkBuilder and its GTK-specific markup description language, instead of assembling the interface manually. You can also use a visual user interface editor, like <a class="ulink" href="https://glade.gnome.org/" target="_top">glade</a>. </p> <p> GTK is event-driven. The toolkit listens for events such as a click on a button, and passes the event to your application. </p> <p> This chapter contains some tutorial information to get you started with GTK programming. It assumes that you have GTK, its dependencies and a C compiler installed and ready to use. If you need to build GTK itself first, refer to the Compiling the GTK libraries section in this reference. </p> <div class="sect1">  <p> To begin our introduction to GTK, we’ll start with a very simple application. This program will create an empty 200 × 200 pixel window. </p> <div class="figure"> <p class="title"><b>Figure 1. A window</b></p> <div class="figure-contents"><div class="mediaobject"><img alt="A window" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMoAAADpCAMAAABSg1gCAAAAGXRFWHRTb2Z0d2FyZQBnbm9tZS1zY3JlZW5zaG907wO/PgAAAJNQTFRFzs7O7e3tpqam9/f3t7e3paWlrKysp6enpqamrKys+vr68vLy9vb27u7u/v7+7+/v/f398fHx+/v7+fn59PT0////w8PDz8/PLjQ2v7+/yMjI5+fnx8fHy8vL1tbW09PT39/f4+Pj2traTVJUra6ut7i4VVpbaW1uNTo8O0FDRUtMf4OEen6AYGRmnqGhlJSVi46Pkxi7LwAAAAp0Uk5TAv///xpvcc3xZ6fNr0QAAAOfSURBVHja7dhtc6I6HIZxSnaPXeBUxah/xAeUgIAP7ff/dBu0arcts/Yc9gU71x2JIWYMvwkMouM4zo/eo9vpPPZ+OHW+9RZ63I0kbvx5kknvm6X0hk+DjiRx13H82Wsdb3qO88+iM5Ka0pjou9PTYWeSuEljlj3ncRwOulISd9OcR8cddGhVzLI5ruOGXaKsbKafllVN8TqTxEwX06ZYijfqTBKzWCxmDcVSRl2izC6xpGt9jqWoVrKVja1XsrvsSPp+yMeeryYx89fMlLecz5eeml165ifKqIWSydHO9SKVrddyGKky//WLT5T/OcuNMtGet1p5np68peg2FiV4KA5K6aqSpVJHMUqNB+2vytpMXhMZ5YWhp0x06Zm0RalPqljNJCrs4uRF/3zgsj2U5Ta2UpMXUvfUjdRO+SKRUru6OrXuPsGuB26MN37yzK2jpvhBG1FGTLAr9fYQrGRvOyS1m1TbSnb1h9XLvu4xcjC5HIPEjvFL+5GuUnX3JEl2PfAo8p7G3m1NWqQEsez9chcc5eFFFhdK+hTGkgdBLnEY1j15MRzFtqEOpR/JvtQT67o76yy6ZHq+00yvHZGlDHUrCbZlJpHeSFalgd2X9LydqqIKbo2gKrQ2Mtnnicz3xcP9cyRXykTZ68ReL2ryltJvh2IPLi19bU8YOer3lFyW50YqiY6LXOt+sS/dIN+Vuy9M8WZVfG1c12g/+hOUWGRv33Yi6w+Uo5T7bd1wJXcPkp3HxfpZauN/oTw/mygyz8+/UP7124k+SGTfMtnqelfS83aqlJuK1I3ATYs8C2z3oh63lIP+whTrt5f9rb5e9g++bqeEY2WnU+PwtDse+KftXKmBfTR/bQzsMO0HdpyvT9XdJc7mzTlROpN19vp7az77GEuJu0OJs0VzasqwM4mj5seV+nkl7ncn099Rhp0p68l01ZSOrYreRNNV898U/S5FxbdfKu9S3yI7lea/tztHaU59i/xLAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQoECBAgUKFChQ/jjlr8lPpqsvnQcd/zUAAAAASUVORK5CYII="></div></div> </div> <p> Create a new file with the following content named <code class="literal">example-0.c</code>. </p> <pre class="programlisting" data-language="c">#include &lt;gtk/gtk.h&gt;

static void
activate (GtkApplication* app,
          gpointer        user_data)
{
  GtkWidget *window;

  window = gtk_application_window_new (app);
  gtk_window_set_title (GTK_WINDOW (window), "Window");
  gtk_window_set_default_size (GTK_WINDOW (window), 200, 200);
  gtk_widget_show (window);
}

int
main (int    argc,
      char **argv)
{
  GtkApplication *app;
  int status;

  app = gtk_application_new ("org.gtk.example", G_APPLICATION_FLAGS_NONE);
  g_signal_connect (app, "activate", G_CALLBACK (activate), NULL);
  status = g_application_run (G_APPLICATION (app), argc, argv);
  g_object_unref (app);

  return status;
}
</pre> <p> You can compile the program above with GCC using: </p> <pre class="programlisting" data-language="c">gcc `pkg-config --cflags gtk4` -o example-0 example-0.c `pkg-config --libs gtk4`
</pre> <p> For more information on how to compile a GTK application, please refer to the <gtkdoclink href="gtk-compiling">Compiling GTK Applications</gtkdoclink> section in this reference. </p> <p> All GTK applications will, of course, include <code class="literal">gtk/gtk.h</code>, which declares functions, types and macros required by GTK applications. </p> <p> Even if GTK installs multiple header files, only the top-level <code class="literal">gtk/gtk.h</code> header can be directly included by third-party code. The compiler will abort with an error if any other header is directly included. </p> <p> In a GTK application, the purpose of the <code class="function">main()</code> function is to create a GtkApplication object and run it. In this example a GtkApplication pointer named <code class="literal">app</code> is declared and then initialized using <a href="gtkapplication#gtk-application-new"><code class="function">gtk_application_new()</code></a>. </p> <p> When creating a GtkApplication, you need to pick an application identifier (a name) and pass it to <a href="gtkapplication#gtk-application-new"><code class="function">gtk_application_new()</code></a> as parameter. For this example <code class="literal">org.gtk.example</code> is used. For choosing an identifier for your application, see <a class="ulink" href="https://wiki.gnome.org/HowDoI/ChooseApplicationID" target="_top">this guide</a>. Lastly, <a href="gtkapplication#gtk-application-new"><code class="function">gtk_application_new()</code></a> takes GApplicationFlags as input for your application, if your application would have special needs. </p> <p> Next the <a class="ulink" href="https://wiki.gnome.org/HowDoI/GtkApplication" target="_top">activate signal</a> is connected to the <code class="function">activate()</code> function above the <code class="function">main()</code> function. The <code class="literal">activate</code> signal will be emitted when your application is launched with <code class="function">g_application_run()</code> on the line below. The <code class="function">g_application_run()</code> call also takes as arguments the command line arguments (the <code class="literal">argc</code> count and the <code class="literal">argv</code> string array). Your application can override the command line handling, e.g. to open files passed on the commandline. </p> <p> Within <code class="function">g_application_run()</code> the activate signal is sent and we then proceed into the <code class="function">activate()</code> function of the application. This is where we construct our GTK window, so that a window is shown when the application is launched. The call to <a href="gtkapplicationwindow#gtk-application-window-new"><code class="function">gtk_application_window_new()</code></a> will create a new GtkWindow and store it inside the <code class="literal">window</code> pointer. The window will have a frame, a title bar, and window controls depending on the platform. </p> <p> A window title is set using <a href="gtkwindow#gtk-window-set-title"><code class="function">gtk_window_set_title()</code></a>. This function takes a GtkWindow* pointer and a string as input. As our <code class="literal">window</code> pointer is a GtkWidget pointer, we need to cast it to GtkWindow*. But instead of casting <code class="literal">window</code> via <code class="literal">(GtkWindow*)</code>, <code class="literal">window</code> can be cast using the macro <code class="literal"><code class="function">GTK_WINDOW()</code></code>. <code class="literal"><code class="function">GTK_WINDOW()</code></code> will check if the pointer is an instance of the GtkWindow class, before casting, and emit a warning if the check fails. More information about this convention can be found <a class="ulink" href="https://developer.gnome.org/gobject/stable/gtype-conventions.html" target="_top">here</a>. </p> <p> Finally the window size is set using <a href="gtkwindow#gtk-window-set-default-size"><code class="function">gtk_window_set_default_size()</code></a> and the window is then shown by GTK via <a href="gtkwidget#gtk-widget-show"><code class="function">gtk_widget_show()</code></a>. </p> <p> When you close the window, by for example pressing the X, the <code class="function">g_application_run()</code> call returns with a number which is saved inside an integer variable named <code class="literal">status</code>. Afterwards, the GtkApplication object is freed from memory with <code class="function">g_object_unref()</code>. Finally the status integer is returned and the application exits. </p> <p> While the program is running, GTK is receiving <span class="emphasis"><em>events</em></span>. These are typically input events caused by the user interacting with your program, but also things like messages from the window manager or other applications. GTK processes these and as a result, <span class="emphasis"><em>signals</em></span> may be emitted on your widgets. Connecting handlers for these signals is how you normally make your program do something in response to user input. </p> <p> The following example is slightly more complex, and tries to showcase some of the capabilities of GTK. </p> </div> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2020 The GNOME Project<br>Licensed under the GNU Lesser General Public License version 2.1 or later.<br>
    <a href="https://developer.gnome.org/gtk4/4.0/gtk-getting-started.html" class="_attribution-link">https://developer.gnome.org/gtk4/4.0/gtk-getting-started.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
