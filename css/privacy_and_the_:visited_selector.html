
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Privacy and the &#58;visited Selector - CSS - W3cubDocs</title>
  
  <meta name="description" content="Before about 2010, the CSS &#58;visited selector allowed websites to uncover a user&#39;s browsing history and figure out what sites the user had &hellip;">
  <meta name="keywords" content="privacy, and, visited, selector, css">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/css/privacy_and_the_:visited_selector.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/css.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/css/" class="_nav-link" title="" style="margin-left:0;">CSS</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<h1>Privacy and the :visited selector</h1>
<p>Before about 2010, the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS</a> <a href=":visited"><code>:visited</code></a> selector allowed websites to uncover a user's browsing history and figure out what sites the user had visited. This was done through <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/getComputedStyle"><code>window.getComputedStyle</code></a> and other techniques. This process was quick to execute, and made it possible not only to determine where the user had been on the web, but could also be used to guess a lot of information about the user's identity.</p> <p>To mitigate this problem, browsers have limited the amount of information that can be obtained from visited links.</p>
<h2 id="little_white_lies">Little white lies</h2>
<p>To preserve users' privacy, Firefox and other browsers will lie to web applications under certain circumstances:</p> <ul> <li>The <code>window.getComputedStyle</code> method, and similar functions such as <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/querySelector"><code>element.querySelector</code></a>, will always return values indicating that a user has never visited any of the links on a page.</li> <li>If you use a sibling selector such as <code>:visited + span</code>, the adjacent element (<code>span</code> in this example) will be styled as if the link were unvisited.</li> <li>In rare scenarios, if you're using nested link elements and the element being matched is different from the link whose presence in history is being tested, the element will be rendered as if the link were unvisited, as well.</li> </ul>
<h2 id="limits_to_visited_link_styles">Limits to visited link styles</h2>
<p>You can style visited links, but there are limits to which styles you can use. Only the following styles can be applied to visited links:</p> <ul> <li><a href="color"><code>color</code></a></li> <li><a href="background-color"><code>background-color</code></a></li> <li>
<a href="border-color"><code>border-color</code></a> (and its sub-properties)</li> <li><a href="column-rule-color"><code>column-rule-color</code></a></li> <li><a href="outline-color"><code>outline-color</code></a></li> <li>The color parts of the <code><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/fill">fill</a></code> and <code><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke">stroke</a></code> attributes</li> </ul> <p>In addition, even for the above styles, you won't be able to change the transparency between unvisited and visited links, as you otherwise would be able to using <a href="color_value#rgba()"><code>rgba()</code></a>, <a href="color_value#hsla()"><code>hsla()</code></a>, or the <a href="color_value#transparent_keyword"><code>transparent</code></a> keyword.</p> <p>Here is an example of how to use styles with the aforementioned restrictions:</p> <div class="code-example"><pre data-language="css"><span class="token selector">:link</span> <span class="token punctuation">{</span>
  <span class="token property">outline</span><span class="token punctuation">:</span> 1px dotted blue<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
  <span class="token comment">/* The default value of background-color is `transparent`. You need to
     specify a different value, otherwise changes on :visited won't apply. */</span>
<span class="token punctuation">}</span>

<span class="token selector">:visited</span> <span class="token punctuation">{</span>
  <span class="token property">outline-color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span>    <span class="token comment">/* Visited links have an orange outline */</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>  <span class="token comment">/* Visited links have a green background */</span>
  <span class="token property">color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span>            <span class="token comment">/* Visited links have yellow colored text */</span>
<span class="token punctuation">}</span>
</pre></div>
<h2 id="impact_on_web_developers">Impact on web developers</h2>
<p>Overall, these restrictions shouldn't affect web developers too significantly. They may, however, require the following changes to existing sites:</p> <ul> <li>Using background images to style links based on whether they've been visited will no longer work, since only colors can be used to style visited links.</li> <li>Colors that are otherwise transparent will fail to appear if styled in a <code>:visited</code> selector.</li> </ul>
<h2 id="see_also">See also</h2>
<ul> <li>
<a href="https://hacks.mozilla.org/2010/03/privacy-related-changes-coming-to-css-vistited/" rel=" noopener">privacy-related changes coming to CSS :visited</a> on Mozilla Hacks</li> <li>
<a href="https://blog.mozilla.com/security/2010/03/31/plugging-the-css-history-leak/" rel=" noopener">Plugging the CSS History Leak</a> on the Mozilla Security Blog</li> <li><a href="https://dbaron.org/mozilla/visited-privacy" rel=" noopener">Preventing attacks on a user's history through CSS :visited selectors</a></li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2021 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Privacy_and_the_:visited_selector" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/CSS/Privacy_and_the_:visited_selector</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
