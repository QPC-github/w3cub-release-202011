
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>CSS Containment - CSS - W3cubDocs</title>
  
  <meta name="description" content="Many webpages contain a number of sections which are independent of each other. For example a listing of article headlines and content, as in the &hellip;">
  <meta name="keywords" content="css, containment">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/css/css_containment.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/css.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/css/" class="_nav-link" title="" style="margin-left:0;">CSS</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<h1>CSS Containment</h1>
<br> The aim of the CSS Containment specification is to improve performance of web pages by allowing developers to isolate a subtree of the page from the rest of the page. If the browser knows that a part of the page is independent, rendering can be optimized and performance improved. The specification defines a single CSS property <a href="contain"><code>contain</code></a>. This document describes the basic aims of the specification. <h2 id="Basic_example">Basic example</h2> <p>Many webpages contain a number of sections which are independent of each other. For example a listing of article headlines and content, as in the mark-up below.</p> <pre data-language="html">&lt;h1&gt;My blog&lt;/h1&gt;
&lt;article&gt;
  &lt;h2&gt;Heading of a nice article&lt;/h2&gt;
  &lt;p&gt;Content here.&lt;/p&gt;
&lt;/article&gt;
&lt;article&gt;
  &lt;h2&gt;Another heading of another article&lt;/h2&gt;
  &lt;p&gt;More content here.&lt;/p&gt;
&lt;/article&gt;</pre> <p>Each article has the <a href="contain"><code>contain</code></a> property with a value of <code>content</code> applied in the CSS.</p> <pre data-language="css">article {
  contain: content;
}</pre> <p>Each article is independent of the other articles on the page, and so they have been given <code>contain: content</code> in order to indicate to the browser that this is the case. The browser can then use this information to make decisions about how to render the content. For example, it might not render articles that are outside the viewable area.</p> <p>If we give each <code>&lt;article&gt;</code> the <code>contain</code> property with a value of <code>content</code>, when new elements are inserted the browser understands it does not need to relayout or repaint any area outside of the containing element's subtree, although if the <code>&lt;article&gt;</code> is styled such that its size depends on its contents (e.g. with <code>height: auto</code>), then the browser may need to account for its size changing).</p> <p>We have told it by way of the <code>contain</code> property that each article is independent.</p> <p>The <code>content</code> value is shorthand for <code>contain: layout paint</code>. It tells the browser that the internal layout of the element is totally separate from the rest of the page, and that everything about the element is painted inside its bounds. Nothing can visibly overflow.</p> <p>This information is something that is usually known, and in fact quite obvious, to the web developer creating the page. However browsers cannot guess at your intent and cannot assume that an article will be entirely self-contained. Therefore this property gives you a nice way to explain to the browser this fact, and allow it to make performance optimizations based on that knowledge.</p> <h2 id="Key_concepts_and_terminology">Key concepts and terminology</h2> <p>This specification defines only one property, the <a href="contain"><code>contain</code></a> property. The values for this property indicate the type of containment that you want to apply to that element.</p> <h3 id="Layout_containment">Layout containment</h3> <pre data-language="css">article {
  contain: layout;
}</pre> <p>Layout is normally scoped to the entire document, which means that if you move one element the entire document needs to be treated as if things could have moved anywhere. By using <code>contain: layout</code> you can tell the browser it only needs to check this element — everything inside the element is scoped to that element and does not affect the rest of the page, and the containing box establishes an independent formatting context.</p> <p>In addition:</p> <ul> <li>
<code>float</code> layout will be performed independently.</li> <li>Margins won't collapse across a layout containment boundary</li> <li>The layout container will be a containing block for <code>absolute</code>/<code>fixed</code> position descendants.</li> <li>The containing box creates a stacking context, therefore <a href="z-index"><code>z-index</code></a> can be used.</li> </ul> <h3 id="Paint_containment">Paint containment</h3> <pre data-language="css">article {
  contain: paint;
}</pre> <p>Paint containment essentially clips the box to the padding edge of the principal box. There can be no visible overflow. The same things are true for <code>paint</code> containment as <code>layout</code> containment (see above).</p> <p>Another advantage is that if the containing box is offscreen, the browser does not need to paint its contained elements — these must also be offscreen as they are contained completely by that box.</p> <h3 id="Size_containment">Size containment</h3> <pre data-language="css">article {
  contain: size;
}</pre> <p>Size containment does not offer much in the way of performance optimizations when used on its own. However, it means that the size of the element's children cannot affect the size of the element itself — its size is computed as if it had no children.</p> <p>If you turn on <code>contain: size</code> you need to also specify the size of the element you have applied this to. It will end up being zero-sized in most cases, if you don't manually give it a size.</p> <h3 id="Style_containment">Style containment</h3> <pre data-language="css">article {
  contain: style;
}</pre> <p>Despite the name, style containment does not provide scoped styles such as you would get with the <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM">Shadow DOM</a>. The main use case is to prevent situations where a <a href="css_lists_and_counters/using_css_counters">CSS Counter</a> could be changed in an element, which could then affect the rest of the tree. </p> <p>Using <code>contain: style</code> would ensure that the <a href="counter-increment"><code>counter-increment</code></a> and <a href="counter-set"><code>counter-set</code></a> properties created new counters scoped to that subtree only.</p> <div class="blockIndicator note"> <p><strong>Note</strong>: <code>style</code> containment is "at-risk" in the spec and may not be supported everywhere (it's not currently supported in Firefox).</p> </div> <h3 id="Special_values">Special values</h3> <p>There are two special values of contain:</p> <ul> <li><code>content</code></li> <li><code>strict</code></li> </ul> <p>We encountered the first in the example above. Using <code>contain: content</code> turns on <code>layout</code> and <code>paint</code> containment. The specification describes this value as being "reasonably safe to apply widely". It does not apply <code>size</code> containment, so you would not be at risk of a box ending up zero-sized due to a reliance on the size of its children.</p> <p>To gain as much containment as possible use <code>contain: strict</code>, which behaves the same as <code>contain: size layout paint</code>, or perhaps the following to also add <code>style</code> containment in browsers that support it:</p> <pre data-language="css">contain: strict;
contain: strict style;</pre> <h2 id="Reference">Reference</h2> <h3 id="CSS_Properties">CSS Properties</h3> <ul> <li><a href="contain"><code>contain</code></a></li> <li><a href="content-visibility"><code>content-visibility</code></a></li> </ul> <h2 id="Specifications">Specifications</h2> <div class="_table"><table class="standard-table"> <thead> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> </thead> <tbody> <tr> <td><a href="https://drafts.csswg.org/css-contain-2/#contain-property" hreflang="en">CSS Containment Module Level 2<br><small>The definition of 'contain' in that specification.</small></a></td> <td><span class="spec-WD">Working Draft</span></td> <td>Added <code>style</code> keyword</td> </tr> </tbody> </table></div> <h2 id="Browser_compatibility">Browser compatibility<a class="bc-github-link" href="https://github.com/mdn/browser-compat-data">Update compatibility data on GitHub</a>
</h2>  <div class="_table">
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6"><span>Desktop</span></th>
</tr>
<tr class="bc-browsers">
<th></th>
<th><span class="bc-head-txt-label bc-head-icon-chrome">Chrome</span></th>
<th><span class="bc-head-txt-label bc-head-icon-edge">Edge</span></th>
<th><span class="bc-head-txt-label bc-head-icon-firefox">Firefox</span></th>
<th><span class="bc-head-txt-label bc-head-icon-ie">Internet Explorer</span></th>
<th><span class="bc-head-txt-label bc-head-icon-opera">Opera</span></th>
<th><span class="bc-head-txt-label bc-head-icon-safari">Safari</span></th>
</tr>
</thead>
<tbody><tr>
<th scope="row"><a href="contain"><code>contain</code></a></th>
<td class="bc-supports-yes"> 52</td>
<td class="bc-supports-yes"> 79</td>
<td class="bc-supports-yes bc-has-history"> 69
<section class="bc-history" id="sect1"><dl>
<dt class="bc-supports-yes bc-supports"> 69
</dt>
<dd> Firefox does not support the <code>style</code> value.</dd>
<dt class="bc-supports-yes bc-supports"> 41<div class="bc-icons">Disabled </div>
</dt>
<dd>Disabled From version 41: this feature is behind the <code>layout.css.contain.enabled</code> preference (needs to be set to <code>true</code>). To change preferences in Firefox, visit about:config.</dd>
</dl></section>
</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-yes"> 40</td>
<td class="bc-supports-no"> No</td>
</tr></tbody>
</table>
<table class="bc-table bc-table-web">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6"><span>Mobile</span></th>
</tr>
<tr class="bc-browsers">
<th></th>
<th><span class="bc-head-txt-label bc-head-icon-webview_android">Android webview</span></th>
<th><span class="bc-head-txt-label bc-head-icon-chrome_android">Chrome for Android</span></th>
<th><span class="bc-head-txt-label bc-head-icon-firefox_android">Firefox for Android</span></th>
<th><span class="bc-head-txt-label bc-head-icon-opera_android">Opera for Android</span></th>
<th><span class="bc-head-txt-label bc-head-icon-safari_ios">Safari on iOS</span></th>
<th><span class="bc-head-txt-label bc-head-icon-samsunginternet_android">Samsung Internet</span></th>
</tr>
</thead>
<tbody><tr>
<th scope="row"><a href="contain"><code>contain</code></a></th>
<td class="bc-supports-yes"> 52</td>
<td class="bc-supports-yes"> 52</td>
<td class="bc-supports-yes bc-has-history"> 41<div class="bc-icons"> Disabled </div>
<section class="bc-history" id="sect2"><dl>
<dt class="bc-supports-yes bc-supports"> 41<div class="bc-icons"> Disabled </div>
</dt>
<dd> Firefox does not support the <code>style</code> value.</dd>
<dd>Disabled From version 41: this feature is behind the <code>layout.css.contain.enabled</code> preference (needs to be set to <code>true</code>). To change preferences in Firefox, visit about:config.</dd>
</dl></section>
</td>
<td class="bc-supports-yes"> 41</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-yes"> 6.0</td>
</tr></tbody>
</table>
</div>  <p>No compatibility data found. Please contribute data for "css.properties.content-visibility" (depth: 1) to the <a href="https://github.com/mdn/browser-compat-data">MDN compatibility data repository</a>.</p> <h2 id="External_resources">External resources</h2> <ul> <li><a href="https://blogs.igalia.com/mrego/2019/01/11/an-introduction-to-css-containment/">An Introduction to CSS Containment</a></li> <li><a href="https://dev.opera.com/articles/css-will-change-property">Everything You Need to Know About the CSS <code>will-change</code> Property</a></li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Containment%24edit" class="_attribution-link">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2020 Mozilla and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Containment" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Containment</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
