
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Literals&#58; String - Crystal - W3cubDocs</title>
  
  <meta name="description" content=" A String represents an immutable sequence of UTF-8 characters. ">
  <meta name="keywords" content="stringpercent, string, literals, crystal">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/crystal/docs/syntax_and_semantics/literals/string.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/crystal.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/crystal/" class="_nav-link" title="" style="margin-left:0;">Crystal</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _crystal">
				
				
<h1 id="string">String</h1> <p>A <a href="http://crystal-lang.org/api/String.html" target="_blank">String</a> represents an immutable sequence of UTF-8 characters.</p> <p>A String is typically created with a string literal enclosing UTF-8 characters in double quotes (<code>"</code>):</p> <pre data-language="crystal">"hello world"
</pre> <h2 id="escaping">Escaping</h2> <p>A backslash denotes a special character inside a string, which can either be a named escape sequence or a numerical representation of a unicode codepoint.</p> <p>Available escape sequences:</p> <pre data-language="crystal">"\""                  # double quote
"\\"                  # backslash
"\a"                  # alert
"\b"                  # backspace
"\e"                  # escape
"\f"                  # form feed
"\n"                  # newline
"\r"                  # carriage return
"\t"                  # tab
"\v"                  # vertical tab
"\888"                # octal ASCII character
"\xFF"                # hexadecimal ASCII character
"\uFFFF"              # hexadecimal unicode character
"\u{0}".."\u{10FFFF}" # hexadecimal unicode character
</pre> <p>Any other character following a backslash is interpreted as the character itself.</p> <p>A backslash followed by at most three digits ranging from 0 to 7 denotes a code point written in octal:</p> <pre data-language="crystal">"\101" # =&gt; "A"
"\123" # =&gt; "S"
"\12"  # =&gt; "\n"
"\1"   # string with one character with code point 1
</pre> <p>A backslash followed by a <code>u</code> denotes a unicode codepoint. It can either be followed by exactly four hexadecimal characters representing the unicode bytes (<code>\u0000</code> to <code>\uFFFF</code>) or a number of one to six hexadecimal characters wrapped in curly braces (<code>\u{0}</code> to <code>\u{10FFFF}</code>.</p> <pre data-language="crystal">"\u0041"    # =&gt; "A"
"\u{41}"    # =&gt; "A"
"\u{1F52E}" # =&gt; "&amp;#x1F52E;"
</pre> <p>One curly brace can contain multiple unicode characters each separated by a whitespace.</p> <pre data-language="crystal">"\u{48 45 4C 4C 4F}" # =&gt; "HELLO"
</pre> <h2 id="interpolation">Interpolation</h2> <p>A string literal with interpolation allows to embed expressions into the string which will be expanded at runtime.</p> <pre data-language="crystal">a = 1
b = 2
"sum: #{a} + #{b} = #{a + b}" # =&gt; "sum: 1 + 2 = 3"
</pre> <p>String interpolation is also possible with <a href="https://crystal-lang.org/api/String.html#%25%28other%29-instance-method" target="_blank">String#%</a>.</p> <p>Any expression may be placed inside the interpolated section, but itâ€™s best to keep the expression small for readability.</p> <p>Interpolation can be disabled by escaping the <code>#</code> character with a backslash or by using a non-interpolating string literal like <code>%q()</code>.</p> <pre data-language="crystal">"\#{a + b}"  # =&gt; "#{a + b}"
%q(#{a + b}) # =&gt; "#{a + b}"
</pre> <p>Interpolation is implemented using a <a href="http://crystal-lang.org/api/String/Builder.html" target="_blank">String::Builder</a> and invoking <code>Object#to_s(IO)</code> on each expression enclosed by <code>#{...}</code>. The expression <code>"sum: #{a} + #{b} = #{a + b}"</code> is equivalent to:</p> <pre data-language="crystal">String.build do |io|
  io &lt;&lt; "sum: "
  io &lt;&lt; a
  io &lt;&lt; " + "
  io &lt;&lt; b
  io &lt;&lt; " = "
  io &lt;&lt; a + b
end
</pre> <h1 id="percent-string-literals">Percent string literals</h1> <p>Besides double-quotes strings, Crystal also supports string literals indicated by a percent sign (<code>%</code>) and a pair of delimiters. Valid delimiters are parentheses <code>()</code>, square brackets <code>[]</code>, curly braces <code>{}</code>, angles <code>&lt;&gt;</code> and pipes <code>||</code>. Except for the pipes, all delimiters can be nested meaning a start delimiter inside the string escapes the next end delimiter.</p> <p>These are handy to write strings that include double quotes which would have to be escaped in double-quoted strings.</p> <pre data-language="crystal">%(hello ("world")) # =&gt; "hello (\"world\")"
%[hello ["world"]] # =&gt; "hello [\"world\"]"
%{hello {"world"}} # =&gt; "hello {\"world\"}"
%&lt;hello &lt;"world"&gt;&gt; # =&gt; "hello &lt;\"world\"&gt;"
%|hello "world"|   # =&gt; "hello \"world\""
</pre> <p>A literal denoted by <code>%q</code> does not apply interpolation nor escapes while <code>%Q</code> has the same meaning as <code>%</code>.</p> <pre data-language="crystal">name = "world"
%q(hello \n #{name}) # =&gt; "hello \\n \#{name}"
%Q(hello \n #{name}) # =&gt; "hello \n world"
</pre> <h2 id="percent-string-array-literal">Percent string array literal</h2> <p>Besides the single string literal, there is also a percent literal to create an <a href="https://crystal-lang.org/api/Array.html" target="_blank">Array</a> of strings. It is indicated by <code>%w</code> and a pair of delimiters. Valid delimiters are as same as <a href="#percent-string-literals">percent string literals</a>.</p> <pre data-language="crystal">%w(foo bar baz)  # =&gt; ["foo", "bar", "baz"]
%w(foo\nbar baz) # =&gt; ["foo\\nbar", "baz"]
%w(foo(bar) baz) # =&gt; ["foo(bar)", "baz"]
</pre> <p>Note that literal denoted by <code>%w</code> does not apply interpolation nor escapes expect spaces. Since strings are separated by a single space character () which must be escaped to use it as a part of a string.</p> <pre data-language="crystal">%w(foo\ bar baz) # =&gt; ["foo bar", "baz"]
</pre> <h2 id="multiline-strings">Multiline strings</h2> <p>Any string literal can span multiple lines:</p> <pre data-language="crystal">"hello
      world" # =&gt; "hello\n      world"
</pre> <p>Note that in the above example trailing and leading spaces, as well as newlines, end up in the resulting string. To avoid this a string can be split into multiple lines by joining multiple literals with a backslash:</p> <pre data-language="crystal">"hello " \
"world, " \
"no newlines" # same as "hello world, no newlines"
</pre> <p>Alternatively, a backslash followed by a newline can be inserted inside the string literal:</p> <pre data-language="crystal">"hello \
     world, \
     no newlines" # same as "hello world, no newlines"
</pre> <p>In this case, leading whitespace is not included in the resulting string.</p> <h2 id="heredoc">Heredoc</h2> <p>A <em>here document</em> or <em>heredoc</em> can be useful for writing strings spanning over multiple lines. A heredoc is denoted by <code>&lt;&lt;-</code> followed by an heredoc identifier which is an alphanumeric sequence starting with a letter (and may include underscores). The heredoc starts in the following line and ends with the next line that starts with the heredoc identifier (ignoring leading whitespace) and is either followed by a newline or a non-alphanumeric character.</p> <pre data-language="crystal">&lt;&lt;-XML
&lt;parent&gt;
  &lt;child /&gt;
&lt;/parent&gt;
XML
</pre> <p>Leading whitespace is removed from the heredoc contents according to the number of whitespace in the last line before the heredoc identifier.</p> <pre data-language="crystal">&lt;&lt;-STRING # =&gt; "Hello\n  world"
  Hello
    world
  STRING

&lt;&lt;-STRING # =&gt; "  Hello\n    world"
    Hello
      world
  STRING
</pre> <p>It is possible to directly call methods on heredoc string literals, or use them inside parentheses:</p> <pre data-language="crystal">&lt;&lt;-SOME.upcase # =&gt; "HELLO"
hello
SOME

def upcase(string)
  string.upcase
end

upcase(&lt;&lt;-SOME) # =&gt; "HELLO"
  hello
  SOME
</pre> <p>A heredoc generally allows interpolation and escapes.</p> <p>To denote a heredoc without interpolation or escapes, the opening heredoc identifier is enclosed in single quotes:</p> <pre data-language="crystal">&lt;&lt;-'HERE' # =&gt; "hello \\n \#{world}"
  hello \n #{world}
  HERE
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    To the extent possible under law, the persons who contributed to this workhave waived<br>all copyright and related or neighboring rights to this workby associating CC0 with it.<br>
    <a href="https://crystal-lang.org/docs/syntax_and_semantics/literals/string.html" class="_attribution-link">https://crystal-lang.org/docs/syntax_and_semantics/literals/string.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
