
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Crypto&#58;&#58;Bcrypt - Crystal - W3cubDocs</title>
  
  <meta name="description" content=" Pure Crystal implementation of the Bcrypt algorithm by Niels Provos and David Mazières, as presented at USENIX in 1999. ">
  <meta name="keywords" content="class, crypto, bcrypt, crystal">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/crystal/api/0.35.1/crypto/bcrypt.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/crystal.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/crystal/" class="_nav-link" title="" style="margin-left:0;">Crystal</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _crystal">
				
				
<h1 class="type-name"> class Crypto::Bcrypt </h1> <ul class="superclass-hierarchy">
<li class="superclass"><a href="bcrypt">Crypto::Bcrypt</a></li>
<li class="superclass"><a href="../reference">Reference</a></li>
<li class="superclass"><a href="../object">Object</a></li>
</ul> <h2>  Overview </h2> <p>Pure Crystal implementation of the Bcrypt algorithm by Niels Provos and David Mazières, as <a href="https://www.usenix.org/legacy/events/usenix99/provos/provos_html/index.html" target="_blank">presented at USENIX in 1999</a>.</p> <p>The algorithm has a maximum password length limit of 71 characters (see <a href="https://security.stackexchange.com/questions/39849/does-bcrypt-have-a-maximum-password-length#answer-39851" target="_blank">this comment</a> on stackoverflow).</p> <p>Refer to <code><a href="bcrypt/password">Crypto::Bcrypt::Password</a></code> for a higher level interface.</p> <p>About the Cost</p> <p>Bcrypt, like the PBKDF2 or scrypt ciphers, are designed to be slow, so generating rainbow tables or cracking passwords is nearly impossible. Yet, computers are always getting faster and faster, so the actual cost must be incremented every once in a while. Always use the maximum cost that is tolerable, performance wise, for your application. Be sure to test and select this based on your server, not your home computer.</p> <p>This implementation of Bcrypt is currently 50% slower than pure C solutions, so keep this in mind when selecting your cost. It may be wise to test with Ruby's <a href="https://github.com/codahale/bcrypt-ruby" target="_blank">bcrypt gem</a> which is a binding to OpenBSD's implementation.</p> <p>Last but not least: beware of denial of services! Always protect your application using an external strategy (eg: rate limiting), otherwise endpoints that verifies bcrypt hashes will be an easy target.</p> <h2>  Defined in: </h2> <a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/crypto/bcrypt.cr#L32" target="_blank"> crypto/bcrypt.cr </a> <br> <h2>  Constant Summary </h2> <dl> <dt class="entry-const" id="COST_RANGE"> <strong>COST_RANGE</strong> = <code>4..31</code> </dt> <dt class="entry-const" id="DEFAULT_COST"> <strong>DEFAULT_COST</strong> = <code>11</code> </dt> <dt class="entry-const" id="PASSWORD_RANGE"> <strong>PASSWORD_RANGE</strong> = <code>1..72</code> </dt> <dt class="entry-const" id="SALT_SIZE"> <strong>SALT_SIZE</strong> = <code>16</code> </dt> </dl> <h2>  Constructors </h2> <ul class="list-summary"> <li class="entry-summary"> <a href="#new(password:String,salt:String,cost=DEFAULT_COST)-class-method" class="signature"><strong>.new</strong>(password : String, salt : String, cost = DEFAULT_COST)</a> </li> <li class="entry-summary"> <a href="#new(password:Bytes,salt:Bytes,cost=DEFAULT_COST)-class-method" class="signature"><strong>.new</strong>(password : Bytes, salt : Bytes, cost = DEFAULT_COST)</a> </li> </ul> <h2>  Class Method Summary </h2> <ul class="list-summary"> <li class="entry-summary"> <a href="#hash_secret(password,cost=DEFAULT_COST):String-class-method" class="signature"><strong>.hash_secret</strong>(password, cost = DEFAULT_COST) : String</a> </li> </ul> <h2>  Instance Method Summary </h2> <ul class="list-summary"> <li class="entry-summary"> <a href="#cost:Int32-instance-method" class="signature"><strong>#cost</strong> : Int32</a> </li> <li class="entry-summary"> <a href="#digest-instance-method" class="signature"><strong>#digest</strong></a> </li> <li class="entry-summary"> <a href="#inspect(io:IO):Nil-instance-method" class="signature"><strong>#inspect</strong>(io : IO) : Nil</a> <div class="summary"><p>Appends a String representation of this object which includes its class name, its object address and the values of all instance variables.</p></div> </li> <li class="entry-summary"> <a href="#password:Bytes-instance-method" class="signature"><strong>#password</strong> : Bytes</a> </li> <li class="entry-summary"> <a href="#salt:Bytes-instance-method" class="signature"><strong>#salt</strong> : Bytes</a> </li> <li class="entry-summary"> <a href="#to_s(io:IO):Nil-instance-method" class="signature"><strong>#to_s</strong>(io : IO) : Nil</a> <div class="summary"><p>Appends a short String representation of this object which includes its class name and its object address.</p></div> </li> <li class="entry-summary"> <a href="#to_s-instance-method" class="signature"><strong>#to_s</strong></a> <div class="summary"><p>Returns a string representation of this object.</p></div> </li> <li class="entry-summary"> <a href="#to_slice(*args,**options)-instance-method" class="signature"><strong>#to_slice</strong>(*args, **options)</a> </li> <li class="entry-summary"> <a href="#to_slice(*args,**options,&amp;)-instance-method" class="signature"><strong>#to_slice</strong>(*args, **options, &amp;)</a> </li> </ul> <div class="methods-inherited"> <h3>Instance methods inherited from class <code><a href="../reference">Reference</a></code>
</h3> <a href="../reference#==(other:self)-instance-method" class="tooltip"> ==(other : self)<br>==(other : JSON::Any)<br>==(other : YAML::Any)<br>==(other) ==</a>, <a href="../reference#dup-instance-method" class="tooltip"> dup dup</a>, <a href="../reference#hash(hasher)-instance-method" class="tooltip"> hash(hasher) hash</a>, <a href="../reference#inspect(io:IO):Nil-instance-method" class="tooltip"> inspect(io : IO) : Nil inspect</a>, <a href="../reference#object_id:UInt64-instance-method" class="tooltip"> object_id : UInt64 object_id</a>, <a href="../reference#pretty_print(pp):Nil-instance-method" class="tooltip"> pretty_print(pp) : Nil pretty_print</a>, <a href="../reference#same?(other:Reference)-instance-method" class="tooltip"> same?(other : Reference)<br>same?(other : Nil) same?</a>, <a href="../reference#to_s(io:IO):Nil-instance-method" class="tooltip"> to_s(io : IO) : Nil to_s</a> <h3>Constructor methods inherited from class <code><a href="../reference">Reference</a></code>
</h3> <a href="../reference#new-class-method" class="tooltip"> new new</a> <h3>Instance methods inherited from class <code><a href="../object">Object</a></code>
</h3> <a href="../object#!:Bool-instance-method" class="tooltip"> ! : Bool !</a>, <a href="../object#!=(other)-instance-method" class="tooltip"> !=(other) !=</a>, <a href="../object#!~(other)-instance-method" class="tooltip"> !~(other) !~</a>, <a href="../object#==(other)-instance-method" class="tooltip"> ==(other) ==</a>, <a href="../object#===(other:JSON::Any)-instance-method" class="tooltip"> ===(other : JSON::Any)<br>===(other : YAML::Any)<br>===(other) ===</a>, <a href="../object#=~(other)-instance-method" class="tooltip"> =~(other) =~</a>, <a href="../object#as(type:Class)-instance-method" class="tooltip"> as(type : Class) as</a>, <a href="../object#as?(type:Class)-instance-method" class="tooltip"> as?(type : Class) as?</a>, <a href="../object#class-instance-method" class="tooltip"> class class</a>, <a href="../object#dup-instance-method" class="tooltip"> dup dup</a>, <a href="../object#hash(hasher)-instance-method" class="tooltip"> hash(hasher)<br>hash hash</a>, <a href="../object#in?(*values:Object):Bool-instance-method" class="tooltip"> in?(*values : Object) : Bool<br>in?(collection) : Bool in?</a>, <a href="../object#inspect:String-instance-method" class="tooltip"> inspect : String<br>inspect(io : IO) : Nil inspect</a>, <a href="../object#is_a?(type:Class):Bool-instance-method" class="tooltip"> is_a?(type : Class) : Bool is_a?</a>, <a href="../object#itself-instance-method" class="tooltip"> itself itself</a>, <a href="../object#nil?:Bool-instance-method" class="tooltip"> nil? : Bool nil?</a>, <a href="../object#not_nil!-instance-method" class="tooltip"> not_nil! not_nil!</a>, <a href="#" class="tooltip"> pretty_inspect(width = 79, newline = "\n", indent = 0) : String pretty_inspect</a>, <a href="../object#pretty_print(pp:PrettyPrint):Nil-instance-method" class="tooltip"> pretty_print(pp : PrettyPrint) : Nil pretty_print</a>, <a href="../object#responds_to?(name:Symbol):Bool-instance-method" class="tooltip"> responds_to?(name : Symbol) : Bool responds_to?</a>, <a href="../object#tap(&amp;)-instance-method" class="tooltip"> tap(&amp;) tap</a>, <a href="../object#to_json(io:IO)-instance-method" class="tooltip"> to_json(io : IO)<br>to_json to_json</a>, <a href="#" class="tooltip"> to_pretty_json(io : IO, indent : String = " ")<br>to_pretty_json(indent : String = " ") to_pretty_json</a>, <a href="../object#to_s:String-instance-method" class="tooltip"> to_s : String<br>to_s(io : IO) : Nil to_s</a>, <a href="../object#to_yaml(io:IO)-instance-method" class="tooltip"> to_yaml(io : IO)<br>to_yaml to_yaml</a>, <a href="../object#try(&amp;)-instance-method" class="tooltip"> try(&amp;) try</a>, <a href="../object#unsafe_as(type:T.class)forallT-instance-method" class="tooltip"> unsafe_as(type : T.class) forall T unsafe_as</a> <h3>Class methods inherited from class <code><a href="../object">Object</a></code>
</h3> <a href="../object#from_json(string_or_io,root:String)-class-method" class="tooltip"> from_json(string_or_io, root : String)<br>from_json(string_or_io) from_json</a>, <a href="../object#from_yaml(string_or_io:String%7CIO)-class-method" class="tooltip"> from_yaml(string_or_io : String | IO) from_yaml</a> </div> <h2>  Constructor Detail </h2> <div class="entry-detail" id="new(password:String,salt:String,cost=DEFAULT_COST)-class-method"> <h3 class="signature">def self.<strong>new</strong>(password : <a href="../string">String</a>, salt : <a href="../string">String</a>, cost = DEFAULT_COST)<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/crypto/bcrypt.cr#L57" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="new(password:Bytes,salt:Bytes,cost=DEFAULT_COST)-class-method"> <h3 class="signature">def self.<strong>new</strong>(password : <a href="../bytes">Bytes</a>, salt : <a href="../bytes">Bytes</a>, cost = DEFAULT_COST)<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/crypto/bcrypt.cr#L68" target="_blank" class="view-source">Source</a>
</h3>   </div> <h2>  Class Method Detail </h2> <div class="entry-detail" id="hash_secret(password,cost=DEFAULT_COST):String-class-method"> <h3 class="signature">def self.<strong>hash_secret</strong>(password, cost = DEFAULT_COST) : <a href="../string">String</a><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/crypto/bcrypt.cr#L50" target="_blank" class="view-source">Source</a>
</h3>   </div> <h2>  Instance Method Detail </h2> <div class="entry-detail" id="cost:Int32-instance-method"> <h3 class="signature">def <strong>cost</strong> : <a href="../int32">Int32</a><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/crypto/bcrypt.cr#L66" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="digest-instance-method"> <h3 class="signature">def <strong>digest</strong><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/crypto/bcrypt.cr#L76" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="inspect(io:IO):Nil-instance-method"> <h3 class="signature">def <strong>inspect</strong>(io : <a href="../io">IO</a>) : <a href="../nil">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/crypto/bcrypt.cr#L94" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <div class="doc-inherited"> Description copied from class <a href="../reference">Reference</a> </div> <p>Appends a String representation of this object which includes its class name, its object address and the values of all instance variables.</p> <pre data-language="crystal">class Person
  def initialize(@name : String, @age : Int32)
  end
end

Person.new("John", 32).inspect # =&gt; #&lt;Person:0x10fd31f20 @name="John", @age=32&gt;</pre> </div>   </div> <div class="entry-detail" id="password:Bytes-instance-method"> <h3 class="signature">def <strong>password</strong> : <a href="../bytes">Bytes</a><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/crypto/bcrypt.cr#L64" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="salt:Bytes-instance-method"> <h3 class="signature">def <strong>salt</strong> : <a href="../bytes">Bytes</a><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/crypto/bcrypt.cr#L65" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="to_s(io:IO):Nil-instance-method"> <h3 class="signature">def <strong>to_s</strong>(io : <a href="../io">IO</a>) : <a href="../nil">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/crypto/bcrypt.cr#L90" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <div class="doc-inherited"> Description copied from class <a href="../reference">Reference</a> </div> <p>Appends a short String representation of this object which includes its class name and its object address.</p> <pre data-language="crystal">class Person
  def initialize(@name : String, @age : Int32)
  end
end

Person.new("John", 32).to_s # =&gt; #&lt;Person:0x10a199f20&gt;</pre> </div>   </div> <div class="entry-detail" id="to_s-instance-method"> <h3 class="signature">def <strong>to_s</strong><a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/crypto/bcrypt.cr#L82" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <div class="doc-inherited"> Description copied from class <a href="../object">Object</a> </div> <p>Returns a string representation of this object.</p> <p>Descendants must usually <strong>not</strong> override this method. Instead, they must override <code><a href="bcrypt#to_s(io:IO):Nil-instance-method">#to_s(io)</a></code>, which must append to the given IO object.</p> </div>   </div> <div class="entry-detail" id="to_slice(*args,**options)-instance-method"> <h3 class="signature">def <strong>to_slice</strong>(*args, **options)<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/crypto/bcrypt.cr#L98" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="to_slice(*args,**options,&amp;)-instance-method"> <h3 class="signature">def <strong>to_slice</strong>(*args, **options, &amp;)<a href="https://github.com/crystal-lang/crystal/blob/5999ae29b/src/crypto/bcrypt.cr#L98" target="_blank" class="view-source">Source</a>
</h3>   </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2020 Manas Technology Solutions.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://crystal-lang.org/api/0.35.1/Crypto/Bcrypt.html" class="_attribution-link">https://crystal-lang.org/api/0.35.1/Crypto/Bcrypt.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
