
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Filter - R - W3cubDocs</title>
  
  <meta name="description" content=" Applies linear filtering to a univariate time series or to each series separately of a multivariate time series. ">
  <meta name="keywords" content="filter, r">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/r/library/stats/html/filter.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/r.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/r/" class="_nav-link" title="" style="margin-left:0;">R</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h2>
<code>filter</code> Linear Filtering on a Time Series</h2> <h3>Description</h3> <p>Applies linear filtering to a univariate time series or to each series separately of a multivariate time series. </p> <h3>Usage</h3> <pre data-language="r">
filter(x, filter, method = c("convolution", "recursive"),
       sides = 2, circular = FALSE, init)
</pre> <h3>Arguments</h3> <table summary="R argblock"> <tr valign="top">
<td><code>x</code></td> <td> <p>a univariate or multivariate time series.</p> </td>
</tr> <tr valign="top">
<td><code>filter</code></td> <td> <p>a vector of filter coefficients in reverse time order (as for AR or MA coefficients).</p> </td>
</tr> <tr valign="top">
<td><code>method</code></td> <td> <p>Either <code>"convolution"</code> or <code>"recursive"</code> (and can be abbreviated). If <code>"convolution"</code> a moving average is used: if <code>"recursive"</code> an autoregression is used.</p> </td>
</tr> <tr valign="top">
<td><code>sides</code></td> <td> <p>for convolution filters only. If <code>sides = 1</code> the filter coefficients are for past values only; if <code>sides = 2</code> they are centred around lag 0. In this case the length of the filter should be odd, but if it is even, more of the filter is forward in time than backward.</p> </td>
</tr> <tr valign="top">
<td><code>circular</code></td> <td> <p>for convolution filters only. If <code>TRUE</code>, wrap the filter around the ends of the series, otherwise assume external values are missing (<code>NA</code>).</p> </td>
</tr> <tr valign="top">
<td><code>init</code></td> <td> <p>for recursive filters only. Specifies the initial values of the time series just prior to the start value, in reverse time order. The default is a set of zeros.</p> </td>
</tr> </table> <h3>Details</h3> <p>Missing values are allowed in <code>x</code> but not in <code>filter</code> (where they would lead to missing values everywhere in the output). </p> <p>Note that there is an implied coefficient 1 at lag 0 in the recursive filter, which gives </p> <p style="text-align: center;"><i>y[i] = x[i] + f[1]*y[i-1] + … + f[p]*y[i-p]</i></p> <p>No check is made to see if recursive filter is invertible: the output may diverge if it is not. </p> <p>The convolution filter is </p> <p style="text-align: center;"><i>y[i] = f[1]*x[i+o] + … + f[p]*x[i+o-(p-1)]</i></p> <p>where <code>o</code> is the offset: see <code>sides</code> for how it is determined. </p> <h3>Value</h3> <p>A time series object. </p> <h3>Note</h3> <p><code><a href="convolve">convolve</a>(, type = "filter")</code> uses the FFT for computations and so <em>may</em> be faster for long filters on univariate series, but it does not return a time series (and so the time alignment is unclear), nor does it handle missing values. <code>filter</code> is faster for a filter of length 100 on a series of length 1000, for example. </p> <h3>See Also</h3> <p><code><a href="convolve">convolve</a></code>, <code><a href="arima.sim">arima.sim</a></code> </p> <h3>Examples</h3> <pre data-language="r">
x &lt;- 1:100
filter(x, rep(1, 3))
filter(x, rep(1, 3), sides = 1)
filter(x, rep(1, 3), sides = 1, circular = TRUE)

filter(presidents, rep(1, 3))
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    Copyright (©) 1999–2012 R Foundation for Statistical Computing.<br>Licensed under the <a href="https://www.gnu.org/copyleft/gpl.html">GNU General Public License</a>.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
