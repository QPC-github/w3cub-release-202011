
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Holt-Winters Filtering - R - W3cubDocs</title>
  
  <meta name="description" content=" Computes Holt-Winters Filtering of a given time series. Unknown parameters are determined by minimizing the squared prediction error. ">
  <meta name="keywords" content="holt-winters, filtering, r">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/r/library/stats/html/holtwinters.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/r.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/r/" class="_nav-link" title="" style="margin-left:0;">R</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h2>
<code>HoltWinters</code> Holt-Winters Filtering</h2> <h3>Description</h3> <p>Computes Holt-Winters Filtering of a given time series. Unknown parameters are determined by minimizing the squared prediction error. </p> <h3>Usage</h3> <pre data-language="r">
HoltWinters(x, alpha = NULL, beta = NULL, gamma = NULL,
            seasonal = c("additive", "multiplicative"),
            start.periods = 2, l.start = NULL, b.start = NULL,
            s.start = NULL,
            optim.start = c(alpha = 0.3, beta = 0.1, gamma = 0.1),
            optim.control = list())
</pre> <h3>Arguments</h3> <table summary="R argblock"> <tr valign="top">
<td><code>x</code></td> <td> <p>An object of class <code>ts</code></p> </td>
</tr> <tr valign="top">
<td><code>alpha</code></td> <td> <p><i>alpha</i> parameter of Holt-Winters Filter.</p> </td>
</tr> <tr valign="top">
<td><code>beta</code></td> <td> <p><i>beta</i> parameter of Holt-Winters Filter. If set to <code>FALSE</code>, the function will do exponential smoothing.</p> </td>
</tr> <tr valign="top">
<td><code>gamma</code></td> <td> <p><i>gamma</i> parameter used for the seasonal component. If set to <code>FALSE</code>, an non-seasonal model is fitted.</p> </td>
</tr> <tr valign="top">
<td><code>seasonal</code></td> <td> <p>Character string to select an <code>"additive"</code> (the default) or <code>"multiplicative"</code> seasonal model. The first few characters are sufficient. (Only takes effect if <code>gamma</code> is non-zero).</p> </td>
</tr> <tr valign="top">
<td><code>start.periods</code></td> <td> <p>Start periods used in the autodetection of start values. Must be at least 2.</p> </td>
</tr> <tr valign="top">
<td><code>l.start</code></td> <td> <p>Start value for level (a[0]).</p> </td>
</tr> <tr valign="top">
<td><code>b.start</code></td> <td> <p>Start value for trend (b[0]).</p> </td>
</tr> <tr valign="top">
<td><code>s.start</code></td> <td> <p>Vector of start values for the seasonal component (<i>s_1[0] … s_p[0]</i>)</p> </td>
</tr> <tr valign="top">
<td><code>optim.start</code></td> <td> <p>Vector with named components <code>alpha</code>, <code>beta</code>, and <code>gamma</code> containing the starting values for the optimizer. Only the values needed must be specified. Ignored in the one-parameter case.</p> </td>
</tr> <tr valign="top">
<td><code>optim.control</code></td> <td> <p>Optional list with additional control parameters passed to <code>optim</code> if this is used. Ignored in the one-parameter case.</p> </td>
</tr> </table> <h3>Details</h3> <p>The additive Holt-Winters prediction function (for time series with period length p) is </p> <p style="text-align: center;"><i> Yhat[t+h] = a[t] + h * b[t] + s[t - p + 1 + (h - 1) mod p],</i></p> <p>where <i>a[t]</i>, <i>b[t]</i> and <i>s[t]</i> are given by </p> <p style="text-align: center;"><i> a[t] = α (Y[t] - s[t-p]) + (1-α) (a[t-1] + b[t-1])</i></p> <p style="text-align: center;"><i> b[t] = β (a[t] - a[t-1]) + (1-β) b[t-1]</i></p> <p style="text-align: center;"><i> s[t] = γ (Y[t] - a[t]) + (1-γ) s[t-p]</i></p> <p>The multiplicative Holt-Winters prediction function (for time series with period length p) is </p> <p style="text-align: center;"><i> Yhat[t+h] = (a[t] + h * b[t]) * s[t - p + 1 + (h - 1) mod p],</i></p> <p>where <i>a[t]</i>, <i>b[t]</i> and <i>s[t]</i> are given by </p> <p style="text-align: center;"><i> a[t] = α (Y[t] / s[t-p]) + (1-α) (a[t-1] + b[t-1])</i></p> <p style="text-align: center;"><i> b[t] = β (a[t] - a[t-1]) + (1-β) b[t-1]</i></p> <p style="text-align: center;"><i> s[t] = γ (Y[t] / a[t]) + (1-γ) s[t-p]</i></p> <p>The data in <code>x</code> are required to be non-zero for a multiplicative model, but it makes most sense if they are all positive. </p> <p>The function tries to find the optimal values of <i>α</i> and/or <i>β</i> and/or <i>γ</i> by minimizing the squared one-step prediction error if they are <code>NULL</code> (the default). <code>optimize</code> will be used for the single-parameter case, and <code>optim</code> otherwise. </p> <p>For seasonal models, start values for <code>a</code>, <code>b</code> and <code>s</code> are inferred by performing a simple decomposition in trend and seasonal component using moving averages (see function <code><a href="decompose">decompose</a></code>) on the <code>start.periods</code> first periods (a simple linear regression on the trend component is used for starting level and trend). For level/trend-models (no seasonal component), start values for <code>a</code> and <code>b</code> are <code>x[2]</code> and <code>x[2] -
  x[1]</code>, respectively. For level-only models (ordinary exponential smoothing), the start value for <code>a</code> is <code>x[1]</code>. </p> <h3>Value</h3> <p>An object of class <code>"HoltWinters"</code>, a list with components: </p> <table summary="R valueblock"> <tr valign="top">
<td><code>fitted</code></td> <td> <p>A multiple time series with one column for the filtered series as well as for the level, trend and seasonal components, estimated contemporaneously (that is at time t and not at the end of the series).</p> </td>
</tr> <tr valign="top">
<td><code>x</code></td> <td> <p>The original series</p> </td>
</tr> <tr valign="top">
<td><code>alpha</code></td> <td> <p>alpha used for filtering</p> </td>
</tr> <tr valign="top">
<td><code>beta</code></td> <td> <p>beta used for filtering</p> </td>
</tr> <tr valign="top">
<td><code>gamma</code></td> <td> <p>gamma used for filtering</p> </td>
</tr> <tr valign="top">
<td><code>coefficients</code></td> <td> <p>A vector with named components <code>a, b, s1, ..., sp</code> containing the estimated values for the level, trend and seasonal components</p> </td>
</tr> <tr valign="top">
<td><code>seasonal</code></td> <td> <p>The specified <code>seasonal</code> parameter</p> </td>
</tr> <tr valign="top">
<td><code>SSE</code></td> <td> <p>The final sum of squared errors achieved in optimizing</p> </td>
</tr> <tr valign="top">
<td><code>call</code></td> <td> <p>The call used</p> </td>
</tr> </table> <h3>Author(s)</h3> <p>David Meyer <a href="mailto:David.Meyer@wu.ac.at">David.Meyer@wu.ac.at</a> </p> <h3>References</h3> <p>C. C. Holt (1957) Forecasting seasonals and trends by exponentially weighted moving averages, <em>ONR Research Memorandum, Carnegie Institute of Technology</em> <b>52</b>. (reprint at doi: <a href="https://doi.org/10.1016/j.ijforecast.2003.09.015">10.1016/j.ijforecast.2003.09.015</a>). </p> <p>P. R. Winters (1960). Forecasting sales by exponentially weighted moving averages. <em>Management Science</em>, <b>6</b>, 324–342. doi: <a href="https://doi.org/10.1287/mnsc.6.3.324">10.1287/mnsc.6.3.324</a>. </p> <h3>See Also</h3> <p><code><a href="predict.holtwinters">predict.HoltWinters</a></code>, <code><a href="optim">optim</a></code>. </p> <h3>Examples</h3> <pre data-language="r">

require(graphics)

## Seasonal Holt-Winters
(m &lt;- HoltWinters(co2))
plot(m)
plot(fitted(m))

(m &lt;- HoltWinters(AirPassengers, seasonal = "mult"))
plot(m)

## Non-Seasonal Holt-Winters
x &lt;- uspop + rnorm(uspop, sd = 5)
m &lt;- HoltWinters(x, gamma = FALSE)
plot(m)

## Exponential Smoothing
m2 &lt;- HoltWinters(x, gamma = FALSE, beta = FALSE)
lines(fitted(m2)[,1], col = 3)

</pre>
<div class="_attribution">
  <p class="_attribution-p">
    Copyright (©) 1999–2012 R Foundation for Statistical Computing.<br>Licensed under the <a href="https://www.gnu.org/copyleft/gpl.html">GNU General Public License</a>.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
