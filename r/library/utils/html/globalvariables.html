
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Declarations Used in Checking a Package - R - W3cubDocs</title>
  
  <meta name="description" content="For globalVariables, the names supplied are of functions or other objects that should be regarded as defined globally when the check tool is applied &hellip;">
  <meta name="keywords" content="declarations, used, checking, package, r">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/r/library/utils/html/globalvariables.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/r.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/r/" class="_nav-link" title="" style="margin-left:0;">R</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h2>
<code>globalVariables</code>  Declarations Used in Checking a Package </h2> <h3>Description</h3> <p>For <code>globalVariables</code>, the names supplied are of functions or other objects that should be regarded as defined globally when the <code>check</code> tool is applied to this package. The call to <code>globalVariables</code> will be included in the package's source. Repeated calls in the same package accumulate the names of the global variables. </p> <p>Typical examples are the fields and methods in reference classes, which appear to be global objects to <code>codetools</code>. (This case is handled automatically by <code><a href="../../methods/html/refclass">setRefClass</a>()</code> and friends, using the supplied field and method names.) </p> <p>For <code>suppressForeignCheck</code>, the names supplied are of variables used as <code>.NAME</code> in foreign function calls which should not be checked by <code><a href="../../tools/html/checkff">checkFF</a>(registration = TRUE)</code>. Without this declaration, expressions other than simple character strings are assumed to evaluate to registered native symbol objects. The type of call (<code>.Call</code>, <code>.External</code>, etc.) and argument counts will be checked. With this declaration, checks on those names will usually be suppressed. (If the code uses an expression that should only be evaluated at runtime, the message can be suppressed by wrapping it in a <code><a href="../../base/html/dontcheck">dontCheck</a></code> function call, or by saving it to a local variable, and suppressing messages about that variable. See the example below.) </p> <h3>Usage</h3> <pre data-language="r">
globalVariables(names, package, add = TRUE)
suppressForeignCheck(names, package, add = TRUE)
</pre> <h3>Arguments</h3> <table summary="R argblock"> <tr valign="top">
<td><code>names</code></td> <td> <p>The character vector of object names. If omitted, the current list of global variables declared in the package will be returned, unchanged. </p> </td>
</tr> <tr valign="top">
<td><code>package</code></td> <td> <p>The relevant package, usually the character string name of the package but optionally its corresponding namespace environment. </p> <p>When the call to <code>globalVariables</code> or <code>suppressForeignCheck</code> comes in the package's source file, the argument is normally omitted, as in the example below. </p> </td>
</tr> <tr valign="top">
<td><code>add</code></td> <td> <p>Should the contents of <code>names</code> be added to the current global variables or replace it? </p> </td>
</tr> </table> <h3>Details</h3> <p>The lists of declared global variables and native symbol objects are stored in a metadata object in the package's namespace, assuming the <code>globalVariables</code> or <code>suppressForeignCheck</code> call(s) occur as top-level calls in the package's source code. </p> <p>The check command, as implemented in package <code>tools</code>, queries the list before checking the <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> source code in the package for possible problems. </p> <p><code>globalVariables</code> was introduced in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 2.15.1 and <code>suppressForeignCheck</code> was introduced in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 3.1.0 so both should be used conditionally: see the example. </p> <h3>Value</h3> <p><code>globalVariables</code> returns the current list of declared global variables, possibly modified by this call. </p> <p><code>suppressForeignCheck</code> returns the current list of native symbol objects which are not to be checked. </p> <h3>Note</h3> <p>The global variables list really belongs to a restricted scope (a function or a group of method definitions, for example) rather than the package as a whole. However, implementing finer control would require changes in <code>check</code> and/or in <code>codetools</code>, so in this version the information is stored at the package level. </p> <h3>Author(s)</h3> <p>John Chambers and Duncan Murdoch </p> <h3>See Also</h3> <p><code>dontCheck</code>. </p> <h3>Examples</h3> <pre data-language="r">
## Not run: 
## assume your package has some code that assigns ".obj1" and ".obj2"
## but not in a way that codetools can find.
## In the same source file (to remind you that you did it) add:
if(getRversion() &gt;= "2.15.1")  utils::globalVariables(c(".obj1", "obj2"))

## To suppress messages about a run-time calculated native symbol, 
## save it to a local variable.

## At top level, put this:
if(getRversion() &gt;= "3.1.0") utils::suppressForeignCheck("localvariable")

## Within your function, do the call like this:
localvariable &lt;- if (condition) entry1 else entry2
.Call(localvariable, 1, 2, 3)

## HOWEVER, it is much better practice to write code
## that can be checked thoroughly, e.g.
if(condition) .Call(entry1, 1, 2, 3) else .Call(entry2, 1, 2, 3)

## End(Not run)
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    Copyright (©) 1999–2012 R Foundation for Statistical Computing.<br>Licensed under the <a href="https://www.gnu.org/copyleft/gpl.html">GNU General Public License</a>.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
