
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Save - R - W3cubDocs</title>
  
  <meta name="description" content="save writes an external representation of R objects to the specified file. The objects can be read back from the file at a later date by using the &hellip;">
  <meta name="keywords" content="save, r">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/r/library/base/html/save.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/r.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/r/" class="_nav-link" title="" style="margin-left:0;">R</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h2>
<code>save</code> Save R Objects</h2> <h3>Description</h3> <p><code>save</code> writes an external representation of <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> objects to the specified file. The objects can be read back from the file at a later date by using the function <code><a href="load">load</a></code> or <code><a href="attach">attach</a></code> (or <code><a href="../../utils/html/data">data</a></code> in some cases). </p> <p><code>save.image()</code> is just a short-cut for ‘save my current workspace’, i.e., <code>save(list = ls(all.names = TRUE), file =
    ".RData", envir = .GlobalEnv)</code>. It is also what happens with <code><a href="quit">q</a>("yes")</code>. </p> <h3>Usage</h3> <pre data-language="r">
save(..., list = character(),
     file = stop("'file' must be specified"),
     ascii = FALSE, version = NULL, envir = parent.frame(),
     compress = isTRUE(!ascii), compression_level,
     eval.promises = TRUE, precheck = TRUE)

save.image(file = ".RData", version = NULL, ascii = FALSE,
           compress = !ascii, safe = TRUE)
</pre> <h3>Arguments</h3> <table summary="R argblock"> <tr valign="top">
<td><code>...</code></td> <td> <p>the names of the objects to be saved (as symbols or character strings).</p> </td>
</tr> <tr valign="top">
<td><code>list</code></td> <td> <p>A character vector containing the names of objects to be saved.</p> </td>
</tr> <tr valign="top">
<td><code>file</code></td> <td> <p>a (writable binary-mode) <a href="connections">connection</a> or the name of the file where the data will be saved (when <a href="path.expand">tilde expansion</a> is done). Must be a file name for <code>save.image</code> or <code>version = 1</code>.</p> </td>
</tr> <tr valign="top">
<td><code>ascii</code></td> <td> <p>if <code>TRUE</code>, an ASCII representation of the data is written. The default value of <code>ascii</code> is <code>FALSE</code> which leads to a binary file being written. If <code>NA</code> and <code>version &gt;= 2</code>, a different ASCII representation is used which writes double/complex numbers as binary fractions.</p> </td>
</tr> <tr valign="top">
<td><code>version</code></td> <td> <p>the workspace format version to use. <code>NULL</code> specifies the current default format (3). Version 1 was the default from <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 0.99.0 to <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 1.3.1 and version 2 from <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 1.4.0 to 3.5.0. Version 3 is supported from <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 3.5.0.</p> </td>
</tr> <tr valign="top">
<td><code>envir</code></td> <td> <p>environment to search for objects to be saved.</p> </td>
</tr> <tr valign="top">
<td><code>compress</code></td> <td> <p>logical or character string specifying whether saving to a named file is to use compression. <code>TRUE</code> corresponds to <code>gzip</code> compression, and character strings <code>"gzip"</code>, <code>"bzip2"</code> or <code>"xz"</code> specify the type of compression. Ignored when <code>file</code> is a connection and for workspace format version 1.</p> </td>
</tr> <tr valign="top">
<td><code>compression_level</code></td> <td> <p>integer: the level of compression to be used. Defaults to <code>6</code> for <code>gzip</code> compression and to <code>9</code> for <code>bzip2</code> or <code>xz</code> compression. See the help for <code><a href="connections">file</a></code> for possible values and their merits.</p> </td>
</tr> <tr valign="top">
<td><code>eval.promises</code></td> <td> <p>logical: should objects which are promises be forced before saving?</p> </td>
</tr> <tr valign="top">
<td><code>precheck</code></td> <td> <p>logical: should the existence of the objects be checked before starting to save (and in particular before opening the file/connection)? Does not apply to version 1 saves.</p> </td>
</tr> <tr valign="top">
<td><code>safe</code></td> <td> <p>logical. If <code>TRUE</code>, a temporary file is used for creating the saved workspace. The temporary file is renamed to <code>file</code> if the save succeeds. This preserves an existing workspace <code>file</code> if the save fails, but at the cost of using extra disk space during the save.</p> </td>
</tr> </table> <h3>Details</h3> <p>The names of the objects specified either as symbols (or character strings) in <code>...</code> or as a character vector in <code>list</code> are used to look up the objects from environment <code>envir</code>. By default <a href="delayedassign">promises</a> are evaluated, but if <code>eval.promises = FALSE</code> promises are saved (together with their evaluation environments). (Promises embedded in objects are always saved unevaluated.) </p> <p>All <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> platforms use the XDR (bigendian) representation of C ints and doubles in binary save-d files, and these are portable across all <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> platforms. </p> <p>ASCII saves used to be useful for moving data between platforms but are now mainly of historical interest. They can be more compact than binary saves where compression is not used, but are almost always slower to both read and write: binary saves compress much better than ASCII ones. Further, decimal ASCII saves may not restore double/complex values exactly, and what value is restored may depend on the <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> platform. </p> <p>Default values for the <code>ascii</code>, <code>compress</code>, <code>safe</code> and <code>version</code> arguments can be modified with the <code>"save.defaults"</code> option (used both by <code>save</code> and <code>save.image</code>), see also the ‘Examples’ section. If a <code>"save.image.defaults"</code> option is set it is used in preference to <code>"save.defaults"</code> for function <code>save.image</code> (which allows this to have different defaults). In addition, <code>compression_level</code> can be part of the <code>"save.defaults"</code> option. </p> <p>A connection that is not already open will be opened in mode <code>"wb"</code>. Supplying a connection which is open and not in binary mode gives an error. </p> <h3>Compression</h3> <p>Large files can be reduced considerably in size by compression. A particular 46MB <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> object was saved as 35MB without compression in 2 seconds, 22MB with <code>gzip</code> compression in 8 secs, 19MB with <code>bzip2</code> compression in 13 secs and 9.4MB with <code>xz</code> compression in 40 secs. The load times were 1.3, 2.8, 5.5 and 5.7 seconds respectively. These results are indicative, but the relative performances do depend on the actual file: <code>xz</code> compressed unusually well here. </p> <p>It is possible to compress later (with <code>gzip</code>, <code>bzip2</code> or <code>xz</code>) a file saved with <code>compress = FALSE</code>: the effect is the same as saving with compression. Also, a saved file can be uncompressed and re-compressed under a different compression scheme (and see <code><a href="../../tools/html/checkrdafiles">resaveRdaFiles</a></code> for a way to do so from within <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>). </p> <h3>Parallel compression</h3> <p>That <code>file</code> can be a connection can be exploited to make use of an external parallel compression utility such as <code>pigz</code> (<a href="https://zlib.net/pigz/">https://zlib.net/pigz/</a>) or <code>pbzip2</code> (<a href="https://launchpad.net/pbzip2">https://launchpad.net/pbzip2</a>) <em>via</em> a <code><a href="connections">pipe</a></code> connection. For example, using 8 threads, </p> <pre data-language="r">    con &lt;- pipe("pigz -p8 &gt; fname.gz", "wb")
    save(myObj, file = con); close(con)

    con &lt;- pipe("pbzip2 -p8 -9 &gt; fname.bz2", "wb")
    save(myObj, file = con); close(con)

    con &lt;- pipe("xz -T8 -6 -e &gt; fname.xz", "wb")
    save(myObj, file = con); close(con)
</pre> <p>where the last requires <code>xz</code> 5.1.1 or later built with support for multiple threads (and parallel compression is only effective for large objects: at level 6 it will compress in serialized chunks of 12MB). </p> <h3>Warnings</h3> <p>The <code>...</code> arguments only give the <em>names</em> of the objects to be saved: they are searched for in the environment given by the <code>envir</code> argument, and the actual objects given as arguments need not be those found. </p> <p>Saved <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> objects are binary files, even those saved with <code>ascii = TRUE</code>, so ensure that they are transferred without conversion of end-of-line markers and of 8-bit characters. The lines are delimited by LF on all platforms. </p> <p>Although the default version was not changed between <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 1.4.0 and <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 3.4.4 nor since <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 3.5.0, this does not mean that saved files are necessarily backwards compatible. You will be able to load a saved image into an earlier version of <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> which supports its version unless use is made of later additions (for example for version 2, raw vectors, external pointers and some S4 objects). </p> <p>One such ‘later addition’ was <a href="longvectors">long vectors</a>, introduced in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 3.0.0 and loadable only on 64-bit platforms. </p> <p>Loading files saved with <code>ASCII = NA</code> requires a C99-compliant C function <code>sscanf</code>: this is a problem on Windows, first worked around in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 3.1.2: version-2 files in that format should be readable in earlier versions of <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> on all other platforms. </p> <h3>Note</h3> <p>For saving single <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> objects, <code><a href="readrds">saveRDS</a>()</code> is mostly preferable to <code>save()</code>, notably because of the <em>functional</em> nature of <code><a href="readrds">readRDS</a>()</code>, as opposed to <code><a href="load">load</a>()</code>. </p> <p>The most common reason for failure is lack of write permission in the current directory. For <code>save.image</code> and for saving at the end of a session this will shown by messages like </p> <pre data-language="r">    Error in gzfile(file, "wb") : unable to open connection
    In addition: Warning message:
    In gzfile(file, "wb") :
      cannot open compressed file '.RDataTmp',
      probable reason 'Permission denied'
</pre> <h3>See Also</h3> <p><code><a href="dput">dput</a></code>, <code><a href="dump">dump</a></code>, <code><a href="load">load</a></code>, <code><a href="../../utils/html/data">data</a></code>. </p> <p>For other interfaces to the underlying serialization format, see <code><a href="serialize">serialize</a></code> and <code><a href="readrds">saveRDS</a></code>. </p> <h3>Examples</h3> <pre data-language="r">

x &lt;- stats::runif(20)
y &lt;- list(a = 1, b = TRUE, c = "oops")
save(x, y, file = "xy.RData")
save.image() # creating ".RData" in current working directory
unlink("xy.RData")

# set save defaults using option:
options(save.defaults = list(ascii = TRUE, safe = FALSE))
save.image() # creating ".RData"
if(interactive()) withAutoprint({
   file.info(".RData")
   readLines(".RData", n = 7) # first 7 lines; first starts w/ "RDA"..
})
unlink(".RData")

</pre>
<div class="_attribution">
  <p class="_attribution-p">
    Copyright (©) 1999–2012 R Foundation for Statistical Computing.<br>Licensed under the <a href="https://www.gnu.org/copyleft/gpl.html">GNU General Public License</a>.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
