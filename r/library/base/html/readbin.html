
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>readBin - R - W3cubDocs</title>
  
  <meta name="description" content=" Read binary data from or write binary data to a connection or raw vector. ">
  <meta name="keywords" content="readbin, r">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/r/library/base/html/readbin.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/r.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/r/" class="_nav-link" title="" style="margin-left:0;">R</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h2>
<code>readBin</code> Transfer Binary Data To and From Connections</h2> <h3>Description</h3> <p>Read binary data from or write binary data to a connection or raw vector. </p> <h3>Usage</h3> <pre data-language="r">
readBin(con, what, n = 1L, size = NA_integer_, signed = TRUE,
        endian = .Platform$endian)

writeBin(object, con, size = NA_integer_,
         endian = .Platform$endian, useBytes = FALSE)
</pre> <h3>Arguments</h3> <table summary="R argblock"> <tr valign="top">
<td><code>con</code></td> <td> <p>A <a href="connections">connection</a> object or a character string naming a file or a raw vector.</p> </td>
</tr> <tr valign="top">
<td><code>what</code></td> <td> <p>Either an object whose mode will give the mode of the vector to be read, or a character vector of length one describing the mode: one of <code>"numeric"</code>, <code>"double"</code>, <code>"integer"</code>, <code>"int"</code>, <code>"logical"</code>, <code>"complex"</code>, <code>"character"</code>, <code>"raw"</code>.</p> </td>
</tr> <tr valign="top">
<td><code>n</code></td> <td> <p>numeric. The (maximal) number of records to be read. You can use an over-estimate here, but not too large as storage is reserved for <code>n</code> items.</p> </td>
</tr> <tr valign="top">
<td><code>size</code></td> <td> <p>integer. The number of bytes per element in the byte stream. The default, <code>NA_integer_</code>, uses the natural size. Size changing is not supported for raw and complex vectors.</p> </td>
</tr> <tr valign="top">
<td><code>signed</code></td> <td> <p>logical. Only used for integers of sizes 1 and 2, when it determines if the quantity on file should be regarded as a signed or unsigned integer.</p> </td>
</tr> <tr valign="top">
<td><code>endian</code></td> <td> <p>The endian-ness (<code>"big"</code> or <code>"little"</code>) of the target system for the file. Using <code>"swap"</code> will force swapping endian-ness.</p> </td>
</tr> <tr valign="top">
<td><code>object</code></td> <td> <p>An <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> object to be written to the connection.</p> </td>
</tr> <tr valign="top">
<td><code>useBytes</code></td> <td> <p>See <code><a href="writelines">writeLines</a></code>.</p> </td>
</tr> </table> <h3>Details</h3> <p>These functions can only be used with binary-mode connections. If <code>con</code> is a character string, the functions call <code><a href="connections">file</a></code> to obtain a binary-mode file connection which is opened for the duration of the function call. </p> <p>If the connection is open it is read/written from its current position. If it is not open, it is opened for the duration of the call in an appropriate mode (binary read or write) and then closed again. An open connection must be in binary mode. </p> <p>If <code>readBin</code> is called with <code>con</code> a raw vector, the data in the vector is used as input. If <code>writeBin</code> is called with <code>con</code> a raw vector, it is just an indication that a raw vector should be returned. </p> <p>If <code>size</code> is specified and not the natural size of the object, each element of the vector is coerced to an appropriate type before being written or as it is read. Possible sizes are 1, 2, 4 and possibly 8 for integer or logical vectors, and 4, 8 and possibly 12/16 for numeric vectors. (Note that coercion occurs as signed types except if <code>signed = FALSE</code> when reading integers of sizes 1 and 2.) Changing sizes is unlikely to preserve <code>NA</code>s, and the extended precision sizes are unlikely to be portable across platforms. </p> <p><code>readBin</code> and <code>writeBin</code> read and write C-style zero-terminated character strings. Input strings are limited to 10000 characters. <code><a href="readchar">readChar</a></code> and <code><a href="readchar">writeChar</a></code> can be used to read and write fixed-length strings. No check is made that the string is valid in the current locale's encoding. </p> <p>Handling <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>'s missing and special (<code>Inf</code>, <code>-Inf</code> and <code>NaN</code>) values is discussed in the ‘R Data Import/Export’ manual. </p> <p>Only <i>2^31 - 1</i> bytes can be written in a single call (and that is the maximum capacity of a raw vector on 32-bit platforms). </p> <p>‘Endian-ness’ is relevant for <code>size &gt; 1</code>, and should always be set for portable code (the default is only appropriate when writing and then reading files on the same platform). </p> <h3>Value</h3> <p>For <code>readBin</code>, a vector of appropriate mode and length the number of items read (which might be less than <code>n</code>). </p> <p>For <code>writeBin</code>, a raw vector (if <code>con</code> is a raw vector) or invisibly <code>NULL</code>. </p> <h3>Note</h3> <p>Integer read/writes of size 8 will be available if either C type <code>long</code> is of size 8 bytes or C type <code>long long</code> exists and is of size 8 bytes. </p> <p>Real read/writes of size <code>sizeof(long double)</code> (usually 12 or 16 bytes) will be available only if that type is available and different from <code>double</code>. </p> <p>If <code>readBin(what = character())</code> is used incorrectly on a file which does not contain C-style character strings, warnings (usually many) are given. From a file or connection, the input will be broken into pieces of length 10000 with any final part being discarded. </p> <h3>See Also</h3> <p>The ‘R Data Import/Export’ manual. </p> <p><code>readChar</code> to read/write fixed-length strings. </p> <p><code><a href="connections">connections</a></code>, <code><a href="readlines">readLines</a></code>, <code><a href="writelines">writeLines</a></code>. </p> <p><code><a href="zmachine">.Machine</a></code> for the sizes of <code>long</code>, <code>long long</code> and <code>long double</code>. </p> <h3>Examples</h3> <pre data-language="r">
zzfil &lt;- tempfile("testbin")
zz &lt;- file(zzfil, "wb")
writeBin(1:10, zz)
writeBin(pi, zz, endian = "swap")
writeBin(pi, zz, size = 4)
writeBin(pi^2, zz, size = 4, endian = "swap")
writeBin(pi+3i, zz)
writeBin("A test of a connection", zz)
z &lt;- paste("A very long string", 1:100, collapse = " + ")
writeBin(z, zz)
if(.Machine$sizeof.long == 8 || .Machine$sizeof.longlong == 8)
    writeBin(as.integer(5^(1:10)), zz, size = 8)
if((s &lt;- .Machine$sizeof.longdouble) &gt; 8)
    writeBin((pi/3)^(1:10), zz, size = s)
close(zz)

zz &lt;- file(zzfil, "rb")
readBin(zz, integer(), 4)
readBin(zz, integer(), 6)
readBin(zz, numeric(), 1, endian = "swap")
readBin(zz, numeric(), size = 4)
readBin(zz, numeric(), size = 4, endian = "swap")
readBin(zz, complex(), 1)
readBin(zz, character(), 1)
z2 &lt;- readBin(zz, character(), 1)
if(.Machine$sizeof.long == 8 || .Machine$sizeof.longlong == 8)
    readBin(zz, integer(), 10,  size = 8)
if((s &lt;- .Machine$sizeof.longdouble) &gt; 8)
    readBin(zz, numeric(), 10, size = s)
close(zz)
unlink(zzfil)
stopifnot(z2 == z)

## signed vs unsigned ints
zzfil &lt;- tempfile("testbin")
zz &lt;- file(zzfil, "wb")
x &lt;- as.integer(seq(0, 255, 32))
writeBin(x, zz, size = 1)
writeBin(x, zz, size = 1)
x &lt;- as.integer(seq(0, 60000, 10000))
writeBin(x, zz, size = 2)
writeBin(x, zz, size = 2)
close(zz)
zz &lt;- file(zzfil, "rb")
readBin(zz, integer(), 8, size = 1)
readBin(zz, integer(), 8, size = 1, signed = FALSE)
readBin(zz, integer(), 7, size = 2)
readBin(zz, integer(), 7, size = 2, signed = FALSE)
close(zz)
unlink(zzfil)

## use of raw
z &lt;- writeBin(pi^{1:5}, raw(), size = 4)
readBin(z, numeric(), 5, size = 4)
z &lt;- writeBin(c("a", "test", "of", "character"), raw())
readBin(z, character(), 4)
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    Copyright (©) 1999–2012 R Foundation for Statistical Computing.<br>Licensed under the <a href="https://www.gnu.org/copyleft/gpl.html">GNU General Public License</a>.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
