
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Random Samples and Permutations - R - W3cubDocs</title>
  
  <meta name="description" content=" sample takes a sample of the specified size from the elements of x using either with or without replacement. ">
  <meta name="keywords" content="random, samples, and, permutations, r">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/r/library/base/html/sample.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/r.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/r/" class="_nav-link" title="" style="margin-left:0;">R</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h2>
<code>sample</code> Random Samples and Permutations</h2> <h3>Description</h3> <p><code>sample</code> takes a sample of the specified size from the elements of <code>x</code> using either with or without replacement. </p> <h3>Usage</h3> <pre data-language="r">
sample(x, size, replace = FALSE, prob = NULL)

sample.int(n, size = n, replace = FALSE, prob = NULL,
           useHash = (!replace &amp;&amp; is.null(prob) &amp;&amp; size &lt;= n/2 &amp;&amp; n &gt; 1e7))
</pre> <h3>Arguments</h3> <table summary="R argblock"> <tr valign="top">
<td><code>x</code></td> <td> <p>either a vector of one or more elements from which to choose, or a positive integer. See ‘Details.’</p> </td>
</tr> <tr valign="top">
<td><code>n</code></td> <td> <p>a positive number, the number of items to choose from. See ‘Details.’</p> </td>
</tr> <tr valign="top">
<td><code>size</code></td> <td> <p>a non-negative integer giving the number of items to choose.</p> </td>
</tr> <tr valign="top">
<td><code>replace</code></td> <td> <p>should sampling be with replacement?</p> </td>
</tr> <tr valign="top">
<td><code>prob</code></td> <td> <p>a vector of probability weights for obtaining the elements of the vector being sampled.</p> </td>
</tr> <tr valign="top">
<td><code>useHash</code></td> <td> <p><code><a href="logical">logical</a></code> indicating if the hash-version of the algorithm should be used. Can only be used for <code>replace =
      FALSE</code>, <code>prob = NULL</code>, and <code>size &lt;= n/2</code>, and really should be used for large <code>n</code>, as <code>useHash=FALSE</code> will use memory proportional to <code>n</code>.</p> </td>
</tr> </table> <h3>Details</h3> <p>If <code>x</code> has length 1, is numeric (in the sense of <code><a href="numeric">is.numeric</a></code>) and <code>x &gt;= 1</code>, sampling <em>via</em> <code>sample</code> takes place from <code>1:x</code>. <em>Note</em> that this convenience feature may lead to undesired behaviour when <code>x</code> is of varying length in calls such as <code>sample(x)</code>. See the examples. </p> <p>Otherwise <code>x</code> can be any <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> object for which <code>length</code> and subsetting by integers make sense: S3 or S4 methods for these operations will be dispatched as appropriate. </p> <p>For <code>sample</code> the default for <code>size</code> is the number of items inferred from the first argument, so that <code>sample(x)</code> generates a random permutation of the elements of <code>x</code> (or <code>1:x</code>). </p> <p>It is allowed to ask for <code>size = 0</code> samples with <code>n = 0</code> or a length-zero <code>x</code>, but otherwise <code>n &gt; 0</code> or positive <code>length(x)</code> is required. </p> <p>Non-integer positive numerical values of <code>n</code> or <code>x</code> will be truncated to the next smallest integer, which has to be no larger than <code><a href="zmachine">.Machine</a>$integer.max</code>. </p> <p>The optional <code>prob</code> argument can be used to give a vector of weights for obtaining the elements of the vector being sampled. They need not sum to one, but they should be non-negative and not all zero. If <code>replace</code> is true, Walker's alias method (Ripley, 1987) is used when there are more than 200 reasonably probable values: this gives results incompatible with those from <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> &lt; 2.2.0. </p> <p>If <code>replace</code> is false, these probabilities are applied sequentially, that is the probability of choosing the next item is proportional to the weights amongst the remaining items. The number of nonzero weights must be at least <code>size</code> in this case. </p> <p><code>sample.int</code> is a bare interface in which both <code>n</code> and <code>size</code> must be supplied as integers. </p> <p>Argument <code>n</code> can be larger than the largest integer of type <code>integer</code>, up to the largest representable integer in type <code>double</code>. Only uniform sampling is supported. Two random numbers are used to ensure uniform sampling of large integers. </p> <h3>Value</h3> <p>For <code>sample</code> a vector of length <code>size</code> with elements drawn from either <code>x</code> or from the integers <code>1:x</code>. </p> <p>For <code>sample.int</code>, an integer vector of length <code>size</code> with elements from <code>1:n</code>, or a double vector if <i>n &gt;= 2^31</i>. </p> <h3>References</h3> <p>Becker, R. A., Chambers, J. M. and Wilks, A. R. (1988) <em>The New S Language</em>. Wadsworth &amp; Brooks/Cole. </p> <p>Ripley, B. D. (1987) <em>Stochastic Simulation</em>. Wiley. </p> <h3>See Also</h3> <p><code><a href="random">RNGkind</a>(sample.kind = ..)</code> about random number generation, notably the change of <code>sample()</code> results with <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> version 3.6.0. </p> <p>CRAN package <a href="https://CRAN.R-project.org/package=sampling"><span class="pkg">sampling</span></a> for other methods of weighted sampling without replacement. </p> <h3>Examples</h3> <pre data-language="r">
x &lt;- 1:12
# a random permutation
sample(x)
# bootstrap resampling -- only if length(x) &gt; 1 !
sample(x, replace = TRUE)

# 100 Bernoulli trials
sample(c(0,1), 100, replace = TRUE)

## More careful bootstrapping --  Consider this when using sample()
## programmatically (i.e., in your function or simulation)!

# sample()'s surprise -- example
x &lt;- 1:10
    sample(x[x &gt;  8]) # length 2
    sample(x[x &gt;  9]) # oops -- length 10!
    sample(x[x &gt; 10]) # length 0

## safer version:
resample &lt;- function(x, ...) x[sample.int(length(x), ...)]
resample(x[x &gt;  8]) # length 2
resample(x[x &gt;  9]) # length 1
resample(x[x &gt; 10]) # length 0

## R 3.x.y only
sample.int(1e10, 12, replace = TRUE)
sample.int(1e10, 12) # not that there is much chance of duplicates
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    Copyright (©) 1999–2012 R Foundation for Statistical Computing.<br>Licensed under the <a href="https://www.gnu.org/copyleft/gpl.html">GNU General Public License</a>.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
