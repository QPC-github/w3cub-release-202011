
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>deparseOpts - R - W3cubDocs</title>
  
  <meta name="description" content=" Process the deparsing options for deparse, dput and dump. ">
  <meta name="keywords" content="deparseopts, r">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/r/library/base/html/deparseopts.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/r.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/r/" class="_nav-link" title="" style="margin-left:0;">R</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h2>
<code>deparseOpts</code> Options for Expression Deparsing</h2> <h3>Description</h3> <p>Process the deparsing options for <code>deparse</code>, <code>dput</code> and <code>dump</code>. </p> <h3>Usage</h3> <pre data-language="r">
.deparseOpts(control)

..deparseOpts
</pre> <h3>Arguments</h3> <table summary="R argblock"> <tr valign="top">
<td><code>control</code></td> <td> <p>character vector of deparsing options.</p> </td>
</tr> </table> <h3>Details</h3> <p><code>..deparseOpts</code> is the <code><a href="character">character</a></code> vector of possible deparsing options used by <code>.deparseOpts()</code>. </p> <p><code>.deparseOpts()</code> is called by <code><a href="deparse">deparse</a></code>, <code><a href="dput">dput</a></code> and <code><a href="dump">dump</a></code> to process their <code>control</code> argument. </p> <p>The <code>control</code> argument is a vector containing zero or more of the following strings (exactly those in <code>..deparseOpts</code>). Partial string matching is used. </p> <dl> <dt>
<code>"keepInteger"</code>:</dt>
<dd> <p>Either surround integer vectors by <code>as.integer()</code> or use suffix <code>L</code>, so they are not converted to type double when parsed. This includes making sure that integer <code>NA</code>s are preserved (via <code>NA_integer_</code> if there are no non-<code>NA</code> values in the vector, unless <code>"S_compatible"</code> is set). </p> </dd> <dt>
<code>"quoteExpressions"</code>:</dt>
<dd> <p>Surround unevaluated expressions, but not <code><a href="../../stats/html/formula">formula</a></code>s, with <code>quote()</code>, so they are not evaluated when re-parsed. </p> </dd> <dt>
<code>"showAttributes"</code>:</dt>
<dd> <p>If the object has <code><a href="attributes">attributes</a></code> (other than a <code>source</code> attribute, see <code><a href="srcfile">srcref</a></code>), use <code><a href="structure">structure</a>()</code> to display them as well as the object value unless the only such attribute is <code>names</code> and the <code>"niceNames"</code> option is set. This (<code>"showAttributes"</code>) is the default for <code><a href="deparse">deparse</a></code> and <code><a href="dput">dput</a></code>. </p> </dd> <dt>
<code>"useSource"</code>:</dt>
<dd> <p>If the object has a <code>source</code> attribute (<code><a href="srcfile">srcref</a></code>), display that instead of deparsing the object. Currently only applies to function definitions. </p> </dd> <dt>
<code>"warnIncomplete"</code>:</dt>
<dd> <p>Some exotic objects such as <a href="environment">environment</a>s, external pointers, etc. can not be deparsed properly. This option causes a warning to be issued if the deparser recognizes one of these situations. </p> <p>Also, the parser in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> &lt; 2.7.0 would only accept strings of up to 8192 bytes, and this option gives a warning for longer strings. </p> </dd> <dt>
<code>"keepNA"</code>:</dt>
<dd> <p>Integer, real and character <code>NA</code>s are surrounded by coercion functions where necessary to ensure that they are parsed to the same type. Since e.g. <code>NA_real_</code> can be output in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>, this is mainly used in connection with <code>S_compatible</code>. </p> </dd> <dt>
<code>"niceNames"</code>:</dt>
<dd> <p>If true, <code><a href="list">list</a></code>s and atomic vectors with non-<code><a href="na">NA</a></code> names (see <code><a href="names">names</a></code>) are deparsed as e.g., <code>c(A = 1)</code> instead of <code>structure(1, .Names = "A")</code>, independently of the <code>"showAttributes"</code> setting. </p> </dd> <dt>
<code>"all"</code>:</dt>
<dd> <p>An abbreviated way to specify all of the options listed above <em>plus</em> <code>"digits17"</code> (since <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> version 4.0.0). This is the default for <code>dump</code>, and, without <code>"digits17"</code>, the options used by <code><a href="../../utils/html/edit">edit</a></code> (which are fixed). </p> </dd> <dt>
<code>"delayPromises"</code>:</dt>
<dd> <p>Deparse promises in the form &lt;promise: expression&gt; rather than evaluating them. The value and the environment of the promise will not be shown and the deparsed code cannot be sourced. </p> </dd> <dt>
<code>"S_compatible"</code>:</dt>
<dd> <p>Make deparsing as far as possible compatible with S and <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> &lt; 2.5.0. For compatibility with S, integer values of double vectors are deparsed with a trailing decimal point. Backticks are not used. </p> </dd> <dt>
<code>"hexNumeric"</code>:</dt>
<dd> <p>Real and finite complex numbers are output in <span class="samp">"%a"</span> format as binary fractions (coded as hexadecimal: see <code><a href="sprintf">sprintf</a></code>) with maximal opportunity to be recorded exactly to full precision. Complex numbers with one or both non-finite components are output as if this option were not set. </p> <p>(This relies on that format being correctly supported: known problems on Windows are worked around as from <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 3.1.2.) </p> </dd> <dt>
<code>"digits17"</code>:</dt>
<dd> <p>Real and finite complex numbers are output using format <span class="samp">"%.17g"</span> which may give more precision than the default (but the output will depend on the platform and there may be loss of precision when read back). Complex numbers with one or both non-finite components are output as if this option were not set. </p> </dd> <dt>
<code>"exact"</code>:</dt>
<dd> <p>An abbreviated way to specify <code>control = c("all", "hexNumeric")</code> which is guaranteed to be exact for numbers, see also below. </p> </dd> </dl> <p>For the most readable (but perhaps incomplete) display, use <code>control = NULL</code>. This displays the object's value, but not its attributes. The default in <code><a href="deparse">deparse</a></code> is to display the attributes as well, but not to use any of the other options to make the result parseable. (<code><a href="dput">dput</a></code> and <code><a href="dump">dump</a></code> do use more default options, and printing of functions without sources uses <code>c("keepInteger", "keepNA")</code>.) </p> <p>Using <code>control = c("all", "hexNumeric")</code> comes closest to making <code>deparse()</code> an inverse of <code>parse()</code>, as representing double and complex numbers as decimals may well not be exact. However, not all objects are deparse-able even with this option. A warning will be issued if the function recognizes that it is being asked to do the impossible. </p> <p>Only one of <code>"hexNumeric"</code> and <code>"digits17"</code> can be specified. </p> <h3>Value</h3> <p>An integer value corresponding to the <code>control</code> options selected. </p> <h3>Examples</h3> <pre data-language="r">
(iOpt.all &lt;- .deparseOpts("all")) # a four digit integer

## one integer --&gt; vector binary bits
int2bits &lt;- function(x, base = 2L,
                     ndigits = 1 + floor(1e-9 + log(max(x,1), base))) {
    r &lt;- numeric(ndigits)
    for (i in ndigits:1) {
        r[i] &lt;- x%%base
        if (i &gt; 1L)
            x &lt;- x%/%base
    }
    rev(r) # smallest bit at left
}
int2bits(iOpt.all)
## what options does  "all" contain ?
depO.indiv &lt;- setdiff(..deparseOpts, c("all", "exact"))
(oa &lt;- depO.indiv[int2bits(iOpt.all) == 1])
stopifnot(identical(iOpt.all, .deparseOpts(oa)))

## ditto for "exact" instead of "all":
int2bits(iOpt.X &lt;- .deparseOpts("exact"))
(oX &lt;- depO.indiv[int2bits(iOpt.X) == 1])
diffXall &lt;- oa != oX
stopifnot(identical(iOpt.X, .deparseOpts(oX)),
          identical(oX[diffXall], "hexNumeric"),
          identical(oa[diffXall], "digits17"))
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    Copyright (©) 1999–2012 R Foundation for Statistical Computing.<br>Licensed under the <a href="https://www.gnu.org/copyleft/gpl.html">GNU General Public License</a>.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
