
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>readChar - R - W3cubDocs</title>
  
  <meta name="description" content=" Transfer character strings to and from connections, without assuming they are null-terminated on the connection. ">
  <meta name="keywords" content="readchar, r">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/r/library/base/html/readchar.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/r.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/r/" class="_nav-link" title="" style="margin-left:0;">R</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h2>
<code>readChar</code> Transfer Character Strings To and From Connections</h2> <h3>Description</h3> <p>Transfer character strings to and from connections, without assuming they are null-terminated on the connection. </p> <h3>Usage</h3> <pre data-language="r">
readChar(con, nchars, useBytes = FALSE)

writeChar(object, con, nchars = nchar(object, type = "chars"),
          eos = "", useBytes = FALSE)
</pre> <h3>Arguments</h3> <table summary="R argblock"> <tr valign="top">
<td><code>con</code></td> <td> <p>A <a href="connections">connection</a> object, or a character string naming a file, or a raw vector.</p> </td>
</tr> <tr valign="top">
<td><code>nchars</code></td> <td> <p>integer vector, giving the lengths in characters of (unterminated) character strings to be read or written. Elements must be &gt;= 0 and not <code>NA</code>.</p> </td>
</tr> <tr valign="top">
<td><code>useBytes</code></td> <td> <p>logical: For <code>readChar</code>, should <code>nchars</code> be regarded as a number of bytes not characters in a multi-byte locale? For <code>writeChar</code>, see <code><a href="writelines">writeLines</a></code>.</p> </td>
</tr> <tr valign="top">
<td><code>object</code></td> <td> <p>A character vector to be written to the connection, at least as long as <code>nchars</code>.</p> </td>
</tr> <tr valign="top">
<td><code>eos</code></td> <td> <p>‘end of string’: character string. The terminator to be written after each string, followed by an ASCII <code>nul</code>; use <code>NULL</code> for no terminator at all.</p> </td>
</tr> </table> <h3>Details</h3> <p>These functions complement <code><a href="readbin">readBin</a></code> and <code><a href="readbin">writeBin</a></code> which read and write C-style zero-terminated character strings. They are for strings of known length, and can optionally write an end-of-string mark. They are intended only for character strings valid in the current locale. </p> <p>These functions are intended to be used with binary-mode connections. If <code>con</code> is a character string, the functions call <code><a href="connections">file</a></code> to obtain a binary-mode file connection which is opened for the duration of the function call. </p> <p>If the connection is open it is read/written from its current position. If it is not open, it is opened for the duration of the call in an appropriate mode (binary read or write) and then closed again. An open connection must be in binary mode. </p> <p>If <code>readChar</code> is called with <code>con</code> a raw vector, the data in the vector is used as input. If <code>writeChar</code> is called with <code>con</code> a raw vector, it is just an indication that a raw vector should be returned. </p> <p>Character strings containing ASCII <code>nul</code>(s) will be read correctly by <code>readChar</code> but truncated at the first <code>nul</code> with a warning. </p> <p>If the character length requested for <code>readChar</code> is longer than the data available on the connection, what is available is returned. For <code>writeChar</code> if too many characters are requested the output is zero-padded, with a warning. </p> <p>Missing strings are written as <code>NA</code>. </p> <h3>Value</h3> <p>For <code>readChar</code>, a character vector of length the number of items read (which might be less than <code>length(nchars)</code>). </p> <p>For <code>writeChar</code>, a raw vector (if <code>con</code> is a raw vector) or invisibly <code>NULL</code>. </p> <h3>Note</h3> <p>Earlier versions of <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> allowed embedded nul bytes within character strings, but not <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> &gt;= 2.8.0. <code>readChar</code> was commonly used to read fixed-size zero-padded byte fields for which <code>readBin</code> was unsuitable. <code>readChar</code> can still be used for such fields if there are no embedded nuls: otherwise <code>readBin(what = "raw")</code> provides an alternative. </p> <p><code>nchars</code> will be interpreted in bytes not characters in a non-UTF-8 multi-byte locale, with a warning. </p> <p>There is little validity checking of UTF-8 reads. </p> <p>Using these functions on a text-mode connection may work but should not be mixed with text-mode access to the connection, especially if the connection was opened with an <code>encoding</code> argument. </p> <h3>See Also</h3> <p>The ‘R Data Import/Export’ manual. </p> <p><code><a href="connections">connections</a></code>, <code><a href="readlines">readLines</a></code>, <code><a href="writelines">writeLines</a></code>, <code><a href="readbin">readBin</a></code> </p> <h3>Examples</h3> <pre data-language="r">
## test fixed-length strings
zzfil &lt;- tempfile("testchar")
zz &lt;- file(zzfil, "wb")
x &lt;- c("a", "this will be truncated", "abc")
nc &lt;- c(3, 10, 3)
writeChar(x, zz, nc, eos = NULL)
writeChar(x, zz, eos = "\r\n")
close(zz)

zz &lt;- file(zzfil, "rb")
readChar(zz, nc)
readChar(zz, nchar(x)+3) # need to read the terminator explicitly
close(zz)
unlink(zzfil)
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    Copyright (©) 1999–2012 R Foundation for Statistical Computing.<br>Licensed under the <a href="https://www.gnu.org/copyleft/gpl.html">GNU General Public License</a>.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
