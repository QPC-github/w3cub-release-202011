
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Long Vectors - R - W3cubDocs</title>
  
  <meta name="description" content=" Vectors of 2&#94;31 or more elements were added in R 3.0.0. ">
  <meta name="keywords" content="long, vectors, r">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/r/library/base/html/longvectors.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/r.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/r/" class="_nav-link" title="" style="margin-left:0;">R</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h2>
<code>LongVectors</code> Long Vectors</h2> <h3>Description</h3> <p>Vectors of <i>2^31</i> or more elements were added in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 3.0.0. </p> <h3>Details</h3> <p>Prior to <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 3.0.0, all vectors in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> were restricted to at most <i>2^31 - 1</i> elements and could be indexed by integer vectors. </p> <p>Currently all <a href="vector">atomic</a> (raw, logical, integer, numeric, complex, character) vectors, <a href="list">list</a>s and <a href="expression">expression</a>s can be much longer on 64-bit platforms: such vectors are referred to as ‘long vectors’ and have a slightly different internal structure. In theory they can contain up to <i>2^52</i> elements, but address space limits of current CPUs and OSes will be much smaller. Such objects will have a <a href="length">length</a> that is expressed as a double, and can be indexed by double vectors. </p> <p>Arrays (including matrices) can be based on long vectors provided each of their dimensions is at most <i>2^31 - 1</i>: thus there are no 1-dimensional long arrays. </p> <p><span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> code typically only needs minor changes to work with long vectors, maybe only checking that <code>as.integer</code> is not used unnecessarily for e.g. lengths. However, compiled code typically needs quite extensive changes. Note that the <code><a href="foreign">.C</a></code> and <code><a href="foreign">.Fortran</a></code> interfaces do not accept long vectors, so <code><a href="callexternal">.Call</a></code> (or similar) has to be used. </p> <p>Because of the storage requirements (a minimum of 64 bytes per character string), character vectors are only going to be usable if they have a small number of distinct elements, and even then factors will be more efficient (4 bytes per element rather than 8). So it is expected that most of the usage of long vectors will be integer vectors (including factors) and numeric vectors. </p> <h3>Matrix algebra</h3> <p>It is now possible to use <i>m x n</i> matrices with more than 2 billion elements. Whether matrix algebra (including <code><a href="matmult">%*%</a></code>, <code><a href="crossprod">crossprod</a></code>, <code><a href="svd">svd</a></code>, <code><a href="qr">qr</a></code>, <code><a href="solve">solve</a></code> and <code><a href="eigen">eigen</a></code>) will actually work is somewhat implementation dependent, including the Fortran compiler used and if an external BLAS or LAPACK is used. </p> <p>An efficient parallel BLAS implementation will often be important to obtain usable performance. For example on one particular platform <code>chol</code> on a 47,000 square matrix took about 5 hours with the internal BLAS, 21 minutes using an optimized BLAS on one core, and 2 minutes using an optimized BLAS on 16 cores. </p>
<div class="_attribution">
  <p class="_attribution-p">
    Copyright (©) 1999–2012 R Foundation for Statistical Computing.<br>Licensed under the <a href="https://www.gnu.org/copyleft/gpl.html">GNU General Public License</a>.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
