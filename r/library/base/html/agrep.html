
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>.amatch_bounds - R - W3cubDocs</title>
  
  <meta name="description" content="Searches for approximate matches to pattern (the first argument) within each element of the string x (the second argument) using the generalized &hellip;">
  <meta name="keywords" content="amatch, bounds, r">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/r/library/base/html/agrep.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/r.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/r/" class="_nav-link" title="" style="margin-left:0;">R</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h2>
<code>agrep</code> Approximate String Matching (Fuzzy Matching)</h2> <h3>Description</h3> <p>Searches for approximate matches to <code>pattern</code> (the first argument) within each element of the string <code>x</code> (the second argument) using the generalized Levenshtein edit distance (the minimal possibly weighted number of insertions, deletions and substitutions needed to transform one string into another). </p> <h3>Usage</h3> <pre data-language="r">
agrep(pattern, x, max.distance = 0.1, costs = NULL,
      ignore.case = FALSE, value = FALSE, fixed = TRUE,
      useBytes = FALSE)

agrepl(pattern, x, max.distance = 0.1, costs = NULL,
       ignore.case = FALSE, fixed = TRUE, useBytes = FALSE)
</pre> <h3>Arguments</h3> <table summary="R argblock"> <tr valign="top">
<td><code>pattern</code></td> <td> <p>a non-empty character string to be matched. For <code>fixed = FALSE</code> this should contain an extended <a href="regex">regular expression</a>. Coerced by <code><a href="character">as.character</a></code> to a string if possible.</p> </td>
</tr> <tr valign="top">
<td><code>x</code></td> <td> <p>character vector where matches are sought. Coerced by <code><a href="character">as.character</a></code> to a character vector if possible.</p> </td>
</tr> <tr valign="top">
<td><code>max.distance</code></td> <td> <p>Maximum distance allowed for a match. Expressed either as integer, or as a fraction of the <em>pattern</em> length times the maximal transformation cost (will be replaced by the smallest integer not less than the corresponding fraction), or a list with possible components </p> <dl> <dt>
<code>cost</code>:</dt>
<dd>
<p>maximum number/fraction of match cost (generalized Levenshtein distance)</p> </dd> <dt>
<code>all</code>:</dt>
<dd>
<p>maximal number/fraction of <em>all</em> transformations (insertions, deletions and substitutions)</p> </dd> <dt>
<code>insertions</code>:</dt>
<dd>
<p>maximum number/fraction of insertions</p> </dd> <dt>
<code>deletions</code>:</dt>
<dd>
<p>maximum number/fraction of deletions</p> </dd> <dt>
<code>substitutions</code>:</dt>
<dd>
<p>maximum number/fraction of substitutions</p> </dd> </dl> <p>If <code>cost</code> is not given, <code>all</code> defaults to 10%, and the other transformation number bounds default to <code>all</code>. The component names can be abbreviated. </p> </td>
</tr> <tr valign="top">
<td><code>costs</code></td> <td> <p>a numeric vector or list with names partially matching <span class="samp">insertions</span>, <span class="samp">deletions</span> and <span class="samp">substitutions</span> giving the respective costs for computing the generalized Levenshtein distance, or <code>NULL</code> (default) indicating using unit cost for all three possible transformations. Coerced to integer via <code><a href="integer">as.integer</a></code> if possible.</p> </td>
</tr> <tr valign="top">
<td><code>ignore.case</code></td> <td> <p>if <code>FALSE</code>, the pattern matching is <em>case sensitive</em> and if <code>TRUE</code>, case is ignored during matching.</p> </td>
</tr> <tr valign="top">
<td><code>value</code></td> <td> <p>if <code>FALSE</code>, a vector containing the (integer) indices of the matches determined is returned and if <code>TRUE</code>, a vector containing the matching elements themselves is returned.</p> </td>
</tr> <tr valign="top">
<td><code>fixed</code></td> <td> <p>logical. If <code>TRUE</code> (default), the pattern is matched literally (as is). Otherwise, it is matched as a regular expression.</p> </td>
</tr> <tr valign="top">
<td><code>useBytes</code></td> <td> <p>logical. in a multibyte locale, should the comparison be character-by-character (the default) or byte-by-byte.</p> </td>
</tr> </table> <h3>Details</h3> <p>The Levenshtein edit distance is used as measure of approximateness: it is the (possibly cost-weighted) total number of insertions, deletions and substitutions required to transform one string into another. </p> <p>This uses the <code>tre</code> code by Ville Laurikari (<a href="https://github.com/laurikari/tre">https://github.com/laurikari/tre</a>), which supports MBCS character matching. </p> <p>The main effect of <code>useBytes</code> is to avoid errors/warnings about invalid inputs and spurious matches in multibyte locales. It inhibits the conversion of inputs with marked encodings, and is forced if any input is found which is marked as <code>"bytes"</code> (see <code><a href="encoding">Encoding</a></code>). </p> <h3>Value</h3> <p><code>agrep</code> returns a vector giving the indices of the elements that yielded a match, or, if <code>value</code> is <code>TRUE</code>, the matched elements (after coercion, preserving names but no other attributes). </p> <p><code>agrepl</code> returns a logical vector. </p> <h3>Note</h3> <p>Since someone who read the description carelessly even filed a bug report on it, do note that this matches substrings of each element of <code>x</code> (just as <code><a href="grep">grep</a></code> does) and <b>not</b> whole elements. See also <code><a href="../../utils/html/adist">adist</a></code> in package <span class="pkg">utils</span>, which optionally returns the offsets of the matched substrings. </p> <h3>Author(s)</h3> <p>Original version in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> &lt; 2.10.0 by David Meyer. Current version by Brian Ripley and Kurt Hornik. </p> <h3>See Also</h3> <p><code><a href="grep">grep</a></code>, <code><a href="../../utils/html/adist">adist</a></code>. A different interface to approximate string matching is provided by <code><a href="../../utils/html/aregexec">aregexec</a>()</code>. </p> <h3>Examples</h3> <pre data-language="r">
agrep("lasy", "1 lazy 2")
agrep("lasy", c(" 1 lazy 2", "1 lasy 2"), max.distance = list(sub = 0))
agrep("laysy", c("1 lazy", "1", "1 LAZY"), max.distance = 2)
agrep("laysy", c("1 lazy", "1", "1 LAZY"), max.distance = 2, value = TRUE)
agrep("laysy", c("1 lazy", "1", "1 LAZY"), max.distance = 2, ignore.case = TRUE)
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    Copyright (©) 1999–2012 R Foundation for Statistical Computing.<br>Licensed under the <a href="https://www.gnu.org/copyleft/gpl.html">GNU General Public License</a>.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
