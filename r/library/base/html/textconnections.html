
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Text Connections - R - W3cubDocs</title>
  
  <meta name="description" content=" Input and output text connections. ">
  <meta name="keywords" content="text, connections, r">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/r/library/base/html/textconnections.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/r.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/r/" class="_nav-link" title="" style="margin-left:0;">R</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h2>
<code>textconnections</code> Text Connections</h2> <h3>Description</h3> <p>Input and output text connections. </p> <h3>Usage</h3> <pre data-language="r">
textConnection(object, open = "r", local = FALSE,
               name = deparse(substitute(object)),
               encoding = c("", "bytes", "UTF-8"))

textConnectionValue(con)
</pre> <h3>Arguments</h3> <table summary="R argblock"> <tr valign="top">
<td><code>object</code></td> <td> <p>character. A description of the <a href="connections">connection</a>. For an input this is an <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> character vector object, and for an output connection the name for the <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> character vector to receive the output, or <code>NULL</code> (for none). </p> </td>
</tr> <tr valign="top">
<td><code>open</code></td> <td> <p>character string. Either <code>"r"</code> (or equivalently <code>""</code>) for an input connection or <code>"w"</code> or <code>"a"</code> for an output connection.</p> </td>
</tr> <tr valign="top">
<td><code>local</code></td> <td> <p>logical. Used only for output connections. If <code>TRUE</code>, output is assigned to a variable in the calling environment. Otherwise the global environment is used.</p> </td>
</tr> <tr valign="top">
<td><code>name</code></td> <td> <p>a <code><a href="character">character</a></code> string specifying the connection name.</p> </td>
</tr> <tr valign="top">
<td><code>encoding</code></td> <td> <p>character string, partially matched. Used only for input connections. How marked strings in <code>object</code> should be handled: converted to the current locale, used byte-by-byte or translated to UTF-8.</p> </td>
</tr> <tr valign="top">
<td><code>con</code></td> <td> <p>An output text connection.</p> </td>
</tr> </table> <h3>Details</h3> <p>An input text connection is opened and the character vector is copied at time the connection object is created, and <code>close</code> destroys the copy. <code>object</code> should be the name of a character vector: however, short expressions will be accepted provided they <a href="deparse">deparse</a> to less than 60 bytes. </p> <p>An output text connection is opened and creates an <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> character vector of the given name in the user's workspace or in the calling environment, depending on the value of the <code>local</code> argument. This object will at all times hold the completed lines of output to the connection, and <code><a href="connections">isIncomplete</a></code> will indicate if there is an incomplete final line. Closing the connection will output the final line, complete or not. (A line is complete once it has been terminated by end-of-line, represented by <code>"\n"</code> in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>.) The output character vector has locked bindings (see <code><a href="bindenv">lockBinding</a></code>) until <code>close</code> is called on the connection. The character vector can also be retrieved <em>via</em> <code>textConnectionValue</code>, which is the only way to do so if <code>object = NULL</code>. If the current locale is detected as Latin-1 or UTF-8, non-ASCII elements of the character vector will be marked accordingly (see <code>Encoding</code>). </p> <p>Opening a text connection with <code>mode = "a"</code> will attempt to append to an existing character vector with the given name in the user's workspace or the calling environment. If none is found (even if an object exists of the right name but the wrong type) a new character vector will be created, with a warning. </p> <p>You cannot <code>seek</code> on a text connection, and <code>seek</code> will always return zero as the position. </p> <p>Text connections have slightly unusual semantics: they are always open, and throwing away an input text connection without closing it (so it get garbage-collected) does not give a warning. </p> <h3>Value</h3> <p>For <code>textConnection</code>, a connection object of class <code>"textConnection"</code> which inherits from class <code>"connection"</code>. </p> <p>For <code>textConnectionValue</code>, a character vector. </p> <h3>Note</h3> <p>As output text connections keep the character vector up to date line-by-line, they are relatively expensive to use, and it is often better to use an anonymous <code><a href="connections">file</a>()</code> connection to collect output. </p> <p>On (rare) platforms where <code>vsnprintf</code> does not return the needed length of output there is a 100,000 character limit on the length of line for output connections: longer lines will be truncated with a warning. </p> <h3>References</h3> <p>Chambers, J. M. (1998) <em>Programming with Data. A Guide to the S Language.</em> Springer.<br> [S has input text connections only.] </p> <h3>See Also</h3> <p><code><a href="connections">connections</a></code>, <code><a href="showconnections">showConnections</a></code>, <code><a href="pushback">pushBack</a></code>, <code><a href="../../utils/html/capture.output">capture.output</a></code>. </p> <h3>Examples</h3> <pre data-language="r">
zz &lt;- textConnection(LETTERS)
readLines(zz, 2)
scan(zz, "", 4)
pushBack(c("aa", "bb"), zz)
scan(zz, "", 4)
close(zz)

zz &lt;- textConnection("foo", "w")
writeLines(c("testit1", "testit2"), zz)
cat("testit3 ", file = zz)
isIncomplete(zz)
cat("testit4\n", file = zz)
isIncomplete(zz)
close(zz)
foo

# capture R output: use part of example from help(lm)
zz &lt;- textConnection("foo", "w")
ctl &lt;- c(4.17, 5.58, 5.18, 6.11, 4.5, 4.61, 5.17, 4.53, 5.33, 5.14)
trt &lt;- c(4.81, 4.17, 4.41, 3.59, 5.87, 3.83, 6.03, 4.89, 4.32, 4.69)
group &lt;- gl(2, 10, 20, labels = c("Ctl", "Trt"))
weight &lt;- c(ctl, trt)
sink(zz)
anova(lm.D9 &lt;- lm(weight ~ group))
cat("\nSummary of Residuals:\n\n")
summary(resid(lm.D9))
sink()
close(zz)
cat(foo, sep = "\n")

</pre>
<div class="_attribution">
  <p class="_attribution-p">
    Copyright (©) 1999–2012 R Foundation for Statistical Computing.<br>Licensed under the <a href="https://www.gnu.org/copyleft/gpl.html">GNU General Public License</a>.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
