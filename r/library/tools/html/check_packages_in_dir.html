
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Check Source Packages and Their Reverse Dependencies - R - W3cubDocs</title>
  
  <meta name="description" content=" Check source packages in a given directory, optionally with their reverse dependencies. ">
  <meta name="keywords" content="check, source, packages, and, their, reverse, dependencies, r">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/r/library/tools/html/check_packages_in_dir.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/r.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/r/" class="_nav-link" title="" style="margin-left:0;">R</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h2>
<code>check_packages_in_dir</code> Check Source Packages and Their Reverse Dependencies</h2> <h3>Description</h3> <p>Check source packages in a given directory, optionally with their reverse dependencies. </p> <h3>Usage</h3> <pre data-language="r">
check_packages_in_dir(dir,
                      check_args = character(),
                      check_args_db = list(),
                      reverse = NULL,
                      check_env = character(),
                      xvfb = FALSE,
                      Ncpus = getOption("Ncpus", 1L),
                      clean = TRUE,
                      ...)

summarize_check_packages_in_dir_results(dir, all = TRUE,
                                        full = FALSE, ...)
summarize_check_packages_in_dir_timings(dir, all = FALSE,
                                        full = FALSE)
summarize_check_packages_in_dir_depends(dir, all = FALSE,
                                        which = c("Depends",
                                                  "Imports",
                                                  "LinkingTo"))

check_packages_in_dir_changes(dir, old,
                              outputs = FALSE, sources = FALSE, ...)
check_packages_in_dir_details(dir, logs = NULL, drop_ok = TRUE, ...)
</pre> <h3>Arguments</h3> <table summary="R argblock"> <tr valign="top">
<td><code>dir</code></td> <td> <p>a character string giving the path to the directory with the source ‘<span class="file">.tar.gz</span>’ files to be checked.</p> </td>
</tr> <tr valign="top">
<td><code>check_args</code></td> <td> <p>a character vector with arguments to be passed to <code>R CMD check</code>, or a list of length two of such character vectors to be used for checking packages and reverse dependencies, respectively.</p> </td>
</tr> <tr valign="top">
<td><code>check_args_db</code></td> <td> <p>a named list of character vectors with arguments to be passed to <code>R CMD check</code>, with names the respective package names.</p> </td>
</tr> <tr valign="top">
<td><code>reverse</code></td> <td> <p>a list with names partially matching <code>"repos"</code>, <code>"which"</code>, or <code>"recursive"</code>, giving the repositories to use for locating reverse dependencies (a subset of <code>getOption("repos")</code>, the default), the types of reverse dependencies (default: <code>c("Depends", "Imports", "LinkingTo")</code>, with shorthands <code>"most"</code> and <code>"all"</code> as for <code><a href="package_dependencies">package_dependencies</a></code>), and indicating whether to also check reverse dependencies of reverse dependencies and so on (default: <code>FALSE</code>), or <code>NULL</code> (default), in which case no reverse dependencies are checked.</p> </td>
</tr> <tr valign="top">
<td><code>check_env</code></td> <td> <p>a character vector of name=value strings to set environment variables for checking, or a list of length two of such character vectors to be used for checking packages and reverse dependencies, respectively.</p> </td>
</tr> <tr valign="top">
<td><code>xvfb</code></td> <td> <p>a logical indicating whether to perform checking inside a virtual framebuffer X server (Unix only), or a character vector of Xvfb options for doing so.</p> </td>
</tr> <tr valign="top">
<td><code>Ncpus</code></td> <td> <p>the number of parallel processes to use for parallel installation and checking.</p> </td>
</tr> <tr valign="top">
<td><code>clean</code></td> <td> <p>a logical indicating whether to remove the downloaded reverse dependency sources.</p> </td>
</tr> <tr valign="top">
<td><code>...</code></td> <td> <p>passed to <code><a href="../../base/html/readlines">readLines</a></code>, e.g. for reading log files produced in a different encoding; currently not used by <code>check_packages_in_dir</code>.</p> </td>
</tr> <tr valign="top">
<td><code>all</code></td> <td> <p>a logical indicating whether to also summarize the reverse dependencies checked.</p> </td>
</tr> <tr valign="top">
<td><code>full</code></td> <td> <p>a logical indicating whether to also give details for checks with non-ok results, or summarize check example timings (if available).</p> </td>
</tr> <tr valign="top">
<td><code>which</code></td> <td> <p>see <code><a href="package_dependencies">package_dependencies</a></code>.</p> </td>
</tr> <tr valign="top">
<td><code>old</code></td> <td> <p>a character string giving the path to the directory of a previous <code>check_packages_in_dir</code> run.</p> </td>
</tr> <tr valign="top">
<td><code>outputs</code></td> <td> <p>a logical indicating whether to analyze changes in the outputs of the checks performed, or only (default) the status of the checks.</p> </td>
</tr> <tr valign="top">
<td><code>sources</code></td> <td> <p>a logical indicating whether to also investigate the changes in the source files checked (default: <code>FALSE</code>).</p> </td>
</tr> <tr valign="top">
<td><code>logs</code></td> <td> <p>a character vector with the paths of ‘<span class="file">00check.log</span>’ to analyze. Only used if <code>dir</code> was not given.</p> </td>
</tr> <tr valign="top">
<td><code>drop_ok</code></td> <td> <p>a logical indicating whether to drop checks with ‘ok’ status, or a character vector with the ‘ok’ status tags to drop. The default corresponds to tags <span class="samp">OK</span>, <span class="samp">NONE</span> and <span class="samp">SKIPPED</span>.</p> </td>
</tr> </table> <h3>Details</h3> <p><code>check_packages_in_dir</code> allows to conveniently check source package ‘<span class="file">.tar.gz</span>’ files in the given directory <code>dir</code>, along with their reverse dependencies as controlled by <code>reverse</code>. </p> <p>The <code>"which"</code> component of <code>reverse</code> can also be a list, in which case reverse dependencies are obtained for each element of the list and the corresponding element of the <code>"recursive"</code> component of <code>reverse</code> (which is recycled as needed). </p> <p>If needed, the source ‘<span class="file">.tar.gz</span>’ files of the reverse dependencies to be checked as well are downloaded into <code>dir</code> (and removed at the end if <code>clean</code> is true). Next, all packages (additionally) needed for checking are installed to the ‘<span class="file">Library</span>’ subdirectory of <code>dir</code>. Then, all ‘<span class="file">.tar.gz</span>’ files are checked using the given arguments and environment variables, with outputs and messages to files in the ‘<span class="file">Outputs</span>’ subdirectory of <code>dir</code>. The ‘<span class="file">*.Rcheck</span>’ directories with the check results of the reverse dependencies are renamed by prefixing their base names with <span class="samp">rdepends_</span>. </p> <p>Results and timings can conveniently be summarized using <code>summarize_check_packages_in_dir_results</code> and <code>summarize_check_packages_in_dir_timings</code>, respectively. </p> <p>Installation and checking is performed in parallel if <code>Ncpus</code> is greater than one: this will use <code><a href="../../parallel/html/mclapply">mclapply</a></code> on Unix and <code><a href="../../parallel/html/clusterapply">parLapply</a></code> on Windows. </p> <p><code>check_packages_in_dir</code> returns an object inheriting from class <code>"check_packages_in_dir"</code> which has <code><a href="../../base/html/print">print</a></code> and <code><a href="../../base/html/summary">summary</a></code> methods. </p> <p><code>check_packages_in_dir_changes</code> allows to analyze the effect of changing (some of) the sources. With <code>dir</code> and <code>old</code> the paths to the directories with the new and old sources, respectively, and the corresponding check results, possible changes in the check results can conveniently be analyzed as controlled via options <code>outputs</code> and <code>sources</code>. The changes object returned can be subscripted according to change in severity from the old to the new results by using one of <code>"=="</code>, <code>"!="</code>, <code>"&lt;"</code>, <code>"&lt;="</code>, <code>"&gt;"</code> or <code>"&gt;="</code> as row index. </p> <p><code>check_packages_in_dir_details</code> analyzes check log files to obtain check details as a data frame which can be used for further processing, providing check name, status and output for every check performed and not dropped according to status tag (via variables <code>Check</code>, <code>Status</code> and <code>Output</code>, respectively). </p> <p>Environment variable <span class="env">_R_CHECK_ELAPSED_TIMEOUT_</span> can be used to set a limit on the elapsed time of each <code>check</code> run. See the ‘R Internals’ manual for how the value is interpreted and for other environment variables which can be used for finer-grained control on timeouts within a <code>check</code> run. </p> <h3>Note</h3> <p>This functionality is still experimental: interfaces may change in future versions. </p> <h3>Examples</h3> <pre data-language="r">
## Not run: 
## Check packages in dir without reverse dependencies:
check_packages_in_dir(dir)
## Check packages in dir and their reverse dependencies using the
## defaults (all repositories in getOption("repos"), all "strong"
## reverse dependencies, no recursive reverse dependencies):
check_packages_in_dir(dir, reverse = list())
## Check packages in dir with their reverse dependencies from CRAN,
## using all strong reverse dependencies and reverse suggests:
check_packages_in_dir(dir,
                      reverse = list(repos = getOption("repos")["CRAN"],
                                     which = "most"))                   
## Check packages in dir with their reverse dependencies from CRAN,
## using '--as-cran' for the former but not the latter:
check_packages_in_dir(dir,
                      check_args = c("--as-cran", ""),
                      reverse = list(repos = getOption("repos")["CRAN"]))

## End(Not run)
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    Copyright (©) 1999–2012 R Foundation for Statistical Computing.<br>Licensed under the <a href="https://www.gnu.org/copyleft/gpl.html">GNU General Public License</a>.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
