
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>jack.after.boot - R - W3cubDocs</title>
  
  <meta name="description" content=" This function calculates the jackknife influence values from a bootstrap output object and plots the corresponding jackknife-after-bootstrap plot. ">
  <meta name="keywords" content="jack, after, boot, r">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/r/library/boot/html/jack.after.boot.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-c2f2e7d1236e299f399a2d9bf4342fa70a8839fbe6eb79130546d6bf383b99636ffdf29c557090085d7c4ac34eeb5426851b42d2f4ec63cf218916cbd19aa876.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/r.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/r/" class="_nav-link" title="" style="margin-left:0;">R</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h2>
<code>jack.after.boot</code>  Jackknife-after-Bootstrap Plots </h2> <h3>Description</h3> <p>This function calculates the jackknife influence values from a bootstrap output object and plots the corresponding jackknife-after-bootstrap plot. </p> <h3>Usage</h3> <pre data-language="r">
jack.after.boot(boot.out, index = 1, t = NULL, L = NULL,
                useJ = TRUE, stinf = TRUE, alpha = NULL,
                main = "", ylab = NULL, ...)
</pre> <h3>Arguments</h3> <table summary="R argblock"> <tr valign="top">
<td><code>boot.out</code></td> <td> <p>An object of class <code>"boot"</code> which would normally be created by a call to <code><a href="boot">boot</a></code>. It should represent a nonparametric bootstrap. For reliable results <code>boot.out$R</code> should be reasonably large. </p> </td>
</tr> <tr valign="top">
<td><code>index</code></td> <td> <p>The index of the statistic of interest in the output of <code>boot.out$statistic</code>. </p> </td>
</tr> <tr valign="top">
<td><code>t</code></td> <td> <p>A vector of length <code>boot.out$R</code> giving the bootstrap replicates of the statistic of interest. This is useful if the statistic of interest is a function of the calculated bootstrap output. If it is not supplied then the default is <code>boot.out$t[,index]</code>. </p> </td>
</tr> <tr valign="top">
<td><code>L</code></td> <td> <p>The empirical influence values for the statistic of interest. These are used only if <code>useJ</code> is <code>FALSE</code>. If they are not supplied and are needed, they are calculated by a call to <code>empinf</code>. If <code>L</code> is supplied then it is assumed that they are the infinitesimal jackknife values. </p> </td>
</tr> <tr valign="top">
<td><code>useJ</code></td> <td> <p>A logical variable indicating if the jackknife influence values calculated from the bootstrap replicates should be used. If <code>FALSE</code> the empirical influence values are used. The default is <code>TRUE</code>. </p> </td>
</tr> <tr valign="top">
<td><code>stinf</code></td> <td> <p>A logical variable indicating whether to standardize the jackknife values before plotting them. If <code>TRUE</code> then the jackknife values used are divided by their standard error. </p> </td>
</tr> <tr valign="top">
<td><code>alpha</code></td> <td> <p>The quantiles at which the plots are required. The default is <code>c(0.05, 0.1, 0.16, 0.5, 0.84, 0.9, 0.95)</code>. </p> </td>
</tr> <tr valign="top">
<td><code>main</code></td> <td> <p>A character string giving the main title for the plot. </p> </td>
</tr> <tr valign="top">
<td><code>ylab</code></td> <td> <p>The label for the Y axis. If the default values of <code>alpha</code> are used and <code>ylab</code> is not supplied then a label indicating which percentiles are plotted is used. If <code>alpha</code> is supplied then the default label will not say which percentiles were used. </p> </td>
</tr> <tr valign="top">
<td><code>...</code></td> <td> <p>Any extra arguments required by <code>boot.out$statistic</code>. These are required only if <code>useJ</code> is <code>FALSE</code> and <code>L</code> is not supplied, in which case they are passed to <code>empinf</code> for use in calculation of the empirical influence values. </p> </td>
</tr>
</table> <h3>Details</h3> <p>The centred jackknife quantiles for each observation are estimated from those bootstrap samples in which the particular observation did not appear. These are then plotted against the influence values. If <code>useJ</code> is <code>TRUE</code> then the influence values are found in the same way as the difference between the mean of the statistic in the samples excluding the observations and the mean in all samples. If <code>useJ</code> is <code>FALSE</code> then empirical influence values are calculated by calling <code>empinf</code>. </p> <p>The resulting plots are useful diagnostic tools for looking at the way individual observations affect the bootstrap output. </p> <p>The plot will consist of a number of horizontal dotted lines which correspond to the quantiles of the centred bootstrap distribution. For each data point the quantiles of the bootstrap distribution calculated by omitting that point are plotted against the (possibly standardized) jackknife values. The observation number is printed below the plots. To make it easier to see the effect of omitting points on quantiles, the plotted quantiles are joined by line segments. These plots provide a useful diagnostic tool in establishing the effect of individual observations on the bootstrap distribution. See the references below for some guidelines on the interpretation of the plots. </p> <h3>Value</h3> <p>There is no returned value but a plot is generated on the current graphics display. </p> <h3>Side Effects</h3> <p>A plot is created on the current graphics device. </p> <h3>References</h3> <p>Davison, A.C. and Hinkley, D.V. (1997) <em>Bootstrap Methods and Their Application</em>. Cambridge University Press. </p> <p>Efron, B. (1992) Jackknife-after-bootstrap standard errors and influence functions (with Discussion). <em>Journal of the Royal Statistical Society, B</em>, <b>54</b>, 83–127. </p> <h3>See Also</h3> <p><code><a href="boot">boot</a></code>, <code><a href="empinf">empinf</a></code> </p> <h3>Examples</h3> <pre data-language="r">
#  To draw the jackknife-after-bootstrap plot for the head size data as in
#  Example 3.24 of Davison and Hinkley (1997)
frets.fun &lt;- function(data, i) {
    pcorr &lt;- function(x) { 
    #  Function to find the correlations and partial correlations between
    #  the four measurements.
         v &lt;- cor(x)
         v.d &lt;- diag(var(x))
         iv &lt;- solve(v)
         iv.d &lt;- sqrt(diag(iv))
         iv &lt;- - diag(1/iv.d) %*% iv %*% diag(1/iv.d)
         q &lt;- NULL
         n &lt;- nrow(v)
         for (i in 1:(n-1)) 
              q &lt;- rbind( q, c(v[i, 1:i], iv[i,(i+1):n]) )
         q &lt;- rbind( q, v[n, ] )
         diag(q) &lt;- round(diag(q))
         q
    }
    d &lt;- data[i, ]
    v &lt;- pcorr(d)
    c(v[1,], v[2,], v[3,], v[4,])
}
frets.boot &lt;- boot(log(as.matrix(frets)), frets.fun, R = 999)
#  we will concentrate on the partial correlation between head breadth
#  for the first son and head length for the second.  This is the 7th
#  element in the output of frets.fun so we set index = 7
jack.after.boot(frets.boot, useJ = FALSE, stinf = FALSE, index = 7)
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    Copyright (©) 1999–2012 R Foundation for Statistical Computing.<br>Licensed under the <a href="https://www.gnu.org/copyleft/gpl.html">GNU General Public License</a>.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
