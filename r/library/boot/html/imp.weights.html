
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>imp.weights - R - W3cubDocs</title>
  
  <meta name="description" content="This function calculates the importance sampling weight required to correct for simulation from a distribution with probabilities p when estimates &hellip;">
  <meta name="keywords" content="imp, weights, r">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/r/library/boot/html/imp.weights.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/r.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/r/" class="_nav-link" title="" style="margin-left:0;">R</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h2>
<code>imp.weights</code>  Importance Sampling Weights </h2> <h3>Description</h3> <p>This function calculates the importance sampling weight required to correct for simulation from a distribution with probabilities <code>p</code> when estimates are required assuming that simulation was from an alternative distribution with probabilities <code>q</code>. </p> <h3>Usage</h3> <pre data-language="r">
imp.weights(boot.out, def = TRUE, q = NULL)
</pre> <h3>Arguments</h3> <table summary="R argblock"> <tr valign="top">
<td><code>boot.out</code></td> <td> <p>A object of class <code>"boot"</code> generated by <code>boot</code> or <code>tilt.boot</code>. Typically the bootstrap simulations would have been done using importance resampling and we wish to do our calculations under the assumption of sampling with equal probabilities. </p> </td>
</tr> <tr valign="top">
<td><code>def</code></td> <td> <p>A logical variable indicating whether the defensive mixture distribution weights should be calculated. This makes sense only in the case where the replicates in <code>boot.out</code> were simulated under a number of different distributions. If this is the case then the defensive mixture weights use a mixture of the distributions used in the bootstrap. The alternative is to calculate the weights for each replicate using knowledge of the distribution from which the bootstrap resample was generated. </p> </td>
</tr> <tr valign="top">
<td><code>q</code></td> <td> <p>A vector of probabilities specifying the resampling distribution from which we require inferences to be made. In general this would correspond to the usual bootstrap resampling distribution which gives equal weight to each of the original observations and this is the default. <code>q</code> must have length equal to the number of observations in the <code>boot.out$data</code> and all elements of <code>q</code> must be positive. </p> </td>
</tr>
</table> <h3>Details</h3> <p>The importance sampling weight for a bootstrap replicate with frequency vector <code>f</code> is given by <code>prod((q/p)^f)</code>. This reweights the replicates so that estimates can be found as if the bootstrap resamples were generated according to the probabilities <code>q</code> even though, in fact, they came from the distribution <code>p</code>. </p> <h3>Value</h3> <p>A vector of importance weights of the same length as <code>boot.out$t</code>. These weights can then be used to reweight <code>boot.out$t</code> so that estimates can be found as if the simulations were from a distribution with probabilities <code>q</code>. </p> <h3>Note</h3> <p>See the example in the help for <code>imp.moments</code> for an example of using <code>imp.weights</code>. </p> <h3>References</h3> <p>Davison, A. C. and Hinkley, D. V. (1997) <em>Bootstrap Methods and Their Application</em>. Cambridge University Press. </p> <p>Hesterberg, T. (1995) Weighted average importance sampling and defensive mixture distributions. <em>Technometrics</em>, <b>37</b>, 185–194. </p> <p>Johns, M.V. (1988) Importance sampling for bootstrap confidence intervals. <em>Journal of the American Statistical Association</em>, <b>83</b>, 709–714. </p> <h3>See Also</h3> <p><code><a href="boot">boot</a></code>, <code><a href="exp.tilt">exp.tilt</a></code>, <code><a href="imp.estimates">imp.moments</a></code>, <code><a href="smooth.f">smooth.f</a></code>, <code><a href="tilt.boot">tilt.boot</a></code> </p>
<div class="_attribution">
  <p class="_attribution-p">
    Copyright (©) 1999–2012 R Foundation for Statistical Computing.<br>Licensed under the <a href="https://www.gnu.org/copyleft/gpl.html">GNU General Public License</a>.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
