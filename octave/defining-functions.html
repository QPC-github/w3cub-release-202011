
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Defining Functions - Octave - W3cubDocs</title>
  
  <meta name="description" content=" In its simplest form, the definition of a function named name looks like this&#58; ">
  <meta name="keywords" content="defining, functions, octave">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/octave/defining-functions.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/octave.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/octave/" class="_nav-link" title="" style="margin-left:0;">Octave</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _octave">
				
				
<h1 class="section">11.2 Defining Functions</h1>   <p>In its simplest form, the definition of a function named <var>name</var> looks like this: </p> <pre class="example" data-language="matlab">function name
  body
endfunction</pre> <p>A valid function name is like a valid variable name: a sequence of letters, digits and underscores, not starting with a digit. Functions share the same pool of names as variables. </p> <p>The function <var>body</var> consists of Octave statements. It is the most important part of the definition, because it says what the function should actually <em>do</em>. </p> <p>For example, here is a function that, when executed, will ring the bell on your terminal (assuming that it is possible to do so): </p> <pre class="example" data-language="matlab">function wakeup
  printf ("\a");
endfunction</pre> <p>The <code>printf</code> statement (see <a href="input-and-output#Input-and-Output">Input and Output</a>) simply tells Octave to print the string <code>"\a"</code>. The special character ‘<samp>\a</samp>’ stands for the alert character (ASCII 7). See <a href="strings#Strings">Strings</a>. </p> <p>Once this function is defined, you can ask Octave to evaluate it by typing the name of the function. </p> <p>Normally, you will want to pass some information to the functions you define. The syntax for passing parameters to a function in Octave is </p> <pre class="example" data-language="matlab">function name (arg-list)
  body
endfunction</pre> <p>where <var>arg-list</var> is a comma-separated list of the function’s arguments. When the function is called, the argument names are used to hold the argument values given in the call. The list of arguments may be empty, in which case this form is equivalent to the one shown above. </p> <p>To print a message along with ringing the bell, you might modify the <code>wakeup</code> to look like this: </p> <pre class="example" data-language="matlab">function wakeup (message)
  printf ("\a%s\n", message);
endfunction</pre> <p>Calling this function using a statement like this </p> <pre class="example" data-language="matlab">wakeup ("Rise and shine!");</pre> <p>will cause Octave to ring your terminal’s bell and print the message ‘<samp>Rise and shine!</samp>’, followed by a newline character (the ‘<samp>\n</samp>’ in the first argument to the <code>printf</code> statement). </p> <p>In most cases, you will also want to get some information back from the functions you define. Here is the syntax for writing a function that returns a single value: </p> <pre class="example" data-language="matlab">function ret-var = name (arg-list)
  body
endfunction</pre> <p>The symbol <var>ret-var</var> is the name of the variable that will hold the value to be returned by the function. This variable must be defined before the end of the function body in order for the function to return a value. </p> <p>Variables used in the body of a function are local to the function. Variables named in <var>arg-list</var> and <var>ret-var</var> are also local to the function. See <a href="global-variables#Global-Variables">Global Variables</a>, for information about how to access global variables inside a function. </p> <p>For example, here is a function that computes the average of the elements of a vector: </p> <pre class="example" data-language="matlab">function retval = avg (v)
  retval = sum (v) / length (v);
endfunction</pre> <p>If we had written <code>avg</code> like this instead, </p> <pre class="example" data-language="matlab">function retval = avg (v)
  if (isvector (v))
    retval = sum (v) / length (v);
  endif
endfunction</pre> <p>and then called the function with a matrix instead of a vector as the argument, Octave would have printed an error message like this: </p> <pre class="example" data-language="matlab">error: value on right hand side of assignment is undefined</pre> <p>because the body of the <code>if</code> statement was never executed, and <code>retval</code> was never defined. To prevent obscure errors like this, it is a good idea to always make sure that the return variables will always have values, and to produce meaningful error messages when problems are encountered. For example, <code>avg</code> could have been written like this: </p> <pre class="example" data-language="matlab">function retval = avg (v)
  retval = 0;
  if (isvector (v))
    retval = sum (v) / length (v);
  else
    error ("avg: expecting vector argument");
  endif
endfunction</pre> <p>There is still one additional problem with this function. What if it is called without an argument? Without additional error checking, Octave will probably print an error message that won’t really help you track down the source of the error. To allow you to catch errors like this, Octave provides each function with an automatic variable called <code>nargin</code>. Each time a function is called, <code>nargin</code> is automatically initialized to the number of arguments that have actually been passed to the function. For example, we might rewrite the <code>avg</code> function like this: </p> <pre class="example" data-language="matlab">function retval = avg (v)
  retval = 0;
  if (nargin != 1)
    usage ("avg (vector)");
  endif
  if (isvector (v))
    retval = sum (v) / length (v);
  else
    error ("avg: expecting vector argument");
  endif
endfunction</pre> <p>Although Octave does not automatically report an error if you call a function with more arguments than expected, doing so probably indicates that something is wrong. Octave also does not automatically report an error if a function is called with too few arguments, but any attempt to use a variable that has not been given a value will result in an error. To avoid such problems and to provide useful messages, we check for both possibilities and issue our own error message. </p> <dl id="XREFnargin"> <dt id="index-nargin">nargin ()</dt> <dt id="index-nargin-1">nargin (fcn)</dt> <dd>
<p>Report the number of input arguments to a function. </p> <p>Called from within a function, return the number of arguments passed to the function. At the top level, return the number of command line arguments passed to Octave. </p> <p>If called with the optional argument <var>fcn</var>—a function name or handle—return the declared number of arguments that the function can accept. </p> <p>If the last argument to <var>fcn</var> is <var>varargin</var> the returned value is negative. For example, the function <code>union</code> for sets is declared as </p> <pre class="example" data-language="matlab">function [y, ia, ib] = union (a, b, varargin)

and

nargin ("union")
⇒ -3</pre> <p>Programming Note: <code>nargin</code> does not work on compiled functions (<samp>.oct</samp> files) such as built-in or dynamically loaded functions. </p> <p><strong>See also:</strong> <a href="multiple-return-values#XREFnargout">nargout</a>, <a href="multiple-return-values#XREFnarginchk">narginchk</a>, <a href="multiple-return-values#XREFvarargin">varargin</a>, <a href="#XREFinputname">inputname</a>. </p>
</dd>
</dl> <dl id="XREFinputname"> <dt id="index-inputname">inputname (n)</dt> <dt id="index-inputname-1">inputname (n, ids_only)</dt> <dd>
<p>Return the name of the <var>n</var>-th argument to the calling function. </p> <p>If the argument is not a simple variable name, return an empty string. As an example, a reference to a field in a structure such as <code>s.field</code> is not a simple name and will return <code>""</code>. </p> <p><code>inputname</code> is only useful within a function. When used at the command line it always returns an empty string. </p> <p>By default, return an empty string if the <var>n</var>-th argument is not a valid variable name. If the optional argument <var>ids_only</var> is false, return the text of the argument even if it is not a valid variable name. </p> <p><strong>See also:</strong> <a href="#XREFnargin">nargin</a>, <a href="multiple-return-values#XREFnthargout">nthargout</a>. </p>
</dd>
</dl> <dl id="XREFsilent_005ffunctions"> <dt id="index-silent_005ffunctions">val = silent_functions ()</dt> <dt id="index-silent_005ffunctions-1">old_val = silent_functions (new_val)</dt> <dt id="index-silent_005ffunctions-2">silent_functions (new_val, "local")</dt> <dd>
<p>Query or set the internal variable that controls whether internal output from a function is suppressed. </p> <p>If this option is disabled, Octave will display the results produced by evaluating expressions within a function body that are not terminated with a semicolon. </p> <p>When called from inside a function with the <code>"local"</code> option, the variable is changed locally for the function and any subroutines it calls. The original variable value is restored when exiting the function. </p>
</dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
          © 1996–2018 John W. Eaton<br>      Permission is granted to make and distribute verbatim copies of this manual provided the copyright notice and this permission notice are preserved on all copies.<br>Permission is granted to copy and distribute modified versions of this manual under the conditions for verbatim copying, provided that the entire resulting derived work is distributed under the terms of a permission notice identical to this one.Permission is granted to copy and distribute translations of this manual into another language, under the above conditions for modified versions.<br>
    <a href="https://octave.org/doc/interpreter/Defining-Functions.html" class="_attribution-link">https://octave.org/doc/interpreter/Defining-Functions.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
