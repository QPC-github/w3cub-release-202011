
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Opening and Closing Files - Octave - W3cubDocs</title>
  
  <meta name="description" content="When reading data from a file it must be opened for reading first, and likewise when writing to a file. The fopen function returns a pointer to an &hellip;">
  <meta name="keywords" content="opening, and, closing, files, octave">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/octave/opening-and-closing-files.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/octave.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/octave/" class="_nav-link" title="" style="margin-left:0;">Octave</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _octave">
				
				
<h1 class="subsection">14.2.1 Opening and Closing Files</h1> <p>When reading data from a file it must be opened for reading first, and likewise when writing to a file. The <code>fopen</code> function returns a pointer to an open file that is ready to be read or written. Once all data has been read from or written to the opened file it should be closed. The <code>fclose</code> function does this. The following code illustrates the basic pattern for writing to a file, but a very similar pattern is used when reading a file. </p> <pre class="example" data-language="matlab">filename = "myfile.txt";
fid = fopen (filename, "w");
# Do the actual I/O here…
fclose (fid);</pre> <dl id="XREFfopen"> <dt id="index-fopen">fid = fopen (name)</dt> <dt id="index-fopen-1">fid = fopen (name, mode)</dt> <dt id="index-fopen-2">fid = fopen (name, mode, arch)</dt> <dt id="index-fopen-3">[fid, msg] = fopen (…)</dt> <dt id="index-fopen-4">fid_list = fopen ("all")</dt> <dt id="index-fopen-5">[file, mode, arch] = fopen (fid)</dt> <dd>
<p>Open a file for low-level I/O or query open files and file descriptors. </p> <p>The first form of the <code>fopen</code> function opens the named file with the specified mode (read-write, read-only, etc.) and architecture interpretation (IEEE big endian, IEEE little endian, etc.), and returns an integer value that may be used to refer to the file later. If an error occurs, <var>fid</var> is set to -1 and <var>msg</var> contains the corresponding system error message. The <var>mode</var> is a one or two character string that specifies whether the file is to be opened for reading, writing, or both. </p> <p>The second form of the <code>fopen</code> function returns a vector of file ids corresponding to all the currently open files, excluding the <code>stdin</code>, <code>stdout</code>, and <code>stderr</code> streams. </p> <p>The third form of the <code>fopen</code> function returns information about the open file given its file id. </p> <p>For example, </p> <pre class="example" data-language="matlab">myfile = fopen ("splat.dat", "r", "ieee-le");</pre> <p>opens the file <samp>splat.dat</samp> for reading. If necessary, binary numeric values will be read assuming they are stored in IEEE format with the least significant bit first, and then converted to the native representation. </p> <p>Opening a file that is already open simply opens it again and returns a separate file id. It is not an error to open a file several times, though writing to the same file through several different file ids may produce unexpected results. </p> <p>The possible values of <var>mode</var> are </p> <dl compact> <dt>‘<samp>r</samp>’ (default)</dt> <dd>
<p>Open a file for reading. </p> </dd> <dt>‘<samp>w</samp>’</dt> <dd>
<p>Open a file for writing. The previous contents are discarded. </p> </dd> <dt>‘<samp>a</samp>’</dt> <dd>
<p>Open or create a file for writing at the end of the file. </p> </dd> <dt>‘<samp>r+</samp>’</dt> <dd>
<p>Open an existing file for reading and writing. </p> </dd> <dt>‘<samp>w+</samp>’</dt> <dd>
<p>Open a file for reading or writing. The previous contents are discarded. </p> </dd> <dt>‘<samp>a+</samp>’</dt> <dd><p>Open or create a file for reading or writing at the end of the file. </p></dd> </dl> <p>Append a <code>"t"</code> to the mode string to open the file in text mode or a <code>"b"</code> to open in binary mode. On Windows systems, text mode reading and writing automatically converts linefeeds to the appropriate line end character for the system (carriage-return linefeed on Windows). The default when no mode is specified is binary. </p> <p>Additionally, you may append a <code>"z"</code> to the mode string to open a gzipped file for reading or writing. For this to be successful, you must also open the file in binary mode. </p> <p>The parameter <var>arch</var> is a string specifying the default data format for the file. Valid values for <var>arch</var> are: </p> <dl compact> <dt>
<code>"native"</code> or <code>"n"</code> (default)</dt> <dd>
<p>The format of the current machine. </p> </dd> <dt>
<code>"ieee-be"</code> or <code>"b"</code>
</dt> <dd>
<p>IEEE big endian format. </p> </dd> <dt>
<code>"ieee-le"</code> or <code>"l"</code>
</dt> <dd><p>IEEE little endian format. </p></dd> </dl> <p>However, conversions are currently only supported for ‘<samp>native</samp>’, ‘<samp>ieee-be</samp>’, and ‘<samp>ieee-le</samp>’ formats. </p> <p>When opening a new file that does not yet exist, permissions will be set to <code>0666 - <var>umask</var></code>. </p> <p>Compatibility Note: Octave opens files using buffered I/O. Small writes are accumulated until an internal buffer is filled, and then everything is written in a single operation. This is very efficient and improves performance. <small>MATLAB</small>, however, opens files using flushed I/O where every write operation is immediately performed. If the write operation must be performed immediately after data has been written then the write should be followed by a call to <code>fflush</code> to flush the internal buffer. </p> <p><strong>See also:</strong> <a href="#XREFfclose">fclose</a>, <a href="line_002doriented-input#XREFfgets">fgets</a>, <a href="line_002doriented-input#XREFfgetl">fgetl</a>, <a href="formatted-input#XREFfscanf">fscanf</a>, <a href="binary-i_002fo#XREFfread">fread</a>, <a href="simple-output#XREFfputs">fputs</a>, <a href="simple-file-i_002fo#XREFfdisp">fdisp</a>, <a href="formatted-output#XREFfprintf">fprintf</a>, <a href="binary-i_002fo#XREFfwrite">fwrite</a>, <a href="line_002doriented-input#XREFfskipl">fskipl</a>, <a href="file-positioning#XREFfseek">fseek</a>, <a href="file-positioning#XREFfrewind">frewind</a>, <a href="file-positioning#XREFftell">ftell</a>, <a href="eof-and-errors#XREFfeof">feof</a>, <a href="eof-and-errors#XREFferror">ferror</a>, <a href="eof-and-errors#XREFfclear">fclear</a>, <a href="paging-screen-output#XREFfflush">fflush</a>, <a href="eof-and-errors#XREFfreport">freport</a>, <a href="filesystem-utilities#XREFumask">umask</a>. </p>
</dd>
</dl> <dl id="XREFfclose"> <dt id="index-fclose">fclose (fid)</dt> <dt id="index-fclose-1">fclose ("all")</dt> <dt id="index-fclose-2">status = fclose ("all")</dt> <dd>
<p>Close the file specified by the file descriptor <var>fid</var>. </p> <p>If successful, <code>fclose</code> returns 0, otherwise, it returns -1. The second form of the <code>fclose</code> call closes all open files except <code>stdin</code>, <code>stdout</code>, <code>stderr</code>, and any FIDs associated with gnuplot. </p> <p><strong>See also:</strong> <a href="#XREFfopen">fopen</a>, <a href="paging-screen-output#XREFfflush">fflush</a>, <a href="eof-and-errors#XREFfreport">freport</a>. </p>
</dd>
</dl> <dl id="XREFis_005fvalid_005ffile_005fid"> <dt id="index-is_005fvalid_005ffile_005fid">is_valid_file_id (fid)</dt> <dd>
<p>Return true if <var>fid</var> refers to an open file. </p> <p><strong>See also:</strong> <a href="eof-and-errors#XREFfreport">freport</a>, <a href="#XREFfopen">fopen</a>. </p>
</dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
          © 1996–2018 John W. Eaton<br>      Permission is granted to make and distribute verbatim copies of this manual provided the copyright notice and this permission notice are preserved on all copies.<br>Permission is granted to copy and distribute modified versions of this manual under the conditions for verbatim copying, provided that the entire resulting derived work is distributed under the terms of a permission notice identical to this one.Permission is granted to copy and distribute translations of this manual into another language, under the above conditions for modified versions.<br>
    <a href="https://octave.org/doc/interpreter/Opening-and-Closing-Files.html" class="_attribution-link">https://octave.org/doc/interpreter/Opening-and-Closing-Files.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
