
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Bundler&#58;&#58;Env - Ruby 2.7 - W3cubDocs</title>
  
  <meta name="description" content=" Ruby Core © 1993–2017 Yukihiro MatsumotoLicensed under the Ruby License.Ruby Standard Library © contributorsLicensed under their own licenses. ">
  <meta name="keywords" content="class, bundler, env, ruby, ruby~2.7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/ruby~2.7/bundler/env.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/ruby~2.7.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ruby~2.7/" class="_nav-link" title="" style="margin-left:0;">Ruby 2.7</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _rdoc">
				
				
<h1 id="class-Bundler::Env" class="class"> class Bundler::Env </h1>
<dl class="meta">
<dt>Parent:</dt>
<dd class="meta-parent"><a href="../object">Object</a></dd>
</dl>  <section id="5Buntitled-5D" class="documentation-section"> <section id="public-class-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Class Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-c-environment"> <span class="method-name">environment</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="environment-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/env.rb, line 94
def self.environment
  out = []

  out &lt;&lt; ["Bundler", Bundler::VERSION]
  out &lt;&lt; ["  Platforms", Gem.platforms.join(", ")]
  out &lt;&lt; ["Ruby", ruby_version]
  out &lt;&lt; ["  Full Path", Gem.ruby]
  out &lt;&lt; ["  Config Dir", Pathname.new(Gem::ConfigFile::SYSTEM_WIDE_CONFIG_FILE).dirname]
  out &lt;&lt; ["RubyGems", Gem::VERSION]
  out &lt;&lt; ["  Gem Home", Gem.dir]
  out &lt;&lt; ["  Gem Path", Gem.path.join(File::PATH_SEPARATOR)]
  out &lt;&lt; ["  User Home", Gem.user_home]
  out &lt;&lt; ["  User Path", Gem.user_dir]
  out &lt;&lt; ["  Bin Dir", Gem.bindir]
  if defined?(OpenSSL)
    out &lt;&lt; ["OpenSSL"]
    out &lt;&lt; ["  Compiled", OpenSSL::OPENSSL_VERSION] if defined?(OpenSSL::OPENSSL_VERSION)
    out &lt;&lt; ["  Loaded", OpenSSL::OPENSSL_LIBRARY_VERSION] if defined?(OpenSSL::OPENSSL_LIBRARY_VERSION)
    out &lt;&lt; ["  Cert File", OpenSSL::X509::DEFAULT_CERT_FILE] if defined?(OpenSSL::X509::DEFAULT_CERT_FILE)
    out &lt;&lt; ["  Cert Dir", OpenSSL::X509::DEFAULT_CERT_DIR] if defined?(OpenSSL::X509::DEFAULT_CERT_DIR)
  end
  out &lt;&lt; ["Tools"]
  out &lt;&lt; ["  Git", git_version]
  out &lt;&lt; ["  RVM", ENV.fetch("rvm_version") { version_of("rvm") }]
  out &lt;&lt; ["  rbenv", version_of("rbenv")]
  out &lt;&lt; ["  chruby", chruby_version]

  %w[rubygems-bundler open_gem].each do |name|
    specs = Bundler.rubygems.find_name(name)
    out &lt;&lt; ["  #{name}", "(#{specs.map(&amp;:version).join(",")})"] unless specs.empty?
  end
  if (exe = caller.last.split(":").first) &amp;&amp; exe =~ %r{(exe|bin)/bundler?\z}
    shebang = File.read(exe).lines.first
    shebang.sub!(/^#!\s*/, "")
    unless shebang.start_with?(Gem.ruby, "/usr/bin/env ruby")
      out &lt;&lt; ["Gem.ruby", Gem.ruby]
      out &lt;&lt; ["bundle #!", shebang]
    end
  end

  out
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-report"> <span class="method-name">report</span><span class="method-args">(options = {})</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="report-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/env.rb, line 12
def self.report(options = {})
  print_gemfile = options.delete(:print_gemfile) { true }
  print_gemspecs = options.delete(:print_gemspecs) { true }

  out = String.new
  append_formatted_table("Environment", environment, out)
  append_formatted_table("Bundler Build Metadata", BuildMetadata.to_h, out)

  unless Bundler.settings.all.empty?
    out &lt;&lt; "\n## Bundler settings\n\n```\n"
    Bundler.settings.all.each do |setting|
      out &lt;&lt; setting &lt;&lt; "\n"
      Bundler.settings.pretty_values_for(setting).each do |line|
        out &lt;&lt; "  " &lt;&lt; line &lt;&lt; "\n"
      end
    end
    out &lt;&lt; "```\n"
  end

  return out unless SharedHelpers.in_bundle?

  if print_gemfile
    gemfiles = [Bundler.default_gemfile]
    begin
      gemfiles = Bundler.definition.gemfiles
    rescue GemfileNotFound
      nil
    end

    out &lt;&lt; "\n## Gemfile\n"
    gemfiles.each do |gemfile|
      out &lt;&lt; "\n### #{Pathname.new(gemfile).relative_path_from(SharedHelpers.pwd)}\n\n"
      out &lt;&lt; "```ruby\n" &lt;&lt; read_file(gemfile).chomp &lt;&lt; "\n```\n"
    end

    out &lt;&lt; "\n### #{Bundler.default_lockfile.relative_path_from(SharedHelpers.pwd)}\n\n"
    out &lt;&lt; "```\n" &lt;&lt; read_file(Bundler.default_lockfile).chomp &lt;&lt; "\n```\n"
  end

  if print_gemspecs
    dsl = Dsl.new.tap {|d| d.eval_gemfile(Bundler.default_gemfile) }
    out &lt;&lt; "\n## Gemspecs\n" unless dsl.gemspecs.empty?
    dsl.gemspecs.each do |gs|
      out &lt;&lt; "\n### #{File.basename(gs.loaded_from)}"
      out &lt;&lt; "\n\n```ruby\n" &lt;&lt; read_file(gs.loaded_from).chomp &lt;&lt; "\n```\n"
    end
  end

  out
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-write"> <span class="method-name">write</span><span class="method-args">(io)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="write-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/env.rb, line 8
def self.write(io)
  io.write report
end</pre> </div>  </div> </div> </section> <section id="private-class-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Private Class Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-c-append_formatted_table"> <span class="method-name">append_formatted_table</span><span class="method-args">(title, pairs, out)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="append_formatted_table-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/env.rb, line 137
def self.append_formatted_table(title, pairs, out)
  return if pairs.empty?
  out &lt;&lt; "\n" unless out.empty?
  out &lt;&lt; "## #{title}\n\n```\n"
  ljust = pairs.map {|k, _v| k.to_s.length }.max
  pairs.each do |k, v|
    out &lt;&lt; "#{k.to_s.ljust(ljust)}  #{v}\n"
  end
  out &lt;&lt; "```\n"
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-chruby_version"> <span class="method-name">chruby_version</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="chruby_version-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/env.rb, line 88
def self.chruby_version
  return "not installed" unless Bundler.which("chruby-exec")
  `chruby-exec -- chruby --version`.
    sub(/.*^chruby: (#{Gem::Version::VERSION_PATTERN}).*/m, '\1')
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-git_version"> <span class="method-name">git_version</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="git_version-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/env.rb, line 77
def self.git_version
  Bundler::Source::Git::GitProxy.new(nil, nil, nil).full_version
rescue Bundler::Source::Git::GitNotInstalledError
  "not installed"
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-read_file"> <span class="method-name">read_file</span><span class="method-args">(filename)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="read_file-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/env.rb, line 63
def self.read_file(filename)
  Bundler.read_file(filename.to_s).strip
rescue Errno::ENOENT
  "&lt;No #{filename} found&gt;"
rescue RuntimeError =&gt; e
  "#{e.class}: #{e.message}"
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-ruby_version"> <span class="method-name">ruby_version</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="ruby_version-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/env.rb, line 71
def self.ruby_version
  str = String.new(RUBY_VERSION)
  str &lt;&lt; "p#{RUBY_PATCHLEVEL}" if defined? RUBY_PATCHLEVEL
  str &lt;&lt; " (#{RUBY_RELEASE_DATE} revision #{RUBY_REVISION}) [#{RUBY_PLATFORM}]"
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-version_of"> <span class="method-name">version_of</span><span class="method-args">(script)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="version_of-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/env.rb, line 83
def self.version_of(script)
  return "not installed" unless Bundler.which(script)
  `#{script} --version`.chomp
end</pre> </div>  </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    Ruby Core © 1993–2017 Yukihiro Matsumoto<br>Licensed under the Ruby License.<br>Ruby Standard Library © contributors<br>Licensed under their own licenses.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
