
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Bundler&#58;&#58;Source&#58;&#58;Git - Ruby 2.7 - W3cubDocs</title>
  
  <meta name="description" content="This is the path which is going to contain a cache of the git repository. When using the same git repository across different projects, this cache &hellip;">
  <meta name="keywords" content="class, bundler, source, git, ruby, ruby~2.7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/ruby~2.7/bundler/source/git.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/ruby~2.7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ruby~2.7/" class="_nav-link" title="" style="margin-left:0;">Ruby 2.7</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _rdoc">
				
				
<h1 id="class-Bundler::Source::Git" class="class"> class Bundler::Source::Git </h1>
<dl class="meta">
<dt>Parent:</dt>
<dd class="meta-parent">Path</dd>
</dl>  <section id="5Buntitled-5D" class="documentation-section"> <section class="attribute-method-details"> <header> <h3>Attributes</h3> </header> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-branch"> <span class="method-name">branch</span><span class="attribute-access-type">[R]</span> </div>  </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-glob"> <span class="method-name">glob</span><span class="attribute-access-type">[R]</span> </div>  </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-options"> <span class="method-name">options</span><span class="attribute-access-type">[R]</span> </div>  </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-ref"> <span class="method-name">ref</span><span class="attribute-access-type">[R]</span> </div>  </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-submodules"> <span class="method-name">submodules</span><span class="attribute-access-type">[R]</span> </div>  </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-uri"> <span class="method-name">uri</span><span class="attribute-access-type">[R]</span> </div>  </div> </section> <section id="public-class-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Class Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-c-from_lock"> <span class="method-name">from_lock</span><span class="method-args">(options)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="from_lock-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 34
def self.from_lock(options)
  new(options.merge("uri" =&gt; options.delete("remote")))
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-new"> <span class="method-name">new</span><span class="method-args">(options)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="new-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 12
def initialize(options)
  @options = options
  @glob = options["glob"] || DEFAULT_GLOB

  @allow_cached = false
  @allow_remote = false

  # Stringify options that could be set as symbols
  %w[ref branch tag revision].each {|k| options[k] = options[k].to_s if options[k] }

  @uri        = options["uri"] || ""
  @safe_uri   = URICredentialsFilter.credential_filtered_uri(@uri)
  @branch     = options["branch"]
  @ref        = options["ref"] || options["branch"] || options["tag"] || "master"
  @submodules = options["submodules"]
  @name       = options["name"]
  @version    = options["version"].to_s.strip.gsub("-", ".pre.")

  @copied     = false
  @local      = false
end</pre> </div>  </div> </div> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-3D-3D"> <span class="method-name">==</span><span class="method-args">(other)</span> </div>  <div class="aliases"> Alias for: <a href="git#method-i-eql-3F">eql?</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-allow_git_ops-3F"> <span class="method-name">allow_git_ops?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="allow_git_ops-3F-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 229
def allow_git_ops?
  @allow_remote || @allow_cached
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-app_cache_dirname"> <span class="method-name">app_cache_dirname</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="app_cache_dirname-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 221
def app_cache_dirname
  "#{base_name}-#{shortref_for_path(cached_revision || revision)}"
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-cache"> <span class="method-name">cache</span><span class="method-args">(spec, custom_path = nil)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="cache-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 189
def cache(spec, custom_path = nil)
  app_cache_path = app_cache_path(custom_path)
  return unless Bundler.feature_flag.cache_all?
  return if path == app_cache_path
  cached!
  FileUtils.rm_rf(app_cache_path)
  git_proxy.checkout if requires_checkout?
  git_proxy.copy_to(app_cache_path, @submodules)
  serialize_gemspecs_in(app_cache_path)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-cache_path"> <span class="method-name">cache_path</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="cache_path-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 211
def cache_path
  @cache_path ||= begin
    if Bundler.requires_sudo? || Bundler.feature_flag.global_gem_cache?
      Bundler.user_cache
    else
      Bundler.bundle_path.join("cache", "bundler")
    end.join("git", git_scope)
  end
end</pre> </div> <p>This is the path which is going to contain a cache of the git repository. When using the same git repository across different projects, this cache will be shared. When using local git repos, this is set to the local repo.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-eql-3F"> <span class="method-name">eql?</span><span class="method-args">(other)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="eql-3F-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 53
def eql?(other)
  other.is_a?(Git) &amp;&amp; uri == other.uri &amp;&amp; ref == other.ref &amp;&amp;
    branch == other.branch &amp;&amp; name == other.name &amp;&amp;
    version == other.version &amp;&amp; glob == other.glob &amp;&amp;
    submodules == other.submodules
end</pre> </div>  </div> <div class="aliases"> Also aliased as: <a href="git#method-i-3D-3D">==</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-extension_dir_name"> <span class="method-name">extension_dir_name</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="extension_dir_name-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 107
def extension_dir_name
  "#{base_name}-#{shortref_for_path(revision)}"
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-hash"> <span class="method-name">hash</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="hash-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 49
def hash
  [self.class, uri, ref, branch, name, version, glob, submodules].hash
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-install"> <span class="method-name">install</span><span class="method-args">(spec, options = {})</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="install-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 171
def install(spec, options = {})
  force = options[:force]

  print_using_message "Using #{version_message(spec)} from #{self}"

  if (requires_checkout? &amp;&amp; !@copied) || force
    Bundler.ui.debug "  * Checking out revision: #{ref}"
    git_proxy.copy_to(install_path, submodules)
    serialize_gemspecs_in(install_path)
    @copied = true
  end

  generate_bin_options = { :disable_extensions =&gt; !Bundler.rubygems.spec_missing_extensions?(spec), :build_args =&gt; options[:build_args] }
  generate_bin(spec, generate_bin_options)

  requires_checkout? ? spec.post_install_message : nil
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-install_path"> <span class="method-name">install_path</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="install_path-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 91
def install_path
  @install_path ||= begin
    git_scope = "#{base_name}-#{shortref_for_path(revision)}"

    path = Bundler.install_path.join(git_scope)

    if !path.exist? &amp;&amp; Bundler.requires_sudo?
      Bundler.user_bundle_path.join(Bundler.ruby_scope).join(git_scope)
    else
      path
    end
  end
end</pre> </div> <p>This is the path which is going to contain a specific checkout of the git repository. When using local git repos, this is set to the local repo.</p>  </div> <div class="aliases"> Also aliased as: <a href="git#method-i-path">path</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-load_spec_files"> <span class="method-name">load_spec_files</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="load_spec_files-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 200
def load_spec_files
  super
rescue PathError =&gt; e
  Bundler.ui.trace e
  raise GitError, "#{self} is not yet checked out. Run `bundle install` first."
end</pre> </div> <div class="method-calls-super"> Calls superclass method </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-local_override-21"> <span class="method-name">local_override!</span><span class="method-args">(path)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="local_override-21-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 118
def local_override!(path)
  return false if local?

  original_path = path
  path = Pathname.new(path)
  path = path.expand_path(Bundler.root) unless path.relative?

  unless options["branch"] || Bundler.settings[:disable_local_branch_check]
    raise GitError, "Cannot use local override for #{name} at #{path} because " \
      ":branch is not specified in Gemfile. Specify a branch or run " \
      "`bundle config unset local.#{override_for(original_path)}` to remove the local override"
  end

  unless path.exist?
    raise GitError, "Cannot use local override for #{name} because #{path} " \
      "does not exist. Run `bundle config unset local.#{override_for(original_path)}` to remove the local override"
  end

  set_local!(path)

  # Create a new git proxy without the cached revision
  # so the Gemfile.lock always picks up the new revision.
  @git_proxy = GitProxy.new(path, uri, ref)

  if git_proxy.branch != options["branch"] &amp;&amp; !Bundler.settings[:disable_local_branch_check]
    raise GitError, "Local override for #{name} at #{path} is using branch " \
      "#{git_proxy.branch} but Gemfile specifies #{options["branch"]}"
  end

  changed = cached_revision &amp;&amp; cached_revision != git_proxy.revision

  if changed &amp;&amp; !@unlocked &amp;&amp; !git_proxy.contains?(cached_revision)
    raise GitError, "The Gemfile lock is pointing to revision #{shortref_for_display(cached_revision)} " \
      "but the current branch in your local override for #{name} does not contain such commit. " \
      "Please make sure your branch is up to date."
  end

  changed
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-name"> <span class="method-name">name</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="name-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 84
def name
  File.basename(@uri, ".git")
end</pre> </div>  </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-path"> <span class="method-name">path</span><span class="method-args">()</span> </div>  <div class="aliases"> Alias for: <a href="git#method-i-install_path">install_path</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-revision"> <span class="method-name">revision</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="revision-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 225
def revision
  git_proxy.revision
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-specs"> <span class="method-name">specs</span><span class="method-args">(*)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="specs-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 158
def specs(*)
  set_local!(app_cache_path) if has_app_cache? &amp;&amp; !local?

  if requires_checkout? &amp;&amp; !@copied
    fetch
    git_proxy.copy_to(install_path, submodules)
    serialize_gemspecs_in(install_path)
    @copied = true
  end

  local_specs
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-to_lock"> <span class="method-name">to_lock</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="to_lock-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 38
def to_lock
  out = String.new("GIT\n")
  out &lt;&lt; "  remote: #{@uri}\n"
  out &lt;&lt; "  revision: #{revision}\n"
  %w[ref branch tag submodules].each do |opt|
    out &lt;&lt; "  #{opt}: #{options[opt]}\n" if options[opt]
  end
  out &lt;&lt; "  glob: #{@glob}\n" unless @glob == DEFAULT_GLOB
  out &lt;&lt; "  specs:\n"
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-to_s"> <span class="method-name">to_s</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="to_s-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 62
def to_s
  at = if local?
    path
  elsif user_ref = options["ref"]
    if ref =~ /\A[a-z0-9]{4,}\z/i
      shortref_for_display(user_ref)
    else
      user_ref
    end
  else
    ref
  end

  rev = begin
          "@#{shortref_for_display(revision)}"
        rescue GitError
          nil
        end

  "#{@safe_uri} (at #{at}#{rev})"
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-unlock-21"> <span class="method-name">unlock!</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="unlock-21-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 111
def unlock!
  git_proxy.revision = nil
  options["revision"] = nil

  @unlocked = true
end</pre> </div>  </div> </div> </section> <section id="private-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Private Instance Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-i-base_name"> <span class="method-name">base_name</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="base_name-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 271
def base_name
  File.basename(uri.sub(%r{^(\w+://)?([^/:]+:)?(//\w*/)?(\w*/)*}, ""), ".git")
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-cached-3F"> <span class="method-name">cached?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="cached-3F-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 299
def cached?
  cache_path.exist?
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-cached_revision"> <span class="method-name">cached_revision</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="cached_revision-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 295
def cached_revision
  options["revision"]
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-cached_revision_checked_out-3F"> <span class="method-name">cached_revision_checked_out?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="cached_revision_checked_out-3F-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 267
def cached_revision_checked_out?
  cached_revision &amp;&amp; cached_revision == revision &amp;&amp; install_path.exist?
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-extension_cache_slug"> <span class="method-name">extension_cache_slug</span><span class="method-args">(_)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="extension_cache_slug-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 327
def extension_cache_slug(_)
  extension_dir_name
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-fetch"> <span class="method-name">fetch</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="fetch-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 307
def fetch
  git_proxy.checkout
rescue GitError =&gt; e
  raise unless Bundler.feature_flag.allow_offline_install?
  Bundler.ui.warn "Using cached git data because of network errors:\n#{e}"
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-git_proxy"> <span class="method-name">git_proxy</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="git_proxy-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 303
def git_proxy
  @git_proxy ||= GitProxy.new(cache_path, uri, ref, cached_revision, self)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-git_scope"> <span class="method-name">git_scope</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="git_scope-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 323
def git_scope
  "#{base_name}-#{uri_hash}"
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-has_app_cache-3F"> <span class="method-name">has_app_cache?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="has_app_cache-3F-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 255
def has_app_cache?
  cached_revision &amp;&amp; super
end</pre> </div> <div class="method-calls-super"> Calls superclass method </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-load_gemspec"> <span class="method-name">load_gemspec</span><span class="method-args">(file)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="load_gemspec-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 317
def load_gemspec(file)
  stub = Gem::StubSpecification.gemspec_stub(file, install_path.parent, install_path.parent)
  stub.full_gem_path = Pathname.new(file).dirname.expand_path(root).to_s.tap{|x| x.untaint if RUBY_VERSION &lt; "2.7" }
  StubSpecification.from_stub(stub)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-local-3F"> <span class="method-name">local?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="local-3F-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 259
def local?
  @local
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-override_for"> <span class="method-name">override_for</span><span class="method-args">(path)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="override_for-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 331
def override_for(path)
  Bundler.settings.local_overrides.key(path)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-requires_checkout-3F"> <span class="method-name">requires_checkout?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="requires_checkout-3F-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 263
def requires_checkout?
  allow_git_ops? &amp;&amp; !local? &amp;&amp; !cached_revision_checked_out?
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-serialize_gemspecs_in"> <span class="method-name">serialize_gemspecs_in</span><span class="method-args">(destination)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="serialize_gemspecs_in-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 235
def serialize_gemspecs_in(destination)
  destination = destination.expand_path(Bundler.root) if destination.relative?
  Dir["#{destination}/#{@glob}"].each do |spec_path|
    # Evaluate gemspecs and cache the result. Gemspecs
    # in git might require git or other dependencies.
    # The gemspecs we cache should already be evaluated.
    spec = Bundler.load_gemspec(spec_path)
    next unless spec
    Bundler.rubygems.set_installed_by_version(spec)
    Bundler.rubygems.validate(spec)
    File.open(spec_path, "wb") {|file| file.write(spec.to_ruby) }
  end
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-set_local-21"> <span class="method-name">set_local!</span><span class="method-args">(path)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="set_local-21-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 249
def set_local!(path)
  @local       = true
  @local_specs = @git_proxy = nil
  @cache_path  = @install_path = path
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-shortref_for_display"> <span class="method-name">shortref_for_display</span><span class="method-args">(ref)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="shortref_for_display-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 275
def shortref_for_display(ref)
  ref[0..6]
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-shortref_for_path"> <span class="method-name">shortref_for_path</span><span class="method-args">(ref)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="shortref_for_path-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 279
def shortref_for_path(ref)
  ref[0..11]
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-uri_hash"> <span class="method-name">uri_hash</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="uri_hash-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 283
def uri_hash
  if uri =~ %r{^\w+://(\w+@)?}
    # Downcase the domain component of the URI
    # and strip off a trailing slash, if one is present
    input = Bundler::URI.parse(uri).normalize.to_s.sub(%r{/$}, "")
  else
    # If there is no URI scheme, assume it is an ssh/git URI
    input = uri
  end
  SharedHelpers.digest(:SHA1).hexdigest(input)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-validate_spec"> <span class="method-name">validate_spec</span><span class="method-args">(_spec)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="validate_spec-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/source/git.rb, line 315
def validate_spec(_spec); end</pre> </div> <p>no-op, since we validate when re-serializing the gemspec</p>  </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    Ruby Core © 1993–2017 Yukihiro Matsumoto<br>Licensed under the Ruby License.<br>Ruby Standard Library © contributors<br>Licensed under their own licenses.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
