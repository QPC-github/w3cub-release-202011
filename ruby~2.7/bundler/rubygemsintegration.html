
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Bundler&#58;&#58;RubygemsIntegration - Ruby 2.7 - W3cubDocs</title>
  
  <meta name="description" content=" This backports base_dir which replaces installation path RubyGems 1.8+ ">
  <meta name="keywords" content="class, bundler, rubygemsintegration, ruby, ruby~2.7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/ruby~2.7/bundler/rubygemsintegration.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/ruby~2.7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ruby~2.7/" class="_nav-link" title="" style="margin-left:0;">Ruby 2.7</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _rdoc">
				
				
<h1 id="class-Bundler::RubygemsIntegration" class="class"> class Bundler::RubygemsIntegration </h1>
<dl class="meta">
<dt>Parent:</dt>
<dd class="meta-parent"><a href="../object">Object</a></dd>
</dl>  <section id="5Buntitled-5D" class="documentation-section"> <section class="constants-list"> <header> <h3>Constants</h3> </header> <dl> <dt id="EXT_LOCK">EXT_LOCK </dt>

</dl> </section> <section id="public-class-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Class Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-c-new"> <span class="method-name">new</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="new-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 23
def initialize
  @replaced_methods = {}
  backport_ext_builder_monitor
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-provides-3F"> <span class="method-name">provides?</span><span class="method-args">(req_str)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="provides-3F-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 19
def self.provides?(req_str)
  Gem::Requirement.new(req_str).satisfied_by?(version)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-version"> <span class="method-name">version</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="version-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 15
def self.version
  @version ||= Gem::Version.new(Gem::VERSION)
end</pre> </div>  </div> </div> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-i-add_to_load_path"> <span class="method-name">add_to_load_path</span><span class="method-args">(paths)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="add_to_load_path-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 48
def add_to_load_path(paths)
  return Gem.add_to_load_path(*paths) if Gem.respond_to?(:add_to_load_path)

  if insert_index = Gem.load_path_insert_index
    # Gem directories must come after -I and ENV['RUBYLIB']
    $LOAD_PATH.insert(insert_index, *paths)
  else
    # We are probably testing in core, -I and RUBYLIB don't apply
    $LOAD_PATH.unshift(*paths)
  end
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-all_specs"> <span class="method-name">all_specs</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="all_specs-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 596
def all_specs
  require_relative "remote_specification"
  Gem::Specification.stubs.map do |stub|
    StubSpecification.from_stub(stub)
  end
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-backport_base_dir"> <span class="method-name">backport_base_dir</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="backport_base_dir-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 448
def backport_base_dir
  redefine_method(Gem::Specification, :base_dir) do
    return Gem.dir unless loaded_from
    File.dirname File.dirname loaded_from
  end
end</pre> </div> <p>This backports base_dir which replaces installation path RubyGems 1.8+</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-backport_cache_file"> <span class="method-name">backport_cache_file</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="backport_cache_file-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 455
def backport_cache_file
  redefine_method(Gem::Specification, :cache_dir) do
    @cache_dir ||= File.join base_dir, "cache"
  end

  redefine_method(Gem::Specification, :cache_file) do
    @cache_file ||= File.join cache_dir, "#{full_name}.gem"
  end
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-backport_ext_builder_monitor"> <span class="method-name">backport_ext_builder_monitor</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="backport_ext_builder_monitor-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 603
    def backport_ext_builder_monitor
      # So we can avoid requiring "rubygems/ext" in its entirety
      Gem.module_eval &lt;&lt;-RB, __FILE__, __LINE__ + 1
        module Ext
        end
      RB

      require "rubygems/ext/builder"

      Gem::Ext::Builder.class_eval do
        unless const_defined?(:CHDIR_MONITOR)
          const_set(:CHDIR_MONITOR, EXT_LOCK)
        end

        remove_const(:CHDIR_MUTEX) if const_defined?(:CHDIR_MUTEX)
        const_set(:CHDIR_MUTEX, const_get(:CHDIR_MONITOR))
      end
    end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-backport_spec_file"> <span class="method-name">backport_spec_file</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="backport_spec_file-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 465
def backport_spec_file
  redefine_method(Gem::Specification, :spec_dir) do
    @spec_dir ||= File.join base_dir, "specifications"
  end

  redefine_method(Gem::Specification, :spec_file) do
    @spec_file ||= File.join spec_dir, "#{full_name}.gemspec"
  end
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-bin_path"> <span class="method-name">bin_path</span><span class="method-args">(gem, bin, ver)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="bin_path-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 222
def bin_path(gem, bin, ver)
  Gem.bin_path(gem, bin, ver)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-build"> <span class="method-name">build</span><span class="method-args">(spec, skip_validation = false)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="build-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 579
def build(spec, skip_validation = false)
  require "rubygems/package"
  Gem::Package.build(spec, skip_validation)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-build_args"> <span class="method-name">build_args</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="build_args-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 36
def build_args
  Gem::Command.build_args
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-build_args-3D"> <span class="method-name">build_args=</span><span class="method-args">(args)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="build_args-3D-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 40
def build_args=(args)
  Gem::Command.build_args = args
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-build_gem"> <span class="method-name">build_gem</span><span class="method-args">(gem_dir, spec)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="build_gem-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 282
def build_gem(gem_dir, spec)
  build(spec)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-clear_paths"> <span class="method-name">clear_paths</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="clear_paths-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 218
def clear_paths
  Gem.clear_paths
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-configuration"> <span class="method-name">configuration</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="configuration-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 123
def configuration
  require_relative "psyched_yaml"
  Gem.configuration
rescue Gem::SystemExitException, LoadError =&gt; e
  Bundler.ui.error "#{e.class}: #{e.message}"
  Bundler.ui.trace e
  raise
rescue YamlLibrarySyntaxError =&gt; e
  raise YamlSyntaxError.new(e, "Your RubyGems configuration, which is " \
    "usually located in ~/.gemrc, contains invalid YAML syntax.")
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-correct_for_windows_path"> <span class="method-name">correct_for_windows_path</span><span class="method-args">(path)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="correct_for_windows_path-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 149
def correct_for_windows_path(path)
  require "rubygems/util"

  if Gem::Util.respond_to?(:correct_for_windows_path)
    Gem::Util.correct_for_windows_path(path)
  elsif path[0].chr == "/" &amp;&amp; path[1].chr =~ /[a-z]/i &amp;&amp; path[2].chr == ":"
    path[1..-1]
  else
    path
  end
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-default_stubs"> <span class="method-name">default_stubs</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="default_stubs-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 627
def default_stubs
  Gem::Specification.default_stubs("*.gemspec")
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-download_gem"> <span class="method-name">download_gem</span><span class="method-args">(spec, uri, path)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="download_gem-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 556
def download_gem(spec, uri, path)
  uri = Bundler.settings.mirror_for(uri)
  fetcher = gem_remote_fetcher
  fetcher.headers = { "X-Gemfile-Source" =&gt; spec.remote.original_uri.to_s } if spec.remote.original_uri
  Bundler::Retry.new("download gem from #{uri}").attempts do
    fetcher.download(spec, uri, path)
  end
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-ext_lock"> <span class="method-name">ext_lock</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="ext_lock-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 248
def ext_lock
  EXT_LOCK
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-fetch_all_remote_specs"> <span class="method-name">fetch_all_remote_specs</span><span class="method-args">(remote)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="fetch_all_remote_specs-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 549
def fetch_all_remote_specs(remote)
  specs = fetch_specs(remote, "specs")
  pres = fetch_specs(remote, "prerelease_specs") || []

  specs.concat(pres)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-fetch_specs"> <span class="method-name">fetch_specs</span><span class="method-args">(remote, name)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="fetch_specs-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 538
def fetch_specs(remote, name)
  path = remote.uri.to_s + "#{name}.#{Gem.marshal_version}.gz"
  fetcher = gem_remote_fetcher
  fetcher.headers = { "X-Gemfile-Source" =&gt; remote.original_uri.to_s } if remote.original_uri
  string = fetcher.fetch_path(path)
  Bundler.load_marshal(string)
rescue Gem::RemoteFetcher::FetchError =&gt; e
  # it's okay for prerelease to fail
  raise e unless name == "prerelease_specs"
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-find_name"> <span class="method-name">find_name</span><span class="method-args">(name)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="find_name-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 622
def find_name(name)
  Gem::Specification.stubs_for(name).map(&amp;:to_spec)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-gem_bindir"> <span class="method-name">gem_bindir</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="gem_bindir-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 178
def gem_bindir
  Gem.bindir
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-gem_cache"> <span class="method-name">gem_cache</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="gem_cache-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 202
def gem_cache
  gem_path.map {|p| File.expand_path("cache", p) }
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-gem_dir"> <span class="method-name">gem_dir</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="gem_dir-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 174
def gem_dir
  Gem.dir
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-gem_from_path"> <span class="method-name">gem_from_path</span><span class="method-args">(path, policy = nil)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="gem_from_path-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 572
def gem_from_path(path, policy = nil)
  require "rubygems/package"
  p = Gem::Package.new(path)
  p.security_policy = policy if policy
  p
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-gem_path"> <span class="method-name">gem_path</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="gem_path-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 186
def gem_path
  Gem.path
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-gem_remote_fetcher"> <span class="method-name">gem_remote_fetcher</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="gem_remote_fetcher-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 565
def gem_remote_fetcher
  require "resolv"
  proxy = configuration[:http_proxy]
  dns = Resolv::DNS.new
  Gem::RemoteFetcher.new(proxy, dns)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-inflate"> <span class="method-name">inflate</span><span class="method-args">(obj)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="inflate-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 143
def inflate(obj)
  require "rubygems/util"

  Gem::Util.inflate(obj)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-install_with_build_args"> <span class="method-name">install_with_build_args</span><span class="method-args">(args) { || ... }</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="install_with_build_args-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 588
def install_with_build_args(args)
  yield
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-load_plugin_files"> <span class="method-name">load_plugin_files</span><span class="method-args">(files)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="load_plugin_files-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 240
def load_plugin_files(files)
  Gem.load_plugin_files(files) if Gem.respond_to?(:load_plugin_files)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-load_plugins"> <span class="method-name">load_plugins</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="load_plugins-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 236
def load_plugins
  Gem.load_plugins if Gem.respond_to?(:load_plugins)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-loaded_gem_paths"> <span class="method-name">loaded_gem_paths</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="loaded_gem_paths-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 231
def loaded_gem_paths
  loaded_gem_paths = Gem.loaded_specs.map {|_, s| s.full_require_paths }
  loaded_gem_paths.flatten
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-loaded_specs"> <span class="method-name">loaded_specs</span><span class="method-args">(name)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="loaded_specs-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 44
def loaded_specs(name)
  Gem.loaded_specs[name]
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-mark_loaded"> <span class="method-name">mark_loaded</span><span class="method-args">(spec)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="mark_loaded-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 60
def mark_loaded(spec)
  if spec.respond_to?(:activated=)
    current = Gem.loaded_specs[spec.name]
    current.activated = false if current
    spec.activated = true
  end
  Gem.loaded_specs[spec.name] = spec
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-marshal_spec_dir"> <span class="method-name">marshal_spec_dir</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="marshal_spec_dir-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 214
def marshal_spec_dir
  Gem::MARSHAL_SPEC_DIR
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-method_visibility"> <span class="method-name">method_visibility</span><span class="method-args">(klass, method)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="method_visibility-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 508
def method_visibility(klass, method)
  if klass.private_method_defined?(method)
    :private
  elsif klass.protected_method_defined?(method)
    :protected
  else
    :public
  end
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-path"> <span class="method-name">path</span><span class="method-args">(obj)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="path-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 114
def path(obj)
  obj.to_s
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-path_separator"> <span class="method-name">path_separator</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="path_separator-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 592
def path_separator
  Gem.path_separator
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-plain_specs"> <span class="method-name">plain_specs</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="plain_specs-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 530
def plain_specs
  Gem::Specification._all
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-plain_specs-3D"> <span class="method-name">plain_specs=</span><span class="method-args">(specs)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="plain_specs-3D-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 534
def plain_specs=(specs)
  Gem::Specification.all = specs
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-platforms"> <span class="method-name">platforms</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="platforms-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 118
def platforms
  return [Gem::Platform::RUBY] if Bundler.settings[:force_ruby_platform]
  Gem.platforms
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-post_reset_hooks"> <span class="method-name">post_reset_hooks</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="post_reset_hooks-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 194
def post_reset_hooks
  Gem.post_reset_hooks
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-preserve_paths"> <span class="method-name">preserve_paths</span><span class="method-args">() { || ... }</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="preserve_paths-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 226
def preserve_paths
  # this is a no-op outside of RubyGems 1.8
  yield
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-provides-3F"> <span class="method-name">provides?</span><span class="method-args">(req_str)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="provides-3F-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 32
def provides?(req_str)
  self.class.provides?(req_str)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-read_binary"> <span class="method-name">read_binary</span><span class="method-args">(path)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="read_binary-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 139
def read_binary(path)
  Gem.read_binary(path)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-redefine_method"> <span class="method-name">redefine_method</span><span class="method-args">(klass, method, unbound_method = nil, &amp;block)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="redefine_method-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 487
def redefine_method(klass, method, unbound_method = nil, &amp;block)
  visibility = method_visibility(klass, method)
  begin
    if (instance_method = klass.instance_method(method)) &amp;&amp; method != :initialize
      # doing this to ensure we also get private methods
      klass.send(:remove_method, method)
    end
  rescue NameError
    # method isn't defined
    nil
  end
  @replaced_methods[[method, klass]] = instance_method
  if unbound_method
    klass.send(:define_method, method, unbound_method)
    klass.send(visibility, method)
  elsif block
    klass.send(:define_method, method, &amp;block)
    klass.send(visibility, method)
  end
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-replace_bin_path"> <span class="method-name">replace_bin_path</span><span class="method-args">(specs_by_name)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="replace_bin_path-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 357
def replace_bin_path(specs_by_name)
  gem_class = (class &lt;&lt; Gem; self; end)

  redefine_method(gem_class, :find_spec_for_exe) do |gem_name, *args|
    exec_name = args.first
    raise ArgumentError, "you must supply exec_name" unless exec_name

    spec_with_name = specs_by_name[gem_name]
    matching_specs_by_exec_name = specs_by_name.values.select {|s| s.executables.include?(exec_name) }
    spec = matching_specs_by_exec_name.delete(spec_with_name)

    unless spec || !matching_specs_by_exec_name.empty?
      message = "can't find executable #{exec_name} for gem #{gem_name}"
      if spec_with_name.nil?
        message += ". #{gem_name} is not currently included in the bundle, " \
                   "perhaps you meant to add it to your #{Bundler.default_gemfile.basename}?"
      end
      raise Gem::Exception, message
    end

    unless spec
      spec = matching_specs_by_exec_name.shift
      warn \
        "Bundler is using a binstub that was created for a different gem (#{spec.name}).\n" \
        "You should run `bundle binstub #{gem_name}` " \
        "to work around a system/bundle conflict."
    end

    unless matching_specs_by_exec_name.empty?
      conflicting_names = matching_specs_by_exec_name.map(&amp;:name).join(", ")
      warn \
        "The `#{exec_name}` executable in the `#{spec.name}` gem is being loaded, but it's also present in other gems (#{conflicting_names}).\n" \
        "If you meant to run the executable for another gem, make sure you use a project specific binstub (`bundle binstub &lt;gem_name&gt;`).\n" \
        "If you plan to use multiple conflicting executables, generate binstubs for them and disambiguate their names."
    end

    spec
  end

  redefine_method(gem_class, :activate_bin_path) do |name, *args|
    exec_name = args.first
    return ENV["BUNDLE_BIN_PATH"] if exec_name == "bundle"

    # Copy of Rubygems activate_bin_path impl
    requirement = args.last
    spec = find_spec_for_exe name, exec_name, [requirement]

    gem_bin = File.join(spec.full_gem_path, spec.bindir, exec_name)
    gem_from_path_bin = File.join(File.dirname(spec.loaded_from), spec.bindir, exec_name)
    File.exist?(gem_bin) ? gem_bin : gem_from_path_bin
  end

  redefine_method(gem_class, :bin_path) do |name, *args|
    exec_name = args.first
    return ENV["BUNDLE_BIN_PATH"] if exec_name == "bundle"

    spec = find_spec_for_exe(name, *args)
    exec_name ||= spec.default_executable

    gem_bin = File.join(spec.full_gem_path, spec.bindir, exec_name)
    gem_from_path_bin = File.join(File.dirname(spec.loaded_from), spec.bindir, exec_name)
    File.exist?(gem_bin) ? gem_bin : gem_from_path_bin
  end
end</pre> </div> <p>Used to make bin stubs that are not created by bundler work under bundler. The new Gem.bin_path only considers gems in <code>specs</code></p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-replace_entrypoints"> <span class="method-name">replace_entrypoints</span><span class="method-args">(specs)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="replace_entrypoints-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 424
def replace_entrypoints(specs)
  specs_by_name = specs.reduce({}) do |h, s|
    h[s.name] = s
    h
  end

  Bundler.rubygems.default_stubs.each do |stub|
    default_spec = stub.to_spec
    default_spec_name = default_spec.name
    next if specs_by_name.key?(default_spec_name)

    specs &lt;&lt; default_spec
    specs_by_name[default_spec_name] = default_spec
  end

  replace_gem(specs, specs_by_name)
  stub_rubygems(specs)
  replace_bin_path(specs_by_name)

  Gem.clear_paths
end</pre> </div> <p>Replace or hook into RubyGems to provide a bundlerized view of the world.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-replace_gem"> <span class="method-name">replace_gem</span><span class="method-args">(specs, specs_by_name)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="replace_gem-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 309
def replace_gem(specs, specs_by_name)
  reverse_rubygems_kernel_mixin

  executables = nil

  kernel = (class &lt;&lt; ::Kernel; self; end)
  [kernel, ::Kernel].each do |kernel_class|
    redefine_method(kernel_class, :gem) do |dep, *reqs|
      if executables &amp;&amp; executables.include?(File.basename(caller.first.split(":").first))
        break
      end

      reqs.pop if reqs.last.is_a?(Hash)

      unless dep.respond_to?(:name) &amp;&amp; dep.respond_to?(:requirement)
        dep = Gem::Dependency.new(dep, reqs)
      end

      if spec = specs_by_name[dep.name]
        return true if dep.matches_spec?(spec)
      end

      message = if spec.nil?
        "#{dep.name} is not part of the bundle." \
        " Add it to your #{Bundler.default_gemfile.basename}."
      else
        "can't activate #{dep}, already activated #{spec.full_name}. " \
        "Make sure all dependencies are added to Gemfile."
      end

      e = Gem::LoadError.new(message)
      e.name = dep.name
      if e.respond_to?(:requirement=)
        e.requirement = dep.requirement
      elsif e.respond_to?(:version_requirement=)
        e.version_requirement = dep.requirement
      end
      raise e
    end

    # backwards compatibility shim, see https://github.com/bundler/bundler/issues/5102
    kernel_class.send(:public, :gem) if Bundler.feature_flag.setup_makes_kernel_gem_public?
  end
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-repository_subdirectories"> <span class="method-name">repository_subdirectories</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="repository_subdirectories-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 584
def repository_subdirectories
  Gem::REPOSITORY_SUBDIRECTORIES
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-reset"> <span class="method-name">reset</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="reset-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 190
def reset
  Gem::Specification.reset
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-reverse_rubygems_kernel_mixin"> <span class="method-name">reverse_rubygems_kernel_mixin</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="reverse_rubygems_kernel_mixin-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 299
def reverse_rubygems_kernel_mixin
  # Disable rubygems' gem activation system
  kernel = (class &lt;&lt; ::Kernel; self; end)
  [kernel, ::Kernel].each do |k|
    if k.private_method_defined?(:gem_original_require)
      redefine_method(k, :require, k.instance_method(:gem_original_require))
    end
  end
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-ruby_engine"> <span class="method-name">ruby_engine</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="ruby_engine-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 135
def ruby_engine
  Gem.ruby_engine
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-security_policies"> <span class="method-name">security_policies</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="security_policies-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 290
def security_policies
  @security_policies ||= begin
    require "rubygems/security"
    Gem::Security::Policies
  rescue LoadError, NameError
    {}
  end
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-security_policy_keys"> <span class="method-name">security_policy_keys</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="security_policy_keys-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 286
def security_policy_keys
  %w[High Medium Low AlmostNo No].map {|level| "#{level}Security" }
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-set_installed_by_version"> <span class="method-name">set_installed_by_version</span><span class="method-args">(spec, installed_by_version = Gem::VERSION)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="set_installed_by_version-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 79
def set_installed_by_version(spec, installed_by_version = Gem::VERSION)
  return unless spec.respond_to?(:installed_by_version=)
  spec.installed_by_version = Gem::Version.create(installed_by_version)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-sources"> <span class="method-name">sources</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="sources-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 170
def sources
  Gem.sources
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-sources-3D"> <span class="method-name">sources=</span><span class="method-args">(val)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="sources-3D-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 161
def sources=(val)
  # Gem.configuration creates a new Gem::ConfigFile, which by default will read ~/.gemrc
  # If that file exists, its settings (including sources) will overwrite the values we
  # are about to set here. In order to avoid that, we force memoizing the config file now.
  configuration

  Gem.sources = val
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-spec_cache_dirs"> <span class="method-name">spec_cache_dirs</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="spec_cache_dirs-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 206
def spec_cache_dirs
  @spec_cache_dirs ||= begin
    dirs = gem_path.map {|dir| File.join(dir, "specifications") }
    dirs &lt;&lt; Gem.spec_cache_dir if Gem.respond_to?(:spec_cache_dir) # Not in RubyGems 2.0.3 or earlier
    dirs.uniq.select {|dir| File.directory? dir }
  end
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-spec_default_gem-3F"> <span class="method-name">spec_default_gem?</span><span class="method-args">(spec)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="spec_default_gem-3F-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 93
def spec_default_gem?(spec)
  spec.respond_to?(:default_gem?) &amp;&amp; spec.default_gem?
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-spec_extension_dir"> <span class="method-name">spec_extension_dir</span><span class="method-args">(spec)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="spec_extension_dir-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 105
def spec_extension_dir(spec)
  return unless spec.respond_to?(:extension_dir)
  spec.extension_dir
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-spec_from_gem"> <span class="method-name">spec_from_gem</span><span class="method-args">(path, policy = nil)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="spec_from_gem-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 264
def spec_from_gem(path, policy = nil)
  require "rubygems/security"
  require_relative "psyched_yaml"
  gem_from_path(path, security_policies[policy]).spec
rescue Gem::Package::FormatError
  raise GemspecError, "Could not read gem at #{path}. It may be corrupted."
rescue Exception, Gem::Exception, Gem::Security::Exception =&gt; e # rubocop:disable Lint/RescueException
  if e.is_a?(Gem::Security::Exception) ||
      e.message =~ /unknown trust policy|unsigned gem/i ||
      e.message =~ /couldn't verify (meta)?data signature/i
    raise SecurityError,
      "The gem #{File.basename(path, ".gem")} can't be installed because " \
      "the security policy didn't allow it, with the message: #{e.message}"
  else
    raise e
  end
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-spec_matches_for_glob"> <span class="method-name">spec_matches_for_glob</span><span class="method-args">(spec, glob)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="spec_matches_for_glob-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 97
def spec_matches_for_glob(spec, glob)
  return spec.matches_for_glob(glob) if spec.respond_to?(:matches_for_glob)

  spec.load_paths.map do |lp|
    Dir["#{lp}/#{glob}#{suffix_pattern}"]
  end.flatten(1)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-spec_missing_extensions-3F"> <span class="method-name">spec_missing_extensions?</span><span class="method-args">(spec, default = true)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="spec_missing_extensions-3F-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 84
def spec_missing_extensions?(spec, default = true)
  return spec.missing_extensions? if spec.respond_to?(:missing_extensions?)

  return false if spec_default_gem?(spec)
  return false if spec.extensions.empty?

  default
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-stub_rubygems"> <span class="method-name">stub_rubygems</span><span class="method-args">(specs)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="stub_rubygems-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 518
def stub_rubygems(specs)
  Gem::Specification.all = specs

  Gem.post_reset do
    Gem::Specification.all = specs
  end

  redefine_method((class &lt;&lt; Gem; self; end), :finish_resolve) do |*|
    []
  end
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-stub_set_spec"> <span class="method-name">stub_set_spec</span><span class="method-args">(stub, spec)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="stub_set_spec-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 110
def stub_set_spec(stub, spec)
  stub.instance_variable_set(:@spec, spec)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-suffix_pattern"> <span class="method-name">suffix_pattern</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="suffix_pattern-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 198
def suffix_pattern
  Gem.suffix_pattern
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-ui-3D"> <span class="method-name">ui=</span><span class="method-args">(obj)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="ui-3D-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 244
def ui=(obj)
  Gem::DefaultUserInteraction.ui = obj
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-undo_replacements"> <span class="method-name">undo_replacements</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="undo_replacements-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 475
def undo_replacements
  @replaced_methods.each do |(sym, klass), method|
    redefine_method(klass, sym, method)
  end
  if Binding.public_method_defined?(:source_location)
    post_reset_hooks.reject! {|proc| proc.binding.source_location[0] == __FILE__ }
  else
    post_reset_hooks.reject! {|proc| proc.binding.eval("__FILE__") == __FILE__ }
  end
  @replaced_methods.clear
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-use_gemdeps"> <span class="method-name">use_gemdeps</span><span class="method-args">(gemfile)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="use_gemdeps-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 636
def use_gemdeps(gemfile)
  ENV["BUNDLE_GEMFILE"] ||= File.expand_path(gemfile)
  require_relative "gemdeps"
  runtime = Bundler.setup
  activated_spec_names = runtime.requested_specs.map(&amp;:to_spec).sort_by(&amp;:name)
  [Gemdeps.new(runtime), activated_spec_names]
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-user_home"> <span class="method-name">user_home</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="user_home-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 182
def user_home
  Gem.user_home
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-validate"> <span class="method-name">validate</span><span class="method-args">(spec)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="validate-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 69
def validate(spec)
  Bundler.ui.silence { spec.validate(false) }
rescue Gem::InvalidSpecificationException =&gt; e
  error_message = "The gemspec at #{spec.loaded_from} is not valid. Please fix this gemspec.\n" \
    "The validation error was '#{e.message}'\n"
  raise Gem::InvalidSpecificationException.new(error_message)
rescue Errno::ENOENT
  nil
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-version"> <span class="method-name">version</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="version-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 28
def version
  self.class.version
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-with_build_args"> <span class="method-name">with_build_args</span><span class="method-args">(args) { || ... }</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="with_build_args-source"> <pre class="ruby" data-language="ruby"># File lib/bundler/rubygems_integration.rb, line 252
def with_build_args(args)
  ext_lock.synchronize do
    old_args = build_args
    begin
      self.build_args = args
      yield
    ensure
      self.build_args = old_args
    end
  end
end</pre> </div>  </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    Ruby Core © 1993–2017 Yukihiro Matsumoto<br>Licensed under the Ruby License.<br>Ruby Standard Library © contributors<br>Licensed under their own licenses.<br>
    
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
