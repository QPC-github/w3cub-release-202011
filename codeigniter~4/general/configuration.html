
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Configuration - CodeIgniter 4 - W3cubDocs</title>
  
  <meta name="description" content="Every framework uses configuration files to define numerous parameters and initial settings. CodeIgniter configuration files define simple classes &hellip;">
  <meta name="keywords" content="configuration, codeigniter, codeigniter~4">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/codeigniter~4/general/configuration.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/codeigniter~4.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/codeigniter~4/" class="_nav-link" title="" style="margin-left:0;">CodeIgniter 4</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx">
				
				
<div itemprop="articleBody">  <h1 id="configuration">Configuration</h1> <p>Every framework uses configuration files to define numerous parameters and initial settings. CodeIgniter configuration files define simple classes where the required settings are public properties.</p> <p>Unlike many other frameworks, CodeIgniter configurable items aren’t contained in a single file. Instead, each class that needs configurable items will have a configuration file with the same name as the class that uses it. You will find the application configuration files in the <strong>/app/Config</strong> folder.</p>  <ul class="simple"> <li><a class="reference internal" href="#working-with-configuration-files" id="id2">Working With Configuration Files</a></li> <li><a class="reference internal" href="#creating-configuration-files" id="id3">Creating Configuration Files</a></li> <li><a class="reference internal" href="#environment-variables" id="id4">Environment Variables</a></li> <li><a class="reference internal" href="#environment-variables-and-codeigniter" id="id5">Environment Variables and CodeIgniter</a></li> <li><a class="reference internal" href="#nesting-variables" id="id6">Nesting Variables</a></li> <li><a class="reference internal" href="#namespaced-variables" id="id7">Namespaced Variables</a></li> <li><a class="reference internal" href="#configuration-classes-and-environment-variables" id="id8">Configuration Classes and Environment Variables</a></li> <li><a class="reference internal" href="#treating-environment-variables-as-arrays" id="id9">Treating Environment Variables as Arrays</a></li> <li><a class="reference internal" href="#handling-different-environments" id="id10">Handling Different Environments</a></li> <li><a class="reference internal" href="#registrars" id="id11">Registrars</a></li> </ul>   <h2 id="working-with-configuration-files">Working With Configuration Files</h2> <p>You can access configuration files for your classes in several different ways.</p> <ul> <li>
<p class="first">By using the <code>new</code> keyword to create an instance:</p> <pre data-language="html">// Creating new configuration object by hand
$config = new \Config\Pager();
</pre> </li> <li>
<p class="first">By using the <code>config()</code> function:</p> <pre data-language="html">// Get shared instance with config function
$config = config('Pager');

// Access config class with namespace
$config = config( 'Config\\Pager' );

// Creating a new object with config function
$config = config('Pager', false);
</pre> </li> </ul> <p>All configuration object properties are public, so you access the settings like any other property:</p> <pre data-language="html">$config = config('Pager');
// Access settings as object properties
$pageSize = $config-&gt;perPage;
</pre> <p>If no namespace is provided, it will look for the file in all defined namespaces as well as <strong>/app/Config/</strong>.</p> <p>All of the configuration files that ship with CodeIgniter are namespaced with <code>Config</code>. Using this namespace in your application will provide the best performance since it knows exactly where to find the files.</p> <p>You can put configuration files in any folder you want by using a different namespace. This allows you to put configuration files on the production server in a folder that is not web-accessible while keeping it under <strong>/app</strong> for easy access during development.</p>   <h2 id="creating-configuration-files">Creating Configuration Files</h2> <p>When you need a new configuration, first you create a new file at your desired location. The default file location (recommended for most cases) is <strong>/app/Config</strong>. The class should use the appropriate namespace, and it should extend <code>CodeIgniter\Config\BaseConfig</code> to ensure that it can receive environment-specific settings.</p> <p>Define the class and fill it with public properties that represent your settings.:</p> <pre data-language="html">&lt;?php namespace Config;

use CodeIgniter\Config\BaseConfig;

class CustomClass extends BaseConfig
{
    public $siteName  = 'My Great Site';
    public $siteEmail = 'webmaster@example.com';

}
</pre>   <h2 id="environment-variables">Environment Variables</h2> <p>One of today’s best practices for application setup is to use Environment Variables. One reason for this is that Environment Variables are easy to change between deploys without changing any code. Configuration can change a lot across deploys, but code does not. For instance, multiple environments, such as the developer’s local machine and the production server, usually need different configuration values for each particular setup.</p> <p>Environment Variables should also be used for anything private such as passwords, API keys, or other sensitive data.</p>   <h2 id="environment-variables-and-codeigniter">Environment Variables and CodeIgniter</h2> <p>CodeIgniter makes it simple and painless to set Environment Variables by using a “dotenv” file. The term comes from the file name, which starts with a dot before the text “env”.</p> <p>CodeIgniter expects <strong>.env</strong> to be at the root of your project alongside the <code>system</code> and <code>app</code> directories. There is a template file distributed with CodeIgniter that’s located at the project root named <strong>env</strong> (Notice there’s no dot (<strong>.</strong>) at the start?). It has a large collection of variables your project might use that have been assigned empty, dummy, or default values. You can use this file as a starting place for your application by either renaming the template to <strong>.env</strong>, or by making a copy of it named <strong>.env</strong>.</p> <div class="admonition important"> <p class="first admonition-title">Important</p> <p class="last">Make sure the <strong>.env</strong> file is NOT tracked by your version control system. For <em>git</em> that means adding it to <strong>.gitignore</strong>. Failure to do so could result in sensitive credentials being exposed to the public.</p> </div> <p>Settings are stored in <strong>.env</strong> files as a simple a collection of name/value pairs separated by an equal sign.</p> <pre data-language="html">S3_BUCKET = dotenv
SECRET_KEY = super_secret_key
CI_ENVIRONMENT = development
</pre> <p>When your application runs, <strong>.env</strong> will be loaded automatically, and the variables put into the environment. If a variable already exists in the environment, it will NOT be overwritten. The loaded Environment variables are accessed using any of the following: <code>getenv()</code>, <code>$_SERVER</code>, or <code>$_ENV</code>.</p> <pre data-language="html">$s3_bucket = getenv('S3_BUCKET');
$s3_bucket = $_ENV['S3_BUCKET'];
$s3_bucket = $_SERVER['S3_BUCKET'];
</pre>   <h2 id="nesting-variables">Nesting Variables</h2> <p>To save on typing, you can reuse variables that you’ve already specified in the file by wrapping the variable name within <code>${...}</code></p> <pre data-language="html">BASE_DIR="/var/webroot/project-root"
CACHE_DIR="${BASE_DIR}/cache"
TMP_DIR="${BASE_DIR}/tmp"
</pre>   <h2 id="namespaced-variables">Namespaced Variables</h2> <p>There will be times when you will have several variables with the same name. The system needs a way of knowing what the correct setting should be. This problem is solved by “<em>namespacing</em>” the variables.</p> <p>Namespaced variables use a dot notation to qualify variable names so they will be unique when incorporated into the environment. This is done by including a distinguishing prefix followed by a dot (.), and then the variable name itself.</p> <pre data-language="html">// not namespaced variables
name = "George"
db=my_db

// namespaced variables
address.city = "Berlin"
address.country = "Germany"
frontend.db = sales
backend.db = admin
BackEnd.db = admin
</pre>   <h2 id="configuration-classes-and-environment-variables">Configuration Classes and Environment Variables</h2> <p>When you instantiate a configuration class, any <em>namespaced</em> environment variables are considered for merging into the configuration object’s properties.</p> <p>If the prefix of a namespaced variable exactly matches the namespace of the configuration class, then the trailing part of the setting (after the dot) is treated as a configuration property. If it matches an existing configuration property, the environment variable’s value will replace the corresponding value from the configuration file. If there is no match, the configuration class properties are left unchanged. In this usage, the prefix must be the full (case-sensitive) namespace of the class.</p> <pre data-language="html">Config\App.CSRFProtection  = true
Config\App.CSRFCookieName = csrf_cookie
Config\App.CSPEnabled = true
</pre> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Both the namespace prefix and the property name are case-sensitive. They must exactly match the full namespace and property names as defined in the configuration class file.</p> </div> <p>The same holds for a <em>short prefix</em>, which is a namespace using only the lowercase version of the configuration class name. If the short prefix matches the class name, the value from <strong>.env</strong> replaces the configuration file value.</p> <pre data-language="html">app.CSRFProtection  = true
app.CSRFCookieName = csrf_cookie
app.CSPEnabled = true
</pre> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">When using the <em>short prefix</em> the property names must still exactly match the class defined name.</p> </div>   <h2 id="treating-environment-variables-as-arrays">Treating Environment Variables as Arrays</h2> <p>A namespaced environment variable can be further treated as an array. If the prefix matches the configuration class, then the remainder of the environment variable name is treated as an array reference if it also contains a dot.</p> <pre data-language="html">// regular namespaced variable
Config\SimpleConfig.name = George

// array namespaced variables
Config\SimpleConfig.address.city = "Berlin"
Config\SimpleConfig.address.country = "Germany"
</pre> <p>If this was referring to a SimpleConfig configuration object, the above example would be treated as:</p> <pre data-language="html">$address['city']    = "Berlin";
$address['country'] = "Germany";
</pre> <p>Any other elements of the <code>$address</code> property would be unchanged.</p> <p>You can also use the array property name as a prefix. If the environment file held the following then the result would be the same as above.</p> <pre data-language="html">// array namespaced variables
Config\SimpleConfig.address.city = "Berlin"
address.country = "Germany"
</pre>   <h2 id="handling-different-environments">Handling Different Environments</h2> <p>Configuring multiple environments is easily accomplished by using a separate <strong>.env</strong> file with values modified to meet that environment’s needs.</p> <p>The file should not contain every possible setting for every configuration class used by the application. In truth, it should include only those items that are specific to the environment or are sensitive details like passwords and API keys and other information that should not be exposed. But anything that changes between deployments is fair-game.</p> <p>In each environment, place the <strong>.env</strong> file in the project’s root folder. For most setups, this will be the same level as the <code>system</code> and <code>app</code> directories.</p> <p>Do not track <strong>.env</strong> files with your version control system. If you do, and the repository is made public, you will have put sensitive information where everybody can find it.</p>   <h2 id="id1">Registrars</h2> <p id="registrars">A configuration file can also specify any number of “registrars”, which are any other classes which might provide additional configuration properties. This is done by adding a <code>registrars</code> property to your configuration file, holding an array of the names of candidate registrars.:</p> <pre data-language="html">protected $registrars = [
    SupportingPackageRegistrar::class
];
</pre> <p>In order to act as a “registrar” the classes so identified must have a static function named the same as the configuration class, and it should return an associative array of property settings.</p> <p>When your configuration object is instantiated, it will loop over the designated classes in <code>$registrars</code>. For each of these classes, which contains a method name matching the configuration class, it will invoke that method, and incorporate any returned properties the same way as described for namespaced variables.</p> <p>A sample configuration class setup for this:</p> <pre data-language="html">&lt;?php namespace App\Config;

use CodeIgniter\Config\BaseConfig;

class MySalesConfig extends BaseConfig
{
    public $target        = 100;
    public $campaign      = "Winter Wonderland";
    protected $registrars = [
        '\App\Models\RegionalSales';
    ];
}
</pre> <p>… and the associated regional sales model might look like:</p> <pre data-language="html">&lt;?php namespace App\Models;

class RegionalSales
{
    public static function MySalesConfig()
    {
        return ['target' =&gt; 45, 'actual' =&gt; 72];
    }
}
</pre> <p>With the above example, when <code>MySalesConfig</code> is instantiated, it will end up with the two properties declared, but the value of the <code>$target</code> property will be over-ridden by treating <code>RegionalSalesModel</code> as a “registrar”. The resulting configuration properties:</p> <pre data-language="html">$target   = 45;
$campaign = "Winter Wonderland";
</pre>   </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2014–2020 British Columbia Institute of Technology<br>Licensed under the MIT License.<br>
    <a href="https://codeigniter.com/userguide4/general/configuration.html" class="_attribution-link">https://codeigniter.com/userguide4/general/configuration.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
