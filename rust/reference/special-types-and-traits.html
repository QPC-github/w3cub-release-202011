
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>11. Special Types and Traits - Rust - W3cubDocs</title>
  
  <meta name="description" content="Certain types and traits that exist in the standard library are known to the Rust compiler. This chapter documents the special features of these &hellip;">
  <meta name="keywords" content="special, types, and, traits, rust">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/rust/reference/special-types-and-traits.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/rust.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/rust/" class="_nav-link" title="" style="margin-left:0;">Rust</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _rust">
				
				
<h1>Special types and traits</h1> <p>Certain types and traits that exist in <a href="../std/index">the standard library</a> are known to the Rust compiler. This chapter documents the special features of these types and traits.</p> <h2><code id="boxt">Box&lt;T&gt;</code></h2> <p><a href="../std/boxed/struct.box"><code>Box&lt;T&gt;</code></a> has a few special features that Rust doesn't currently allow for user defined types.</p> <ul> <li>The <a href="expressions/operator-expr#the-dereference-operator">dereference operator</a> for <code>Box&lt;T&gt;</code> produces a place which can be moved from. This means that the <code>*</code> operator and the destructor of <code>Box&lt;T&gt;</code> are built-in to the language.</li> <li>
<a href="items/associated-items#associated-functions-and-methods">Methods</a> can take <code>Box&lt;Self&gt;</code> as a receiver.</li> <li>A trait may be implemented for <code>Box&lt;T&gt;</code> in the same crate as <code>T</code>, which the <a href="items/implementations#trait-implementation-coherence">orphan rules</a> prevent for other generic types.</li> </ul> <h2><code id="rct">Rc&lt;T&gt;</code></h2> <p><a href="items/associated-items#associated-functions-and-methods">Methods</a> can take <a href="../std/rc/struct.rc"><code>Rc&lt;Self&gt;</code></a> as a receiver.</p> <h2><code id="arct">Arc&lt;T&gt;</code></h2> <p><a href="items/associated-items#associated-functions-and-methods">Methods</a> can take <a href="../std/sync/struct.arc"><code>Arc&lt;Self&gt;</code></a> as a receiver.</p> <h2><code id="pinp">Pin&lt;P&gt;</code></h2> <p><a href="items/associated-items#associated-functions-and-methods">Methods</a> can take <a href="../std/pin/struct.pin"><code>Pin&lt;P&gt;</code></a> as a receiver.</p> <h2><code id="unsafecellt">UnsafeCell&lt;T&gt;</code></h2> <p><a href="../std/cell/struct.unsafecell"><code>std::cell::UnsafeCell&lt;T&gt;</code></a> is used for <a href="interior-mutability">interior mutability</a>. It ensures that the compiler doesn't perform optimisations that are incorrect for such types. It also ensures that <a href="items/static-items"><code>static</code> items</a> which have a type with interior mutability aren't placed in memory marked as read only.</p> <h2><code id="phantomdatat">PhantomData&lt;T&gt;</code></h2> <p><a href="../std/marker/struct.phantomdata"><code>std::marker::PhantomData&lt;T&gt;</code></a> is a zero-sized, minimum alignment, type that is considered to own a <code>T</code> for the purposes of <a href="subtyping#variance">variance</a>, <a href="https://doc.rust-lang.org/nomicon/dropck.html">drop check</a>, and <a href="#auto-traits">auto traits</a>.</p> <h2>Operator Traits</h2> <p>The traits in <a href="../std/ops/index"><code>std::ops</code></a> and <a href="../std/cmp/index"><code>std::cmp</code></a> are used to overload <a href="expressions/operator-expr">operators</a>, <a href="expressions/array-expr#array-and-slice-indexing-expressions">indexing expressions</a>, and <a href="expressions/call-expr">call expressions</a>.</p> <h2>
<code id="deref-and-derefmut">Deref</code> and <code>DerefMut</code>
</h2> <p>As well as overloading the unary <code>*</code> operator, <a href="../std/ops/trait.deref"><code>Deref</code></a> and <a href="../std/ops/trait.derefmut"><code>DerefMut</code></a> are also used in <a href="expressions/method-call-expr">method resolution</a> and <a href="type-coercions#coercion-types">deref coercions</a>.</p> <h2><code id="drop">Drop</code></h2> <p>The <a href="../std/ops/trait.drop"><code>Drop</code></a> trait provides a <a href="destructors">destructor</a>, to be run whenever a value of this type is to be destroyed.</p> <h2><code id="copy">Copy</code></h2> <p>The <a href="../std/marker/trait.copy"><code>Copy</code></a> trait changes the semantics of a type implementing it. Values whose type implements <code>Copy</code> are copied rather than moved upon assignment.</p> <p><code>Copy</code> can only be implemented for types which do not implement <code>Drop</code>, and whose fields are all <code>Copy</code>. For enums, this means all fields of all variants have to be <code>Copy</code>. For unions, this means all variants have to be <code>Copy</code>.</p> <p><code>Copy</code> is implemented by the compiler for</p> <ul> <li><a href="types/numeric">Numeric types</a></li> <li>
<code>char</code>, <code>bool</code>, and <a href="types/never"><code>!</code></a>
</li> <li>
<a href="types/tuple">Tuples</a> of <code>Copy</code> types</li> <li>
<a href="types/array">Arrays</a> of <code>Copy</code> types</li> <li><a href="types/pointer#shared-references-">Shared references</a></li> <li><a href="types/pointer#raw-pointers-const-and-mut">Raw pointers</a></li> <li>
<a href="types/function-pointer">Function pointers</a> and <a href="types/function-item">function item types</a>
</li> </ul> <h2><code id="clone">Clone</code></h2> <p>The <a href="../std/clone/trait.clone"><code>Clone</code></a> trait is a supertrait of <code>Copy</code>, so it also needs compiler generated implementations. It is implemented by the compiler for the following types:</p> <ul> <li>Types with a built-in <code>Copy</code> implementation (see above)</li> <li>
<a href="types/tuple">Tuples</a> of <code>Clone</code> types</li> <li>
<a href="types/array">Arrays</a> of <code>Clone</code> types</li> </ul> <h2><code id="send">Send</code></h2> <p>The <a href="../std/marker/trait.send"><code>Send</code></a> trait indicates that a value of this type is safe to send from one thread to another.</p> <h2><code id="sync">Sync</code></h2> <p>The <a href="../std/marker/trait.sync"><code>Sync</code></a> trait indicates that a value of this type is safe to share between multiple threads. This trait must be implemented for all types used in immutable <a href="items/static-items"><code>static</code> items</a>.</p> <h2>Auto traits</h2> <p>The <a href="../std/marker/trait.send"><code>Send</code></a>, <a href="../std/marker/trait.sync"><code>Sync</code></a>, <a href="../std/marker/trait.unpin"><code>Unpin</code></a>, <a href="../std/panic/trait.unwindsafe"><code>UnwindSafe</code></a>, and <a href="../std/panic/trait.refunwindsafe"><code>RefUnwindSafe</code></a> traits are <em>auto traits</em>. Auto traits have special properties.</p> <p>If no explicit implementation or negative implementation is written out for an auto trait for a given type, then the compiler implements it automatically according to the following rules:</p> <ul> <li>
<code>&amp;T</code>, <code>&amp;mut T</code>, <code>*const T</code>, <code>*mut T</code>, <code>[T; n]</code>, and <code>[T]</code> implement the trait if <code>T</code> does.</li> <li>Function item types and function pointers automatically implement the trait.</li> <li>Structs, enums, unions, and tuples implement the trait if all of their fields do.</li> <li>Closures implement the trait if the types of all of their captures do. A closure that captures a <code>T</code> by shared reference and a <code>U</code> by value implements any auto traits that both <code>&amp;T</code> and <code>U</code> do.</li> </ul> <p>For generic types (counting the built-in types above as generic over <code>T</code>), if a generic implementation is available, then the compiler does not automatically implement it for types that could use the implementation except that they do not meet the requisite trait bounds. For instance, the standard library implements <code>Send</code> for all <code>&amp;T</code> where <code>T</code> is <code>Sync</code>; this means that the compiler will not implement <code>Send</code> for <code>&amp;T</code> if <code>T</code> is <code>Send</code> but not <code>Sync</code>.</p> <p>Auto traits can also have negative implementations, shown as <code>impl !AutoTrait for T</code> in the standard library documentation, that override the automatic implementations. For example <code>*mut T</code> has a negative implementation of <code>Send</code>, and so <code>*mut T</code> is not <code>Send</code>, even if <code>T</code> is. There is currently no stable way to specify additional negative implementations; they exist only in the standard library.</p> <p>Auto traits may be added as an additional bound to any <a href="types/trait-object">trait object</a>, even though normally only one trait is allowed. For instance, <code>Box&lt;dyn Debug + Send + UnwindSafe&gt;</code> is a valid type.</p> <h2><code id="sized">Sized</code></h2> <p>The <a href="../std/marker/trait.sized"><code>Sized</code></a> trait indicates that the size of this type is known at compile-time; that is, it's not a <a href="dynamically-sized-types">dynamically sized type</a>. <a href="types/parameters">Type parameters</a> are <code>Sized</code> by default. <code>Sized</code> is always implemented automatically by the compiler, not by <a href="items/implementations">implementation items</a>.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/reference/special-types-and-traits.html" class="_attribution-link">https://doc.rust-lang.org/reference/special-types-and-traits.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
