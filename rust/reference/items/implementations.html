
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>6.12. Implementations - Rust - W3cubDocs</title>
  
  <meta name="description" content=" Syntax Implementation &#58; InherentImpl | TraitImpl ">
  <meta name="keywords" content="implementations, rust">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/rust/reference/items/implementations.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/rust.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/rust/" class="_nav-link" title="" style="margin-left:0;">Rust</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _rust">
				
				
<h1>Implementations</h1> <blockquote> <p><strong><sup>Syntax</sup></strong><br> <em>Implementation</em> :<br> <em>InherentImpl</em> | <em>TraitImpl</em></p> <p><em>InherentImpl</em> :<br> <code>impl</code> <a href="generics"><em>Generics</em></a><sup>?</sup> <a href="../types#type-expressions"><em>Type</em></a> <a href="generics#where-clauses"><em>WhereClause</em></a><sup>?</sup> <code>{</code><br> <a href="../attributes"><em>InnerAttribute</em></a><sup>*</sup><br> <em>InherentImplItem</em><sup>*</sup><br> <code>}</code></p> <p><em>InherentImplItem</em> :<br> <a href="../attributes"><em>OuterAttribute</em></a><sup>*</sup> (<br> <a href="../macros#macro-invocation"><em>MacroInvocationSemi</em></a><br> | ( <a href="../visibility-and-privacy"><em>Visibility</em></a><sup>?</sup> ( <a href="constant-items"><em>ConstantItem</em></a> | <a href="functions"><em>Function</em></a> | <a href="associated-items#methods"><em>Method</em></a> ) )<br> )</p> <p><em>TraitImpl</em> :<br> <code>unsafe</code><sup>?</sup> <code>impl</code> <a href="generics"><em>Generics</em></a><sup>?</sup> <code>!</code><sup>?</sup> <a href="../paths#paths-in-types"><em>TypePath</em></a> <code>for</code> <a href="../types#type-expressions"><em>Type</em></a><br> <a href="generics#where-clauses"><em>WhereClause</em></a><sup>?</sup><br> <code>{</code><br> <a href="../attributes"><em>InnerAttribute</em></a><sup>*</sup><br> <em>TraitImplItem</em><sup>*</sup><br> <code>}</code></p> <p><em>TraitImplItem</em> :<br> <a href="../attributes"><em>OuterAttribute</em></a><sup>*</sup> (<br> <a href="../macros#macro-invocation"><em>MacroInvocationSemi</em></a><br> | ( <a href="../visibility-and-privacy"><em>Visibility</em></a><sup>?</sup> ( <a href="type-aliases"><em>TypeAlias</em></a> | <a href="constant-items"><em>ConstantItem</em></a> | <a href="functions"><em>Function</em></a> | <a href="associated-items#methods"><em>Method</em></a> ) )<br> )</p> </blockquote> <p>An <em>implementation</em> is an item that associates items with an <em>implementing type</em>. Implementations are defined with the keyword <code>impl</code> and contain functions that belong to an instance of the type that is being implemented or to the type statically.</p> <p>There are two types of implementations:</p> <ul> <li>inherent implementations</li> <li>
<a href="traits">trait</a> implementations</li> </ul> <h2>Inherent Implementations</h2> <p>An inherent implementation is defined as the sequence of the <code>impl</code> keyword, generic type declarations, a path to a nominal type, a where clause, and a bracketed set of associable items.</p> <p>The nominal type is called the <em>implementing type</em> and the associable items are the <em>associated items</em> to the implementing type.</p> <p>Inherent implementations associate the contained items to the implementing type. Inherent implementations can contain <a href="associated-items#associated-functions-and-methods">associated functions</a> (including methods) and <a href="associated-items#associated-constants">associated constants</a>. They cannot contain associated type aliases.</p> <p>The <a href="../paths">path</a> to an associated item is any path to the implementing type, followed by the associated item's identifier as the final path component.</p> <p>A type can also have multiple inherent implementations. An implementing type must be defined within the same crate as the original type definition.</p> <pre data-language="rust">pub mod color {
    pub struct Color(pub u8, pub u8, pub u8);

    impl Color {
        pub const WHITE: Color = Color(255, 255, 255);
    }
}

mod values {
    use super::color::Color;
    impl Color {
        pub fn red() -&gt; Color {
            Color(255, 0, 0)
        }
    }
}

pub use self::color::Color;
fn main() {
    // Actual path to the implementing type and impl in the same module.
    color::Color::WHITE;

    // Impl blocks in different modules are still accessed through a path to the type.
    color::Color::red();

    // Re-exported paths to the implementing type also work.
    Color::red();

    // Does not work, because use in `values` is not pub.
    // values::Color::red();
}
</pre> <h2>Trait Implementations</h2> <p>A <em>trait implementation</em> is defined like an inherent implementation except that the optional generic type declarations is followed by a <a href="traits">trait</a> followed by the keyword <code>for</code>. Followed by a path to a nominal type.</p>  <p>The trait is known as the <em>implemented trait</em>. The implementing type implements the implemented trait.</p> <p>A trait implementation must define all non-default associated items declared by the implemented trait, may redefine default associated items defined by the implemented trait, and cannot define any other items.</p> <p>The path to the associated items is <code>&lt;</code> followed by a path to the implementing type followed by <code>as</code> followed by a path to the trait followed by <code>&gt;</code> as a path component followed by the associated item's path component.</p> <p><a href="traits#unsafe-traits">Unsafe traits</a> require the trait implementation to begin with the <code>unsafe</code> keyword.</p> <pre data-language="rust">
#![allow(unused)]
fn main() {
#[derive(Copy, Clone)]
struct Point {x: f64, y: f64};
type Surface = i32;
struct BoundingBox {x: f64, y: f64, width: f64, height: f64};
trait Shape { fn draw(&amp;self, Surface); fn bounding_box(&amp;self) -&gt; BoundingBox; }
fn do_draw_circle(s: Surface, c: Circle) { }
struct Circle {
    radius: f64,
    center: Point,
}

impl Copy for Circle {}

impl Clone for Circle {
    fn clone(&amp;self) -&gt; Circle { *self }
}

impl Shape for Circle {
    fn draw(&amp;self, s: Surface) { do_draw_circle(s, *self); }
    fn bounding_box(&amp;self) -&gt; BoundingBox {
        let r = self.radius;
        BoundingBox {
            x: self.center.x - r,
            y: self.center.y - r,
            width: 2.0 * r,
            height: 2.0 * r,
        }
    }
}
}
</pre> <h3>Trait Implementation Coherence</h3> <p>A trait implementation is considered incoherent if either the orphan rules check fails or there are overlapping implementation instances.</p> <p>Two trait implementations overlap when there is a non-empty intersection of the traits the implementation is for, the implementations can be instantiated with the same type. </p> <h4>Orphan rules</h4> <p>Given <code>impl&lt;P1..=Pn&gt; Trait&lt;T1..=Tn&gt; for T0</code>, an <code>impl</code> is valid only if at least one of the following is true:</p> <ul> <li>
<code>Trait</code> is a <a href="../glossary#local-trait">local trait</a>
</li> <li>All of <ul> <li>At least one of the types <code>T0..=Tn</code> must be a <a href="../glossary#local-type">local type</a>. Let <code>Ti</code> be the first such type.</li> <li>No <a href="../glossary#uncovered-type">uncovered type</a> parameters <code>P1..=Pn</code> may appear in <code>T0..Ti</code> (excluding <code>Ti</code>)</li> </ul> </li> </ul> <p>Only the appearance of <em>uncovered</em> type parameters is restricted. Note that for the purposes of coherence, <a href="../glossary#fundamental-type-constructors">fundamental types</a> are special. The <code>T</code> in <code>Box&lt;T&gt;</code> is not considered covered, and <code>Box&lt;LocalType&gt;</code> is considered local.</p> <h2>Generic Implementations</h2> <p>An implementation can take type and lifetime parameters, which can be used in the rest of the implementation. Type parameters declared for an implementation must be used at least once in either the trait or the implementing type of an implementation. Implementation parameters are written directly after the <code>impl</code> keyword.</p> <pre data-language="rust">
#![allow(unused)]
fn main() {
trait Seq&lt;T&gt; { fn dummy(&amp;self, _: T) { } }
impl&lt;T&gt; Seq&lt;T&gt; for Vec&lt;T&gt; {
    /* ... */
}
impl Seq&lt;bool&gt; for u32 {
    /* Treat the integer as a sequence of bits */
}
}
</pre> <h2>Attributes on Implementations</h2> <p>Implementations may contain outer <a href="../attributes">attributes</a> before the <code>impl</code> keyword and inner <a href="../attributes">attributes</a> inside the brackets that contain the associated items. Inner attributes must come before any associated items. That attributes that have meaning here are <a href="../conditional-compilation"><code>cfg</code></a>, <a href="../attributes/diagnostics#the-deprecated-attribute"><code>deprecated</code></a>, <a href="https://doc.rust-lang.org/rustdoc/the-doc-attribute.html"><code>doc</code></a>, and <a href="../attributes/diagnostics#lint-check-attributes">the lint check attributes</a>.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/reference/items/implementations.html" class="_attribution-link">https://doc.rust-lang.org/reference/items/implementations.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
