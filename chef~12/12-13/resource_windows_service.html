
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Windows_service - Chef 12 - W3cubDocs</title>
  
  <meta name="description" content=" Use the windows_service resource to manage a service on the Microsoft Windows platform. ">
  <meta name="keywords" content="windows, service, chef, chef~12">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/chef~12/12-13/resource_windows_service.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/chef~12.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/chef~12/" class="_nav-link" title="" style="margin-left:0;">Chef 12</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx_simple">
				
				
<h1 id="windows-service">windows_service</h1> <p>Use the <strong>windows_service</strong> resource to manage a service on the Microsoft Windows platform.</p>  <h2 id="syntax">Syntax</h2> <p>A <strong>windows_service</strong> resource block manages the state of a service on a machine that is running Microsoft Windows. For example:</p> <pre class="highlight-ruby" data-language="ruby">windows_service 'BITS' do
  action :configure_startup
  startup_type :manual
end</pre> <p>The full syntax for all of the properties that are available to the <strong>windows_service</strong> resource is:</p> <pre class="highlight-ruby" data-language="ruby">windows_service 'name' do
  init_command               String
  notifies                   # see description
  pattern                    String
  provider                   Chef::Provider::Service::Windows
  reload_command             String
  restart_command            String
  run_as_password            String
  run_as_user                String
  service_name               String # defaults to 'name' if not specified
  start_command              String
  startup_type               Symbol
  status_command             String
  stop_command               String
  subscribes                 # see description
  supports                   Hash
  timeout                    Integer
  action                     Symbol # defaults to :nothing if not specified
end</pre> <p>where</p> <ul class="simple"> <li>
<code class="docutils literal">windows_service</code> is the resource</li> <li>
<code class="docutils literal">name</code> is the name of the resource block</li> <li>
<code class="docutils literal">:action</code> identifies the steps the chef-client will take to bring the node into the desired state</li> <li>
<code class="docutils literal">init_command</code>, <code class="docutils literal">pattern</code>, <code class="docutils literal">provider</code>, <code class="docutils literal">reload_command</code>, <code class="docutils literal">restart_command</code>, <code class="docutils literal">run_as_password</code>, <code class="docutils literal">run_as_user</code>, <code class="docutils literal">service_name</code>, <code class="docutils literal">start_command</code>, <code class="docutils literal">startup_type</code>, <code class="docutils literal">status_command</code>, <code class="docutils literal">stop_command</code>, <code class="docutils literal">supports</code>, and <code class="docutils literal">timeout</code> are properties of this resource, with the Ruby type shown. See “Properties” section below for more information about all of the properties that may be used with this resource.</li> </ul>   <h2 id="actions">Actions</h2> <p>This resource has the following actions:</p> <dl class="docutils"> <dt><code class="docutils literal">:configure_startup</code></dt> <dd>Configure a service based on the value of the <code class="docutils literal">startup_type</code> property.</dd> <dt><code class="docutils literal">:disable</code></dt> <dd>Disable a service. This action is equivalent to a <code class="docutils literal">Disabled</code> startup type on the Microsoft Windows platform.</dd> <dt><code class="docutils literal">:enable</code></dt> <dd>Enable a service at boot. This action is equivalent to an <code class="docutils literal">Automatic</code> startup type on the Microsoft Windows platform.</dd> <dt><code class="docutils literal">:nothing</code></dt> <dd>Default. Do nothing with a service.</dd> <dt><code class="docutils literal">:reload</code></dt> <dd>Reload the configuration for this service.</dd> <dt><code class="docutils literal">:restart</code></dt> <dd>Restart a service.</dd> <dt><code class="docutils literal">:start</code></dt> <dd>Start a service, and keep it running until stopped or disabled.</dd> <dt><code class="docutils literal">:stop</code></dt> <dd>Stop a service.</dd> </dl>   <h2 id="properties">Properties</h2> <p>This resource has the following properties:</p> <dl class="docutils"> <dt><code class="docutils literal">ignore_failure</code></dt> <dd>
<p class="first"><strong>Ruby Types:</strong> TrueClass, FalseClass</p> <p class="last">Continue running a recipe if a resource fails for any reason. Default value: <code class="docutils literal">false</code>.</p> </dd> <dt><code class="docutils literal">init_command</code></dt> <dd>
<p class="first"><strong>Ruby Type:</strong> String</p> <p class="last">The path to the init script that is associated with the service. This is typically <code class="docutils literal">/etc/init.d/SERVICE_NAME</code>. The <code class="docutils literal">init_command</code> property can be used to prevent the need to specify overrides for the <code class="docutils literal">start_command</code>, <code class="docutils literal">stop_command</code>, and <code class="docutils literal">restart_command</code> attributes. Default value: <code class="docutils literal">nil</code>.</p> </dd> <dt><code class="docutils literal">notifies</code></dt> <dd>
<p class="first"><strong>Ruby Type:</strong> Symbol, ‘Chef::Resource[String]’</p> <p>A resource may notify another resource to take action when its state changes. Specify a <code class="docutils literal">'resource[name]'</code>, the <code class="docutils literal">:action</code> that resource should take, and then the <code class="docutils literal">:timer</code> for that action. A resource may notifiy more than one resource; use a <code class="docutils literal">notifies</code> statement for each resource to be notified.</p> <p>A timer specifies the point during the chef-client run at which a notification is run. The following timers are available:</p> <dl class="docutils"> <dt><code class="docutils literal">:before</code></dt> <dd>Specifies that the action on a notified resource should be run before processing the resource block in which the notification is located.</dd> <dt><code class="docutils literal">:delayed</code></dt> <dd>Default. Specifies that a notification should be queued up, and then executed at the very end of the chef-client run.</dd> <dt>
<code class="docutils literal">:immediate</code>, <code class="docutils literal">:immediately</code>
</dt> <dd>Specifies that a notification should be run immediately, per resource notified.</dd> </dl> <p>The syntax for <code class="docutils literal">notifies</code> is:</p> <pre class="last highlight-ruby" data-language="ruby">notifies :action, 'resource[name]', :timer</pre> </dd> <dt><code class="docutils literal">pattern</code></dt> <dd>
<p class="first"><strong>Ruby Type:</strong> String</p> <p class="last">The pattern to look for in the process table. Default value: <code class="docutils literal">service_name</code>.</p> </dd> <dt><code class="docutils literal">provider</code></dt> <dd>
<p class="first"><strong>Ruby Type:</strong> Chef Class</p> <p class="last">Optional. Explicitly specifies a provider.</p> </dd> <dt><code class="docutils literal">reload_command</code></dt> <dd>
<p class="first"><strong>Ruby Type:</strong> String</p> <p class="last">The command used to tell a service to reload its configuration.</p> </dd> <dt><code class="docutils literal">restart_command</code></dt> <dd>
<p class="first"><strong>Ruby Type:</strong> String</p> <p class="last">The command used to restart a service.</p> </dd> <dt><code class="docutils literal">retries</code></dt> <dd>
<p class="first"><strong>Ruby Type:</strong> Integer</p> <p class="last">The number of times to catch exceptions and retry the resource. Default value: <code class="docutils literal">0</code>.</p> </dd> <dt><code class="docutils literal">retry_delay</code></dt> <dd>
<p class="first"><strong>Ruby Type:</strong> Integer</p> <p class="last">The retry delay (in seconds). Default value: <code class="docutils literal">2</code>.</p> </dd> <dt><code class="docutils literal">run_as_password</code></dt> <dd>
<p class="first"><strong>Ruby Type:</strong> String</p> <p class="last">The password for the user specified by <code class="docutils literal">run_as_user</code>.</p> </dd> <dt><code class="docutils literal">run_as_user</code></dt> <dd>
<p class="first"><strong>Ruby Type:</strong> String</p> <p class="last">The user under which a Microsoft Windows service runs.</p> </dd> <dt><code class="docutils literal">service_name</code></dt> <dd>
<p class="first"><strong>Ruby Type:</strong> String</p> <p class="last">The name of the service. Default value: the <code class="docutils literal">name</code> of the resource block See “Syntax” section above for more information.</p> </dd> <dt><code class="docutils literal">start_command</code></dt> <dd>
<p class="first"><strong>Ruby Type:</strong> String</p> <p class="last">The command used to start a service.</p> </dd> <dt><code class="docutils literal">startup_type</code></dt> <dd>
<p class="first"><strong>Ruby Type:</strong> Symbol</p> <p class="last">Use to specify the startup type for a Microsoft Windows service. Possible values: <code class="docutils literal">:automatic</code>, <code class="docutils literal">:disabled</code>, or <code class="docutils literal">:manual</code>. Default value: <code class="docutils literal">:automatic</code>.</p> </dd> <dt><code class="docutils literal">status_command</code></dt> <dd>
<p class="first"><strong>Ruby Type:</strong> String</p> <p class="last">The command used to check the run status for a service.</p> </dd> <dt><code class="docutils literal">stop_command</code></dt> <dd>
<p class="first"><strong>Ruby Type:</strong> String</p> <p class="last">The command used to stop a service.</p> </dd> <dt><code class="docutils literal">subscribes</code></dt> <dd>
<p class="first"><strong>Ruby Type:</strong> Symbol, ‘Chef::Resource[String]’</p> <p>A resource may listen to another resource, and then take action if the state of the resource being listened to changes. Specify a <code class="docutils literal">'resource[name]'</code>, the <code class="docutils literal">:action</code> to be taken, and then the <code class="docutils literal">:timer</code> for that action.</p> <p>A timer specifies the point during the chef-client run at which a notification is run. The following timers are available:</p> <dl class="docutils"> <dt><code class="docutils literal">:before</code></dt> <dd>Specifies that the action on a notified resource should be run before processing the resource block in which the notification is located.</dd> <dt><code class="docutils literal">:delayed</code></dt> <dd>Default. Specifies that a notification should be queued up, and then executed at the very end of the chef-client run.</dd> <dt>
<code class="docutils literal">:immediate</code>, <code class="docutils literal">:immediately</code>
</dt> <dd>Specifies that a notification should be run immediately, per resource notified.</dd> </dl> <p>The syntax for <code class="docutils literal">subscribes</code> is:</p> <pre class="last highlight-ruby" data-language="ruby">subscribes :action, 'resource[name]', :timer</pre> </dd> <dt><code class="docutils literal">supports</code></dt> <dd>
<p class="first"><strong>Ruby Type:</strong> Hash</p> <p class="last">A list of properties that controls how the chef-client is to attempt to manage a service: <code class="docutils literal">:restart</code>, <code class="docutils literal">:reload</code>, <code class="docutils literal">:status</code>. For <code class="docutils literal">:restart</code>, the init script or other service provider can use a restart command; if <code class="docutils literal">:restart</code> is not specified, the chef-client attempts to stop and then start a service. For <code class="docutils literal">:reload</code>, the init script or other service provider can use a reload command. For <code class="docutils literal">:status</code>, the init script or other service provider can use a status command to determine if the service is running; if <code class="docutils literal">:status</code> is not specified, the chef-client attempts to match the <code class="docutils literal">service_name</code> against the process table as a regular expression, unless a pattern is specified as a parameter property. Default value: <code class="docutils literal">{ :restart =&gt; false, :reload =&gt; false, :status =&gt; false }</code> for all platforms (except for the Red Hat platform family, which defaults to <code class="docutils literal">{ :restart =&gt; false, :reload =&gt; false, :status =&gt; true }</code>.)</p> </dd> <dt><code class="docutils literal">timeout</code></dt> <dd>
<p class="first"><strong>Ruby Type:</strong> Integer</p> <p class="last">The amount of time (in seconds) to wait before timing out. Default value: <code class="docutils literal">60</code>.</p> </dd> </dl>   <h2 id="examples">Examples</h2> <p>The following examples demonstrate various approaches for using resources in recipes. If you want to see examples of how Chef uses resources in recipes, take a closer look at the cookbooks that Chef authors and maintains: <a class="reference external" href="https://github.com/chef-cookbooks">https://github.com/chef-cookbooks</a>.</p> <p><strong>Start a service manually</strong></p> <pre class="highlight-ruby" data-language="ruby">windows_service 'BITS' do
  action :configure_startup
  startup_type :manual
end</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef™ Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs-archive.chef.io/release/12-13/resource_windows_service.html" class="_attribution-link">https://docs-archive.chef.io/release/12-13/resource_windows_service.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
