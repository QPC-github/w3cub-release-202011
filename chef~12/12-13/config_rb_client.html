
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>client.rb - Chef 12 - W3cubDocs</title>
  
  <meta name="description" content=" A client.rb file is used to specify the configuration details for the chef-client. ">
  <meta name="keywords" content="client, rb, chef, chef~12">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/chef~12/12-13/config_rb_client.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/chef~12.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/chef~12/" class="_nav-link" title="" style="margin-left:0;">Chef 12</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx_simple">
				
				
<h1 id="client-rb">client.rb</h1> <p>A client.rb file is used to specify the configuration details for the chef-client.</p> <ul class="simple"> <li>This file is loaded every time this executable is run</li> <li>On UNIX- and Linux-based machines, the default location for this file is <code class="docutils literal">/etc/chef/client.rb</code>; on Microsoft Windows machines, the default location for this file is <code class="docutils literal">C:\chef\client.rb</code>; use the <code class="docutils literal">--config</code> option from the command line to change this location</li> <li>This file is not created by default</li> <li>When a client.rb file is present in the default location, the settings contained within that client.rb file will override the default configuration settings</li> </ul>  <h2 id="settings">Settings</h2> <p>This configuration file has the following settings:</p> <dl class="docutils"> <dt><code class="docutils literal">add_formatter</code></dt> <dd>A 3rd-party formatter. (See <a class="reference external" href="https://github.com/andreacampi/nyan-cat-chef-formatter">nyan-cat</a> for an example of a 3rd-party formatter.) Each formatter requires its own entry.</dd> <dt><code class="docutils literal">audit_mode</code></dt> <dd>Enable audit-mode. Set to <code class="docutils literal">audit-only</code> to skip the converge phase of the chef-client run and only perform audits. Possible values: <code class="docutils literal">audit-only</code>, <code class="docutils literal">disabled</code>, and <code class="docutils literal">enabled</code>. Default value: <code class="docutils literal">disabled</code>.</dd> <dt><code class="docutils literal">automatic_attribute_whitelist</code></dt> <dd>A Hash that whitelists <code class="docutils literal">automatic</code> attributes, preventing non-whitelisted attributes from being saved.</dd> <dt><code class="docutils literal">cache_path</code></dt> <dd>Optional. The home directory for the user that is running the chef-client as a non-root user.</dd> <dt><code class="docutils literal">checksum_path</code></dt> <dd>The location in which checksum files are stored. These are used to validate individual cookbook files, such as recipes. The checksum itself is stored in the Chef server database and is then compared to a file in the checksum path that has a filename identical to the checksum.</dd> <dt><code class="docutils literal">chef_repo_path</code></dt> <dd>The path to the chef-repo.</dd> <dt><code class="docutils literal">chef_server_url</code></dt> <dd>
<p class="first">The URL for the Chef server. For example:</p> <pre class="last highlight-ruby" data-language="ruby">https://localhost/organizations/ORG_NAME</pre> </dd> <dt><code class="docutils literal">chef_zero.enabled</code></dt> <dd>Enable chef-zero. This setting requires <code class="docutils literal">local_mode</code> to be set to <code class="docutils literal">true</code>. Default value: <code class="docutils literal">false</code>.</dd> <dt><code class="docutils literal">chef_zero.port</code></dt> <dd>The port on which chef-zero is to listen. This value may be specified as a range; the chef-client will take the first available port in the range. For example <code class="docutils literal">10,20,30</code> or <code class="docutils literal">10000-20000</code>. Default value: <code class="docutils literal">8889-9999</code>.</dd> <dt><code class="docutils literal">client_key</code></dt> <dd>The location of the file that contains the client key. Default value: <code class="docutils literal">/etc/chef/client.pem</code>.</dd> <dt><code class="docutils literal">client_registration_retries</code></dt> <dd>The number of times a chef-client is to attempt to register with a Chef server. Default value: <code class="docutils literal">5</code>.</dd> <dt><code class="docutils literal">chef_gem_compile_time</code></dt> <dd>
<p class="first">Controls the phase during which a gem is installed on a node. Set to <code class="docutils literal">true</code> to install a gem while the resource collection is being built (the “compile phase”). Set to <code class="docutils literal">false</code> to install a gem while the chef-client is configuring the node (the “converge phase”). Recommended value: <code class="docutils literal">false</code>.</p> <div class="last admonition note"> <p class="first admonition-title">Note</p> <p>To suppress warnings for cookbooks authored prior to chef-client 12.1, use a <code class="docutils literal">respond_to?</code> check to ensure backward compatibility. For example:</p> <pre class="last highlight-ruby" data-language="ruby">chef_gem 'aws-sdk' do
  compile_time false if respond_to?(:compile_time)
end</pre> </div> </dd> <dt><code class="docutils literal">cookbook_path</code></dt> <dd>The sub-directory for cookbooks on the chef-client. This value can be a string or an array of file system locations, processed in the specified order. The last cookbook is considered to override local modifications.</dd> <dt><code class="docutils literal">cookbook_sync_threads</code></dt> <dd>The number of helper threads available for parallel cookbook synchronization. Increasing this value <strong>may</strong> increase the frequency of gateway errors from the Chef server (503 and 504 errors). Decreasing this number reduces the frequency of gateway errors, if present. Default value: <code class="docutils literal">10</code>.</dd> <dt><code class="docutils literal">data_bag_decrypt_minimum_version</code></dt> <dd>The minimum required version of data bag encryption. Possible values: <code class="docutils literal">0</code>, <code class="docutils literal">1</code>, and <code class="docutils literal">2</code>. When all of the machines in an organization are running chef-client version 11.6 (or higher), it is recommended that this value be set to <code class="docutils literal">2</code>.</dd> <dt><code class="docutils literal">data_bag_path</code></dt> <dd>The location from which a data bag is loaded. Default value: <code class="docutils literal">/var/chef/data_bags</code>.</dd> <dt><code class="docutils literal">data_collector_server_url</code></dt> <dd>The fully qualified URL to the data collector server API.</dd> <dt><code class="docutils literal">data_collector_token</code></dt> <dd>The shared data collector security token. When configured, the token will be passed as an HTTP header named <code class="docutils literal">x-data-collector-token</code> which the server can choose to accept or reject.</dd> <dt><code class="docutils literal">data_collector_mode</code></dt> <dd>The chef-client mode in which the Data Collector will be enabled. Possible values: <code class="docutils literal">:solo</code>, <code class="docutils literal">:client</code>, or <code class="docutils literal">:both</code>. The <code class="docutils literal">:solo</code> value is used for Chef operating in Chef Solo Mode or Chef Solo Legacy Mode. Default value: <code class="docutils literal">both</code>.</dd> <dt><code class="docutils literal">data_collector_raise_on_failure</code></dt> <dd>When enabled the chef-client will raise an error if it is unable to successfully POST to the data collector server. Default value: <code class="docutils literal">false</code>.</dd> <dt><code class="docutils literal">default_attribute_whitelist</code></dt> <dd>A Hash that whitelists <code class="docutils literal">default</code> attributes, preventing non-whitelisted attributes from being saved.</dd> <dt><code class="docutils literal">diff_disabled</code></dt> <dd>Cause the chef-client to create a diff when changes are made to a file. Default value: <code class="docutils literal">false</code>.</dd> <dt><code class="docutils literal">diff_filesize_threshold</code></dt> <dd>The maximum size (in bytes) of a file for which the chef-client can create a diff. Default value: <code class="docutils literal">10000000</code>.</dd> <dt><code class="docutils literal">diff_output_threshold</code></dt> <dd>The maximum size (in bytes) of a diff file created by the chef-client. Default value: <code class="docutils literal">1000000</code>.</dd> <dt><code class="docutils literal">disable_event_logger</code></dt> <dd>Enable or disable sending events to the Microsoft Windows “Application” event log. When <code class="docutils literal">false</code>, events are sent to the Microsoft Windows “Application” event log at the start and end of a chef-client run, and also if a chef-client run fails. Set to <code class="docutils literal">true</code> to disable event logging. Default value: <code class="docutils literal">true</code>.</dd> <dt><code class="docutils literal">enable_reporting</code></dt> <dd>Cause the chef-client to send data to the Chef server for use with Reporting.</dd> <dt><code class="docutils literal">enable_reporting_url_fatals</code></dt> <dd>Cause the chef-client run to fail when Reporting data cannot be sent to the Chef server (for any reason).</dd> <dt><code class="docutils literal">enable_selinux_file_permission_fixup</code></dt> <dd>SELinux environments only. Cause the chef-client to attempt to apply the correct file permissions to an updated file via the <code class="docutils literal">restorecon</code> command. Set this value to <code class="docutils literal">false</code> to prevent the chef-client from attempting this action.</dd> <dt><code class="docutils literal">encrypted_data_bag_secret</code></dt> <dd>The subdirectory in which encrypted data bag secrets are located.</dd> <dt><code class="docutils literal">environment</code></dt> <dd>The name of the environment.</dd> <dt><code class="docutils literal">environment_path</code></dt> <dd>The path to the environment. Default value: <code class="docutils literal">/var/chef/environments</code>.</dd> <dt><code class="docutils literal">exit_status</code></dt> <dd>
<p class="first">When set to <code class="docutils literal">:enabled</code>, chef-client will use <a href="https://github.com/chef/chef-rfc/blob/master/rfc062-exit-status.#exit-codes-in-use" target="_blank">stardardized exit codes</a> for Chef client run status, and any non-standard exit codes will be converted to <code class="docutils literal">1</code> or <code class="docutils literal">GENERIC_FAILURE</code>. This setting can also be set to <code class="docutils literal">:disabled</code> which preserves the old behavior of using non-standardized exit codes and skips the deprecation warnings. Default value: <code class="docutils literal">nil</code>.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">The behavior with the default value consists of a warning on the use of deprecated and non-standard exit codes. In a future release of Chef client, using standardized exit codes will be the default behavior.</p> </div> <p class="last">New in Chef Client 12.11.</p> </dd> <dt><code class="docutils literal">file_atomic_update</code></dt> <dd>
<p class="first">Apply atomic file updates to all resources. Set to <code class="docutils literal">true</code> for global atomic file updates. Set to <code class="docutils literal">false</code> for global non-atomic file updates. (Use the <code class="docutils literal">atomic_update</code> setting on a per-resource basis to override this setting.) Default value: <code class="docutils literal">true</code>.</p> <div class="last admonition warning"> <p class="first admonition-title">Warning</p> <p class="last">Changing this setting to <code class="docutils literal">false</code> may cause file corruption, data loss, or instability. Use the <code class="docutils literal">atomic_update</code> property on the <strong>cookbook_file</strong>, <strong>file</strong>, <strong>remote_file</strong>, and <strong>template</strong> resources to tune this behavior at the recipe level.</p> </div> </dd> <dt><code class="docutils literal">file_backup_path</code></dt> <dd>The location in which backup files are stored. If this value is empty, backup files are stored in the directory of the target file. Default value: <code class="docutils literal">/var/chef/backup</code>.</dd> <dt><code class="docutils literal">file_cache_path</code></dt> <dd>The location in which cookbooks (and other transient data) files are stored when they are synchronized. This value can also be used in recipes to download files with the <strong>remote_file</strong> resource.</dd> <dt><code class="docutils literal">file_staging_uses_destdir</code></dt> <dd>How file staging (via temporary files) is done. When <code class="docutils literal">true</code>, temporary files are created in the directory in which files will reside. When <code class="docutils literal">false</code>, temporary files are created under <code class="docutils literal">ENV['TMP']</code>. Default value: <code class="docutils literal">true</code>.</dd> <dt><code class="docutils literal">fips</code></dt> <dd>Allows OpenSSL to enforce FIPS-validated security during the chef-client run. Set to <code class="docutils literal">true</code> to enable FIPS-validated security.</dd> <dt><code class="docutils literal">ftp_proxy</code></dt> <dd>The proxy server for FTP connections.</dd> <dt><code class="docutils literal">ftp_proxy_pass</code></dt> <dd>The password for the proxy server when the proxy server is using an FTP connection. Default value: <code class="docutils literal">nil</code>.</dd> <dt><code class="docutils literal">ftp_proxy_user</code></dt> <dd>The user name for the proxy server when the proxy server is using an FTP connection. Default value: <code class="docutils literal">nil</code>.</dd> <dt><code class="docutils literal">group</code></dt> <dd>The group that owns a process. This is required when starting any executable as a daemon. Default value: <code class="docutils literal">nil</code>.</dd> <dt><code class="docutils literal">http_proxy</code></dt> <dd>The proxy server for HTTP connections. Default value: <code class="docutils literal">nil</code>.</dd> <dt><code class="docutils literal">http_proxy_pass</code></dt> <dd>The password for the proxy server when the proxy server is using an HTTP connection. Default value: <code class="docutils literal">nil</code>.</dd> <dt><code class="docutils literal">http_proxy_user</code></dt> <dd>The user name for the proxy server when the proxy server is using an HTTP connection. Default value: <code class="docutils literal">nil</code>.</dd> <dt><code class="docutils literal">http_retry_count</code></dt> <dd>The number of retry attempts. Default value: <code class="docutils literal">5</code>.</dd> <dt><code class="docutils literal">http_retry_delay</code></dt> <dd>The delay (in seconds) between retry attempts. Default value: <code class="docutils literal">5</code>.</dd> <dt><code class="docutils literal">https_proxy</code></dt> <dd>The proxy server for HTTPS connections. Default value: <code class="docutils literal">nil</code>.</dd> <dt><code class="docutils literal">https_proxy_pass</code></dt> <dd>The password for the proxy server when the proxy server is using an HTTPS connection. Default value: <code class="docutils literal">nil</code>.</dd> <dt><code class="docutils literal">https_proxy_user</code></dt> <dd>The user name for the proxy server when the proxy server is using an HTTPS connection. Default value: <code class="docutils literal">nil</code>.</dd> <dt><code class="docutils literal">interval</code></dt> <dd>The frequency (in seconds) at which the chef-client runs. Default value: <code class="docutils literal">1800</code>.</dd> <dt><code class="docutils literal">json_attribs</code></dt> <dd>The path to a file that contains JSON data.</dd> <dt><code class="docutils literal">listen</code></dt> <dd>Run chef-zero in socketless mode. Set to <code class="docutils literal">false</code> to disable port binding and HTTP requests on localhost.</dd> <dt><code class="docutils literal">local_key_generation</code></dt> <dd>Whether the Chef server or chef-client generates the private/public key pair. When <code class="docutils literal">true</code>, the chef-client generates the key pair, and then sends the public key to the Chef server. Default value: <code class="docutils literal">true</code>.</dd> <dt><code class="docutils literal">local_mode</code></dt> <dd>Run the chef-client in local mode. This allows all commands that work against the Chef server to also work against the local chef-repo.</dd> <dt><code class="docutils literal">lockfile</code></dt> <dd>The location of the chef-client lock file. This value is typically platform-dependent, so should be a location defined by <code class="docutils literal">file_cache_path</code>. The default location of a lock file should not on an NF mount. Default value: a location defined by <code class="docutils literal">file_cache_path</code>.</dd> <dt><code class="docutils literal">log_level</code></dt> <dd>The level of logging to be stored in a log file. Possible levels: <code class="docutils literal">:auto</code> (default), <code class="docutils literal">:debug</code>, <code class="docutils literal">:info</code>, <code class="docutils literal">:warn</code>, <code class="docutils literal">:error</code>, or <code class="docutils literal">:fatal</code>. Default value: <code class="docutils literal">:warn</code> (when a terminal is available) or <code class="docutils literal">:info</code> (when a terminal is not available).</dd> <dt><code class="docutils literal">log_location</code></dt> <dd>The location of the log file. Possible values: <code class="docutils literal">/path/to/log_location</code>, <code class="docutils literal">STDOUT</code>, <code class="docutils literal">STDERR</code>, <code class="docutils literal">:win_evt</code> (Windows Event Logger), or <code class="docutils literal">:syslog</code> (writes to the syslog daemon facility with the originator set as <code class="docutils literal">chef-client</code>). The application log will specify the source as <code class="docutils literal">Chef</code>. Default value: <code class="docutils literal">STDOUT</code>.</dd> <dt><code class="docutils literal">minimal_ohai</code></dt> <dd>Run the Ohai plugins for name detection and resource/provider selection and no other Ohai plugins. Set to <code class="docutils literal">true</code> during integration testing to speed up test cycles.</dd> <dt><code class="docutils literal">named_run_list</code></dt> <dd>The run-list associated with a policy file.</dd> <dt><code class="docutils literal">no_lazy_load</code></dt> <dd>Download all cookbook files and templates at the beginning of the chef-client run. Default value: <code class="docutils literal">true</code>.</dd> <dt><code class="docutils literal">no_proxy</code></dt> <dd>A comma-separated list of URLs that do not need a proxy. Default value: <code class="docutils literal">nil</code>.</dd> <dt><code class="docutils literal">node_name</code></dt> <dd>The name of the node. Determines which configuration should be applied and sets the <code class="docutils literal">client_name</code>, which is the name used when authenticating to a Chef server. The default value is the FQDN of the chef-client, as detected by Ohai. In general, Chef recommends that you leave this setting blank and let Ohai assign the FQDN of the node as the <code class="docutils literal">node_name</code> during each chef-client run.</dd> <dt><code class="docutils literal">node_path</code></dt> <dd>The location in which nodes are stored when the chef-client is run in local mode. Default value: <code class="docutils literal">/var/chef/node</code>.</dd> <dt><code class="docutils literal">normal_attribute_whitelist</code></dt> <dd>A Hash that whitelists <code class="docutils literal">normal</code> attributes, preventing non-whitelisted attributes from being saved.</dd> <dt><code class="docutils literal">override_attribute_whitelist</code></dt> <dd>A Hash that whitelists <code class="docutils literal">override</code> attributes, preventing non-whitelisted attributes from being saved.</dd> <dt><code class="docutils literal">pid_file</code></dt> <dd>The location in which a process identification number (pid) is saved. An executable, when started as a daemon, writes the pid to the specified file. Default value: <code class="docutils literal">/tmp/name-of-executable.pid</code>.</dd> <dt><code class="docutils literal">policy_group</code></dt> <dd>The name of a policy, as identified by the <code class="docutils literal">name</code> setting in a Policyfile.rb file. <code class="docutils literal">policy_name</code> must also be specified.</dd> <dt><code class="docutils literal">policy_name</code></dt> <dd>The name of a policy group that exists on the Chef server. <code class="docutils literal">policy_group</code> must also be specified.</dd> <dt><code class="docutils literal">rest_timeout</code></dt> <dd>The time (in seconds) after which an HTTP REST request is to time out. Default value: <code class="docutils literal">300</code>.</dd> <dt><code class="docutils literal">role_path</code></dt> <dd>The location in which role files are located. Default value: <code class="docutils literal">/var/chef/roles</code>.</dd> <dt><code class="docutils literal">run_lock_timeout</code></dt> <dd>The amount of time (in seconds) to wait for a chef-client lock file to be deleted. A chef-client run will not start when a lock file is present. If a lock file is not deleted before this time expires, the pending chef-client run will exit. Default value: not set (indefinite). Set to <code class="docutils literal">0</code> to cause a second chef-client to exit immediately.</dd> <dt><code class="docutils literal">splay</code></dt> <dd>A random number between zero and <code class="docutils literal">splay</code> that is added to <code class="docutils literal">interval</code>. Use splay to help balance the load on the Chef server by ensuring that many chef-client runs are not occuring at the same interval. Default value: <code class="docutils literal">nil</code>.</dd> <dt><code class="docutils literal">ssl_ca_file</code></dt> <dd>The file in which the OpenSSL key is saved. This setting is generated automatically by the chef-client and most users do not need to modify it.</dd> <dt><code class="docutils literal">ssl_ca_path</code></dt> <dd>The path to where the OpenSSL key is located. This setting is generated automatically by the chef-client and most users do not need to modify it.</dd> <dt><code class="docutils literal">ssl_client_cert</code></dt> <dd>The OpenSSL X.509 certificate used for mutual certificate validation. This setting is only necessary when mutual certificate validation is configured on the Chef server. Default value: <code class="docutils literal">nil</code>.</dd> <dt><code class="docutils literal">ssl_client_key</code></dt> <dd>The OpenSSL X.509 key used for mutual certificate validation. This setting is only necessary when mutual certificate validation is configured on the Chef server. Default value: <code class="docutils literal">nil</code>.</dd> <dt><code class="docutils literal">ssl_verify_mode</code></dt> <dd>
<p class="first">Set the verify mode for HTTPS requests.</p> <ul class="simple"> <li>Use <code class="docutils literal">:verify_none</code> to do no validation of SSL certificates.</li> <li>Use <code class="docutils literal">:verify_peer</code> to do validation of all SSL certificates, including the Chef server connections, S3 connections, and any HTTPS <strong>remote_file</strong> resource URLs used in the chef-client run. This is the recommended setting.</li> </ul> <p class="last">Depending on how OpenSSL is configured, the <code class="docutils literal">ssl_ca_path</code> may need to be specified. Default value: <code class="docutils literal">:verify_peer</code>.</p> </dd> <dt><code class="docutils literal">syntax_check_cache_path</code></dt> <dd>All files in a cookbook must contain valid Ruby syntax. Use this setting to specify the location in which knife caches information about files that have been checked for valid Ruby syntax.</dd> <dt><code class="docutils literal">umask</code></dt> <dd>The file mode creation mask, or umask. Default value: <code class="docutils literal">0022</code>.</dd> <dt><code class="docutils literal">use_policyfile</code></dt> <dd>The chef-client automatically checks the configuration, node JSON, and the stored node on the Chef server to determine if Policyfile files are being used, and then automatically updates this flag. Default value: <code class="docutils literal">false</code>.</dd> <dt><code class="docutils literal">user</code></dt> <dd>The user that owns a process. This is required when starting any executable as a daemon. Default value: <code class="docutils literal">nil</code>.</dd> <dt><code class="docutils literal">validation_client_name</code></dt> <dd>The name of the chef-validator key that is used by the chef-client to access the Chef server during the initial chef-client run.</dd> <dt><code class="docutils literal">validation_key</code></dt> <dd>The location of the file that contains the key used when a chef-client is registered with a Chef server. A validation key is signed using the <code class="docutils literal">validation_client_name</code> for authentication. Default value: <code class="docutils literal">/etc/chef/validation.pem</code>.</dd> <dt><code class="docutils literal">verbose_logging</code></dt> <dd>Set the log level. Options: <code class="docutils literal">true</code>, <code class="docutils literal">nil</code>, and <code class="docutils literal">false</code>. When this is set to <code class="docutils literal">false</code>, notifications about individual resources being processed are suppressed (and are output at the <code class="docutils literal">:info</code> logging level). Setting this to <code class="docutils literal">false</code> can be useful when a chef-client is run as a daemon. Default value: <code class="docutils literal">nil</code>.</dd> <dt><code class="docutils literal">verify_api_cert</code></dt> <dd>Verify the SSL certificate on the Chef server. When <code class="docutils literal">true</code>, the chef-client always verifies the SSL certificate. When <code class="docutils literal">false</code>, the chef-client uses the value of <code class="docutils literal">ssl_verify_mode</code> to determine if the SSL certificate requires verification. Default value: <code class="docutils literal">false</code>.</dd> <dt><code class="docutils literal">whitelist</code></dt> <dd>
<p class="first">A Hash that contains the whitelist used by Chef push jobs. For example:</p> <pre class="highlight-ruby" data-language="ruby">whitelist {
  'job-name' =&gt; 'command',
  'job-name' =&gt; 'command',
  'chef-client' =&gt; 'chef-client'
}</pre> <p>A job entry may also be <code class="docutils literal">'job-name' =&gt; {:lock =&gt; true}</code>, which will check the <code class="docutils literal">lockfile</code> setting in the client.rb file before starting the job.</p> <div class="last admonition warning"> <p class="first admonition-title">Warning</p> <p class="last">The <code class="docutils literal">whitelist</code> setting is available only when using Chef push jobs, a tool that runs jobs against nodes in an organization.</p> </div> </dd> <dt><code class="docutils literal">windows_service.watchdog_timeout</code></dt> <dd>The maximum amount of time (in seconds) available to the chef-client run when the chef-client is run as a service on the Microsoft Windows platform. If the chef-client run does not complete within the specified timeframe, the chef-client run is terminated. Default value: <code class="docutils literal">2 * (60 * 60)</code>.</dd> <dt><code class="docutils literal">yum_lock_timeout</code></dt> <dd>The amount of time (in seconds) after which a Yum lock request is to time out. Default value: <code class="docutils literal">30</code>.</dd> </dl>  <h3 id="automatic-proxy-config">Automatic Proxy Config</h3> <p>If <code class="docutils literal">http_proxy</code>, <code class="docutils literal">https_proxy</code>, <code class="docutils literal">ftp_proxy</code>, or <code class="docutils literal">no_proxy</code> is set in the client.rb file, the chef-client will configure the <code class="docutils literal">ENV</code> variable based on these (and related) settings. For example:</p> <pre class="highlight-ruby" data-language="ruby">http_proxy 'http://proxy.example.org:8080'
http_proxy_user 'myself'
http_proxy_pass 'Password1'</pre> <p>will be set to:</p> <pre class="highlight-ruby" data-language="ruby">ENV['http_proxy'] = 'http://myself:Password1@proxy.example.org:8080'</pre>    <h2 id="d-directories">.d Directories</h2> <p>The chef-client supports reading multiple configuration files by putting them inside a <code class="docutils literal">.d</code> configuration directory. For example: <code class="docutils literal">/etc/chef/client.d</code>. All files that end in <code class="docutils literal">.rb</code> in the <code class="docutils literal">.d</code> directory are loaded; other non-<code class="docutils literal">.rb</code> files are ignored.</p> <p><code class="docutils literal">.d</code> directories may exist in any location where the <code class="docutils literal">client.rb</code>, <code class="docutils literal">config.rb</code>, or <code class="docutils literal">solo.rb</code> files are present, such as:</p> <ul class="simple"> <li><code class="docutils literal">/etc/chef/client.d</code></li> <li><code class="docutils literal">/etc/chef/config.d</code></li> <li><code class="docutils literal">~/chef/solo.d</code></li> <li><code class="docutils literal">c:/chef/config.d</code></li> </ul> <p>(There is no support for a <code class="docutils literal">knife.d</code> directory; use <code class="docutils literal">config.d</code> instead.)</p> <p>For example, when using knife, the following configuration files would be loaded:</p> <ul class="simple"> <li><code class="docutils literal">~/.chef/config.rb</code></li> <li><code class="docutils literal">~/.chef/config.d/company_settings.rb</code></li> <li><code class="docutils literal">~/.chef/config.d/ec2_configuration.rb</code></li> <li><code class="docutils literal">~/.chef/config.d/old_settings.rb.bak</code></li> </ul> <p>The <code class="docutils literal">old_settings.rb.bak</code> file is ignored because it’s not a configuration file. The <code class="docutils literal">config.rb</code>, <code class="docutils literal">company_settings.rb</code>, and <code class="docutils literal">ec2_configuration</code> files are merged together as if they are a single configuration file.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">If multiple configuration files exists in a <code class="docutils literal">.d</code> directory, ensure that the same setting has the same value in all files.</p> </div>   <h2 id="ohai-settings">Ohai Settings</h2> <p>Ohai configuration settings can be added to the client.rb file.</p> <dl class="docutils"> <dt><code class="docutils literal">Ohai.directory</code></dt> <dd>The directory in which Ohai plugins are located.</dd> <dt><code class="docutils literal">Ohai.disabled_plugins</code></dt> <dd>
<p class="first">An array of Ohai plugins to be disabled on a node. The list of plugins included in Ohai can be found in the <code class="docutils literal">ohai/lib/ohai/plugins</code> directory. For example, disabling a single plugin:</p> <pre class="highlight-ruby" data-language="ruby">Ohai.disabled_plugins = [
    :MyPlugin
  ]

or disabling multiple plugins:</pre> <pre class="highlight-ruby" data-language="ruby">Ohai.disabled_plugins = [
  :MyPlugin,
  :MyPlugin,
  :MyPlugin
]</pre> <p>and to disable multiple plugins, including Ohai 6 plugins:</p> <pre class="highlight-ruby" data-language="ruby">Ohai.disabled_plugins = [
          :MyPlugin,
  :MyPlugin,
  'my_ohai_6_plugin'
]</pre> <p>When a plugin is disabled, the chef-client log file will contain entries similar to:</p> <pre class="last highlight-ruby" data-language="ruby">[2014-06-13T23:49:12+00:00] DEBUG: Skipping disabled plugin MyPlugin</pre> </dd> <dt><code class="docutils literal">Ohai.hints_path</code></dt> <dd>The path to the file that contains hints for Ohai.</dd> <dt><code class="docutils literal">Ohai.log_level</code></dt> <dd>The level of logging to be stored in a log file.</dd> <dt><code class="docutils literal">Ohai.log_location</code></dt> <dd>The location of the log file.</dd> <dt><code class="docutils literal">Ohai.plugin_path</code></dt> <dd>
<p class="first">An array of paths at which Ohai plugins are located. Default value: <code class="docutils literal">[&lt;CHEF_GEM_PATH&gt;/ohai-9.9.9/lib/ohai/plugins]</code>. When custom Ohai plugins are added, the paths must be added to the array. For example, a single plugin:</p> <pre class="highlight-ruby" data-language="ruby">Ohai.plugin_path &lt;&lt; '/etc/chef/ohai_plugins'</pre> <p>and for multiple plugins:</p> <pre class="last highlight-ruby" data-language="ruby">Ohai.plugin_path += [
  '/etc/chef/ohai_plugins',
  '/path/to/other/plugins'
  ]</pre> </dd> <dt><code class="docutils literal">Ohai.version</code></dt> <dd>The version of Ohai.</dd> </dl> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">The Ohai executable ignores settings in the client.rb file when Ohai is run independently of the chef-client.</p> </div>   <h2 id="example">Example</h2> <p>A sample client.rb file that contains the most simple way to connect to <a class="reference external" href="https://manage.chef.io">https://manage.chef.io</a>:</p> <pre class="highlight-ruby" data-language="ruby">log_level        :info
log_location     STDOUT
chef_server_url  'https://api.opscode.com/organizations/&lt;orgname&gt;'
validation_client_name '&lt;orgname&gt;-validator'
validation_key '/etc/chef/validator.pem'
client_key '/etc/chef/client.pem'</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef™ Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs-archive.chef.io/release/12-13/config_rb_client.html" class="_attribution-link">https://docs-archive.chef.io/release/12-13/config_rb_client.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
