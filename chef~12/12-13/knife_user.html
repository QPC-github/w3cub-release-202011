
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Knife User - Chef 12 - W3cubDocs</title>
  
  <meta name="description" content=" The knife user subcommand is used to manage the list of users and their associated RSA public key-pairs. ">
  <meta name="keywords" content="knife, user, chef, chef~12">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/chef~12/12-13/knife_user.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/chef~12.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/chef~12/" class="_nav-link" title="" style="margin-left:0;">Chef 12</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx_simple">
				
				
<h1 id="knife-user">knife user</h1> <p>The <code class="docutils literal">knife user</code> subcommand is used to manage the list of users and their associated RSA public key-pairs.</p> <div class="admonition warning"> <p class="first admonition-title">Warning</p> <p>In versions of the chef-client prior to version 12.0, this subcommand ONLY works when run against the open source Chef server; it does not run against Enterprise Chef (including hosted Enterprise Chef), or Private Chef.</p> <p>Starting with Chef server 12.0, this functionality is built into the chef-server-ctl command-line tool as part of the following arguments:</p> <ul class="simple"> <li>user-create</li> <li>user-delete</li> <li>user-edit</li> <li>user-list</li> <li>user-show</li> </ul> <p>Starting with chef-client version 12.4.1, the <code class="docutils literal">knife user</code> functionality is restored for the following arguments: <code class="docutils literal">user-edit</code>, <code class="docutils literal">user-list</code>, and <code class="docutils literal">user-show</code> for Chef server version 12.0 (and higher).</p> <p class="last">Starting with Chef server 12.4.1, users who are members of the server-admins group may use the <code class="docutils literal">user-create</code>, <code class="docutils literal">user-delete</code>, <code class="docutils literal">user-edit</code>, <code class="docutils literal">user-list</code>, and <code class="docutils literal">user-show</code> arguements to manage user accounts on the Chef server via the <code class="docutils literal">knife user</code> subcommand.</p> </div> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Review the list of <a class="reference internal" href="knife_common_options">common options</a> available to this (and all) knife subcommands and plugins.</p> </div>  <h2 id="create">create</h2> <p>Use the <code class="docutils literal">create</code> argument to create a user. This process will generate an RSA key pair for the named user. The public key will be stored on the Chef server and the private key will be displayed on <code class="docutils literal">STDOUT</code> or written to a named file.</p> <ul class="simple"> <li>For the user, the private key should be copied to the system as <code class="docutils literal">/etc/chef/client.pem</code>.</li> <li>For knife, the private key is typically copied to <code class="docutils literal">~/.chef/client_name.pem</code> and referenced in the knife.rb configuration file.</li> </ul>  <h3 id="syntax">Syntax</h3> <p>This argument has the following syntax:</p> <pre class="highlight-bash" data-language="bash">$ knife user create USER_NAME (options)</pre>   <h3 id="options">Options</h3> <p>This argument has the following options:</p> <dl class="docutils"> <dt>
<code class="docutils literal">-a</code>, <code class="docutils literal">--admin</code>
</dt> <dd>Create a client as an admin client. This is required for any user to access Open Source Chef as an administrator. This option only works when used with the open source Chef server and will have no effect when used with Enterprise Chef or Chef server 12.x.</dd> <dt>
<code class="docutils literal">-f FILE_NAME</code>, <code class="docutils literal">--file FILE_NAME</code>
</dt> <dd>Save a private key to the specified file name.</dd> <dt>
<code class="docutils literal">-p PASSWORD</code>, <code class="docutils literal">--password PASSWORD</code>
</dt> <dd>The user password.</dd> <dt><code class="docutils literal">--user-key FILE_NAME</code></dt> <dd>The path to a file that contains the public key. If this option is not specified, the Chef server will generate a public/private key pair.</dd> </dl> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">See <a class="reference internal" href="config_rb_knife_optional_settings">knife.rb</a> for more information about how to add certain knife options as settings in the knife.rb file.</p> </div>   <h3 id="examples">Examples</h3> <p>The following examples show how to use this knife subcommand:</p> <p><strong>Create a user</strong></p> <pre class="highlight-bash" data-language="bash">$ knife user create "Radio Birdman" -f /keys/user_name</pre>    <h2 id="delete">delete</h2> <p>Use the <code class="docutils literal">delete</code> argument to delete a registered user.</p>  <h3 id="id1">Syntax</h3> <p>This argument has the following syntax:</p> <pre class="highlight-bash" data-language="bash">$ knife user delete USER_NAME</pre>   <h3 id="id2">Options</h3> <p>This command does not have any specific options.</p>   <h3 id="id3">Examples</h3> <p>The following examples show how to use this knife subcommand:</p> <p><strong>Delete a user</strong></p> <pre class="highlight-bash" data-language="bash">$ knife user delete "Steve Danno"</pre>    <h2 id="edit">edit</h2> <p>Use the <code class="docutils literal">edit</code> argument to edit the details of a user. When this argument is run, knife will open $EDITOR. When finished, knife will update the Chef server with those changes.</p>  <h3 id="id4">Syntax</h3> <p>This argument has the following syntax:</p> <pre class="highlight-bash" data-language="bash">$ knife user edit USER_NAME</pre>   <h3 id="id5">Options</h3> <p>This command does not have any specific options.</p>   <h3 id="id6">Examples</h3> <p>None.</p>    <h2 id="key-create">key create</h2> <p>Use the <code class="docutils literal">key create</code> argument to create a public key.</p>  <h3 id="id7">Syntax</h3> <p>This argument has the following syntax:</p> <pre class="highlight-bash" data-language="bash">$ knife user key create USER_NAME (options)</pre>   <h3 id="id8">Options</h3> <p>This argument has the following options:</p> <dl class="docutils"> <dt>
<code class="docutils literal">-e DATE</code>, <code class="docutils literal">--expiration-date DATE</code>
</dt> <dd>The expiration date for the public key, specified as an ISO 8601 formatted string: <code class="docutils literal">YYYY-MM-DDTHH:MM:SSZ</code>. If this option is not specified, the public key will not have an expiration date. For example: <code class="docutils literal">2013-12-24T21:00:00Z</code>.</dd> <dt>
<code class="docutils literal">-f FILE</code>, <code class="docutils literal">--file FILE</code>
</dt> <dd>Save a private key to the specified file name.</dd> <dt>
<code class="docutils literal">-k NAME</code>, <code class="docutils literal">--key-name NAME</code>
</dt> <dd>The name of the public key.</dd> <dt>
<code class="docutils literal">-p FILE_NAME</code>, <code class="docutils literal">--public-key FILE_NAME</code>
</dt> <dd>The path to a file that contains the public key. If this option is not specified, and only if <code class="docutils literal">--key-name</code> is specified, the Chef server will generate a public/private key pair.</dd> </dl>   <h3 id="id9">Examples</h3> <p>None.</p>    <h2 id="key-delete">key delete</h2> <p>Use the <code class="docutils literal">key delete</code> argument to delete a public key.</p>  <h3 id="id10">Syntax</h3> <p>This argument has the following syntax:</p> <pre class="highlight-bash" data-language="bash">$ knife user key delete USER_NAME KEY_NAME</pre>   <h3 id="id11">Examples</h3> <p>None.</p>    <h2 id="key-edit">key edit</h2> <p>Use the <code class="docutils literal">key edit</code> argument to modify or rename a public key.</p>  <h3 id="id12">Syntax</h3> <p>This argument has the following syntax:</p> <pre class="highlight-bash" data-language="bash">$ knife user key edit USER_NAME KEY_NAME (options)</pre>   <h3 id="id13">Options</h3> <p>This argument has the following options:</p> <dl class="docutils"> <dt>
<code class="docutils literal">-c</code>, <code class="docutils literal">--create-key</code>
</dt> <dd>Generate a new public/private key pair and replace an existing public key with the newly-generated public key. To replace the public key with an existing public key, use <code class="docutils literal">--public-key</code> instead.</dd> <dt>
<code class="docutils literal">-e DATE</code>, <code class="docutils literal">--expiration-date DATE</code>
</dt> <dd>The expiration date for the public key, specified as an ISO 8601 formatted string: <code class="docutils literal">YYYY-MM-DDTHH:MM:SSZ</code>. If this option is not specified, the public key will not have an expiration date. For example: <code class="docutils literal">2013-12-24T21:00:00Z</code>.</dd> <dt>
<code class="docutils literal">-f FILE</code>, <code class="docutils literal">--file FILE</code>
</dt> <dd>Save a private key to the specified file name. If the <code class="docutils literal">--public-key</code> option is not specified the Chef server will generate a private key.</dd> <dt>
<code class="docutils literal">-k NAME</code>, <code class="docutils literal">--key-name NAME</code>
</dt> <dd>The name of the public key.</dd> <dt>
<code class="docutils literal">-p FILE_NAME</code>, <code class="docutils literal">--public-key FILE_NAME</code>
</dt> <dd>The path to a file that contains the public key. If this option is not specified, and only if <code class="docutils literal">--key-name</code> is specified, the Chef server will generate a public/private key pair.</dd> </dl>   <h3 id="id14">Examples</h3> <p>None.</p>    <h2 id="key-list">key list</h2> <p>Use the <code class="docutils literal">key list</code> argument to view a list of public keys for the named user.</p>  <h3 id="id15">Syntax</h3> <p>This argument has the following syntax:</p> <pre class="highlight-bash" data-language="bash">$ knife user key list USER_NAME (options)</pre>   <h3 id="id16">Options</h3> <p>This argument has the following options:</p> <dl class="docutils"> <dt>
<code class="docutils literal">-e</code>, <code class="docutils literal">--only-expired</code>
</dt> <dd>Show a list of public keys that have expired.</dd> <dt>
<code class="docutils literal">-n</code>, <code class="docutils literal">--only-non-expired</code>
</dt> <dd>Show a list of public keys that have not expired.</dd> <dt>
<code class="docutils literal">-w</code>, <code class="docutils literal">--with-details</code>
</dt> <dd>Show a list of public keys, including URIs and expiration status.</dd> </dl>   <h3 id="id17">Examples</h3> <p>None.</p>    <h2 id="key-show">key show</h2> <p>Use the <code class="docutils literal">key show</code> argument to view details for a specific public key.</p>  <h3 id="id18">Syntax</h3> <p>This argument has the following syntax:</p> <pre class="highlight-bash" data-language="bash">$ knife user key show USER_NAME KEY_NAME</pre>   <h3 id="id19">Examples</h3> <p>None.</p>    <h2 id="list">list</h2> <p>Use the <code class="docutils literal">list</code> argument to view a list of registered users.</p>  <h3 id="id20">Syntax</h3> <p>This argument has the following syntax:</p> <pre class="highlight-bash" data-language="bash">$ knife user list (options)</pre>   <h3 id="id21">Options</h3> <p>This argument has the following options:</p> <dl class="docutils"> <dt>
<code class="docutils literal">-w</code>, <code class="docutils literal">--with-uri</code>
</dt> <dd>Show the corresponding URIs.</dd> </dl>   <h3 id="id22">Examples</h3> <p>None.</p>    <h2 id="reregister">reregister</h2> <p>Use the <code class="docutils literal">reregister</code> argument to regenerate an RSA key pair for a user. The public key will be stored on the Chef server and the private key will be displayed on <code class="docutils literal">STDOUT</code> or written to a named file.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Running this argument will invalidate the previous RSA key pair, making it unusable during authentication to the Chef server.</p> </div>  <h3 id="id23">Syntax</h3> <p>This argument has the following syntax:</p> <pre class="highlight-bash" data-language="bash">$ knife user reregister USER_NAME (options)</pre>   <h3 id="id24">Options</h3> <p>This argument has the following options:</p> <dl class="docutils"> <dt>
<code class="docutils literal">-f FILE_NAME</code>, <code class="docutils literal">--file FILE_NAME</code>
</dt> <dd>Save a private key to the specified file name.</dd> </dl> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">See <a class="reference internal" href="config_rb_knife_optional_settings">knife.rb</a> for more information about how to add certain knife options as settings in the knife.rb file.</p> </div>   <h3 id="id25">Examples</h3> <p>The following examples show how to use this knife subcommand:</p> <p><strong>Regenerate the RSA key-pair</strong></p> <pre class="highlight-bash" data-language="bash">$ knife user reregister "Robert Younger"</pre>    <h2 id="show">show</h2> <p>Use the <code class="docutils literal">show</code> argument to show the details of a user.</p>  <h3 id="id26">Syntax</h3> <p>This argument has the following syntax:</p> <pre class="highlight-bash" data-language="bash">$ knife user show USER_NAME (options)</pre>   <h3 id="id27">Options</h3> <p>This argument has the following options:</p> <dl class="docutils"> <dt>
<code class="docutils literal">-a ATTR</code>, <code class="docutils literal">--attribute ATTR</code>
</dt> <dd>The attribute (or attributes) to show.</dd> </dl>   <h3 id="id28">Examples</h3> <p>The following examples show how to use this knife subcommand:</p> <p><strong>Show user data</strong></p> <p>To view a user named <code class="docutils literal">Dennis Teck</code>, enter:</p> <pre class="highlight-bash" data-language="bash">$ knife user show "Dennis Teck"</pre> <p>to return something like:</p> <pre class="highlight-bash" data-language="bash">chef_type:   user
json_class:  Chef::User
name:        Dennis Teck
public_key:</pre> <p><strong>Show user data as JSON</strong></p> <p>To view information in JSON format, use the <code class="docutils literal">-F</code> common option as part of the command like this:</p> <pre class="highlight-bash" data-language="bash">$ knife user show "Dennis Teck" -F json</pre> <p>(Other formats available include <code class="docutils literal">text</code>, <code class="docutils literal">yaml</code>, and <code class="docutils literal">pp</code>, e.g. <code class="docutils literal">-F yaml</code> for YAML.)</p>
<div class="_attribution">
  <p class="_attribution-p">
    © Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef™ Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs-archive.chef.io/release/12-13/knife_user.html" class="_attribution-link">https://docs-archive.chef.io/release/12-13/knife_user.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
