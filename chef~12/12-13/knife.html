
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Knife - Chef 12 - W3cubDocs</title>
  
  <meta name="description" content=" knife is a command-line tool that provides an interface between a local chef-repo and the Chef server. knife helps users to manage&#58; ">
  <meta name="keywords" content="about, knife, chef, chef~12">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/chef~12/12-13/knife.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/chef~12.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/chef~12/" class="_nav-link" title="" style="margin-left:0;">Chef 12</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx_simple">
				
				
<h1 id="about-knife">About Knife</h1> <p>knife is a command-line tool that provides an interface between a local chef-repo and the Chef server. knife helps users to manage:</p> <ul class="simple"> <li>Nodes</li> <li>Cookbooks and recipes</li> <li>Roles</li> <li>Stores of JSON data (data bags), including encrypted data</li> <li>Environments</li> <li>Cloud resources, including provisioning</li> <li>The installation of the chef-client on management workstations</li> <li>Searching of indexed data on the Chef server</li> </ul> <table class="docutils"> <colgroup> <col width="25%"> <col width="75%"> </colgroup> <thead valign="bottom"> <tr class="row-odd">
<th class="head">Topic</th> <th class="head">Description</th> </tr> </thead> <tbody valign="top"> <tr class="row-even">
<td><a class="reference internal" href="knife_using">Working with Knife</a></td> <td>knife runs from a management workstation and sits in-between a Chef server and an organization’s infrastructure.</td> </tr> <tr class="row-odd">
<td><a class="reference internal" href="knife_common_options">Common Options</a></td> <td>There are many options that are available for all knife subcommands.</td> </tr> </tbody> </table> <p>knife includes the following subcommands:</p> <table class="docutils"> <colgroup> <col width="25%"> <col width="75%"> </colgroup> <thead valign="bottom"> <tr class="row-odd">
<th class="head">Subcommand</th> <th class="head">Description</th> </tr> </thead> <tbody valign="top"> <tr class="row-even">
<td><a class="reference internal" href="knife_bootstrap">knife bootstrap</a></td> <td>Use the <code class="docutils literal">knife bootstrap</code> subcommand to run a bootstrap operation that installs the chef-client on the target system. The bootstrap operation must specify the IP address or FQDN of the target system.</td> </tr> <tr class="row-odd">
<td><a class="reference internal" href="knife_client">knife client</a></td> <td>The <code class="docutils literal">knife client</code> subcommand is used to manage an API client list and their associated RSA public key-pairs. This allows authentication requests to be made to the Chef server by any entity that uses the Chef server API, such as the chef-client and knife.</td> </tr> <tr class="row-even">
<td><a class="reference internal" href="knife_configure">knife configure</a></td> <td>Use the <code class="docutils literal">knife configure</code> subcommand to create the knife.rb and client.rb files so that they can be distributed to workstations and nodes.</td> </tr> <tr class="row-odd">
<td><a class="reference internal" href="knife_cookbook">knife cookbook</a></td> <td>The <code class="docutils literal">knife cookbook</code> subcommand is used to interact with cookbooks that are located on the Chef server or the local chef-repo.</td> </tr> <tr class="row-even">
<td><a class="reference internal" href="knife_cookbook_site">knife cookbook site</a></td> <td>The <code class="docutils literal">knife cookbook site</code> subcommand is used to interact with cookbooks that are located at <a class="reference external" href="https://supermarket.chef.io">https://supermarket.chef.io</a>. A user account is required for any community actions that write data to this site. The following arguments do not require a user account: <code class="docutils literal">download</code>, <code class="docutils literal">search</code>, <code class="docutils literal">install</code>, and <code class="docutils literal">list</code>.</td> </tr> <tr class="row-odd">
<td><a class="reference internal" href="knife_data_bag">knife data bag</a></td> <td>The <code class="docutils literal">knife data bag</code> subcommand is used to manage arbitrary stores of globally available JSON data.</td> </tr> <tr class="row-even">
<td><a class="reference internal" href="knife_delete">knife delete</a></td> <td>Use the <code class="docutils literal">knife delete</code> subcommand to delete an object from a Chef server. This subcommand works similar to <code class="docutils literal">knife cookbook delete</code>, <code class="docutils literal">knife data bag delete</code>, <code class="docutils literal">knife environment delete</code>, <code class="docutils literal">knife node delete</code>, and <code class="docutils literal">knife role delete</code>, but with a single verb (and a single action).</td> </tr> <tr class="row-odd">
<td><a class="reference internal" href="knife_deps">knife deps</a></td> <td>Use the <code class="docutils literal">knife deps</code> subcommand to identify dependencies for a node, role, or cookbook.</td> </tr> <tr class="row-even">
<td><a class="reference internal" href="knife_diff">knife diff</a></td> <td>Use the <code class="docutils literal">knife diff</code> subcommand to compare the differences between files and directories on the Chef server and in the chef-repo. For example, to compare files on the Chef server prior to an uploading or downloading files using the <code class="docutils literal">knife download</code> and <code class="docutils literal">knife upload</code> subcommands, or to ensure that certain files in multiple production environments are the same. This subcommand is similar to the <code class="docutils literal">git diff</code> command that can be used to diff what is in the chef-repo with what is synced to a git repository.</td> </tr> <tr class="row-odd">
<td><a class="reference internal" href="knife_download">knife download</a></td> <td>Use the <code class="docutils literal">knife download</code> subcommand to download roles, cookbooks, environments, nodes, and data bags from the Chef server to the current working directory. It can be used to back up data on the Chef server, inspect the state of one or more files, or to extract out-of-process changes users may have made to files on the Chef server, such as if a user made a change that bypassed version source control. This subcommand is often used in conjunction with <code class="docutils literal">knife diff</code>, which can be used to see exactly what changes will be downloaded, and then <code class="docutils literal">knife upload</code>, which does the opposite of <code class="docutils literal">knife download</code>.</td> </tr> <tr class="row-even">
<td><a class="reference internal" href="knife_edit">knife edit</a></td> <td>Use the <code class="docutils literal">knife edit</code> subcommand to edit objects on the Chef server. This subcommand works similar to <code class="docutils literal">knife cookbook edit</code>, <code class="docutils literal">knife data bag edit</code>, <code class="docutils literal">knife environment edit</code>, <code class="docutils literal">knife node edit</code>, and <code class="docutils literal">knife role edit</code>, but with a single verb (and a single action).</td> </tr> <tr class="row-odd">
<td><a class="reference internal" href="knife_environment">knife environment</a></td> <td>The <code class="docutils literal">knife environment</code> subcommand is used to manage environments within a single organization on the Chef server.</td> </tr> <tr class="row-even">
<td><a class="reference internal" href="knife_exec">knife exec</a></td> <td>The <code class="docutils literal">knife exec</code> subcommand uses the knife configuration file to execute Ruby scripts in the context of a fully configured chef-client. Use this subcommand to run scripts that will only access Chef server one time (or otherwise very infrequently) or any time that an operation does not warrant full usage of the knife subcommand library.</td> </tr> <tr class="row-odd">
<td><a class="reference internal" href="knife_list">knife list</a></td> <td>Use the <code class="docutils literal">knife list</code> subcommand to view a list of objects on the Chef server. This subcommand works similar to <code class="docutils literal">knife cookbook list</code>, <code class="docutils literal">knife data bag list</code>, <code class="docutils literal">knife environment list</code>, <code class="docutils literal">knife node list</code>, and <code class="docutils literal">knife role list</code>, but with a single verb (and a single action).</td> </tr> <tr class="row-even">
<td><a class="reference internal" href="knife_node">knife node</a></td> <td>The <code class="docutils literal">knife node</code> subcommand is used to manage the nodes that exist on a Chef server.</td> </tr> <tr class="row-odd">
<td><a class="reference internal" href="knife_raw">knife raw</a></td> <td>Use the <code class="docutils literal">knife raw</code> subcommand to send a REST request to an endpoint in the Chef server API.</td> </tr> <tr class="row-even">
<td><a class="reference internal" href="knife_recipe_list">knife recipe list</a></td> <td>Use the <code class="docutils literal">knife recipe list</code> subcommand to view all of the recipes that are on a Chef server. A regular expression can be used to limit the results to recipes that match a specific pattern. The regular expression must be within quotes and not be surrounded by forward slashes (/).</td> </tr> <tr class="row-odd">
<td><a class="reference internal" href="knife_role">knife role</a></td> <td>The <code class="docutils literal">knife role</code> subcommand is used to manage the roles that are associated with one or more nodes on a Chef server.</td> </tr> <tr class="row-even">
<td><a class="reference internal" href="knife_search">knife search</a></td> <td>Use the <code class="docutils literal">knife search</code> subcommand to run a search query for information that is indexed on a Chef server.</td> </tr> <tr class="row-odd">
<td><a class="reference internal" href="knife_serve">knife serve</a></td> <td>Use the <code class="docutils literal">knife serve</code> subcommand to run a persistent chef-zero against the local chef-repo. (chef-zero is a lightweight Chef server that runs in-memory on the local machine.) This is the same as running the chef-client executable with the <code class="docutils literal">--local-mode</code> option. The <code class="docutils literal">chef_repo_path</code> is located automatically and the Chef server will bind to the first available port between <code class="docutils literal">8889</code> and <code class="docutils literal">9999</code>. <code class="docutils literal">knife serve</code> will print the URL for the local Chef server, so that it may be added to the knife.rb file.</td> </tr> <tr class="row-even">
<td><a class="reference internal" href="knife_show">knife show</a></td> <td>Use the <code class="docutils literal">knife show</code> subcommand to view the details of one (or more) objects on the Chef server. This subcommand works similar to <code class="docutils literal">knife cookbook show</code>, <code class="docutils literal">knife data bag show</code>, <code class="docutils literal">knife environment show</code>, <code class="docutils literal">knife node show</code>, and <code class="docutils literal">knife role show</code>, but with a single verb (and a single action).</td> </tr> <tr class="row-odd">
<td><a class="reference internal" href="knife_ssl_check">knife ssl check</a></td> <td>
<p class="first">Use the <code class="docutils literal">knife ssl check</code> subcommand to verify the SSL configuration for the Chef server or a location specified by a URL or URI. Invalid certificates will not be used by OpenSSL.</p> <p>When this command is run, the certificate files (<code class="docutils literal">*.crt</code> and/or <code class="docutils literal">*.pem</code>) that are located in the <code class="docutils literal">/.chef/trusted_certs</code> directory are checked to see if they have valid X.509 certificate properties. A warning is returned when certificates do not have valid X.509 certificate properties or if the <code class="docutils literal">/.chef/trusted_certs</code> directory does not contain any certificates.</p> <div class="last admonition warning"> <p class="first admonition-title">Warning</p> <p class="last">When verification of a remote server’s SSL certificate is disabled, the chef-client will issue a warning similar to “SSL validation of HTTPS requests is disabled. HTTPS connections are still encrypted, but the chef-client is not able to detect forged replies or man-in-the-middle attacks.” To configure SSL for the chef-client, set <code class="docutils literal">ssl_verify_mode</code> to <code class="docutils literal">:verify_peer</code> (recommended) <strong>or</strong> <code class="docutils literal">verify_api_cert</code> to <code class="docutils literal">true</code> in the client.rb file.</p> </div> </td> </tr> <tr class="row-even">
<td><a class="reference internal" href="knife_ssl_fetch">knife ssl_fetch</a></td> <td>
<p class="first">Use the <code class="docutils literal">knife ssl fetch</code> subcommand to copy SSL certificates from an HTTPS server to the <code class="docutils literal">trusted_certs_dir</code> directory that is used by knife and the chef-client to store trusted SSL certificates. When these certificates match the hostname of the remote server, running <code class="docutils literal">knife ssl fetch</code> is the only step required to verify a remote server that is accessed by either knife or the chef-client.</p> <div class="last admonition warning"> <p class="first admonition-title">Warning</p> <p class="last">It is the user’s responsibility to verify the authenticity of every SSL certificate before downloading it to the <code class="docutils literal">/.chef/trusted_certs</code> directory. knife will use any certificate in that directory as if it is a 100% trusted and authentic SSL certificate. knife will not be able to determine if any certificate in this directory has been tampered with, is forged, malicious, or otherwise harmful. Therefore it is essential that users take the proper steps before downloading certificates into this directory.</p> </div> </td> </tr> <tr class="row-odd">
<td><a class="reference internal" href="knife_ssh">knife ssh</a></td> <td>Use the <code class="docutils literal">knife ssh</code> subcommand to invoke SSH commands (in parallel) on a subset of nodes within an organization, based on the results of a search query made to the Chef server.</td> </tr> <tr class="row-even">
<td><a class="reference internal" href="knife_status">knife status</a></td> <td>Use the <code class="docutils literal">knife status</code> subcommand to display a brief summary of the nodes on a Chef server, including the time of the most recent successful chef-client run.</td> </tr> <tr class="row-odd">
<td><a class="reference internal" href="knife_tag">knife tag</a></td> <td>The <code class="docutils literal">knife tag</code> subcommand is used to apply tags to nodes on a Chef server.</td> </tr> <tr class="row-even">
<td><a class="reference internal" href="knife_upload">knife upload</a></td> <td>
<p class="first">Use the <code class="docutils literal">knife upload</code> subcommand to upload data to the Chef server from the current working directory in the chef-repo. The following types of data may be uploaded with this subcommand:</p> <ul class="simple"> <li>Cookbooks</li> <li>Data bags</li> <li>Roles stored as JSON data</li> <li>Environments stored as JSON data</li> </ul> <p class="last">(Roles and environments stored as Ruby data will not be uploaded.) This subcommand is often used in conjunction with <code class="docutils literal">knife diff</code>, which can be used to see exactly what changes will be uploaded, and then <code class="docutils literal">knife download</code>, which does the opposite of <code class="docutils literal">knife upload</code>.</p> </td> </tr> <tr class="row-odd">
<td><a class="reference internal" href="knife_user">knife user</a></td> <td>The <code class="docutils literal">knife user</code> subcommand is used to manage the list of users and their associated RSA public key-pairs.</td> </tr> <tr class="row-even">
<td><a class="reference internal" href="knife_xargs">knife xargs</a></td> <td>Use the <code class="docutils literal">knife xargs</code> subcommand to take patterns from standard input, download as JSON, run a command against the downloaded JSON, and then upload any changes.</td> </tr> </tbody> </table>
<div class="_attribution">
  <p class="_attribution-p">
    © Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef™ Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs-archive.chef.io/release/12-13/knife.html" class="_attribution-link">https://docs-archive.chef.io/release/12-13/knife.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
