
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Knife Download - Chef 12 - W3cubDocs</title>
  
  <meta name="description" content="Use the knife download subcommand to download roles, cookbooks, environments, nodes, and data bags from the Chef server to the current working &hellip;">
  <meta name="keywords" content="knife, download, chef, chef~12">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/chef~12/12-13/knife_download.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/chef~12.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/chef~12/" class="_nav-link" title="" style="margin-left:0;">Chef 12</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx_simple">
				
				
<h1 id="knife-download">knife download</h1> <p>Use the <code class="docutils literal">knife download</code> subcommand to download roles, cookbooks, environments, nodes, and data bags from the Chef server to the current working directory. It can be used to back up data on the Chef server, inspect the state of one or more files, or to extract out-of-process changes users may have made to files on the Chef server, such as if a user made a change that bypassed version source control. This subcommand is often used in conjunction with <code class="docutils literal">knife diff</code>, which can be used to see exactly what changes will be downloaded, and then <code class="docutils literal">knife upload</code>, which does the opposite of <code class="docutils literal">knife download</code>.</p>  <h2 id="syntax">Syntax</h2> <p>This subcommand has the following syntax:</p> <pre class="highlight-bash" data-language="bash">$ knife download [PATTERN...] (options)</pre>   <h2 id="options">Options</h2> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Review the list of <a class="reference internal" href="knife_common_options">common options</a> available to this (and all) knife subcommands and plugins.</p> </div> <p>This subcommand has the following options:</p> <dl class="docutils"> <dt><code class="docutils literal">--chef-repo-path PATH</code></dt> <dd>The path to the chef-repo. This setting will override the default path to the chef-repo. Default: same value as specified by <code class="docutils literal">chef_repo_path</code> in client.rb.</dd> <dt><code class="docutils literal">--concurrency</code></dt> <dd>The number of allowed concurrent connections. Default: <code class="docutils literal">10</code>.</dd> <dt><code class="docutils literal">--cookbook-version VERSION</code></dt> <dd>The version of a cookbook to download.</dd> <dt>
<code class="docutils literal">-n</code>, <code class="docutils literal">--dry-run</code>
</dt> <dd>Take no action and only print out results. Default: <code class="docutils literal">false</code>.</dd> <dt><code class="docutils literal">--[no-]diff</code></dt> <dd>Download only new and modified files. Set to <code class="docutils literal">false</code> to download all files. Default: <code class="docutils literal">--diff</code>.</dd> <dt><code class="docutils literal">--[no-]force</code></dt> <dd>Use <code class="docutils literal">--force</code> to download files even when the file on the hard drive is identical to the object on the server (role, cookbook, etc.). By default, files are compared to see if they have equivalent content, and local files are only overwritten if they are different. Default: <code class="docutils literal">--no-force</code>.</dd> <dt><code class="docutils literal">--[no-]purge</code></dt> <dd>Use <code class="docutils literal">--purge</code> to delete local files and directories that do not exist on the Chef server. By default, if a role, cookbook, etc. does not exist on the Chef server, the local file for said role is left alone and NOT deleted. Default: <code class="docutils literal">--no-purge</code>.</dd> <dt><code class="docutils literal">--[no-]recurse</code></dt> <dd>Use <code class="docutils literal">--no-recurse</code> to disable downloading a directory recursively. Default: <code class="docutils literal">--recurse</code>.</dd> <dt><code class="docutils literal">--repo-mode MODE</code></dt> <dd>The layout of the local chef-repo. Possible values: <code class="docutils literal">static</code>, <code class="docutils literal">everything</code>, or <code class="docutils literal">hosted_everything</code>. Use <code class="docutils literal">static</code> for just roles, environments, cookbooks, and data bags. By default, <code class="docutils literal">everything</code> and <code class="docutils literal">hosted_everything</code> are dynamically selected depending on the server type. Default: <code class="docutils literal">everything</code> / <code class="docutils literal">hosted_everything</code>.</dd> </dl> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">See <a class="reference internal" href="config_rb_knife_optional_settings">knife.rb</a> for more information about how to add certain knife options as settings in the knife.rb file.</p> </div>   <h2 id="examples">Examples</h2> <p>The following examples show how to use this knife subcommand:</p> <p><strong>Download the entire chef-repo</strong></p> <p>To download the entire chef-repo from the Chef server, browse to the top level of the chef-repo and enter:</p> <pre class="highlight-bash" data-language="bash">$ knife download /</pre> <p><strong>Download the /cookbooks directory</strong></p> <p>To download the <code class="docutils literal">cookbooks/</code> directory from the Chef server, browse to the top level of the chef-repo and enter:</p> <pre class="highlight-bash" data-language="bash">$ knife download cookbooks</pre> <p>or from anywhere in the chef-repo, enter:</p> <pre class="highlight-bash" data-language="bash">$ knife download /cookbooks</pre> <p><strong>Download the /environments directory</strong></p> <p>To download the <code class="docutils literal">environments/</code> directory from the Chef server, browse to the top level of the chef-repo and enter:</p> <pre class="highlight-bash" data-language="bash">$ knife download environments</pre> <p>or from anywhere in the chef-repo, enter:</p> <pre class="highlight-bash" data-language="bash">$ knife download /environments</pre> <p><strong>Download an environment</strong></p> <p>To download an environment named “production” from the Chef server, browse to the top level of the chef-repo and enter:</p> <pre class="highlight-bash" data-language="bash">$ knife download environments/production.json</pre> <p>or from the <code class="docutils literal">environments/</code> directory, enter:</p> <pre class="highlight-bash" data-language="bash">$ knife download production.json</pre> <p><strong>Download the /roles directory</strong></p> <p>To download the <code class="docutils literal">roles/</code> directory from the Chef server, browse to the top level of the chef-repo and enter:</p> <pre class="highlight-bash" data-language="bash">$ knife download roles</pre> <p>or from anywhere in the chef-repo, enter:</p> <pre class="highlight-bash" data-language="bash">$ knife download /roles</pre> <p><strong>Download cookbooks and roles</strong></p> <p>To download all cookbooks that start with “apache” and belong to the “webserver” role, browse to the top level of the chef-repo and enter:</p> <pre class="highlight-bash" data-language="bash">$  knife download cookbooks/apache\* roles/webserver.json</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef™ Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs-archive.chef.io/release/12-13/knife_download.html" class="_attribution-link">https://docs-archive.chef.io/release/12-13/knife_download.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
