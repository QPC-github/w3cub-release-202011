
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Chef Manage - Chef 12 - W3cubDocs</title>
  
  <meta name="description" content="The Chef management console enables the management of nodes, data bags, roles, environments, and cookbooks by using a web user interface. In &hellip;">
  <meta name="keywords" content="chef, manage, chef~12">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/chef~12/server_12-8/manage.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/chef~12.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/chef~12/" class="_nav-link" title="" style="margin-left:0;">Chef 12</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _sphinx_simple">
				
				
<h1 id="chef-manage">Chef Manage</h1> <a class="reference internal image-reference" href="_images/chef_automate_full.png"><img alt="_images/chef_automate_full.png" src="https://docs-archive.chef.io/release/server_12-8/_images/chef_automate_full.png" style="width: 40px; height: 17px;"></a> <p>The Chef management console enables the management of nodes, data bags, roles, environments, and cookbooks by using a web user interface. In addition, access to nodes, data bags, roles, environments, and cookbooks is configurable using role-based access control (RBAC).</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">This feature is included as part of the Chef Automate license agreement and is <a class="reference external" href="https://www.chef.io/pricing/">available via subscription</a>.</p> </div>  <h2 id="nodes">Nodes</h2> <p>A node is any machine—physical, virtual, cloud, network device, etc.—that is under management by Chef.</p> <p>The Chef management console provides ways for users to <a class="reference internal" href="server_manage_nodes#server-manage-nodes-manage">delete nodes and reset their private keys</a>, <a class="reference internal" href="server_manage_nodes#server-manage-nodes-node-attributes">edit node attributes</a>, <a class="reference internal" href="server_manage_nodes#server-manage-nodes-run-lists">manage the run-lists</a>, <a class="reference internal" href="server_manage_nodes#server-manage-nodes-permissions">configure user and group permissions</a>, and <a class="reference internal" href="server_manage_nodes#server-manage-nodes-manage-tags">manage tags</a>.</p> <img alt="_images/step_manage_webui_nodes.png" src="https://docs-archive.chef.io/release/server_12-8/_images/step_manage_webui_nodes.png">  <h3 id="search">Search</h3> <p>Search indexes allow queries to be made for any type of data that is indexed by the Chef server, including data bags (and data bag items), environments, nodes, and roles. A defined query syntax is used to support search patterns like exact, wildcard, range, and fuzzy. A search is a full-text query that can be done from several locations, including from within a recipe, by using the <code class="docutils literal">search</code> subcommand in knife, the <code class="docutils literal">search</code> method in the Recipe DSL, the search box in the Chef management console, and by using the <code class="docutils literal">/search</code> or <code class="docutils literal">/search/INDEX</code> endpoints in the Chef server API. The search engine is based on Apache Solr and is run from the Chef server.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">The syntax for search queries in the Chef management console is identical to the syntax for search queries used with knife, the command line tool used to manage objects on the Chef server.</p> </div>  <h4 id="query-syntax">Query Syntax</h4> <p>A search query is comprised of two parts: the key and the search pattern. A search query has the following syntax:</p> <pre class="highlight-ruby" data-language="ruby">key:search_pattern</pre> <p>where <code class="docutils literal">key</code> is a field name that is found in the JSON description of an indexable object on the Chef server (a role, node, client, environment, or data bag) and <code class="docutils literal">search_pattern</code> defines what will be searched for, using one of the following search patterns: exact, wildcard, range, or fuzzy matching. Both <code class="docutils literal">key</code> and <code class="docutils literal">search_pattern</code> are case-sensitive; <code class="docutils literal">key</code> has limited support for multiple character wildcard matching using an asterisk (“*”) (and as long as it is not the first character).</p>   <h4 id="keys">Keys</h4> <p>A field name/description pair is available in the JSON object. Use the field name when searching for this information in the JSON object. Any field that exists in any JSON description for any role, node, chef-client, environment, or data bag can be searched.</p>  <h5 id="nested-fields">Nested Fields</h5> <p>A nested field appears deeper in the JSON data structure. For example, information about a network interface might be several layers deep: <code class="docutils literal">node[:network][:interfaces][:en1]</code>. When nested fields are present in a JSON structure, the chef-client will extract those nested fields to the top-level, flattening them into compound fields that support wildcard search patterns.</p> <p>By combining wildcards with range-matching patterns and wildcard queries, it is possible to perform very powerful searches, such as using the vendor part of the MAC address to find every node that has a network card made by the specified vendor.</p> <p>Consider the following snippet of JSON data:</p> <pre class="highlight-javascript" data-language="javascript">{"network":
  [
  //snipped...
    "interfaces",
      {"en1": {
        "number": "1",
        "flags": [
          "UP",
          "BROADCAST",
          "SMART",
          "RUNNING",
          "SIMPLEX",
          "MULTICAST"
        ],
        "addresses": {
          "fe80::fa1e:dfff:fed8:63a2": {
            "scope": "Link",
            "prefixlen": "64",
            "family": "inet6"
          },
          "f8:1e:df:d8:63:a2": {
            "family": "lladdr"
          },
          "192.168.0.195": {
            "netmask": "255.255.255.0",
            "broadcast": "192.168.0.255",
            "family": "inet"
          }
        },
        "mtu": "1500",
        "media": {
          "supported": {
            "autoselect": {
              "options": [

              ]
            }
          },
          "selected": {
            "autoselect": {
              "options": [

              ]
            }
          }
        },
        "type": "en",
        "status": "active",
        "encapsulation": "Ethernet"
      },
  //snipped...</pre> <p>Before this data is indexed on the Chef server, the nested fields are extracted into the top level, similar to:</p> <pre class="highlight-none" data-language="none">"broadcast" =&gt; "192.168.0.255",
"flags"     =&gt; ["UP", "BROADCAST", "SMART", "RUNNING", "SIMPLEX", "MULTICAST"]
"mtu"       =&gt; "1500"</pre> <p>which allows searches like the following to find data that is present in this node:</p> <pre class="highlight-ruby" data-language="ruby">node "broadcast:192.168.0.*"</pre> <p>or:</p> <pre class="highlight-ruby" data-language="ruby">node "mtu:1500"</pre> <p>or:</p> <pre class="highlight-ruby" data-language="ruby">node "flags:UP"</pre> <p>This data is also flattened into various compound fields, which follow the same pattern as the JSON hierarchy and use underscores (<code class="docutils literal">_</code>) to separate the levels of data, similar to:</p> <pre class="highlight-none" data-language="none"># ...snip...
"network_interfaces_en1_addresses_192.168.0.195_broadcast" =&gt; "192.168.0.255",
"network_interfaces_en1_addresses_fe80::fa1e:tldr_family"  =&gt; "inet6",
"network_interfaces_en1_addresses"                         =&gt; ["fe80::fa1e:tldr","f8:1e:df:tldr","192.168.0.195"]
# ...snip...</pre> <p>which allows searches like the following to find data that is present in this node:</p> <pre class="highlight-ruby" data-language="ruby">node "network_interfaces_en1_addresses:192.168.0.195"</pre> <p>This flattened data structure also supports using wildcard compound fields, which allow searches to omit levels within the JSON data structure that are not important to the search query. In the following example, an asterisk (<code class="docutils literal">*</code>) is used to show where the wildcard can exist when searching for a nested field:</p> <pre class="highlight-ruby" data-language="ruby">"network_interfaces_*_flags"     =&gt; ["UP", "BROADCAST", "SMART", "RUNNING", "SIMPLEX", "MULTICAST"]
"network_interfaces_*_addresses" =&gt; ["fe80::fa1e:dfff:fed8:63a2", "192.168.0.195", "f8:1e:df:d8:63:a2"]
"network_interfaces_en0_media_*" =&gt; ["autoselect", "none", "1000baseT", "10baseT/UTP", "100baseTX"]
"network_interfaces_en1_*"       =&gt; ["1", "UP", "BROADCAST", "SMART", "RUNNING", "SIMPLEX", "MULTICAST",
                                     "fe80::fa1e:dfff:fed8:63a2", "f8:1e:df:d8:63:a2", "192.168.0.195",
                                     "1500", "supported", "selected", "en", "active", "Ethernet"]</pre> <p>For each of the wildcard examples above, the possible values are shown contained within the brackets. When running a search query, the query syntax for wildcards is to simply omit the name of the node (while preserving the underscores), similar to:</p> <pre class="highlight-ruby" data-language="ruby">network_interfaces__flags</pre> <p>This query will search within the <code class="docutils literal">flags</code> node, within the JSON structure, for each of <code class="docutils literal">UP</code>, <code class="docutils literal">BROADCAST</code>, <code class="docutils literal">SMART</code>, <code class="docutils literal">RUNNING</code>, <code class="docutils literal">SIMPLEX</code>, and <code class="docutils literal">MULTICAST</code>.</p>    <h4 id="about-patterns">About Patterns</h4> <p>A search pattern is a way to fine-tune search results by returning anything that matches some type of incomplete search query. There are four types of search patterns that can be used when searching the search indexes on the Chef server: exact, wildcard, range, and fuzzy.</p>  <h5 id="exact-matching">Exact Matching</h5> <p>An exact matching search pattern is used to search for a key with a name that exactly matches a search query. If the name of the key contains spaces, quotes must be used in the search pattern to ensure the search query finds the key. The entire query must also be contained within quotes, so as to prevent it from being interpreted by Ruby or a command shell. The best way to ensure that quotes are used consistently is to quote the entire query using single quotes (‘ ‘) and a search pattern with double quotes (” ”).</p>   <h5 id="wildcard-matching">Wildcard Matching</h5> <p>A wildcard matching search pattern is used to query for substring matches that replace zero (or more) characters in the search pattern with anything that could match the replaced character. There are two types of wildcard searches:</p> <ul class="simple"> <li>A question mark (<code class="docutils literal">?</code>) can be used to replace exactly one character (as long as that character is not the first character in the search pattern)</li> <li>An asterisk (<code class="docutils literal">*</code>) can be used to replace any number of characters (including zero)</li> </ul>   <h5 id="range-matching">Range Matching</h5> <p>A range matching search pattern is used to query for values that are within a range defined by upper and lower boundaries. A range matching search pattern can be inclusive or exclusive of the boundaries. Use square brackets (“[ ]”) to denote inclusive boundaries and curly braces (“{ }”) to denote exclusive boundaries and with the following syntax:</p> <pre class="highlight-ruby" data-language="ruby">boundary TO boundary</pre> <p>where <code class="docutils literal">TO</code> is required (and must be capitalized).</p>   <h5 id="fuzzy-matching">Fuzzy Matching</h5> <p>A fuzzy matching search pattern is used to search based on the proximity of two strings of characters. An (optional) integer may be used as part of the search query to more closely define the proximity. A fuzzy matching search pattern has the following syntax:</p> <pre class="highlight-ruby" data-language="ruby">"search_query"~edit_distance</pre> <p>where <code class="docutils literal">search_query</code> is the string that will be used during the search and <code class="docutils literal">edit_distance</code> is the proximity. A tilde (“~”) is used to separate the edit distance from the search query.</p>    <h4 id="about-operators">About Operators</h4> <p>An operator can be used to ensure that certain terms are included in the results, are excluded from the results, or are not included even when other aspects of the query match. Searches can use the following operators:</p> <table class="docutils"> <colgroup> <col width="40%"> <col width="60%"> </colgroup> <thead valign="bottom"> <tr class="row-odd">
<th class="head">Operator</th> <th class="head">Description</th> </tr> </thead> <tbody valign="top"> <tr class="row-even">
<td><code class="docutils literal">AND</code></td> <td>Use to find a match when both terms exist.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">OR</code></td> <td>Use to find a match if either term exists.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">NOT</code></td> <td>Use to exclude the term after <code class="docutils literal">NOT</code> from the search results.</td> </tr> </tbody> </table> <p>Operators must be in ALL CAPS. Parentheses can be used to group clauses and to form sub-queries.</p> <div class="admonition warning"> <p class="first admonition-title">Warning</p> <p>Using <code class="docutils literal">AND NOT</code> together may trigger an error. For example:</p> <pre class="highlight-bash" data-language="bash">ERROR: knife search failed: invalid search query:
'datacenter%3A123%20AND%20NOT%20hostname%3Adev-%20AND%20NOT%20hostanem%3Asyslog-'
Parse error at offset: 38 Reason: Expected one of \ at line 1, column 42 (byte 42) after AND</pre> <p>Use <code class="docutils literal">-</code> instead of <code class="docutils literal">NOT</code>. For example:</p> <pre class="last highlight-bash" data-language="bash">$ knife search sample "id:foo AND -id:bar"</pre> </div>   <h4 id="special-characters">Special Characters</h4> <p>A special character can be used to fine-tune a search query and to increase the accuracy of the search results. The following characters can be included within the search query syntax, but each occurrence of a special character must be escaped with a backslash (<code class="docutils literal">\</code>):</p> <pre class="highlight-ruby" data-language="ruby">+  -  &amp;&amp;  | |  !  ( )  { }  [ ]  ^  "  ~  *  ?  :  \</pre> <p>For example:</p> <pre class="highlight-ruby" data-language="ruby">\(1\+1\)\:2</pre>     <h2 id="reports">Reports</h2> <p>Use Reporting to keep track of what happens during the execution of chef-client runs across all of the machines that are under management by Chef. Reports can be generated for the entire organization and they can be generated for specific nodes.</p> <p>Reporting data is collected during the chef-client run and the results are posted to the Chef server at the end of the chef-client run at the same time the node object is uploaded to the Chef server.</p> <p>The Chef management console provides ways for users to <a class="reference internal" href="server_manage_reports#server-manage-reports-configure-reports">configure the timeframe</a> around which a report is built, and then to <a class="reference internal" href="server_manage_reports#server-manage-reports-view-reports">review the reports</a> that are available for that timeframe.</p> <img alt="_images/step_manage_webui_reports.png" src="https://docs-archive.chef.io/release/server_12-8/_images/step_manage_webui_reports.png">   <h2 id="policy">Policy</h2> <p>Policy maps business and operational requirements, process, and workflow to settings and objects stored on the Chef server:</p> <ul class="simple"> <li>Roles define server types, such as “web server” or “database server”</li> <li>Environments define process, such as “dev”, “staging”, or “production”</li> <li>Certain types of data—passwords, user account data, and other sensitive items—can be placed in data bags, which are located in a secure sub-area on the Chef server that can only be accessed by nodes that authenticate to the Chef server with the correct SSL certificates</li> <li>The cookbooks (and cookbook versions) in which organization-specific configuration policies are maintained</li> </ul> <p>The Chef management console provides ways for users to manage <a class="reference internal" href="server_manage_data_bags">data bags</a>, <a class="reference internal" href="server_manage_environments">environments</a>, <a class="reference internal" href="server_manage_roles">roles</a>, <a class="reference internal" href="server_manage_cookbooks">cookbooks</a>, <a class="reference internal" href="server_manage_clients">clients</a>, and <a class="reference internal" href="server_manage_nodes#server-manage-nodes-manage-tags">managing tags</a>.</p> <img alt="_images/step_manage_webui_policy.png" src="https://docs-archive.chef.io/release/server_12-8/_images/step_manage_webui_policy.png">   <h2 id="admin">Admin</h2> <p>Organizations, users, and groups can be managed from the Chef management console, including role-based access control for any user and group to any of the objects saved to the Chef server.</p> <p>The Chef server uses role-based access control (RBAC) to restrict access to objects—nodes, environments, roles, data bags, cookbooks, and so on. This ensures that only authorized user and/or chef-client requests to the Chef server are allowed. Access to objects on the Chef server is fine-grained, allowing access to be defined by object type, object, group, user, and organization. The Chef server uses permissions to define how a user may interact with an object, after they have been authorized to do so.</p> <img alt="_images/step_manage_webui_admin.png" src="https://docs-archive.chef.io/release/server_12-8/_images/step_manage_webui_admin.png"><div class="_attribution">
  <p class="_attribution-p">
    © Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef™ Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs-archive.chef.io/release/server_12-8/manage.html" class="_attribution-link">https://docs-archive.chef.io/release/server_12-8/manage.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
