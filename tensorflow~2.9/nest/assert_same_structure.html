
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>tf.nest.assert_same_structure - TensorFlow 2.9 - W3cubDocs</title>
  
  <meta name="description" content=" Asserts that two structures are nested in the same way. ">
  <meta name="keywords" content="tf, nest, assert, same, structure, tensorflow, tensorflow~2.9">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/tensorflow~2.9/nest/assert_same_structure.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-f16eecbe420d8b2925d31ffbb21d05646497ecbd9515f08ffe69e9bba7332f5657accc7003c7f6c72cb4a132171acf171b359ae3bae4ae5660ddfb1718f88c67.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/tensorflow~2.9.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/tensorflow~2.9/" class="_nav-link" title="" style="margin-left:0;">TensorFlow 2.9</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _tensorflow">
				
				
<h1 class="devsite-page-title">tf.nest.assert_same_structure</h1> <devsite-bookmark></devsite-bookmark>      <table class="tfo-notebook-buttons tfo-api nocontent" align="left">  <td> <a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/v2.9.0/tensorflow/python/util/nest.py#L475-L575">  View source on GitHub </a> </td> </table> <p>Asserts that two structures are nested in the same way.</p> <section class="expandable"> <h4 class="showalways" id="view-aliases" data-text="View aliases">View aliases</h4> <p> <b>Compat aliases for migration</b> </p>
<p>See <a href="https://www.tensorflow.org/guide/migrate">Migration guide</a> for more details.</p> <p><a href="https://www.tensorflow.org/api_docs/python/tf/nest/assert_same_structure"><code translate="no" dir="ltr">tf.compat.v1.nest.assert_same_structure</code></a></p> </section> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
tf.nest.assert_same_structure(
    nest1, nest2, check_types=True, expand_composites=False
)
</pre>  <p>Refer to <a href="https://www.tensorflow.org/api_docs/python/tf/nest">tf.nest</a> for the definition of a structure.</p> <p>Note the method does not check the types of atoms inside the structures.</p> <h4 id="examples" data-text="Examples:">Examples:</h4> <ul> <li>These atom vs. atom comparisons will pass:</li> </ul> <pre class="devsite-click-to-copy prettyprint lang-py" translate="no" dir="ltr" data-language="cpp">
tf.nest.assert_same_structure(1.5, tf.Variable(1, tf.uint32))
tf.nest.assert_same_structure("abc", np.array([1, 2]))
  
</pre> <ul> <li>These nested structure vs. nested structure comparisons will pass:</li> </ul> <pre class="devsite-click-to-copy prettyprint lang-py" translate="no" dir="ltr" data-language="cpp">
structure1 = (((1, 2), 3), 4, (5, 6))
structure2 = ((("foo1", "foo2"), "foo3"), "foo4", ("foo5", "foo6"))
structure3 = [(("a", "b"), "c"), "d", ["e", "f"]]
tf.nest.assert_same_structure(structure1, structure2)
tf.nest.assert_same_structure(structure1, structure3, check_types=False)
  
</pre> <pre class="devsite-click-to-copy prettyprint lang-py" translate="no" dir="ltr" data-language="cpp">
import collections
tf.nest.assert_same_structure(
    collections.namedtuple("bar", "a b")(1, 2),
    collections.namedtuple("foo", "a b")(2, 3),
    check_types=False)
  
</pre> <pre class="devsite-click-to-copy prettyprint lang-py" translate="no" dir="ltr" data-language="cpp">
tf.nest.assert_same_structure(
    collections.namedtuple("bar", "a b")(1, 2),
    { "a": 1, "b": 2 },
    check_types=False)
  
</pre> <pre class="devsite-click-to-copy prettyprint lang-py" translate="no" dir="ltr" data-language="cpp">
tf.nest.assert_same_structure(
    { "a": 1, "b": 2, "c": 3 },
    { "c": 6, "b": 5, "a": 4 })
  
</pre> <pre class="devsite-click-to-copy prettyprint lang-py" translate="no" dir="ltr" data-language="cpp">
ragged_tensor1 = tf.RaggedTensor.from_row_splits(
      values=[3, 1, 4, 1, 5, 9, 2, 6],
      row_splits=[0, 4, 4, 7, 8, 8])
ragged_tensor2 = tf.RaggedTensor.from_row_splits(
      values=[3, 1, 4],
      row_splits=[0, 3])
tf.nest.assert_same_structure(
      ragged_tensor1,
      ragged_tensor2,
      expand_composites=True)
  
</pre> <ul> <li>These examples will raise exceptions:</li> </ul> <pre class="devsite-click-to-copy prettyprint lang-py" translate="no" dir="ltr" data-language="cpp">
tf.nest.assert_same_structure([0, 1], np.array([0, 1]))
  Traceback (most recent call last):

  ValueError: The two structures don't have the same nested structure
  
</pre> <pre class="devsite-click-to-copy prettyprint lang-py" translate="no" dir="ltr" data-language="cpp">
tf.nest.assert_same_structure(
      collections.namedtuple('bar', 'a b')(1, 2),
      collections.namedtuple('foo', 'a b')(2, 3))
  Traceback (most recent call last):

  TypeError: The two structures don't have the same nested structure
  
</pre>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">nest1</code> </td> <td> an atom or a nested structure. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">nest2</code> </td> <td> an atom or a nested structure. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">check_types</code> </td> <td> if <code translate="no" dir="ltr">True</code> (default) types of structures are checked as well, including the keys of dictionaries. If set to <code translate="no" dir="ltr">False</code>, for example a list and a tuple of objects will look the same if they have the same size. Note that namedtuples with identical name and fields are always considered to have the same shallow structure. Two types will also be considered the same if they are both list subtypes (which allows "list" and "_ListWrapper" from trackable dependency tracking to compare equal). <code translate="no" dir="ltr">check_types=True</code> only checks type of sub-structures. The types of atoms are not checked. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">expand_composites</code> </td> <td> If true, then composite tensors such as <a href="../sparse/sparsetensor"><code translate="no" dir="ltr">tf.sparse.SparseTensor</code></a> and <a href="../raggedtensor"><code translate="no" dir="ltr">tf.RaggedTensor</code></a> are expanded into their component tensors. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Raises</th></tr> 
<tr> <td> <code translate="no" dir="ltr">ValueError</code> </td> <td> If the two structures do not have the same number of atoms or if the two structures are not nested in the same way. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">TypeError</code> </td> <td> If the two structures differ in the type of sequence in any of their substructures. Only possible if <code translate="no" dir="ltr">check_types</code> is <code translate="no" dir="ltr">True</code>. </td> </tr> </table>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating><div class="_attribution">
  <p class="_attribution-p">
    Â© 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/nest/assert_same_structure" class="_attribution-link">https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/nest/assert_same_structure</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
