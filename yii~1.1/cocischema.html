
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>COciSchema - Yii 1.1 - W3cubDocs</title>
  
  <meta name="description" content=" the abstract column types mapped to physical column types. ">
  <meta name="keywords" content="cocischema, yii, yii~1.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/yii~1.1/cocischema.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/yii~1.1.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/yii~1.1/" class="_nav-link" title="" style="margin-left:0;">Yii 1.1</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _yii">
				
				
<h1>COciSchema</h1>  <table class="summaryTable docClass"> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr> <th>Package</th> <td><a href="index#system.db.schema.oci">system.db.schema.oci</a></td> </tr> <tr> <th>Inheritance</th> <td>class COciSchema » <a href="cdbschema">CDbSchema</a> » <a href="ccomponent">CComponent</a>
</td> </tr> <tr> <th>Source Code</th> <td><a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/db/schema/oci/COciSchema.php">framework/db/schema/oci/COciSchema.php</a></td> </tr> </table> <div id="classDescription"> COciSchema is the class for retrieving metadata information from an Oracle database.</div>  <div class="summary docProperty"> <h2>Public Properties</h2>  <table class="summaryTable"> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="columnTypes"> <td><a href="cocischema#columnTypes-detail">columnTypes</a></td> <td>array</td> <td>the abstract column types mapped to physical column types.</td> <td>COciSchema</td> </tr> <tr class="inherited" id="commandBuilder"> <td><a href="cdbschema#commandBuilder-detail">commandBuilder</a></td> <td><a href="cdbcommandbuilder">CDbCommandBuilder</a></td> <td>the SQL command builder for this connection.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> <tr class="inherited" id="dbConnection"> <td><a href="cdbschema#dbConnection-detail">dbConnection</a></td> <td><a href="cdbconnection">CDbConnection</a></td> <td>database connection.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> <tr id="defaultSchema"> <td><a href="cocischema#defaultSchema-detail">defaultSchema</a></td> <td>string</td> <td>default schema.</td> <td>COciSchema</td> </tr> <tr class="inherited" id="tableNames"> <td><a href="cdbschema#tableNames-detail">tableNames</a></td> <td>array</td> <td>Returns all table names in the database.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> <tr class="inherited" id="tables"> <td><a href="cdbschema#tables-detail">tables</a></td> <td>array</td> <td>Returns the metadata for all tables in the database.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> </table> </div>  <div class="summary docMethod"> <h2>Public Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr class="inherited" id="__call"> <td><a href="ccomponent#__call-detail">__call()</a></td> <td>Calls the named method which is not a class method.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__construct"> <td><a href="cdbschema#__construct-detail">__construct()</a></td> <td>Constructor.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> <tr class="inherited" id="__get"> <td><a href="ccomponent#__get-detail">__get()</a></td> <td>Returns a property value, an event handler list or a behavior based on its name.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__isset"> <td><a href="ccomponent#__isset-detail">__isset()</a></td> <td>Checks if a property value is null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__set"> <td><a href="ccomponent#__set-detail">__set()</a></td> <td>Sets value of a component property.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__unset"> <td><a href="ccomponent#__unset-detail">__unset()</a></td> <td>Sets a component property to be null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="addColumn"> <td><a href="cdbschema#addColumn-detail">addColumn()</a></td> <td>Builds a SQL statement for adding a new DB column.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> <tr class="inherited" id="addForeignKey"> <td><a href="cdbschema#addForeignKey-detail">addForeignKey()</a></td> <td>Builds a SQL statement for adding a foreign key constraint to an existing table.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> <tr class="inherited" id="addPrimaryKey"> <td><a href="cdbschema#addPrimaryKey-detail">addPrimaryKey()</a></td> <td>Builds a SQL statement for adding a primary key constraint to an existing table.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> <tr id="alterColumn"> <td><a href="cocischema#alterColumn-detail">alterColumn()</a></td> <td>Builds a SQL statement for changing the definition of a column.</td> <td>COciSchema</td> </tr> <tr class="inherited" id="asa"> <td><a href="ccomponent#asa-detail">asa()</a></td> <td>Returns the named behavior object.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehavior"> <td><a href="ccomponent#attachBehavior-detail">attachBehavior()</a></td> <td>Attaches a behavior to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehaviors"> <td><a href="ccomponent#attachBehaviors-detail">attachBehaviors()</a></td> <td>Attaches a list of behaviors to the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachEventHandler"> <td><a href="ccomponent#attachEventHandler-detail">attachEventHandler()</a></td> <td>Attaches an event handler to an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="canGetProperty"> <td><a href="ccomponent#canGetProperty-detail">canGetProperty()</a></td> <td>Determines whether a property can be read.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="canSetProperty"> <td><a href="ccomponent#canSetProperty-detail">canSetProperty()</a></td> <td>Determines whether a property can be set.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="checkIntegrity"> <td><a href="cocischema#checkIntegrity-detail">checkIntegrity()</a></td> <td>Enables or disables integrity check.</td> <td>COciSchema</td> </tr> <tr class="inherited" id="compareTableNames"> <td><a href="cdbschema#compareTableNames-detail">compareTableNames()</a></td> <td>Compares two table names.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> <tr class="inherited" id="createIndex"> <td><a href="cdbschema#createIndex-detail">createIndex()</a></td> <td>Builds a SQL statement for creating a new index.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> <tr class="inherited" id="createTable"> <td><a href="cdbschema#createTable-detail">createTable()</a></td> <td>Builds a SQL statement for creating a new DB table.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> <tr class="inherited" id="detachBehavior"> <td><a href="ccomponent#detachBehavior-detail">detachBehavior()</a></td> <td>Detaches a behavior from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachBehaviors"> <td><a href="ccomponent#detachBehaviors-detail">detachBehaviors()</a></td> <td>Detaches all behaviors from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachEventHandler"> <td><a href="ccomponent#detachEventHandler-detail">detachEventHandler()</a></td> <td>Detaches an existing event handler.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehavior"> <td><a href="ccomponent#disableBehavior-detail">disableBehavior()</a></td> <td>Disables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehaviors"> <td><a href="ccomponent#disableBehaviors-detail">disableBehaviors()</a></td> <td>Disables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="dropColumn"> <td><a href="cdbschema#dropColumn-detail">dropColumn()</a></td> <td>Builds a SQL statement for dropping a DB column.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> <tr class="inherited" id="dropForeignKey"> <td><a href="cdbschema#dropForeignKey-detail">dropForeignKey()</a></td> <td>Builds a SQL statement for dropping a foreign key constraint.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> <tr id="dropIndex"> <td><a href="cocischema#dropIndex-detail">dropIndex()</a></td> <td>Builds a SQL statement for dropping an index.</td> <td>COciSchema</td> </tr> <tr class="inherited" id="dropPrimaryKey"> <td><a href="cdbschema#dropPrimaryKey-detail">dropPrimaryKey()</a></td> <td>Builds a SQL statement for removing a primary key constraint to an existing table.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> <tr class="inherited" id="dropTable"> <td><a href="cdbschema#dropTable-detail">dropTable()</a></td> <td>Builds a SQL statement for dropping a DB table.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> <tr class="inherited" id="enableBehavior"> <td><a href="ccomponent#enableBehavior-detail">enableBehavior()</a></td> <td>Enables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehaviors"> <td><a href="ccomponent#enableBehaviors-detail">enableBehaviors()</a></td> <td>Enables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="evaluateExpression"> <td><a href="ccomponent#evaluateExpression-detail">evaluateExpression()</a></td> <td>Evaluates a PHP expression or callback under the context of this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="getColumnType"> <td><a href="cdbschema#getColumnType-detail">getColumnType()</a></td> <td>Converts an abstract column type into a physical column type.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> <tr class="inherited" id="getCommandBuilder"> <td><a href="cdbschema#getCommandBuilder-detail">getCommandBuilder()</a></td> <td>Returns the SQL command builder for this connection.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> <tr class="inherited" id="getDbConnection"> <td><a href="cdbschema#getDbConnection-detail">getDbConnection()</a></td> <td>Returns database connection. The connection is active.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> <tr id="getDefaultSchema"> <td><a href="cocischema#getDefaultSchema-detail">getDefaultSchema()</a></td> <td>Returns default schema.</td> <td>COciSchema</td> </tr> <tr class="inherited" id="getEventHandlers"> <td><a href="ccomponent#getEventHandlers-detail">getEventHandlers()</a></td> <td>Returns the list of attached event handlers for an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="getTable"> <td><a href="cdbschema#getTable-detail">getTable()</a></td> <td>Obtains the metadata for the named table.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> <tr class="inherited" id="getTableNames"> <td><a href="cdbschema#getTableNames-detail">getTableNames()</a></td> <td>Returns all table names in the database.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> <tr class="inherited" id="getTables"> <td><a href="cdbschema#getTables-detail">getTables()</a></td> <td>Returns the metadata for all tables in the database.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> <tr class="inherited" id="hasEvent"> <td><a href="ccomponent#hasEvent-detail">hasEvent()</a></td> <td>Determines whether an event is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasEventHandler"> <td><a href="ccomponent#hasEventHandler-detail">hasEventHandler()</a></td> <td>Checks whether the named event has attached handlers.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasProperty"> <td><a href="ccomponent#hasProperty-detail">hasProperty()</a></td> <td>Determines whether a property is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="quoteColumnName"> <td><a href="cdbschema#quoteColumnName-detail">quoteColumnName()</a></td> <td>Quotes a column name for use in a query.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> <tr id="quoteSimpleColumnName"> <td><a href="cocischema#quoteSimpleColumnName-detail">quoteSimpleColumnName()</a></td> <td>Quotes a column name for use in a query.</td> <td>COciSchema</td> </tr> <tr id="quoteSimpleTableName"> <td><a href="cocischema#quoteSimpleTableName-detail">quoteSimpleTableName()</a></td> <td>Quotes a table name for use in a query.</td> <td>COciSchema</td> </tr> <tr class="inherited" id="quoteTableName"> <td><a href="cdbschema#quoteTableName-detail">quoteTableName()</a></td> <td>Quotes a table name for use in a query.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> <tr class="inherited" id="raiseEvent"> <td><a href="ccomponent#raiseEvent-detail">raiseEvent()</a></td> <td>Raises an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="refresh"> <td><a href="cdbschema#refresh-detail">refresh()</a></td> <td>Refreshes the schema.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> <tr class="inherited" id="renameColumn"> <td><a href="cdbschema#renameColumn-detail">renameColumn()</a></td> <td>Builds a SQL statement for renaming a column.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> <tr id="renameTable"> <td><a href="cocischema#renameTable-detail">renameTable()</a></td> <td>Builds a SQL statement for renaming a DB table.</td> <td>COciSchema</td> </tr> <tr id="resetSequence"> <td><a href="cocischema#resetSequence-detail">resetSequence()</a></td> <td>Resets the sequence value of a table's primary key.</td> <td>COciSchema</td> </tr> <tr id="setDefaultSchema"> <td><a href="cocischema#setDefaultSchema-detail">setDefaultSchema()</a></td> <td>Sets default schema.</td> <td>COciSchema</td> </tr> <tr class="inherited" id="truncateTable"> <td><a href="cdbschema#truncateTable-detail">truncateTable()</a></td> <td>Builds a SQL statement for truncating a DB table.</td> <td><a href="cdbschema">CDbSchema</a></td> </tr> </table> </div> <div class="summary docMethod"> <h2>Protected Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="createColumn"> <td><a href="cocischema#createColumn-detail">createColumn()</a></td> <td>Creates a table column.</td> <td>COciSchema</td> </tr> <tr id="createCommandBuilder"> <td><a href="cocischema#createCommandBuilder-detail">createCommandBuilder()</a></td> <td>Creates a command builder for the database.</td> <td>COciSchema</td> </tr> <tr id="findColumns"> <td><a href="cocischema#findColumns-detail">findColumns()</a></td> <td>Collects the table column metadata.</td> <td>COciSchema</td> </tr> <tr id="findConstraints"> <td><a href="cocischema#findConstraints-detail">findConstraints()</a></td> <td>Collects the primary and foreign key column details for the given table.</td> <td>COciSchema</td> </tr> <tr id="findTableNames"> <td><a href="cocischema#findTableNames-detail">findTableNames()</a></td> <td>Returns all table names in the database.</td> <td>COciSchema</td> </tr> <tr id="getSchemaTableName"> <td><a href="cocischema#getSchemaTableName-detail">getSchemaTableName()</a></td> <td>Returns tuple as ($schemaName,$tableName)</td> <td>COciSchema</td> </tr> <tr id="loadTable"> <td><a href="cocischema#loadTable-detail">loadTable()</a></td> <td>Loads the metadata for the specified table.</td> <td>COciSchema</td> </tr> <tr id="resolveTableNames"> <td><a href="cocischema#resolveTableNames-detail">resolveTableNames()</a></td> <td>Generates various kinds of table names.</td> <td>COciSchema</td> </tr> </table> </div>  <h2>Property Details</h2> <h3 class="detailHeader" id="columnTypes-detail"> columnTypes<span class="detailHeaderTag"> property (available since v1.1.6) </span> </h3> <pre class="signature">public array <b>$columnTypes</b>;</pre> <p>the abstract column types mapped to physical column types.</p> <h3 class="detailHeader" id="defaultSchema-detail"> defaultSchema<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <a href="cocischema#getDefaultSchema"><b>getDefaultSchema</b></a>()<br>public void <a href="cocischema#setDefaultSchema"><b>setDefaultSchema</b></a>(string $schema)</pre> <p>default schema.</p> <h2>Method Details</h2> <h3 class="detailHeader" id="alterColumn-detail"> alterColumn() <span class="detailHeaderTag"> method (available since v1.1.6) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>alterColumn</b>(string $table, string $column, string $type)</pre> </td></tr> <tr> <td class="paramNameCol">$table</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the table whose column is to be changed. The table name will be properly quoted by the method.</td> </tr> <tr> <td class="paramNameCol">$column</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the name of the column to be changed. The name will be properly quoted by the method.</td> </tr> <tr> <td class="paramNameCol">$type</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the new column type. The <a href="cocischema#getColumnType">getColumnType</a> method will be invoked to convert abstract column type (if any) into the physical one. Anything that is not recognized as abstract type will be kept in the generated SQL. For example, 'string' will be turned into 'varchar(255)', while 'string not null' will become 'varchar(255) not null'.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the SQL statement for changing the definition of a column.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/db/schema/oci/COciSchema.php#L334">framework/db/schema/oci/COciSchema.php#334</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">alterColumn</span><span style="color: #007700">(</span><span style="color: #0000BB">$table</span><span style="color: #007700">, </span><span style="color: #0000BB">$column</span><span style="color: #007700">, </span><span style="color: #0000BB">$type</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$type</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getColumnType</span><span style="color: #007700">(</span><span style="color: #0000BB">$type</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$sql</span><span style="color: #007700">=</span><span style="color: #DD0000">'ALTER TABLE ' </span><span style="color: #007700">. </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">quoteTableName</span><span style="color: #007700">(</span><span style="color: #0000BB">$table</span><span style="color: #007700">) . </span><span style="color: #DD0000">' MODIFY '<br>        </span><span style="color: #007700">. </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">quoteColumnName</span><span style="color: #007700">(</span><span style="color: #0000BB">$column</span><span style="color: #007700">) . </span><span style="color: #DD0000">' '<br>        </span><span style="color: #007700">. </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getColumnType</span><span style="color: #007700">(</span><span style="color: #0000BB">$type</span><span style="color: #007700">);<br>    return </span><span style="color: #0000BB">$sql</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Builds a SQL statement for changing the definition of a column.</p> <h3 class="detailHeader" id="checkIntegrity-detail"> checkIntegrity() <span class="detailHeaderTag"> method (available since v1.1.14) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>checkIntegrity</b>(boolean $check=true, string $schema='')</pre> </td></tr> <tr> <td class="paramNameCol">$check</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether to turn on or off the integrity check.</td> </tr> <tr> <td class="paramNameCol">$schema</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the schema of the tables. Defaults to empty string, meaning the current or default schema.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/db/schema/oci/COciSchema.php#L397">framework/db/schema/oci/COciSchema.php#397</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">checkIntegrity</span><span style="color: #007700">(</span><span style="color: #0000BB">$check</span><span style="color: #007700">=</span><span style="color: #0000BB">true</span><span style="color: #007700">,</span><span style="color: #0000BB">$schema</span><span style="color: #007700">=</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br>{<br>    if(</span><span style="color: #0000BB">$schema</span><span style="color: #007700">===</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$schema</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDefaultSchema</span><span style="color: #007700">();<br>    </span><span style="color: #0000BB">$mode</span><span style="color: #007700">=</span><span style="color: #0000BB">$check </span><span style="color: #007700">? </span><span style="color: #DD0000">'ENABLE' </span><span style="color: #007700">: </span><span style="color: #DD0000">'DISABLE'</span><span style="color: #007700">;<br>    foreach(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getTableNames</span><span style="color: #007700">(</span><span style="color: #0000BB">$schema</span><span style="color: #007700">) as </span><span style="color: #0000BB">$table</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$constraints</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDbConnection</span><span style="color: #007700">()<br>            -&gt;</span><span style="color: #0000BB">createCommand</span><span style="color: #007700">(</span><span style="color: #DD0000">"SELECT CONSTRAINT_NAME FROM USER_CONSTRAINTS WHERE TABLE_NAME=:t AND OWNER=:o"</span><span style="color: #007700">)<br>            -&gt;</span><span style="color: #0000BB">queryColumn</span><span style="color: #007700">(array(</span><span style="color: #DD0000">':t'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$table</span><span style="color: #007700">,</span><span style="color: #DD0000">':o'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$schema</span><span style="color: #007700">));<br>        foreach(</span><span style="color: #0000BB">$constraints </span><span style="color: #007700">as </span><span style="color: #0000BB">$constraint</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDbConnection</span><span style="color: #007700">()<br>                -&gt;</span><span style="color: #0000BB">createCommand</span><span style="color: #007700">(</span><span style="color: #DD0000">"ALTER TABLE \"</span><span style="color: #007700">{</span><span style="color: #0000BB">$schema</span><span style="color: #007700">}</span><span style="color: #DD0000">\".\"</span><span style="color: #007700">{</span><span style="color: #0000BB">$table</span><span style="color: #007700">}</span><span style="color: #DD0000">\" </span><span style="color: #007700">{</span><span style="color: #0000BB">$mode</span><span style="color: #007700">}</span><span style="color: #DD0000"> CONSTRAINT \"</span><span style="color: #007700">{</span><span style="color: #0000BB">$constraint</span><span style="color: #007700">}</span><span style="color: #DD0000">\""</span><span style="color: #007700">)<br>                -&gt;</span><span style="color: #0000BB">execute</span><span style="color: #007700">();<br>    }<br>}</span></pre> </div> <p>Enables or disables integrity check.</p> <h3 class="detailHeader" id="createColumn-detail"> createColumn() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected <a href="cdbcolumnschema">CDbColumnSchema</a> <b>createColumn</b>(array $column)</pre> </td></tr> <tr> <td class="paramNameCol">$column</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">column metadata</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol"><a href="cdbcolumnschema">CDbColumnSchema</a></td> <td class="paramDescCol">normalized column metadata</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/db/schema/oci/COciSchema.php#L228">framework/db/schema/oci/COciSchema.php#228</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">createColumn</span><span style="color: #007700">(</span><span style="color: #0000BB">$column</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$c</span><span style="color: #007700">=new </span><span style="color: #0000BB">COciColumnSchema</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">=</span><span style="color: #0000BB">$column</span><span style="color: #007700">[</span><span style="color: #DD0000">'COLUMN_NAME'</span><span style="color: #007700">];<br>    </span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">rawName</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">quoteColumnName</span><span style="color: #007700">(</span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">allowNull</span><span style="color: #007700">=</span><span style="color: #0000BB">$column</span><span style="color: #007700">[</span><span style="color: #DD0000">'NULLABLE'</span><span style="color: #007700">]===</span><span style="color: #DD0000">'Y'</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isPrimaryKey</span><span style="color: #007700">=</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$column</span><span style="color: #007700">[</span><span style="color: #DD0000">'KEY'</span><span style="color: #007700">],</span><span style="color: #DD0000">'P'</span><span style="color: #007700">)!==</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isForeignKey</span><span style="color: #007700">=</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">init</span><span style="color: #007700">(</span><span style="color: #0000BB">$column</span><span style="color: #007700">[</span><span style="color: #DD0000">'DATA_TYPE'</span><span style="color: #007700">],</span><span style="color: #0000BB">$column</span><span style="color: #007700">[</span><span style="color: #DD0000">'DATA_DEFAULT'</span><span style="color: #007700">]);<br>    </span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">comment</span><span style="color: #007700">=</span><span style="color: #0000BB">$column</span><span style="color: #007700">[</span><span style="color: #DD0000">'COLUMN_COMMENT'</span><span style="color: #007700">]===</span><span style="color: #0000BB">null </span><span style="color: #007700">? </span><span style="color: #DD0000">'' </span><span style="color: #007700">: </span><span style="color: #0000BB">$column</span><span style="color: #007700">[</span><span style="color: #DD0000">'COLUMN_COMMENT'</span><span style="color: #007700">];<br><br>    return </span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Creates a table column.</p> <h3 class="detailHeader" id="createCommandBuilder-detail"> createCommandBuilder() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected <a href="cdbcommandbuilder">CDbCommandBuilder</a> <b>createCommandBuilder</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol"><a href="cdbcommandbuilder">CDbCommandBuilder</a></td> <td class="paramDescCol">command builder instance</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/db/schema/oci/COciSchema.php#L74">framework/db/schema/oci/COciSchema.php#74</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">createCommandBuilder</span><span style="color: #007700">()<br>{<br>    return new </span><span style="color: #0000BB">COciCommandBuilder</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Creates a command builder for the database. This method may be overridden by child classes to create a DBMS-specific command builder.</p> <h3 class="detailHeader" id="dropIndex-detail"> dropIndex() <span class="detailHeaderTag"> method (available since v1.1.6) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>dropIndex</b>(string $name, string $table)</pre> </td></tr> <tr> <td class="paramNameCol">$name</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the name of the index to be dropped. The name will be properly quoted by the method.</td> </tr> <tr> <td class="paramNameCol">$table</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the table whose index is to be dropped. The name will be properly quoted by the method.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the SQL statement for dropping an index.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/db/schema/oci/COciSchema.php#L350">framework/db/schema/oci/COciSchema.php#350</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">dropIndex</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">, </span><span style="color: #0000BB">$table</span><span style="color: #007700">)<br>{<br>    return </span><span style="color: #DD0000">'DROP INDEX '</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">quoteTableName</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Builds a SQL statement for dropping an index.</p> <h3 class="detailHeader" id="findColumns-detail"> findColumns() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected boolean <b>findColumns</b>(<a href="cocitableschema">COciTableSchema</a> $table)</pre> </td></tr> <tr> <td class="paramNameCol">$table</td> <td class="paramTypeCol"><a href="cocitableschema">COciTableSchema</a></td> <td class="paramDescCol">the table metadata</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether the table exists in the database</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/db/schema/oci/COciSchema.php#L162">framework/db/schema/oci/COciSchema.php#162</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">findColumns</span><span style="color: #007700">(</span><span style="color: #0000BB">$table</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$schemaName</span><span style="color: #007700">=</span><span style="color: #0000BB">$table</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">schemaName</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$tableName</span><span style="color: #007700">=</span><span style="color: #0000BB">$table</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">;<br><br>    </span><span style="color: #0000BB">$sql</span><span style="color: #007700">=&lt;&lt;&lt;EOD<br></span><span style="color: #DD0000">SELECT a.column_name, a.data_type ||<br>case<br>    when data_precision is not null<br>        then '(' || a.data_precision ||<br>                case when a.data_scale &gt; 0 then ',' || a.data_scale else '' end<br>            || ')'<br>    when data_type = 'DATE' then ''<br>    when data_type = 'NUMBER' then ''<br>    else '(' || to_char(a.data_length) || ')'<br>end as data_type,<br>a.nullable, a.data_default,<br>(   SELECT D.constraint_type<br>    FROM ALL_CONS_COLUMNS C<br>    inner join ALL_constraints D on D.OWNER = C.OWNER and D.constraint_name = C.constraint_name<br>    WHERE C.OWNER = B.OWNER<br>       and C.table_name = B.object_name<br>       and C.column_name = A.column_name<br>       and D.constraint_type = 'P') as Key,<br>com.comments as column_comment<br>FROM ALL_TAB_COLUMNS A<br>inner join ALL_OBJECTS B ON b.owner = a.owner and ltrim(B.OBJECT_NAME) = ltrim(A.TABLE_NAME)<br>LEFT JOIN all_col_comments com ON (A.owner = com.owner AND A.table_name = com.table_name AND A.column_name = com.column_name)<br>WHERE<br>a.owner = '</span><span style="color: #007700">{</span><span style="color: #0000BB">$schemaName</span><span style="color: #007700">}</span><span style="color: #DD0000">'<br>and (b.object_type = 'TABLE' or b.object_type = 'VIEW')<br>and b.object_name = '</span><span style="color: #007700">{</span><span style="color: #0000BB">$tableName</span><span style="color: #007700">}</span><span style="color: #DD0000">'<br>ORDER by a.column_id<br></span><span style="color: #007700">EOD;<br><br>    </span><span style="color: #0000BB">$command</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDbConnection</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">createCommand</span><span style="color: #007700">(</span><span style="color: #0000BB">$sql</span><span style="color: #007700">);<br><br>    if((</span><span style="color: #0000BB">$columns</span><span style="color: #007700">=</span><span style="color: #0000BB">$command</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">queryAll</span><span style="color: #007700">())===array()){<br>        return </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>    }<br><br>    foreach(</span><span style="color: #0000BB">$columns </span><span style="color: #007700">as </span><span style="color: #0000BB">$column</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$c</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">createColumn</span><span style="color: #007700">(</span><span style="color: #0000BB">$column</span><span style="color: #007700">);<br><br>        </span><span style="color: #0000BB">$table</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">columns</span><span style="color: #007700">[</span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">]=</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br>        if(</span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isPrimaryKey</span><span style="color: #007700">)<br>        {<br>            if(</span><span style="color: #0000BB">$table</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">primaryKey</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>                </span><span style="color: #0000BB">$table</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">primaryKey</span><span style="color: #007700">=</span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">;<br>            elseif(</span><span style="color: #0000BB">is_string</span><span style="color: #007700">(</span><span style="color: #0000BB">$table</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">primaryKey</span><span style="color: #007700">))<br>                </span><span style="color: #0000BB">$table</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">primaryKey</span><span style="color: #007700">=array(</span><span style="color: #0000BB">$table</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">primaryKey</span><span style="color: #007700">,</span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">);<br>            else<br>                </span><span style="color: #0000BB">$table</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">primaryKey</span><span style="color: #007700">[]=</span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">;<br>            </span><span style="color: #0000BB">$table</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sequenceName</span><span style="color: #007700">=</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br>            </span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">autoIncrement</span><span style="color: #007700">=</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br>        }<br>    }<br>    return </span><span style="color: #0000BB">true</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Collects the table column metadata.</p> <h3 class="detailHeader" id="findConstraints-detail"> findConstraints() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected void <b>findConstraints</b>(<a href="cocitableschema">COciTableSchema</a> $table)</pre> </td></tr> <tr> <td class="paramNameCol">$table</td> <td class="paramTypeCol"><a href="cocitableschema">COciTableSchema</a></td> <td class="paramDescCol">the table metadata</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/db/schema/oci/COciSchema.php#L246">framework/db/schema/oci/COciSchema.php#246</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">findConstraints</span><span style="color: #007700">(</span><span style="color: #0000BB">$table</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$sql</span><span style="color: #007700">=&lt;&lt;&lt;EOD<br></span><span style="color: #DD0000">    SELECT D.constraint_type as CONSTRAINT_TYPE, C.COLUMN_NAME, C.position, D.r_constraint_name,<br>            E.table_name as table_ref, f.column_name as column_ref,<br>            C.table_name<br>    FROM ALL_CONS_COLUMNS C<br>    inner join ALL_constraints D on D.OWNER = C.OWNER and D.constraint_name = C.constraint_name<br>    left join ALL_constraints E on E.OWNER = D.r_OWNER and E.constraint_name = D.r_constraint_name<br>    left join ALL_cons_columns F on F.OWNER = E.OWNER and F.constraint_name = E.constraint_name and F.position = c.position<br>    WHERE C.OWNER = '</span><span style="color: #007700">{</span><span style="color: #0000BB">$table</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">schemaName</span><span style="color: #007700">}</span><span style="color: #DD0000">'<br>       and C.table_name = '</span><span style="color: #007700">{</span><span style="color: #0000BB">$table</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">}</span><span style="color: #DD0000">'<br>       and D.constraint_type &lt;&gt; 'P'<br>    order by d.constraint_name, c.position<br></span><span style="color: #007700">EOD;<br>    </span><span style="color: #0000BB">$command</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDbConnection</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">createCommand</span><span style="color: #007700">(</span><span style="color: #0000BB">$sql</span><span style="color: #007700">);<br>    foreach(</span><span style="color: #0000BB">$command</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">queryAll</span><span style="color: #007700">() as </span><span style="color: #0000BB">$row</span><span style="color: #007700">)<br>    {<br>        if(</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">'CONSTRAINT_TYPE'</span><span style="color: #007700">]===</span><span style="color: #DD0000">'R'</span><span style="color: #007700">)   </span><span style="color: #FF8000">// foreign key<br>        </span><span style="color: #007700">{<br>            </span><span style="color: #0000BB">$name </span><span style="color: #007700">= </span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"COLUMN_NAME"</span><span style="color: #007700">];<br>            </span><span style="color: #0000BB">$table</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foreignKeys</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]=array(</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"TABLE_REF"</span><span style="color: #007700">], </span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"COLUMN_REF"</span><span style="color: #007700">]);<br>            if(isset(</span><span style="color: #0000BB">$table</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">columns</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]))<br>                </span><span style="color: #0000BB">$table</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">columns</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">isForeignKey</span><span style="color: #007700">=</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br>        }<br><br>    }<br>}</span></pre> </div> <p>Collects the primary and foreign key column details for the given table.</p> <h3 class="detailHeader" id="findTableNames-detail"> findTableNames() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected array <b>findTableNames</b>(string $schema='')</pre> </td></tr> <tr> <td class="paramNameCol">$schema</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the schema of the tables. Defaults to empty string, meaning the current or default schema. If not empty, the returned table names will be prefixed with the schema name.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">all table names in the database.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/db/schema/oci/COciSchema.php#L281">framework/db/schema/oci/COciSchema.php#281</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">findTableNames</span><span style="color: #007700">(</span><span style="color: #0000BB">$schema</span><span style="color: #007700">=</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br>{<br>    if(</span><span style="color: #0000BB">$schema</span><span style="color: #007700">===</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$sql</span><span style="color: #007700">=&lt;&lt;&lt;EOD<br></span><span style="color: #DD0000">SELECT table_name, '</span><span style="color: #007700">{</span><span style="color: #0000BB">$schema</span><span style="color: #007700">}</span><span style="color: #DD0000">' as table_schema FROM user_tables<br></span><span style="color: #007700">EOD;<br>        </span><span style="color: #0000BB">$command</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDbConnection</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">createCommand</span><span style="color: #007700">(</span><span style="color: #0000BB">$sql</span><span style="color: #007700">);<br>    }<br>    else<br>    {<br>        </span><span style="color: #0000BB">$sql</span><span style="color: #007700">=&lt;&lt;&lt;EOD<br></span><span style="color: #DD0000">SELECT object_name as table_name, owner as table_schema FROM all_objects<br>WHERE object_type = 'TABLE' AND owner=:schema<br></span><span style="color: #007700">EOD;<br>        </span><span style="color: #0000BB">$command</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDbConnection</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">createCommand</span><span style="color: #007700">(</span><span style="color: #0000BB">$sql</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">$command</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bindParam</span><span style="color: #007700">(</span><span style="color: #DD0000">':schema'</span><span style="color: #007700">,</span><span style="color: #0000BB">$schema</span><span style="color: #007700">);<br>    }<br><br>    </span><span style="color: #0000BB">$rows</span><span style="color: #007700">=</span><span style="color: #0000BB">$command</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">queryAll</span><span style="color: #007700">();<br>    </span><span style="color: #0000BB">$names</span><span style="color: #007700">=array();<br>    foreach(</span><span style="color: #0000BB">$rows </span><span style="color: #007700">as </span><span style="color: #0000BB">$row</span><span style="color: #007700">)<br>    {<br>        if(</span><span style="color: #0000BB">$schema</span><span style="color: #007700">===</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDefaultSchema</span><span style="color: #007700">() || </span><span style="color: #0000BB">$schema</span><span style="color: #007700">===</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$names</span><span style="color: #007700">[]=</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">'TABLE_NAME'</span><span style="color: #007700">];<br>        else<br>            </span><span style="color: #0000BB">$names</span><span style="color: #007700">[]=</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">'TABLE_SCHEMA'</span><span style="color: #007700">].</span><span style="color: #DD0000">'.'</span><span style="color: #007700">.</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">'TABLE_NAME'</span><span style="color: #007700">];<br>    }<br>    return </span><span style="color: #0000BB">$names</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns all table names in the database.</p> <h3 class="detailHeader" id="getDefaultSchema-detail"> getDefaultSchema() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getDefaultSchema</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">default schema.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/db/schema/oci/COciSchema.php#L90">framework/db/schema/oci/COciSchema.php#90</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getDefaultSchema</span><span style="color: #007700">()<br>{<br>    if (!</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_defaultSchema</span><span style="color: #007700">))<br>    {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setDefaultSchema</span><span style="color: #007700">(</span><span style="color: #0000BB">strtoupper</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDbConnection</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">username</span><span style="color: #007700">));<br>    }<br><br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_defaultSchema</span><span style="color: #007700">;<br>}</span></pre> </div>  <h3 class="detailHeader" id="getSchemaTableName-detail"> getSchemaTableName() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected array <b>getSchemaTableName</b>(string $table)</pre> </td></tr> <tr> <td class="paramNameCol">$table</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">table name with optional schema name prefix, uses default schema name prefix is not provided.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">tuple as ($schemaName,$tableName)</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/db/schema/oci/COciSchema.php#L104">framework/db/schema/oci/COciSchema.php#104</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">getSchemaTableName</span><span style="color: #007700">(</span><span style="color: #0000BB">$table</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$table </span><span style="color: #007700">= </span><span style="color: #0000BB">strtoupper</span><span style="color: #007700">(</span><span style="color: #0000BB">$table</span><span style="color: #007700">);<br>    if(</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$parts</span><span style="color: #007700">= </span><span style="color: #0000BB">explode</span><span style="color: #007700">(</span><span style="color: #DD0000">'.'</span><span style="color: #007700">, </span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'"'</span><span style="color: #007700">,</span><span style="color: #DD0000">''</span><span style="color: #007700">,</span><span style="color: #0000BB">$table</span><span style="color: #007700">))) &gt; </span><span style="color: #0000BB">1</span><span style="color: #007700">)<br>        return array(</span><span style="color: #0000BB">$parts</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">], </span><span style="color: #0000BB">$parts</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]);<br>    else<br>        return array(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDefaultSchema</span><span style="color: #007700">(),</span><span style="color: #0000BB">$parts</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]);<br>}</span></pre> </div>  <h3 class="detailHeader" id="loadTable-detail"> loadTable() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected <a href="cdbtableschema">CDbTableSchema</a> <b>loadTable</b>(string $name)</pre> </td></tr> <tr> <td class="paramNameCol">$name</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">table name</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol"><a href="cdbtableschema">CDbTableSchema</a></td> <td class="paramDescCol">driver dependent table metadata.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/db/schema/oci/COciSchema.php#L118">framework/db/schema/oci/COciSchema.php#118</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">loadTable</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$table</span><span style="color: #007700">=new </span><span style="color: #0000BB">COciTableSchema</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">resolveTableNames</span><span style="color: #007700">(</span><span style="color: #0000BB">$table</span><span style="color: #007700">,</span><span style="color: #0000BB">$name</span><span style="color: #007700">);<br><br>    if(!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">findColumns</span><span style="color: #007700">(</span><span style="color: #0000BB">$table</span><span style="color: #007700">))<br>        return </span><span style="color: #0000BB">null</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">findConstraints</span><span style="color: #007700">(</span><span style="color: #0000BB">$table</span><span style="color: #007700">);<br><br>    return </span><span style="color: #0000BB">$table</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Loads the metadata for the specified table.</p> <h3 class="detailHeader" id="quoteSimpleColumnName-detail"> quoteSimpleColumnName() <span class="detailHeaderTag"> method (available since v1.1.6) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>quoteSimpleColumnName</b>(string $name)</pre> </td></tr> <tr> <td class="paramNameCol">$name</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">column name</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the properly quoted column name</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/db/schema/oci/COciSchema.php#L64">framework/db/schema/oci/COciSchema.php#64</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">quoteSimpleColumnName</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)<br>{<br>    return </span><span style="color: #DD0000">'"'</span><span style="color: #007700">.</span><span style="color: #0000BB">$name</span><span style="color: #007700">.</span><span style="color: #DD0000">'"'</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Quotes a column name for use in a query. A simple column name does not contain prefix.</p> <h3 class="detailHeader" id="quoteSimpleTableName-detail"> quoteSimpleTableName() <span class="detailHeaderTag"> method (available since v1.1.6) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>quoteSimpleTableName</b>(string $name)</pre> </td></tr> <tr> <td class="paramNameCol">$name</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">table name</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the properly quoted table name</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/db/schema/oci/COciSchema.php#L52">framework/db/schema/oci/COciSchema.php#52</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">quoteSimpleTableName</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)<br>{<br>    return </span><span style="color: #DD0000">'"'</span><span style="color: #007700">.</span><span style="color: #0000BB">$name</span><span style="color: #007700">.</span><span style="color: #DD0000">'"'</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Quotes a table name for use in a query. A simple table name does not schema prefix.</p> <h3 class="detailHeader" id="renameTable-detail"> renameTable() <span class="detailHeaderTag"> method (available since v1.1.6) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>renameTable</b>(string $table, string $newName)</pre> </td></tr> <tr> <td class="paramNameCol">$table</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the table to be renamed. The name will be properly quoted by the method.</td> </tr> <tr> <td class="paramNameCol">$newName</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the new table name. The name will be properly quoted by the method.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the SQL statement for renaming a DB table.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/db/schema/oci/COciSchema.php#L319">framework/db/schema/oci/COciSchema.php#319</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">renameTable</span><span style="color: #007700">(</span><span style="color: #0000BB">$table</span><span style="color: #007700">, </span><span style="color: #0000BB">$newName</span><span style="color: #007700">)<br>{<br>    return </span><span style="color: #DD0000">'ALTER TABLE ' </span><span style="color: #007700">. </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">quoteTableName</span><span style="color: #007700">(</span><span style="color: #0000BB">$table</span><span style="color: #007700">) . </span><span style="color: #DD0000">' RENAME TO ' </span><span style="color: #007700">. </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">quoteTableName</span><span style="color: #007700">(</span><span style="color: #0000BB">$newName</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Builds a SQL statement for renaming a DB table.</p> <h3 class="detailHeader" id="resetSequence-detail"> resetSequence() <span class="detailHeaderTag"> method (available since v1.1.13) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>resetSequence</b>(<a href="cdbtableschema">CDbTableSchema</a> $table, integer|null $value=NULL)</pre> </td></tr> <tr> <td class="paramNameCol">$table</td> <td class="paramTypeCol"><a href="cdbtableschema">CDbTableSchema</a></td> <td class="paramDescCol">the table schema whose primary key sequence will be reset</td> </tr> <tr> <td class="paramNameCol">$value</td> <td class="paramTypeCol">integer|null</td> <td class="paramDescCol">the value for the primary key of the next new row inserted. If this is not set, the next new row's primary key will have the max value of a primary key plus one (i.e. sequence trimming).</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/db/schema/oci/COciSchema.php#L369">framework/db/schema/oci/COciSchema.php#369</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">resetSequence</span><span style="color: #007700">(</span><span style="color: #0000BB">$table</span><span style="color: #007700">,</span><span style="color: #0000BB">$value</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>{<br>    if(</span><span style="color: #0000BB">$table</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sequenceName</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        return;<br><br>    if(</span><span style="color: #0000BB">$value</span><span style="color: #007700">!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$value</span><span style="color: #007700">=(int)</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br>    else<br>    {<br>        </span><span style="color: #0000BB">$value</span><span style="color: #007700">=(int)</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDbConnection</span><span style="color: #007700">()<br>            -&gt;</span><span style="color: #0000BB">createCommand</span><span style="color: #007700">(</span><span style="color: #DD0000">"SELECT MAX(\"</span><span style="color: #007700">{</span><span style="color: #0000BB">$table</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">primaryKey</span><span style="color: #007700">}</span><span style="color: #DD0000">\") FROM </span><span style="color: #007700">{</span><span style="color: #0000BB">$table</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">rawName</span><span style="color: #007700">}</span><span style="color: #DD0000">"</span><span style="color: #007700">)<br>            -&gt;</span><span style="color: #0000BB">queryScalar</span><span style="color: #007700">();<br>        </span><span style="color: #0000BB">$value</span><span style="color: #007700">++;<br>    }<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDbConnection</span><span style="color: #007700">()<br>        -&gt;</span><span style="color: #0000BB">createCommand</span><span style="color: #007700">(</span><span style="color: #DD0000">"DROP SEQUENCE \"</span><span style="color: #007700">{</span><span style="color: #0000BB">$table</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">}</span><span style="color: #DD0000">_SEQ\""</span><span style="color: #007700">)<br>        -&gt;</span><span style="color: #0000BB">execute</span><span style="color: #007700">();<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDbConnection</span><span style="color: #007700">()<br>        -&gt;</span><span style="color: #0000BB">createCommand</span><span style="color: #007700">(</span><span style="color: #DD0000">"CREATE SEQUENCE \"</span><span style="color: #007700">{</span><span style="color: #0000BB">$table</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">}</span><span style="color: #DD0000">_SEQ\" START WITH </span><span style="color: #007700">{</span><span style="color: #0000BB">$value</span><span style="color: #007700">}</span><span style="color: #DD0000"> INCREMENT BY 1 NOMAXVALUE NOCACHE"</span><span style="color: #007700">)<br>        -&gt;</span><span style="color: #0000BB">execute</span><span style="color: #007700">();<br>}</span></pre> </div> <p>Resets the sequence value of a table's primary key. The sequence will be reset such that the primary key of the next new row inserted will have the specified value or max value of a primary key plus one (i.e. sequence trimming). <br><br> Note, behavior of this method has changed since 1.1.14 release. Please refer to the following issue for more details: <a href="https://github.com/yiisoft/yii/issues/2241">https://github.com/yiisoft/yii/issues/2241</a></p> <h3 class="detailHeader" id="resolveTableNames-detail"> resolveTableNames() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected void <b>resolveTableNames</b>(<a href="cocitableschema">COciTableSchema</a> $table, string $name)</pre> </td></tr> <tr> <td class="paramNameCol">$table</td> <td class="paramTypeCol"><a href="cocitableschema">COciTableSchema</a></td> <td class="paramDescCol">the table instance</td> </tr> <tr> <td class="paramNameCol">$name</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the unquoted table name</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/db/schema/oci/COciSchema.php#L135">framework/db/schema/oci/COciSchema.php#135</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">resolveTableNames</span><span style="color: #007700">(</span><span style="color: #0000BB">$table</span><span style="color: #007700">,</span><span style="color: #0000BB">$name</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$parts</span><span style="color: #007700">=</span><span style="color: #0000BB">explode</span><span style="color: #007700">(</span><span style="color: #DD0000">'.'</span><span style="color: #007700">,</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'"'</span><span style="color: #007700">,</span><span style="color: #DD0000">''</span><span style="color: #007700">,</span><span style="color: #0000BB">$name</span><span style="color: #007700">));<br>    if(isset(</span><span style="color: #0000BB">$parts</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]))<br>    {<br>        </span><span style="color: #0000BB">$schemaName</span><span style="color: #007700">=</span><span style="color: #0000BB">$parts</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br>        </span><span style="color: #0000BB">$tableName</span><span style="color: #007700">=</span><span style="color: #0000BB">$parts</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br>    }<br>    else<br>    {<br>        </span><span style="color: #0000BB">$schemaName</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDefaultSchema</span><span style="color: #007700">();<br>        </span><span style="color: #0000BB">$tableName</span><span style="color: #007700">=</span><span style="color: #0000BB">$parts</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br>    }<br><br>    </span><span style="color: #0000BB">$table</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">=</span><span style="color: #0000BB">$tableName</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$table</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">schemaName</span><span style="color: #007700">=</span><span style="color: #0000BB">$schemaName</span><span style="color: #007700">;<br>    if(</span><span style="color: #0000BB">$schemaName</span><span style="color: #007700">===</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDefaultSchema</span><span style="color: #007700">())<br>        </span><span style="color: #0000BB">$table</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">rawName</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">quoteTableName</span><span style="color: #007700">(</span><span style="color: #0000BB">$tableName</span><span style="color: #007700">);<br>    else<br>        </span><span style="color: #0000BB">$table</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">rawName</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">quoteTableName</span><span style="color: #007700">(</span><span style="color: #0000BB">$schemaName</span><span style="color: #007700">).</span><span style="color: #DD0000">'.'</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">quoteTableName</span><span style="color: #007700">(</span><span style="color: #0000BB">$tableName</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Generates various kinds of table names.</p> <h3 class="detailHeader" id="setDefaultSchema-detail"> setDefaultSchema() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>setDefaultSchema</b>(string $schema)</pre> </td></tr> <tr> <td class="paramNameCol">$schema</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">default schema.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/db/schema/oci/COciSchema.php#L82">framework/db/schema/oci/COciSchema.php#82</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">setDefaultSchema</span><span style="color: #007700">(</span><span style="color: #0000BB">$schema</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_defaultSchema</span><span style="color: #007700">=</span><span style="color: #0000BB">$schema</span><span style="color: #007700">;<br>}</span></pre> </div> <div class="_attribution">
  <p class="_attribution-p">
    © 2008–2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc/api/1.1/COciSchema" class="_attribution-link">http://www.yiiframework.com/doc/api/1.1/COciSchema</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
