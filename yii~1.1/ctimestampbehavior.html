
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>CTimestampBehavior - Yii 1.1 - W3cubDocs</title>
  
  <meta name="description" content="The name of the attribute to store the creation time. Set to null to not use a timestamp for the creation attribute. Defaults to &#39;create_time&# &hellip;">
  <meta name="keywords" content="ctimestampbehavior, yii, yii~1.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/yii~1.1/ctimestampbehavior.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/yii~1.1.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/yii~1.1/" class="_nav-link" title="" style="margin-left:0;">Yii 1.1</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _yii">
				
				
<h1>CTimestampBehavior</h1>  <table class="summaryTable docClass"> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr> <th>Package</th> <td><a href="index#zii.behaviors">zii.behaviors</a></td> </tr> <tr> <th>Inheritance</th> <td>class CTimestampBehavior » <a href="cactiverecordbehavior">CActiveRecordBehavior</a> » <a href="cmodelbehavior">CModelBehavior</a> » <a href="cbehavior">CBehavior</a> » <a href="ccomponent">CComponent</a>
</td> </tr> <tr> <th>Implements</th> <td><a href="ibehavior">IBehavior</a></td> </tr> <tr> <th>Since</th> <td>1.1</td> </tr> <tr> <th>Source Code</th> <td><a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/zii/behaviors/CTimestampBehavior.php">framework/zii/behaviors/CTimestampBehavior.php</a></td> </tr> </table> <div id="classDescription"> CTimestampBehavior will automatically fill date and time related attributes. <br><br> CTimestampBehavior will automatically fill date and time related attributes when the active record is created and/or updated. You may specify an active record model to use this behavior like so: <pre>
public function behaviors(){
	return array(
		'CTimestampBehavior' =&gt; array(
			'class' =&gt; 'zii.behaviors.CTimestampBehavior',
			'createAttribute' =&gt; 'create_time_attribute',
			'updateAttribute' =&gt; 'update_time_attribute',
		)
	);
}
</pre> The <a href="ctimestampbehavior#createAttribute">createAttribute</a> and <a href="ctimestampbehavior#updateAttribute">updateAttribute</a> options actually default to 'create_time' and 'update_time' respectively, so it is not required that you configure them. If you do not wish CTimestampBehavior to set a timestamp for record update or creation, set the corresponding attribute option to null. <br><br> By default, the update attribute is only set on record update. If you also wish it to be set on record creation, set the <a href="ctimestampbehavior#setUpdateOnCreate">setUpdateOnCreate</a> option to true. <br><br> Although CTimestampBehavior attempts to figure out on it's own what value to inject into the timestamp attribute, you may specify a custom value to use instead via <a href="ctimestampbehavior#timestampExpression">timestampExpression</a>
</div>  <div class="summary docProperty"> <h2>Public Properties</h2>  <table class="summaryTable"> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="createAttribute"> <td><a href="ctimestampbehavior#createAttribute-detail">createAttribute</a></td> <td>mixed</td> <td>The name of the attribute to store the creation time.</td> <td>CTimestampBehavior</td> </tr> <tr class="inherited" id="enabled"> <td><a href="cbehavior#enabled-detail">enabled</a></td> <td>boolean</td> <td>whether this behavior is enabled</td> <td><a href="cbehavior">CBehavior</a></td> </tr> <tr class="inherited" id="owner"> <td><a href="cbehavior#owner-detail">owner</a></td> <td><a href="ccomponent">CComponent</a></td> <td>the owner component that this behavior is attached to.</td> <td><a href="cbehavior">CBehavior</a></td> </tr> <tr id="setUpdateOnCreate"> <td><a href="ctimestampbehavior#setUpdateOnCreate-detail">setUpdateOnCreate</a></td> <td>bool</td> <td>Whether to set the update attribute to the creation timestamp upon creation.</td> <td>CTimestampBehavior</td> </tr> <tr id="timestampExpression"> <td><a href="ctimestampbehavior#timestampExpression-detail">timestampExpression</a></td> <td>mixed</td> <td>The expression that will be used for generating the timestamp.</td> <td>CTimestampBehavior</td> </tr> <tr id="updateAttribute"> <td><a href="ctimestampbehavior#updateAttribute-detail">updateAttribute</a></td> <td>mixed</td> <td>The name of the attribute to store the modification time.</td> <td>CTimestampBehavior</td> </tr> </table> </div> <div class="summary docProperty"> <h2>Protected Properties</h2>  <table class="summaryTable"> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="map"> <td><a href="ctimestampbehavior#map-detail">map</a></td> <td>array</td> <td>Maps column types to database method</td> <td>CTimestampBehavior</td> </tr> </table> </div>  <div class="summary docMethod"> <h2>Public Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr class="inherited" id="__call"> <td><a href="ccomponent#__call-detail">__call()</a></td> <td>Calls the named method which is not a class method.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__get"> <td><a href="ccomponent#__get-detail">__get()</a></td> <td>Returns a property value, an event handler list or a behavior based on its name.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__isset"> <td><a href="ccomponent#__isset-detail">__isset()</a></td> <td>Checks if a property value is null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__set"> <td><a href="ccomponent#__set-detail">__set()</a></td> <td>Sets value of a component property.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__unset"> <td><a href="ccomponent#__unset-detail">__unset()</a></td> <td>Sets a component property to be null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="asa"> <td><a href="ccomponent#asa-detail">asa()</a></td> <td>Returns the named behavior object.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attach"> <td><a href="cbehavior#attach-detail">attach()</a></td> <td>Attaches the behavior object to the component.</td> <td><a href="cbehavior">CBehavior</a></td> </tr> <tr class="inherited" id="attachBehavior"> <td><a href="ccomponent#attachBehavior-detail">attachBehavior()</a></td> <td>Attaches a behavior to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehaviors"> <td><a href="ccomponent#attachBehaviors-detail">attachBehaviors()</a></td> <td>Attaches a list of behaviors to the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachEventHandler"> <td><a href="ccomponent#attachEventHandler-detail">attachEventHandler()</a></td> <td>Attaches an event handler to an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="beforeSave"> <td><a href="ctimestampbehavior#beforeSave-detail">beforeSave()</a></td> <td>Responds to CModel::onBeforeSave event.</td> <td>CTimestampBehavior</td> </tr> <tr class="inherited" id="canGetProperty"> <td><a href="ccomponent#canGetProperty-detail">canGetProperty()</a></td> <td>Determines whether a property can be read.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="canSetProperty"> <td><a href="ccomponent#canSetProperty-detail">canSetProperty()</a></td> <td>Determines whether a property can be set.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detach"> <td><a href="cbehavior#detach-detail">detach()</a></td> <td>Detaches the behavior object from the component.</td> <td><a href="cbehavior">CBehavior</a></td> </tr> <tr class="inherited" id="detachBehavior"> <td><a href="ccomponent#detachBehavior-detail">detachBehavior()</a></td> <td>Detaches a behavior from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachBehaviors"> <td><a href="ccomponent#detachBehaviors-detail">detachBehaviors()</a></td> <td>Detaches all behaviors from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachEventHandler"> <td><a href="ccomponent#detachEventHandler-detail">detachEventHandler()</a></td> <td>Detaches an existing event handler.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehavior"> <td><a href="ccomponent#disableBehavior-detail">disableBehavior()</a></td> <td>Disables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehaviors"> <td><a href="ccomponent#disableBehaviors-detail">disableBehaviors()</a></td> <td>Disables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehavior"> <td><a href="ccomponent#enableBehavior-detail">enableBehavior()</a></td> <td>Enables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehaviors"> <td><a href="ccomponent#enableBehaviors-detail">enableBehaviors()</a></td> <td>Enables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="evaluateExpression"> <td><a href="ccomponent#evaluateExpression-detail">evaluateExpression()</a></td> <td>Evaluates a PHP expression or callback under the context of this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="events"> <td><a href="cactiverecordbehavior#events-detail">events()</a></td> <td>Declares events and the corresponding event handler methods.</td> <td><a href="cactiverecordbehavior">CActiveRecordBehavior</a></td> </tr> <tr class="inherited" id="getEnabled"> <td><a href="cbehavior#getEnabled-detail">getEnabled()</a></td> <td>Returns whether this behavior is enabled</td> <td><a href="cbehavior">CBehavior</a></td> </tr> <tr class="inherited" id="getEventHandlers"> <td><a href="ccomponent#getEventHandlers-detail">getEventHandlers()</a></td> <td>Returns the list of attached event handlers for an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="getOwner"> <td><a href="cbehavior#getOwner-detail">getOwner()</a></td> <td>Returns the owner component that this behavior is attached to.</td> <td><a href="cbehavior">CBehavior</a></td> </tr> <tr class="inherited" id="hasEvent"> <td><a href="ccomponent#hasEvent-detail">hasEvent()</a></td> <td>Determines whether an event is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasEventHandler"> <td><a href="ccomponent#hasEventHandler-detail">hasEventHandler()</a></td> <td>Checks whether the named event has attached handlers.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasProperty"> <td><a href="ccomponent#hasProperty-detail">hasProperty()</a></td> <td>Determines whether a property is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="raiseEvent"> <td><a href="ccomponent#raiseEvent-detail">raiseEvent()</a></td> <td>Raises an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="setEnabled"> <td><a href="cbehavior#setEnabled-detail">setEnabled()</a></td> <td>Sets whether this behavior is enabled</td> <td><a href="cbehavior">CBehavior</a></td> </tr> </table> </div> <div class="summary docMethod"> <h2>Protected Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr class="inherited" id="afterConstruct"> <td><a href="cmodelbehavior#afterConstruct-detail">afterConstruct()</a></td> <td>Responds to <a href="cmodel#onAfterConstruct">CModel::onAfterConstruct</a> event.</td> <td><a href="cmodelbehavior">CModelBehavior</a></td> </tr> <tr class="inherited" id="afterDelete"> <td><a href="cactiverecordbehavior#afterDelete-detail">afterDelete()</a></td> <td>Responds to <a href="cactiverecord#onAfterDelete">CActiveRecord::onAfterDelete</a> event.</td> <td><a href="cactiverecordbehavior">CActiveRecordBehavior</a></td> </tr> <tr class="inherited" id="afterFind"> <td><a href="cactiverecordbehavior#afterFind-detail">afterFind()</a></td> <td>Responds to <a href="cactiverecord#onAfterFind">CActiveRecord::onAfterFind</a> event.</td> <td><a href="cactiverecordbehavior">CActiveRecordBehavior</a></td> </tr> <tr class="inherited" id="afterSave"> <td><a href="cactiverecordbehavior#afterSave-detail">afterSave()</a></td> <td>Responds to <a href="cactiverecord#onAfterSave">CActiveRecord::onAfterSave</a> event.</td> <td><a href="cactiverecordbehavior">CActiveRecordBehavior</a></td> </tr> <tr class="inherited" id="afterValidate"> <td><a href="cmodelbehavior#afterValidate-detail">afterValidate()</a></td> <td>Responds to <a href="cmodel#onAfterValidate">CModel::onAfterValidate</a> event.</td> <td><a href="cmodelbehavior">CModelBehavior</a></td> </tr> <tr class="inherited" id="beforeCount"> <td><a href="cactiverecordbehavior#beforeCount-detail">beforeCount()</a></td> <td>Responds to <a href="cactiverecord#onBeforeCount">CActiveRecord::onBeforeCount</a> event.</td> <td><a href="cactiverecordbehavior">CActiveRecordBehavior</a></td> </tr> <tr class="inherited" id="beforeDelete"> <td><a href="cactiverecordbehavior#beforeDelete-detail">beforeDelete()</a></td> <td>Responds to <a href="cactiverecord#onBeforeDelete">CActiveRecord::onBeforeDelete</a> event.</td> <td><a href="cactiverecordbehavior">CActiveRecordBehavior</a></td> </tr> <tr class="inherited" id="beforeFind"> <td><a href="cactiverecordbehavior#beforeFind-detail">beforeFind()</a></td> <td>Responds to <a href="cactiverecord#onBeforeFind">CActiveRecord::onBeforeFind</a> event.</td> <td><a href="cactiverecordbehavior">CActiveRecordBehavior</a></td> </tr> <tr class="inherited" id="beforeValidate"> <td><a href="cmodelbehavior#beforeValidate-detail">beforeValidate()</a></td> <td>Responds to <a href="cmodel#onBeforeValidate">CModel::onBeforeValidate</a> event.</td> <td><a href="cmodelbehavior">CModelBehavior</a></td> </tr> <tr id="getTimestampByAttribute"> <td><a href="ctimestampbehavior#getTimestampByAttribute-detail">getTimestampByAttribute()</a></td> <td>Gets the appropriate timestamp depending on the column type $attribute is</td> <td>CTimestampBehavior</td> </tr> <tr id="getTimestampByColumnType"> <td><a href="ctimestampbehavior#getTimestampByColumnType-detail">getTimestampByColumnType()</a></td> <td>Returns the appropriate timestamp depending on $columnType</td> <td>CTimestampBehavior</td> </tr> </table> </div>  <h2>Property Details</h2> <h3 class="detailHeader" id="createAttribute-detail"> createAttribute<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public mixed <b>$createAttribute</b>;</pre> <p>The name of the attribute to store the creation time. Set to null to not use a timestamp for the creation attribute. Defaults to 'create_time'</p> <h3 class="detailHeader" id="map-detail"> map<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">protected static array <b>$map</b>;</pre> <p>Maps column types to database method</p> <h3 class="detailHeader" id="setUpdateOnCreate-detail"> setUpdateOnCreate<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public bool <b>$setUpdateOnCreate</b>;</pre> <p>Whether to set the update attribute to the creation timestamp upon creation. Otherwise it will be left alone. Defaults to false.</p> <h3 class="detailHeader" id="timestampExpression-detail"> timestampExpression<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public mixed <b>$timestampExpression</b>;</pre> <p>The expression that will be used for generating the timestamp. This can be either a string representing a PHP expression (e.g. 'time()'), or a <a href="cdbexpression">CDbExpression</a> object representing a DB expression (e.g. new CDbExpression('NOW()')). Defaults to null, meaning that we will attempt to figure out the appropriate timestamp automatically. If we fail at finding the appropriate timestamp, then it will fall back to using the current UNIX timestamp. <br><br> A PHP expression can be any PHP code that has a value. To learn more about what an expression is, please refer to the <a href="http://www.php.net/manual/en/language.expressions.php">php manual</a>.</p> <h3 class="detailHeader" id="updateAttribute-detail"> updateAttribute<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public mixed <b>$updateAttribute</b>;</pre> <p>The name of the attribute to store the modification time. Set to null to not use a timestamp for the update attribute. Defaults to 'update_time'</p> <h2>Method Details</h2> <h3 class="detailHeader" id="beforeSave-detail"> beforeSave() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>beforeSave</b>(<a href="cmodelevent">CModelEvent</a> $event)</pre> </td></tr> <tr> <td class="paramNameCol">$event</td> <td class="paramTypeCol"><a href="cmodelevent">CModelEvent</a></td> <td class="paramDescCol">event parameter</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/zii/behaviors/CTimestampBehavior.php#L89">framework/zii/behaviors/CTimestampBehavior.php#89</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">beforeSave</span><span style="color: #007700">(</span><span style="color: #0000BB">$event</span><span style="color: #007700">) {<br>    if (</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getOwner</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getIsNewRecord</span><span style="color: #007700">() &amp;&amp; (</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">createAttribute </span><span style="color: #007700">!== </span><span style="color: #0000BB">null</span><span style="color: #007700">)) {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getOwner</span><span style="color: #007700">()-&gt;{</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">createAttribute</span><span style="color: #007700">} = </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getTimestampByAttribute</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">createAttribute</span><span style="color: #007700">);<br>    }<br>    if ((!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getOwner</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getIsNewRecord</span><span style="color: #007700">() || </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setUpdateOnCreate</span><span style="color: #007700">) &amp;&amp; (</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">updateAttribute </span><span style="color: #007700">!== </span><span style="color: #0000BB">null</span><span style="color: #007700">)) {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getOwner</span><span style="color: #007700">()-&gt;{</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">updateAttribute</span><span style="color: #007700">} = </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getTimestampByAttribute</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">updateAttribute</span><span style="color: #007700">);<br>    }<br>}</span></pre> </div> <p>Responds to CModel::onBeforeSave event. Sets the values of the creation or modified attributes as configured</p> <h3 class="detailHeader" id="getTimestampByAttribute-detail"> getTimestampByAttribute() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected mixed <b>getTimestampByAttribute</b>(string $attribute)</pre> </td></tr> <tr> <td class="paramNameCol">$attribute</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">$attribute</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">timestamp (eg unix timestamp or a mysql function)</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/zii/behaviors/CTimestampBehavior.php#L104">framework/zii/behaviors/CTimestampBehavior.php#104</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">getTimestampByAttribute</span><span style="color: #007700">(</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">) {<br>    if (</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">timestampExpression </span><span style="color: #007700">instanceof </span><span style="color: #0000BB">CDbExpression</span><span style="color: #007700">)<br>        return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">timestampExpression</span><span style="color: #007700">;<br>    elseif (</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">timestampExpression </span><span style="color: #007700">!== </span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>    {<br>        try<br>        {<br>            return @eval(</span><span style="color: #DD0000">'return '</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">timestampExpression</span><span style="color: #007700">.</span><span style="color: #DD0000">';'</span><span style="color: #007700">);<br>        }<br>        catch (</span><span style="color: #0000BB">ParseError $e</span><span style="color: #007700">)<br>        {<br>            return </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>        }<br>    }<br><br>    </span><span style="color: #0000BB">$columnType </span><span style="color: #007700">= </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getOwner</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getTableSchema</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getColumn</span><span style="color: #007700">(</span><span style="color: #0000BB">$attribute</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">dbType</span><span style="color: #007700">;<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getTimestampByColumnType</span><span style="color: #007700">(</span><span style="color: #0000BB">$columnType</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Gets the appropriate timestamp depending on the column type $attribute is</p> <h3 class="detailHeader" id="getTimestampByColumnType-detail"> getTimestampByColumnType() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected mixed <b>getTimestampByColumnType</b>(string $columnType)</pre> </td></tr> <tr> <td class="paramNameCol">$columnType</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">$columnType</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">timestamp (eg unix timestamp or a mysql function)</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/zii/behaviors/CTimestampBehavior.php#L129">framework/zii/behaviors/CTimestampBehavior.php#129</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">getTimestampByColumnType</span><span style="color: #007700">(</span><span style="color: #0000BB">$columnType</span><span style="color: #007700">) {<br>    return isset(</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$map</span><span style="color: #007700">[</span><span style="color: #0000BB">$columnType</span><span style="color: #007700">]) ? new </span><span style="color: #0000BB">CDbExpression</span><span style="color: #007700">(</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$map</span><span style="color: #007700">[</span><span style="color: #0000BB">$columnType</span><span style="color: #007700">]) : </span><span style="color: #0000BB">time</span><span style="color: #007700">();<br>}</span></pre> </div> <p>Returns the appropriate timestamp depending on $columnType</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2008–2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc/api/1.1/CTimestampBehavior" class="_attribution-link">http://www.yiiframework.com/doc/api/1.1/CTimestampBehavior</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
