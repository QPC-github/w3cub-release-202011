
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>CCaptcha - Yii 1.1 - W3cubDocs</title>
  
  <meta name="description" content=" the label for the refresh button. Defaults to &#39;Get a new code&#39;. ">
  <meta name="keywords" content="ccaptcha, yii, yii~1.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/yii~1.1/ccaptcha.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/yii~1.1.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/yii~1.1/" class="_nav-link" title="" style="margin-left:0;">Yii 1.1</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _yii">
				
				
<h1>CCaptcha</h1>  <table class="summaryTable docClass"> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr> <th>Package</th> <td><a href="index#system.web.widgets.captcha">system.web.widgets.captcha</a></td> </tr> <tr> <th>Inheritance</th> <td>class CCaptcha » <a href="cwidget">CWidget</a> » <a href="cbasecontroller">CBaseController</a> » <a href="ccomponent">CComponent</a>
</td> </tr> <tr> <th>Since</th> <td>1.0</td> </tr> <tr> <th>Source Code</th> <td><a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/widgets/captcha/CCaptcha.php">framework/web/widgets/captcha/CCaptcha.php</a></td> </tr> </table> <div id="classDescription"> CCaptcha renders a CAPTCHA image element. <br><br> CCaptcha is used together with <a href="ccaptchaaction">CCaptchaAction</a> to provide <a href="http://en.wikipedia.org/wiki/Captcha">CAPTCHA</a> - a way of preventing site spam. <br><br> The image element rendered by CCaptcha will display a CAPTCHA image generated by an action of class <a href="ccaptchaaction">CCaptchaAction</a> belonging to the current controller. By default, the action ID should be 'captcha', which can be changed by setting <a href="ccaptcha#captchaAction">captchaAction</a>. <br><br> CCaptcha may also render a button next to the CAPTCHA image. Clicking on the button will change the CAPTCHA image to be a new one in an AJAX way. <br><br> If <a href="ccaptcha#clickableImage">clickableImage</a> is set true, clicking on the CAPTCHA image will refresh the CAPTCHA. <br><br> A <a href="ccaptchavalidator">CCaptchaValidator</a> may be used to validate that the user enters a verification code matching the code displayed in the CAPTCHA image. <br><br> When combining CCaptcha with CActiveForm or CForm, make sure ajaxValidation is disabled. Performing ajax validation causes your Captcha to be refreshed, rendering the code invalid on the next validation attempt.</div>  <div class="summary docProperty"> <h2>Public Properties</h2>  <table class="summaryTable"> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr class="inherited" id="actionPrefix"> <td><a href="cwidget#actionPrefix-detail">actionPrefix</a></td> <td>string</td> <td>the prefix to the IDs of the <a href="ccaptcha#actions">actions</a>.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr id="buttonLabel"> <td><a href="ccaptcha#buttonLabel-detail">buttonLabel</a></td> <td>string</td> <td>the label for the refresh button.</td> <td>CCaptcha</td> </tr> <tr id="buttonOptions"> <td><a href="ccaptcha#buttonOptions-detail">buttonOptions</a></td> <td>array</td> <td>HTML attributes to be applied to the rendered refresh button element.</td> <td>CCaptcha</td> </tr> <tr id="buttonType"> <td><a href="ccaptcha#buttonType-detail">buttonType</a></td> <td>string</td> <td>the type of the refresh button.</td> <td>CCaptcha</td> </tr> <tr id="captchaAction"> <td><a href="ccaptcha#captchaAction-detail">captchaAction</a></td> <td>string</td> <td>the ID of the action that should provide CAPTCHA image.</td> <td>CCaptcha</td> </tr> <tr id="clickableImage"> <td><a href="ccaptcha#clickableImage-detail">clickableImage</a></td> <td>boolean</td> <td>whether to allow clicking on the CAPTCHA image to refresh the CAPTCHA letters.</td> <td>CCaptcha</td> </tr> <tr class="inherited" id="controller"> <td><a href="cwidget#controller-detail">controller</a></td> <td><a href="ccontroller">CController</a></td> <td>Returns the controller that this widget belongs to.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr class="inherited" id="id"> <td><a href="cwidget#id-detail">id</a></td> <td>string</td> <td>Returns the ID of the widget or generates a new one if requested.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr id="imageOptions"> <td><a href="ccaptcha#imageOptions-detail">imageOptions</a></td> <td>array</td> <td>HTML attributes to be applied to the rendered image element.</td> <td>CCaptcha</td> </tr> <tr class="inherited" id="owner"> <td><a href="cwidget#owner-detail">owner</a></td> <td><a href="cbasecontroller">CBaseController</a></td> <td>Returns the owner/creator of this widget.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr id="showRefreshButton"> <td><a href="ccaptcha#showRefreshButton-detail">showRefreshButton</a></td> <td>boolean</td> <td>whether to display a button next to the CAPTCHA image.</td> <td>CCaptcha</td> </tr> <tr class="inherited" id="skin"> <td><a href="cwidget#skin-detail">skin</a></td> <td>mixed</td> <td>the name of the skin to be used by this widget.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr class="inherited" id="viewPath"> <td><a href="cwidget#viewPath-detail">viewPath</a></td> <td>string</td> <td>Returns the directory containing the view files for this widget.</td> <td><a href="cwidget">CWidget</a></td> </tr> </table> </div>  <div class="summary docMethod"> <h2>Public Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr class="inherited" id="__call"> <td><a href="ccomponent#__call-detail">__call()</a></td> <td>Calls the named method which is not a class method.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__construct"> <td><a href="cwidget#__construct-detail">__construct()</a></td> <td>Constructor.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr class="inherited" id="__get"> <td><a href="ccomponent#__get-detail">__get()</a></td> <td>Returns a property value, an event handler list or a behavior based on its name.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__isset"> <td><a href="ccomponent#__isset-detail">__isset()</a></td> <td>Checks if a property value is null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__set"> <td><a href="ccomponent#__set-detail">__set()</a></td> <td>Sets value of a component property.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__unset"> <td><a href="ccomponent#__unset-detail">__unset()</a></td> <td>Sets a component property to be null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="actions"> <td><a href="cwidget#actions-detail">actions()</a></td> <td>Returns a list of actions that are used by this widget.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr class="inherited" id="asa"> <td><a href="ccomponent#asa-detail">asa()</a></td> <td>Returns the named behavior object.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehavior"> <td><a href="ccomponent#attachBehavior-detail">attachBehavior()</a></td> <td>Attaches a behavior to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehaviors"> <td><a href="ccomponent#attachBehaviors-detail">attachBehaviors()</a></td> <td>Attaches a list of behaviors to the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachEventHandler"> <td><a href="ccomponent#attachEventHandler-detail">attachEventHandler()</a></td> <td>Attaches an event handler to an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="beginCache"> <td><a href="cbasecontroller#beginCache-detail">beginCache()</a></td> <td>Begins fragment caching.</td> <td><a href="cbasecontroller">CBaseController</a></td> </tr> <tr class="inherited" id="beginClip"> <td><a href="cbasecontroller#beginClip-detail">beginClip()</a></td> <td>Begins recording a clip.</td> <td><a href="cbasecontroller">CBaseController</a></td> </tr> <tr class="inherited" id="beginContent"> <td><a href="cbasecontroller#beginContent-detail">beginContent()</a></td> <td>Begins the rendering of content that is to be decorated by the specified view.</td> <td><a href="cbasecontroller">CBaseController</a></td> </tr> <tr class="inherited" id="beginWidget"> <td><a href="cbasecontroller#beginWidget-detail">beginWidget()</a></td> <td>Creates a widget and executes it.</td> <td><a href="cbasecontroller">CBaseController</a></td> </tr> <tr class="inherited" id="canGetProperty"> <td><a href="ccomponent#canGetProperty-detail">canGetProperty()</a></td> <td>Determines whether a property can be read.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="canSetProperty"> <td><a href="ccomponent#canSetProperty-detail">canSetProperty()</a></td> <td>Determines whether a property can be set.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="checkRequirements"> <td><a href="ccaptcha#checkRequirements-detail">checkRequirements()</a></td> <td>Checks if specified graphic extension support is loaded.</td> <td>CCaptcha</td> </tr> <tr class="inherited" id="createWidget"> <td><a href="cbasecontroller#createWidget-detail">createWidget()</a></td> <td>Creates a widget and initializes it.</td> <td><a href="cbasecontroller">CBaseController</a></td> </tr> <tr class="inherited" id="detachBehavior"> <td><a href="ccomponent#detachBehavior-detail">detachBehavior()</a></td> <td>Detaches a behavior from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachBehaviors"> <td><a href="ccomponent#detachBehaviors-detail">detachBehaviors()</a></td> <td>Detaches all behaviors from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachEventHandler"> <td><a href="ccomponent#detachEventHandler-detail">detachEventHandler()</a></td> <td>Detaches an existing event handler.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehavior"> <td><a href="ccomponent#disableBehavior-detail">disableBehavior()</a></td> <td>Disables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehaviors"> <td><a href="ccomponent#disableBehaviors-detail">disableBehaviors()</a></td> <td>Disables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehavior"> <td><a href="ccomponent#enableBehavior-detail">enableBehavior()</a></td> <td>Enables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehaviors"> <td><a href="ccomponent#enableBehaviors-detail">enableBehaviors()</a></td> <td>Enables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="endCache"> <td><a href="cbasecontroller#endCache-detail">endCache()</a></td> <td>Ends fragment caching.</td> <td><a href="cbasecontroller">CBaseController</a></td> </tr> <tr class="inherited" id="endClip"> <td><a href="cbasecontroller#endClip-detail">endClip()</a></td> <td>Ends recording a clip.</td> <td><a href="cbasecontroller">CBaseController</a></td> </tr> <tr class="inherited" id="endContent"> <td><a href="cbasecontroller#endContent-detail">endContent()</a></td> <td>Ends the rendering of content.</td> <td><a href="cbasecontroller">CBaseController</a></td> </tr> <tr class="inherited" id="endWidget"> <td><a href="cbasecontroller#endWidget-detail">endWidget()</a></td> <td>Ends the execution of the named widget.</td> <td><a href="cbasecontroller">CBaseController</a></td> </tr> <tr class="inherited" id="evaluateExpression"> <td><a href="ccomponent#evaluateExpression-detail">evaluateExpression()</a></td> <td>Evaluates a PHP expression or callback under the context of this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="getController"> <td><a href="cwidget#getController-detail">getController()</a></td> <td>Returns the controller that this widget belongs to.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr class="inherited" id="getEventHandlers"> <td><a href="ccomponent#getEventHandlers-detail">getEventHandlers()</a></td> <td>Returns the list of attached event handlers for an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="getId"> <td><a href="cwidget#getId-detail">getId()</a></td> <td>Returns the ID of the widget or generates a new one if requested.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr class="inherited" id="getOwner"> <td><a href="cwidget#getOwner-detail">getOwner()</a></td> <td>Returns the owner/creator of this widget.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr class="inherited" id="getViewFile"> <td><a href="cwidget#getViewFile-detail">getViewFile()</a></td> <td>Looks for the view script file according to the view name.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr class="inherited" id="getViewPath"> <td><a href="cwidget#getViewPath-detail">getViewPath()</a></td> <td>Returns the directory containing the view files for this widget.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr class="inherited" id="hasEvent"> <td><a href="ccomponent#hasEvent-detail">hasEvent()</a></td> <td>Determines whether an event is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasEventHandler"> <td><a href="ccomponent#hasEventHandler-detail">hasEventHandler()</a></td> <td>Checks whether the named event has attached handlers.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasProperty"> <td><a href="ccomponent#hasProperty-detail">hasProperty()</a></td> <td>Determines whether a property is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="init"> <td><a href="cwidget#init-detail">init()</a></td> <td>Initializes the widget.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr class="inherited" id="raiseEvent"> <td><a href="ccomponent#raiseEvent-detail">raiseEvent()</a></td> <td>Raises an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="registerClientScript"> <td><a href="ccaptcha#registerClientScript-detail">registerClientScript()</a></td> <td>Registers the needed client scripts.</td> <td>CCaptcha</td> </tr> <tr class="inherited" id="render"> <td><a href="cwidget#render-detail">render()</a></td> <td>Renders a view.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr class="inherited" id="renderFile"> <td><a href="cbasecontroller#renderFile-detail">renderFile()</a></td> <td>Renders a view file.</td> <td><a href="cbasecontroller">CBaseController</a></td> </tr> <tr class="inherited" id="renderInternal"> <td><a href="cbasecontroller#renderInternal-detail">renderInternal()</a></td> <td>Renders a view file.</td> <td><a href="cbasecontroller">CBaseController</a></td> </tr> <tr id="run"> <td><a href="ccaptcha#run-detail">run()</a></td> <td>Renders the widget.</td> <td>CCaptcha</td> </tr> <tr class="inherited" id="setId"> <td><a href="cwidget#setId-detail">setId()</a></td> <td>Sets the ID of the widget.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr class="inherited" id="widget"> <td><a href="cbasecontroller#widget-detail">widget()</a></td> <td>Creates a widget and executes it.</td> <td><a href="cbasecontroller">CBaseController</a></td> </tr> </table> </div> <div class="summary docMethod"> <h2>Protected Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="renderImage"> <td><a href="ccaptcha#renderImage-detail">renderImage()</a></td> <td>Renders the CAPTCHA image.</td> <td>CCaptcha</td> </tr> </table> </div>  <h2>Property Details</h2> <h3 class="detailHeader" id="buttonLabel-detail"> buttonLabel<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <b>$buttonLabel</b>;</pre> <p>the label for the refresh button. Defaults to 'Get a new code'.</p> <h3 class="detailHeader" id="buttonOptions-detail"> buttonOptions<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public array <b>$buttonOptions</b>;</pre> <p>HTML attributes to be applied to the rendered refresh button element.</p> <h3 class="detailHeader" id="buttonType-detail"> buttonType<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <b>$buttonType</b>;</pre> <p>the type of the refresh button. This should be either 'link' or 'button'. The former refers to hyperlink button while the latter a normal push button. Defaults to 'link'.</p> <h3 class="detailHeader" id="captchaAction-detail"> captchaAction<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <b>$captchaAction</b>;</pre> <p>the ID of the action that should provide CAPTCHA image. Defaults to 'captcha', meaning the 'captcha' action of the current controller. This property may also be in the format of 'ControllerID/ActionID'. Underneath, this property is used by <a href="ccontroller#createUrl">CController::createUrl</a> to create the URL that would serve the CAPTCHA image. The action has to be of <a href="ccaptchaaction">CCaptchaAction</a>.</p> <h3 class="detailHeader" id="clickableImage-detail"> clickableImage<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public boolean <b>$clickableImage</b>;</pre> <p>whether to allow clicking on the CAPTCHA image to refresh the CAPTCHA letters. Defaults to false. Hint: you may want to set <a href="ccaptcha#showRefreshButton">showRefreshButton</a> to false if you set this property to be true because they serve for the same purpose. To enhance accessibility, you may set <a href="ccaptcha#imageOptions">imageOptions</a> to provide hints to end-users that the image is clickable.</p> <h3 class="detailHeader" id="imageOptions-detail"> imageOptions<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public array <b>$imageOptions</b>;</pre> <p>HTML attributes to be applied to the rendered image element.</p> <h3 class="detailHeader" id="showRefreshButton-detail"> showRefreshButton<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public boolean <b>$showRefreshButton</b>;</pre> <p>whether to display a button next to the CAPTCHA image. Clicking on the button will cause the CAPTCHA image to be changed to a new one. Defaults to true.</p> <h2>Method Details</h2> <h3 class="detailHeader" id="checkRequirements-detail"> checkRequirements() <span class="detailHeaderTag"> method (available since v1.1.5) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public static boolean <b>checkRequirements</b>(string $extension=NULL)</pre> </td></tr> <tr> <td class="paramNameCol">$extension</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">name to be checked. Possible values are 'gd', 'imagick' and null. Default value is null meaning that both extensions will be checked. This parameter is available since 1.1.13.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">true if ImageMagick extension with PNG support or GD with FreeType support is loaded, otherwise false</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/widgets/captcha/CCaptcha.php#L167">framework/web/widgets/captcha/CCaptcha.php#167</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public static function </span><span style="color: #0000BB">checkRequirements</span><span style="color: #007700">(</span><span style="color: #0000BB">$extension</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>{<br>    if(</span><span style="color: #0000BB">extension_loaded</span><span style="color: #007700">(</span><span style="color: #DD0000">'imagick'</span><span style="color: #007700">))<br>    {<br>        </span><span style="color: #0000BB">$imagick</span><span style="color: #007700">=new </span><span style="color: #0000BB">Imagick</span><span style="color: #007700">();<br>        </span><span style="color: #0000BB">$imagickFormats</span><span style="color: #007700">=</span><span style="color: #0000BB">$imagick</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">queryFormats</span><span style="color: #007700">(</span><span style="color: #DD0000">'PNG'</span><span style="color: #007700">);<br>    }<br>    if(</span><span style="color: #0000BB">extension_loaded</span><span style="color: #007700">(</span><span style="color: #DD0000">'gd'</span><span style="color: #007700">))<br>    {<br>        </span><span style="color: #0000BB">$gdInfo</span><span style="color: #007700">=</span><span style="color: #0000BB">gd_info</span><span style="color: #007700">();<br>    }<br>    if(</span><span style="color: #0000BB">$extension</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>    {<br>        if(isset(</span><span style="color: #0000BB">$imagickFormats</span><span style="color: #007700">) &amp;&amp; </span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #DD0000">'PNG'</span><span style="color: #007700">,</span><span style="color: #0000BB">$imagickFormats</span><span style="color: #007700">))<br>            return </span><span style="color: #0000BB">true</span><span style="color: #007700">;<br>        if(isset(</span><span style="color: #0000BB">$gdInfo</span><span style="color: #007700">) &amp;&amp; </span><span style="color: #0000BB">$gdInfo</span><span style="color: #007700">[</span><span style="color: #DD0000">'FreeType Support'</span><span style="color: #007700">])<br>            return </span><span style="color: #0000BB">true</span><span style="color: #007700">;<br>    }<br>    elseif(</span><span style="color: #0000BB">$extension</span><span style="color: #007700">==</span><span style="color: #DD0000">'imagick' </span><span style="color: #007700">&amp;&amp; isset(</span><span style="color: #0000BB">$imagickFormats</span><span style="color: #007700">) &amp;&amp; </span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #DD0000">'PNG'</span><span style="color: #007700">,</span><span style="color: #0000BB">$imagickFormats</span><span style="color: #007700">))<br>        return </span><span style="color: #0000BB">true</span><span style="color: #007700">;<br>    elseif(</span><span style="color: #0000BB">$extension</span><span style="color: #007700">==</span><span style="color: #DD0000">'gd' </span><span style="color: #007700">&amp;&amp; isset(</span><span style="color: #0000BB">$gdInfo</span><span style="color: #007700">) &amp;&amp; </span><span style="color: #0000BB">$gdInfo</span><span style="color: #007700">[</span><span style="color: #DD0000">'FreeType Support'</span><span style="color: #007700">])<br>        return </span><span style="color: #0000BB">true</span><span style="color: #007700">;<br>    return </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Checks if specified graphic extension support is loaded.</p> <h3 class="detailHeader" id="registerClientScript-detail"> registerClientScript() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>registerClientScript</b>()</pre> </td></tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/widgets/captcha/CCaptcha.php#L110">framework/web/widgets/captcha/CCaptcha.php#110</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">registerClientScript</span><span style="color: #007700">()<br>{<br>    </span><span style="color: #0000BB">$cs</span><span style="color: #007700">=</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">clientScript</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$id</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">imageOptions</span><span style="color: #007700">[</span><span style="color: #DD0000">'id'</span><span style="color: #007700">];<br>    </span><span style="color: #0000BB">$url</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getController</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">createUrl</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">captchaAction</span><span style="color: #007700">,array(</span><span style="color: #0000BB">CCaptchaAction</span><span style="color: #007700">::</span><span style="color: #0000BB">REFRESH_GET_VAR</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">true</span><span style="color: #007700">));<br><br>    </span><span style="color: #0000BB">$js</span><span style="color: #007700">=</span><span style="color: #DD0000">""</span><span style="color: #007700">;<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">showRefreshButton</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #FF8000">// reserve a place in the registered script so that any enclosing button js code appears after the captcha js<br>        </span><span style="color: #0000BB">$cs</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">registerScript</span><span style="color: #007700">(</span><span style="color: #DD0000">'Yii.CCaptcha#'</span><span style="color: #007700">.</span><span style="color: #0000BB">$id</span><span style="color: #007700">,</span><span style="color: #DD0000">'// dummy'</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">$label</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">buttonLabel</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">?</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">t</span><span style="color: #007700">(</span><span style="color: #DD0000">'yii'</span><span style="color: #007700">,</span><span style="color: #DD0000">'Get a new code'</span><span style="color: #007700">):</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">buttonLabel</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$options</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">buttonOptions</span><span style="color: #007700">;<br>        if(isset(</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">'id'</span><span style="color: #007700">]))<br>            </span><span style="color: #0000BB">$buttonID</span><span style="color: #007700">=</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">'id'</span><span style="color: #007700">];<br>        else<br>            </span><span style="color: #0000BB">$buttonID</span><span style="color: #007700">=</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">'id'</span><span style="color: #007700">]=</span><span style="color: #0000BB">$id</span><span style="color: #007700">.</span><span style="color: #DD0000">'_button'</span><span style="color: #007700">;<br>        if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">buttonType</span><span style="color: #007700">===</span><span style="color: #DD0000">'button'</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$html</span><span style="color: #007700">=</span><span style="color: #0000BB">CHtml</span><span style="color: #007700">::</span><span style="color: #0000BB">button</span><span style="color: #007700">(</span><span style="color: #0000BB">$label</span><span style="color: #007700">, </span><span style="color: #0000BB">$options</span><span style="color: #007700">);<br>        else<br>            </span><span style="color: #0000BB">$html</span><span style="color: #007700">=</span><span style="color: #0000BB">CHtml</span><span style="color: #007700">::</span><span style="color: #0000BB">link</span><span style="color: #007700">(</span><span style="color: #0000BB">$label</span><span style="color: #007700">, </span><span style="color: #0000BB">$url</span><span style="color: #007700">, </span><span style="color: #0000BB">$options</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">$js</span><span style="color: #007700">=</span><span style="color: #DD0000">"jQuery('#</span><span style="color: #0000BB">$id</span><span style="color: #DD0000">').after("</span><span style="color: #007700">.</span><span style="color: #0000BB">CJSON</span><span style="color: #007700">::</span><span style="color: #0000BB">encode</span><span style="color: #007700">(</span><span style="color: #0000BB">$html</span><span style="color: #007700">).</span><span style="color: #DD0000">");"</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$selector</span><span style="color: #007700">=</span><span style="color: #DD0000">"#</span><span style="color: #0000BB">$buttonID</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br>    }<br><br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">clickableImage</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$selector</span><span style="color: #007700">=isset(</span><span style="color: #0000BB">$selector</span><span style="color: #007700">) ? </span><span style="color: #DD0000">"</span><span style="color: #0000BB">$selector</span><span style="color: #DD0000">, #</span><span style="color: #0000BB">$id</span><span style="color: #DD0000">" </span><span style="color: #007700">: </span><span style="color: #DD0000">"#</span><span style="color: #0000BB">$id</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br><br>    if(!isset(</span><span style="color: #0000BB">$selector</span><span style="color: #007700">))<br>        return;<br><br>    </span><span style="color: #0000BB">$js</span><span style="color: #007700">.=</span><span style="color: #DD0000">"<br>jQuery(document).on('click', '</span><span style="color: #0000BB">$selector</span><span style="color: #DD0000">', function(){<br>jQuery.ajax({<br>    url: "</span><span style="color: #007700">.</span><span style="color: #0000BB">CJSON</span><span style="color: #007700">::</span><span style="color: #0000BB">encode</span><span style="color: #007700">(</span><span style="color: #0000BB">$url</span><span style="color: #007700">).</span><span style="color: #DD0000">",<br>    dataType: 'json',<br>    cache: false,<br>    success: function(data) {<br>        jQuery('#</span><span style="color: #0000BB">$id</span><span style="color: #DD0000">').attr('src', data['url']);<br>        jQuery('body').data('</span><span style="color: #007700">{</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">captchaAction</span><span style="color: #007700">}</span><span style="color: #DD0000">.hash', [data['hash1'], data['hash2']]);<br>    }<br>});<br>return false;<br>});<br>"</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$cs</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">registerScript</span><span style="color: #007700">(</span><span style="color: #DD0000">'Yii.CCaptcha#'</span><span style="color: #007700">.</span><span style="color: #0000BB">$id</span><span style="color: #007700">,</span><span style="color: #0000BB">$js</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Registers the needed client scripts.</p> <h3 class="detailHeader" id="renderImage-detail"> renderImage() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected void <b>renderImage</b>()</pre> </td></tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/widgets/captcha/CCaptcha.php#L97">framework/web/widgets/captcha/CCaptcha.php#97</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">renderImage</span><span style="color: #007700">()<br>{<br>    if(!isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">imageOptions</span><span style="color: #007700">[</span><span style="color: #DD0000">'id'</span><span style="color: #007700">]))<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">imageOptions</span><span style="color: #007700">[</span><span style="color: #DD0000">'id'</span><span style="color: #007700">]=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getId</span><span style="color: #007700">();<br><br>    </span><span style="color: #0000BB">$url</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getController</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">createUrl</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">captchaAction</span><span style="color: #007700">,array(</span><span style="color: #DD0000">'v'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">uniqid</span><span style="color: #007700">()));<br>    </span><span style="color: #0000BB">$alt</span><span style="color: #007700">=isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">imageOptions</span><span style="color: #007700">[</span><span style="color: #DD0000">'alt'</span><span style="color: #007700">])?</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">imageOptions</span><span style="color: #007700">[</span><span style="color: #DD0000">'alt'</span><span style="color: #007700">]:</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br>    echo </span><span style="color: #0000BB">CHtml</span><span style="color: #007700">::</span><span style="color: #0000BB">image</span><span style="color: #007700">(</span><span style="color: #0000BB">$url</span><span style="color: #007700">,</span><span style="color: #0000BB">$alt</span><span style="color: #007700">,</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">imageOptions</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Renders the CAPTCHA image.</p> <h3 class="detailHeader" id="run-detail"> run() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>run</b>()</pre> </td></tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/widgets/captcha/CCaptcha.php#L83">framework/web/widgets/captcha/CCaptcha.php#83</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">run</span><span style="color: #007700">()<br>{<br>    if(</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">checkRequirements</span><span style="color: #007700">(</span><span style="color: #DD0000">'imagick'</span><span style="color: #007700">) || </span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">checkRequirements</span><span style="color: #007700">(</span><span style="color: #DD0000">'gd'</span><span style="color: #007700">))<br>    {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">renderImage</span><span style="color: #007700">();<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">registerClientScript</span><span style="color: #007700">();<br>    }<br>    else<br>        throw new </span><span style="color: #0000BB">CException</span><span style="color: #007700">(</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">t</span><span style="color: #007700">(</span><span style="color: #DD0000">'yii'</span><span style="color: #007700">,</span><span style="color: #DD0000">'GD with FreeType or ImageMagick PHP extensions are required.'</span><span style="color: #007700">));<br>}</span></pre> </div> <p>Renders the widget.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2008–2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc/api/1.1/CCaptcha" class="_attribution-link">http://www.yiiframework.com/doc/api/1.1/CCaptcha</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
