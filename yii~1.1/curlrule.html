
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>CUrlRule - Yii 1.1 - W3cubDocs</title>
  
  <meta name="description" content=" whether the URL allows additional parameters at the end of the path info. ">
  <meta name="keywords" content="curlrule, yii, yii~1.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/yii~1.1/curlrule.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/yii~1.1.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/yii~1.1/" class="_nav-link" title="" style="margin-left:0;">Yii 1.1</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _yii">
				
				
<h1>CUrlRule</h1>  <table class="summaryTable docClass"> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr> <th>Package</th> <td><a href="index#system.web">system.web</a></td> </tr> <tr> <th>Inheritance</th> <td>class CUrlRule » <a href="cbaseurlrule">CBaseUrlRule</a> » <a href="ccomponent">CComponent</a>
</td> </tr> <tr> <th>Since</th> <td>1.0</td> </tr> <tr> <th>Source Code</th> <td><a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CUrlManager.php">framework/web/CUrlManager.php</a></td> </tr> </table> <div id="classDescription"> CUrlRule represents a URL formatting/parsing rule. <br><br> It mainly consists of two parts: route and pattern. The former classifies the rule so that it only applies to specific controller-action route. The latter performs the actual formatting and parsing role. The pattern may have a set of named parameters.</div>  <div class="summary docProperty"> <h2>Public Properties</h2>  <table class="summaryTable"> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="append"> <td><a href="curlrule#append-detail">append</a></td> <td>boolean</td> <td>whether the URL allows additional parameters at the end of the path info.</td> <td>CUrlRule</td> </tr> <tr id="caseSensitive"> <td><a href="curlrule#caseSensitive-detail">caseSensitive</a></td> <td>boolean</td> <td>whether the rule is case sensitive.</td> <td>CUrlRule</td> </tr> <tr id="defaultParams"> <td><a href="curlrule#defaultParams-detail">defaultParams</a></td> <td>array</td> <td>the default GET parameters (name=&gt;value) that this rule provides.</td> <td>CUrlRule</td> </tr> <tr id="hasHostInfo"> <td><a href="curlrule#hasHostInfo-detail">hasHostInfo</a></td> <td>boolean</td> <td>whether host info should be considered for this rule</td> <td>CUrlRule</td> </tr> <tr id="matchValue"> <td><a href="curlrule#matchValue-detail">matchValue</a></td> <td>boolean</td> <td>whether the GET parameter values should match the corresponding sub-patterns in the rule when creating a URL.</td> <td>CUrlRule</td> </tr> <tr id="params"> <td><a href="curlrule#params-detail">params</a></td> <td>array</td> <td>list of parameters (name=&gt;regular expression)</td> <td>CUrlRule</td> </tr> <tr id="parsingOnly"> <td><a href="curlrule#parsingOnly-detail">parsingOnly</a></td> <td>boolean</td> <td>whether this rule is only used for request parsing.</td> <td>CUrlRule</td> </tr> <tr id="pattern"> <td><a href="curlrule#pattern-detail">pattern</a></td> <td>string</td> <td>regular expression used to parse a URL</td> <td>CUrlRule</td> </tr> <tr id="references"> <td><a href="curlrule#references-detail">references</a></td> <td>array</td> <td>the mapping from route param name to token name (e.g. _r1=&gt;&lt;1&gt;)</td> <td>CUrlRule</td> </tr> <tr id="route"> <td><a href="curlrule#route-detail">route</a></td> <td>string</td> <td>the controller/action pair</td> <td>CUrlRule</td> </tr> <tr id="routePattern"> <td><a href="curlrule#routePattern-detail">routePattern</a></td> <td>string</td> <td>the pattern used to match route</td> <td>CUrlRule</td> </tr> <tr id="template"> <td><a href="curlrule#template-detail">template</a></td> <td>string</td> <td>template used to construct a URL</td> <td>CUrlRule</td> </tr> <tr id="urlSuffix"> <td><a href="curlrule#urlSuffix-detail">urlSuffix</a></td> <td>string</td> <td>the URL suffix used for this rule.</td> <td>CUrlRule</td> </tr> <tr id="verb"> <td><a href="curlrule#verb-detail">verb</a></td> <td>string</td> <td>the HTTP verb (e.g. GET, POST, DELETE) that this rule should match.</td> <td>CUrlRule</td> </tr> </table> </div>  <div class="summary docMethod"> <h2>Public Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr class="inherited" id="__call"> <td><a href="ccomponent#__call-detail">__call()</a></td> <td>Calls the named method which is not a class method.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="__construct"> <td><a href="curlrule#__construct-detail">__construct()</a></td> <td>Constructor.</td> <td>CUrlRule</td> </tr> <tr class="inherited" id="__get"> <td><a href="ccomponent#__get-detail">__get()</a></td> <td>Returns a property value, an event handler list or a behavior based on its name.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__isset"> <td><a href="ccomponent#__isset-detail">__isset()</a></td> <td>Checks if a property value is null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__set"> <td><a href="ccomponent#__set-detail">__set()</a></td> <td>Sets value of a component property.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__unset"> <td><a href="ccomponent#__unset-detail">__unset()</a></td> <td>Sets a component property to be null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="asa"> <td><a href="ccomponent#asa-detail">asa()</a></td> <td>Returns the named behavior object.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehavior"> <td><a href="ccomponent#attachBehavior-detail">attachBehavior()</a></td> <td>Attaches a behavior to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehaviors"> <td><a href="ccomponent#attachBehaviors-detail">attachBehaviors()</a></td> <td>Attaches a list of behaviors to the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachEventHandler"> <td><a href="ccomponent#attachEventHandler-detail">attachEventHandler()</a></td> <td>Attaches an event handler to an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="canGetProperty"> <td><a href="ccomponent#canGetProperty-detail">canGetProperty()</a></td> <td>Determines whether a property can be read.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="canSetProperty"> <td><a href="ccomponent#canSetProperty-detail">canSetProperty()</a></td> <td>Determines whether a property can be set.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="createUrl"> <td><a href="curlrule#createUrl-detail">createUrl()</a></td> <td>Creates a URL based on this rule.</td> <td>CUrlRule</td> </tr> <tr class="inherited" id="detachBehavior"> <td><a href="ccomponent#detachBehavior-detail">detachBehavior()</a></td> <td>Detaches a behavior from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachBehaviors"> <td><a href="ccomponent#detachBehaviors-detail">detachBehaviors()</a></td> <td>Detaches all behaviors from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachEventHandler"> <td><a href="ccomponent#detachEventHandler-detail">detachEventHandler()</a></td> <td>Detaches an existing event handler.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehavior"> <td><a href="ccomponent#disableBehavior-detail">disableBehavior()</a></td> <td>Disables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehaviors"> <td><a href="ccomponent#disableBehaviors-detail">disableBehaviors()</a></td> <td>Disables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehavior"> <td><a href="ccomponent#enableBehavior-detail">enableBehavior()</a></td> <td>Enables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehaviors"> <td><a href="ccomponent#enableBehaviors-detail">enableBehaviors()</a></td> <td>Enables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="evaluateExpression"> <td><a href="ccomponent#evaluateExpression-detail">evaluateExpression()</a></td> <td>Evaluates a PHP expression or callback under the context of this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="getEventHandlers"> <td><a href="ccomponent#getEventHandlers-detail">getEventHandlers()</a></td> <td>Returns the list of attached event handlers for an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasEvent"> <td><a href="ccomponent#hasEvent-detail">hasEvent()</a></td> <td>Determines whether an event is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasEventHandler"> <td><a href="ccomponent#hasEventHandler-detail">hasEventHandler()</a></td> <td>Checks whether the named event has attached handlers.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasProperty"> <td><a href="ccomponent#hasProperty-detail">hasProperty()</a></td> <td>Determines whether a property is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="parseUrl"> <td><a href="curlrule#parseUrl-detail">parseUrl()</a></td> <td>Parses a URL based on this rule.</td> <td>CUrlRule</td> </tr> <tr class="inherited" id="raiseEvent"> <td><a href="ccomponent#raiseEvent-detail">raiseEvent()</a></td> <td>Raises an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> </table> </div> <div class="summary docMethod"> <h2>Protected Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="escapeRegexpSpecialChars"> <td><a href="curlrule#escapeRegexpSpecialChars-detail">escapeRegexpSpecialChars()</a></td> <td>Callback for preg_replace_callback in counstructor</td> <td>CUrlRule</td> </tr> </table> </div>  <h2>Property Details</h2> <h3 class="detailHeader" id="append-detail"> append<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public boolean <b>$append</b>;</pre> <p>whether the URL allows additional parameters at the end of the path info.</p> <h3 class="detailHeader" id="caseSensitive-detail"> caseSensitive<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public boolean <b>$caseSensitive</b>;</pre> <p>whether the rule is case sensitive. Defaults to null, meaning using the value of <a href="curlmanager#caseSensitive">CUrlManager::caseSensitive</a>.</p> <h3 class="detailHeader" id="defaultParams-detail"> defaultParams<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public array <b>$defaultParams</b>;</pre> <p>the default GET parameters (name=&gt;value) that this rule provides. When this rule is used to parse the incoming request, the values declared in this property will be injected into $_GET.</p> <h3 class="detailHeader" id="hasHostInfo-detail"> hasHostInfo<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public boolean <b>$hasHostInfo</b>;</pre> <p>whether host info should be considered for this rule</p> <h3 class="detailHeader" id="matchValue-detail"> matchValue<span class="detailHeaderTag"> property (available since v1.1.0) </span> </h3> <pre class="signature">public boolean <b>$matchValue</b>;</pre> <p>whether the GET parameter values should match the corresponding sub-patterns in the rule when creating a URL. Defaults to null, meaning using the value of <a href="curlmanager#matchValue">CUrlManager::matchValue</a>. When this property is false, it means a rule will be used for creating a URL if its route and parameter names match the given ones. If this property is set true, then the given parameter values must also match the corresponding parameter sub-patterns. Note that setting this property to true will degrade performance.</p> <h3 class="detailHeader" id="params-detail"> params<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public array <b>$params</b>;</pre> <p>list of parameters (name=&gt;regular expression)</p> <h3 class="detailHeader" id="parsingOnly-detail"> parsingOnly<span class="detailHeaderTag"> property (available since v1.1.7) </span> </h3> <pre class="signature">public boolean <b>$parsingOnly</b>;</pre> <p>whether this rule is only used for request parsing. Defaults to false, meaning the rule is used for both URL parsing and creation.</p> <h3 class="detailHeader" id="pattern-detail"> pattern<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <b>$pattern</b>;</pre> <p>regular expression used to parse a URL</p> <h3 class="detailHeader" id="references-detail"> references<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public array <b>$references</b>;</pre> <p>the mapping from route param name to token name (e.g. _r1=&gt;&lt;1&gt;)</p> <h3 class="detailHeader" id="route-detail"> route<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <b>$route</b>;</pre> <p>the controller/action pair</p> <h3 class="detailHeader" id="routePattern-detail"> routePattern<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <b>$routePattern</b>;</pre> <p>the pattern used to match route</p> <h3 class="detailHeader" id="template-detail"> template<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <b>$template</b>;</pre> <p>template used to construct a URL</p> <h3 class="detailHeader" id="urlSuffix-detail"> urlSuffix<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <b>$urlSuffix</b>;</pre> <p>the URL suffix used for this rule. For example, ".html" can be used so that the URL looks like pointing to a static HTML page. Defaults to null, meaning using the value of <a href="curlmanager#urlSuffix">CUrlManager::urlSuffix</a>.</p> <h3 class="detailHeader" id="verb-detail"> verb<span class="detailHeaderTag"> property (available since v1.1.7) </span> </h3> <pre class="signature">public string <b>$verb</b>;</pre> <p>the HTTP verb (e.g. GET, POST, DELETE) that this rule should match. If this rule can match multiple verbs, please separate them with commas. If this property is not set, the rule can match any verb. Note that this property is only used when parsing a request. It is ignored for URL creation.</p> <h2>Method Details</h2> <h3 class="detailHeader" id="__construct-detail"> __construct() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>__construct</b>(string $route, string $pattern)</pre> </td></tr> <tr> <td class="paramNameCol">$route</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the route of the URL (controller/action)</td> </tr> <tr> <td class="paramNameCol">$pattern</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the pattern for matching the URL</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CUrlManager.php#L657">framework/web/CUrlManager.php#657</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$route</span><span style="color: #007700">,</span><span style="color: #0000BB">$pattern</span><span style="color: #007700">)<br>{<br>    if(</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$route</span><span style="color: #007700">))<br>    {<br>        foreach(array(</span><span style="color: #DD0000">'urlSuffix'</span><span style="color: #007700">, </span><span style="color: #DD0000">'caseSensitive'</span><span style="color: #007700">, </span><span style="color: #DD0000">'defaultParams'</span><span style="color: #007700">, </span><span style="color: #DD0000">'matchValue'</span><span style="color: #007700">, </span><span style="color: #DD0000">'verb'</span><span style="color: #007700">, </span><span style="color: #DD0000">'parsingOnly'</span><span style="color: #007700">) as </span><span style="color: #0000BB">$name</span><span style="color: #007700">)<br>        {<br>            if(isset(</span><span style="color: #0000BB">$route</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]))<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">$name</span><span style="color: #007700">=</span><span style="color: #0000BB">$route</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">];<br>        }<br>        if(isset(</span><span style="color: #0000BB">$route</span><span style="color: #007700">[</span><span style="color: #DD0000">'pattern'</span><span style="color: #007700">]))<br>            </span><span style="color: #0000BB">$pattern</span><span style="color: #007700">=</span><span style="color: #0000BB">$route</span><span style="color: #007700">[</span><span style="color: #DD0000">'pattern'</span><span style="color: #007700">];<br>        </span><span style="color: #0000BB">$route</span><span style="color: #007700">=</span><span style="color: #0000BB">$route</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br>    }<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">route</span><span style="color: #007700">=</span><span style="color: #0000BB">trim</span><span style="color: #007700">(</span><span style="color: #0000BB">$route</span><span style="color: #007700">,</span><span style="color: #DD0000">'/'</span><span style="color: #007700">);<br><br>    </span><span style="color: #0000BB">$tr2</span><span style="color: #007700">[</span><span style="color: #DD0000">'/'</span><span style="color: #007700">]=</span><span style="color: #0000BB">$tr</span><span style="color: #007700">[</span><span style="color: #DD0000">'/'</span><span style="color: #007700">]=</span><span style="color: #DD0000">'\\/'</span><span style="color: #007700">;<br><br>    if(</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$route</span><span style="color: #007700">,</span><span style="color: #DD0000">'&lt;'</span><span style="color: #007700">)!==</span><span style="color: #0000BB">false </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">preg_match_all</span><span style="color: #007700">(</span><span style="color: #DD0000">'/&lt;(\w+)&gt;/'</span><span style="color: #007700">,</span><span style="color: #0000BB">$route</span><span style="color: #007700">,</span><span style="color: #0000BB">$matches2</span><span style="color: #007700">))<br>    {<br>        foreach(</span><span style="color: #0000BB">$matches2</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">] as </span><span style="color: #0000BB">$name</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">references</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]=</span><span style="color: #DD0000">"&lt;</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">&gt;"</span><span style="color: #007700">;<br>    }<br><br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">hasHostInfo</span><span style="color: #007700">=!</span><span style="color: #0000BB">strncasecmp</span><span style="color: #007700">(</span><span style="color: #0000BB">$pattern</span><span style="color: #007700">,</span><span style="color: #DD0000">'http://'</span><span style="color: #007700">,</span><span style="color: #0000BB">7</span><span style="color: #007700">) || !</span><span style="color: #0000BB">strncasecmp</span><span style="color: #007700">(</span><span style="color: #0000BB">$pattern</span><span style="color: #007700">,</span><span style="color: #DD0000">'https://'</span><span style="color: #007700">,</span><span style="color: #0000BB">8</span><span style="color: #007700">);<br><br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">verb</span><span style="color: #007700">!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">verb</span><span style="color: #007700">=</span><span style="color: #0000BB">preg_split</span><span style="color: #007700">(</span><span style="color: #DD0000">'/[\s,]+/'</span><span style="color: #007700">,</span><span style="color: #0000BB">strtoupper</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">verb</span><span style="color: #007700">),-</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">PREG_SPLIT_NO_EMPTY</span><span style="color: #007700">);<br><br>    if(</span><span style="color: #0000BB">preg_match_all</span><span style="color: #007700">(</span><span style="color: #DD0000">'/&lt;(\w+):?(.*?)?&gt;/'</span><span style="color: #007700">,</span><span style="color: #0000BB">$pattern</span><span style="color: #007700">,</span><span style="color: #0000BB">$matches</span><span style="color: #007700">))<br>    {<br>        </span><span style="color: #0000BB">$tokens</span><span style="color: #007700">=</span><span style="color: #0000BB">array_combine</span><span style="color: #007700">(</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">],</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">]);<br>        foreach(</span><span style="color: #0000BB">$tokens </span><span style="color: #007700">as </span><span style="color: #0000BB">$name</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>        {<br>            if(</span><span style="color: #0000BB">$value</span><span style="color: #007700">===</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br>                </span><span style="color: #0000BB">$value</span><span style="color: #007700">=</span><span style="color: #DD0000">'[^\/]+'</span><span style="color: #007700">;<br>            </span><span style="color: #0000BB">$tr</span><span style="color: #007700">[</span><span style="color: #DD0000">"&lt;</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">&gt;"</span><span style="color: #007700">]=</span><span style="color: #DD0000">"(?P&lt;</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">&gt;</span><span style="color: #0000BB">$value</span><span style="color: #DD0000">)"</span><span style="color: #007700">;<br>            if(isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">references</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]))<br>                </span><span style="color: #0000BB">$tr2</span><span style="color: #007700">[</span><span style="color: #DD0000">"&lt;</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">&gt;"</span><span style="color: #007700">]=</span><span style="color: #0000BB">$tr</span><span style="color: #007700">[</span><span style="color: #DD0000">"&lt;</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">&gt;"</span><span style="color: #007700">];<br>            else<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]=</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br>        }<br>    }<br>    </span><span style="color: #0000BB">$p</span><span style="color: #007700">=</span><span style="color: #0000BB">rtrim</span><span style="color: #007700">(</span><span style="color: #0000BB">$pattern</span><span style="color: #007700">,</span><span style="color: #DD0000">'*'</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">append</span><span style="color: #007700">=</span><span style="color: #0000BB">$p</span><span style="color: #007700">!==</span><span style="color: #0000BB">$pattern</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$p</span><span style="color: #007700">=</span><span style="color: #0000BB">trim</span><span style="color: #007700">(</span><span style="color: #0000BB">$p</span><span style="color: #007700">,</span><span style="color: #DD0000">'/'</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">template</span><span style="color: #007700">=</span><span style="color: #0000BB">preg_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'/&lt;(\w+):?.*?&gt;/'</span><span style="color: #007700">,</span><span style="color: #DD0000">'&lt;$1&gt;'</span><span style="color: #007700">,</span><span style="color: #0000BB">$p</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$p</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">template</span><span style="color: #007700">;<br>    if(!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">parsingOnly</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$p</span><span style="color: #007700">=</span><span style="color: #0000BB">preg_replace_callback</span><span style="color: #007700">(</span><span style="color: #DD0000">'/(?&lt;=^|&gt;)[^&lt;]+(?=&lt;|$)/'</span><span style="color: #007700">,array(</span><span style="color: #0000BB">$this</span><span style="color: #007700">,</span><span style="color: #DD0000">'escapeRegexpSpecialChars'</span><span style="color: #007700">),</span><span style="color: #0000BB">$p</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">pattern</span><span style="color: #007700">=</span><span style="color: #DD0000">'/^'</span><span style="color: #007700">.</span><span style="color: #0000BB">strtr</span><span style="color: #007700">(</span><span style="color: #0000BB">$p</span><span style="color: #007700">,</span><span style="color: #0000BB">$tr</span><span style="color: #007700">).</span><span style="color: #DD0000">'\/'</span><span style="color: #007700">;<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">append</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">pattern</span><span style="color: #007700">.=</span><span style="color: #DD0000">'/u'</span><span style="color: #007700">;<br>    else<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">pattern</span><span style="color: #007700">.=</span><span style="color: #DD0000">'$/u'</span><span style="color: #007700">;<br><br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">references</span><span style="color: #007700">!==array())<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">routePattern</span><span style="color: #007700">=</span><span style="color: #DD0000">'/^'</span><span style="color: #007700">.</span><span style="color: #0000BB">strtr</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">route</span><span style="color: #007700">,</span><span style="color: #0000BB">$tr2</span><span style="color: #007700">).</span><span style="color: #DD0000">'$/u'</span><span style="color: #007700">;<br><br>    if(</span><span style="color: #0000BB">YII_DEBUG </span><span style="color: #007700">&amp;&amp; @</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">pattern</span><span style="color: #007700">,</span><span style="color: #DD0000">'test'</span><span style="color: #007700">)===</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>        throw new </span><span style="color: #0000BB">CException</span><span style="color: #007700">(</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">t</span><span style="color: #007700">(</span><span style="color: #DD0000">'yii'</span><span style="color: #007700">,</span><span style="color: #DD0000">'The URL pattern "{pattern}" for route "{route}" is not a valid regular expression.'</span><span style="color: #007700">,<br>            array(</span><span style="color: #DD0000">'{route}'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$route</span><span style="color: #007700">,</span><span style="color: #DD0000">'{pattern}'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$pattern</span><span style="color: #007700">)));<br>}</span></pre> </div> <p>Constructor.</p> <h3 class="detailHeader" id="createUrl-detail"> createUrl() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public mixed <b>createUrl</b>(<a href="curlmanager">CUrlManager</a> $manager, string $route, array $params, string $ampersand)</pre> </td></tr> <tr> <td class="paramNameCol">$manager</td> <td class="paramTypeCol"><a href="curlmanager">CUrlManager</a></td> <td class="paramDescCol">the manager</td> </tr> <tr> <td class="paramNameCol">$route</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the route</td> </tr> <tr> <td class="paramNameCol">$params</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">list of parameters</td> </tr> <tr> <td class="paramNameCol">$ampersand</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the token separating name-value pairs in the URL.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the constructed URL or false on error</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CUrlManager.php#L728">framework/web/CUrlManager.php#728</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">createUrl</span><span style="color: #007700">(</span><span style="color: #0000BB">$manager</span><span style="color: #007700">,</span><span style="color: #0000BB">$route</span><span style="color: #007700">,</span><span style="color: #0000BB">$params</span><span style="color: #007700">,</span><span style="color: #0000BB">$ampersand</span><span style="color: #007700">)<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">parsingOnly</span><span style="color: #007700">)<br>        return </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br><br>    if(</span><span style="color: #0000BB">$manager</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">caseSensitive </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">caseSensitive</span><span style="color: #007700">===</span><span style="color: #0000BB">null </span><span style="color: #007700">|| </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">caseSensitive</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$case</span><span style="color: #007700">=</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br>    else<br>        </span><span style="color: #0000BB">$case</span><span style="color: #007700">=</span><span style="color: #DD0000">'i'</span><span style="color: #007700">;<br><br>    </span><span style="color: #0000BB">$tr</span><span style="color: #007700">=array();<br>    if(</span><span style="color: #0000BB">$route</span><span style="color: #007700">!==</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">route</span><span style="color: #007700">)<br>    {<br>        if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">routePattern</span><span style="color: #007700">!==</span><span style="color: #0000BB">null </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">routePattern</span><span style="color: #007700">.</span><span style="color: #0000BB">$case</span><span style="color: #007700">,</span><span style="color: #0000BB">$route</span><span style="color: #007700">,</span><span style="color: #0000BB">$matches</span><span style="color: #007700">))<br>        {<br>            foreach(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">references </span><span style="color: #007700">as </span><span style="color: #0000BB">$key</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$name</span><span style="color: #007700">)<br>                </span><span style="color: #0000BB">$tr</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]=</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">];<br>        }<br>        else<br>            return </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>    }<br><br>    foreach(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">defaultParams </span><span style="color: #007700">as </span><span style="color: #0000BB">$key</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>    {<br>        if(isset(</span><span style="color: #0000BB">$params</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">]))<br>        {<br>            if(</span><span style="color: #0000BB">$params</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">]==</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>                unset(</span><span style="color: #0000BB">$params</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">]);<br>            else<br>                return </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>        }<br>    }<br><br>    foreach(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params </span><span style="color: #007700">as </span><span style="color: #0000BB">$key</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>        if(!isset(</span><span style="color: #0000BB">$params</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">]))<br>            return </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br><br>    if(</span><span style="color: #0000BB">$manager</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">matchValue </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">matchValue</span><span style="color: #007700">===</span><span style="color: #0000BB">null </span><span style="color: #007700">|| </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">matchValue</span><span style="color: #007700">)<br>    {<br>        foreach(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params </span><span style="color: #007700">as </span><span style="color: #0000BB">$key</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>        {<br>            if(!</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/\A'</span><span style="color: #007700">.</span><span style="color: #0000BB">$value</span><span style="color: #007700">.</span><span style="color: #DD0000">'\z/u'</span><span style="color: #007700">.</span><span style="color: #0000BB">$case</span><span style="color: #007700">,</span><span style="color: #0000BB">$params</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">]))<br>                return </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>        }<br>    }<br><br>    foreach(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params </span><span style="color: #007700">as </span><span style="color: #0000BB">$key</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$tr</span><span style="color: #007700">[</span><span style="color: #DD0000">"&lt;</span><span style="color: #0000BB">$key</span><span style="color: #DD0000">&gt;"</span><span style="color: #007700">]=</span><span style="color: #0000BB">urlencode</span><span style="color: #007700">(</span><span style="color: #0000BB">$params</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">]);<br>        unset(</span><span style="color: #0000BB">$params</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">]);<br>    }<br><br>    </span><span style="color: #0000BB">$suffix</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">urlSuffix</span><span style="color: #007700">===</span><span style="color: #0000BB">null </span><span style="color: #007700">? </span><span style="color: #0000BB">$manager</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">urlSuffix </span><span style="color: #007700">: </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">urlSuffix</span><span style="color: #007700">;<br><br>    </span><span style="color: #0000BB">$url</span><span style="color: #007700">=</span><span style="color: #0000BB">strtr</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">template</span><span style="color: #007700">,</span><span style="color: #0000BB">$tr</span><span style="color: #007700">);<br><br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">hasHostInfo</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$hostInfo</span><span style="color: #007700">=</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getRequest</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getHostInfo</span><span style="color: #007700">();<br>        if(</span><span style="color: #0000BB">stripos</span><span style="color: #007700">(</span><span style="color: #0000BB">$url</span><span style="color: #007700">,</span><span style="color: #0000BB">$hostInfo</span><span style="color: #007700">)===</span><span style="color: #0000BB">0</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$url</span><span style="color: #007700">=</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$url</span><span style="color: #007700">,</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$hostInfo</span><span style="color: #007700">));<br>    }<br><br>    if(empty(</span><span style="color: #0000BB">$params</span><span style="color: #007700">))<br>        return </span><span style="color: #0000BB">$url</span><span style="color: #007700">!==</span><span style="color: #DD0000">'' </span><span style="color: #007700">? </span><span style="color: #0000BB">$url</span><span style="color: #007700">.</span><span style="color: #0000BB">$suffix </span><span style="color: #007700">: </span><span style="color: #0000BB">$url</span><span style="color: #007700">;<br><br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">append</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$url</span><span style="color: #007700">.=</span><span style="color: #DD0000">'/'</span><span style="color: #007700">.</span><span style="color: #0000BB">$manager</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">createPathInfo</span><span style="color: #007700">(</span><span style="color: #0000BB">$params</span><span style="color: #007700">,</span><span style="color: #DD0000">'/'</span><span style="color: #007700">,</span><span style="color: #DD0000">'/'</span><span style="color: #007700">).</span><span style="color: #0000BB">$suffix</span><span style="color: #007700">;<br>    else<br>    {<br>        if(</span><span style="color: #0000BB">$url</span><span style="color: #007700">!==</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$url</span><span style="color: #007700">.=</span><span style="color: #0000BB">$suffix</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$url</span><span style="color: #007700">.=</span><span style="color: #DD0000">'?'</span><span style="color: #007700">.</span><span style="color: #0000BB">$manager</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">createPathInfo</span><span style="color: #007700">(</span><span style="color: #0000BB">$params</span><span style="color: #007700">,</span><span style="color: #DD0000">'='</span><span style="color: #007700">,</span><span style="color: #0000BB">$ampersand</span><span style="color: #007700">);<br>    }<br><br>    return </span><span style="color: #0000BB">$url</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Creates a URL based on this rule.</p> <h3 class="detailHeader" id="escapeRegexpSpecialChars-detail"> escapeRegexpSpecialChars() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected void <b>escapeRegexpSpecialChars</b>($matches)</pre> </td></tr> <tr> <td class="paramNameCol">$matches</td> <td class="paramTypeCol"></td> <td class="paramDescCol"></td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CUrlManager.php#L646">framework/web/CUrlManager.php#646</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">escapeRegexpSpecialChars</span><span style="color: #007700">(</span><span style="color: #0000BB">$matches</span><span style="color: #007700">)<br>{<br>    return </span><span style="color: #0000BB">preg_quote</span><span style="color: #007700">(</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]);<br>}</span></pre> </div> <p>Callback for preg_replace_callback in counstructor</p> <h3 class="detailHeader" id="parseUrl-detail"> parseUrl() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public mixed <b>parseUrl</b>(<a href="curlmanager">CUrlManager</a> $manager, <a href="chttprequest">CHttpRequest</a> $request, string $pathInfo, string $rawPathInfo)</pre> </td></tr> <tr> <td class="paramNameCol">$manager</td> <td class="paramTypeCol"><a href="curlmanager">CUrlManager</a></td> <td class="paramDescCol">the URL manager</td> </tr> <tr> <td class="paramNameCol">$request</td> <td class="paramTypeCol"><a href="chttprequest">CHttpRequest</a></td> <td class="paramDescCol">the request object</td> </tr> <tr> <td class="paramNameCol">$pathInfo</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">path info part of the URL</td> </tr> <tr> <td class="paramNameCol">$rawPathInfo</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">path info that contains the potential URL suffix</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the route that consists of the controller ID and action ID or false on error</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CUrlManager.php#L814">framework/web/CUrlManager.php#814</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">parseUrl</span><span style="color: #007700">(</span><span style="color: #0000BB">$manager</span><span style="color: #007700">,</span><span style="color: #0000BB">$request</span><span style="color: #007700">,</span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">,</span><span style="color: #0000BB">$rawPathInfo</span><span style="color: #007700">)<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">verb</span><span style="color: #007700">!==</span><span style="color: #0000BB">null </span><span style="color: #007700">&amp;&amp; !</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$request</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getRequestType</span><span style="color: #007700">(), </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">verb</span><span style="color: #007700">, </span><span style="color: #0000BB">true</span><span style="color: #007700">))<br>        return </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br><br>    if(</span><span style="color: #0000BB">$manager</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">caseSensitive </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">caseSensitive</span><span style="color: #007700">===</span><span style="color: #0000BB">null </span><span style="color: #007700">|| </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">caseSensitive</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$case</span><span style="color: #007700">=</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br>    else<br>        </span><span style="color: #0000BB">$case</span><span style="color: #007700">=</span><span style="color: #DD0000">'i'</span><span style="color: #007700">;<br><br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">urlSuffix</span><span style="color: #007700">!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">=</span><span style="color: #0000BB">$manager</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">removeUrlSuffix</span><span style="color: #007700">(</span><span style="color: #0000BB">$rawPathInfo</span><span style="color: #007700">,</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">urlSuffix</span><span style="color: #007700">);<br><br>    </span><span style="color: #FF8000">// URL suffix required, but not found in the requested URL<br>    </span><span style="color: #007700">if(</span><span style="color: #0000BB">$manager</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">useStrictParsing </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">===</span><span style="color: #0000BB">$rawPathInfo</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$urlSuffix</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">urlSuffix</span><span style="color: #007700">===</span><span style="color: #0000BB">null </span><span style="color: #007700">? </span><span style="color: #0000BB">$manager</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">urlSuffix </span><span style="color: #007700">: </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">urlSuffix</span><span style="color: #007700">;<br>        if(</span><span style="color: #0000BB">$urlSuffix</span><span style="color: #007700">!=</span><span style="color: #DD0000">'' </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">$urlSuffix</span><span style="color: #007700">!==</span><span style="color: #DD0000">'/'</span><span style="color: #007700">)<br>            return </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>    }<br><br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">hasHostInfo</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">=</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$request</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getHostInfo</span><span style="color: #007700">()).</span><span style="color: #0000BB">rtrim</span><span style="color: #007700">(</span><span style="color: #DD0000">'/'</span><span style="color: #007700">.</span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">,</span><span style="color: #DD0000">'/'</span><span style="color: #007700">);<br><br>    </span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">.=</span><span style="color: #DD0000">'/'</span><span style="color: #007700">;<br><br>    if(</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">pattern</span><span style="color: #007700">.</span><span style="color: #0000BB">$case</span><span style="color: #007700">,</span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">,</span><span style="color: #0000BB">$matches</span><span style="color: #007700">))<br>    {<br>        foreach(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">defaultParams </span><span style="color: #007700">as </span><span style="color: #0000BB">$name</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>        {<br>            if(!isset(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]))<br>                </span><span style="color: #0000BB">$_REQUEST</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]=</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]=</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br>        }<br>        </span><span style="color: #0000BB">$tr</span><span style="color: #007700">=array();<br>        foreach(</span><span style="color: #0000BB">$matches </span><span style="color: #007700">as </span><span style="color: #0000BB">$key</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>        {<br>            if(isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">references</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">]))<br>                </span><span style="color: #0000BB">$tr</span><span style="color: #007700">[</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">references</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">]]=</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br>            elseif(isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">params</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">]))<br>                </span><span style="color: #0000BB">$_REQUEST</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">]=</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">]=</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br>        }<br>        if(</span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">!==</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]) </span><span style="color: #FF8000">// there're additional GET params<br>            </span><span style="color: #0000BB">$manager</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">parsePathInfo</span><span style="color: #007700">(</span><span style="color: #0000BB">ltrim</span><span style="color: #007700">(</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">,</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">])),</span><span style="color: #DD0000">'/'</span><span style="color: #007700">));<br>        if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">routePattern</span><span style="color: #007700">!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>            return </span><span style="color: #0000BB">strtr</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">route</span><span style="color: #007700">,</span><span style="color: #0000BB">$tr</span><span style="color: #007700">);<br>        else<br>            return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">route</span><span style="color: #007700">;<br>    }<br>    else<br>        return </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Parses a URL based on this rule.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2008–2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc/api/1.1/CUrlRule" class="_attribution-link">http://www.yiiframework.com/doc/api/1.1/CUrlRule</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
