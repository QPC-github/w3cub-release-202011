
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>CFileLogRoute - Yii 1.1 - W3cubDocs</title>
  
  <meta name="description" content=" log file name. Defaults to &#39;application.log&#39;. ">
  <meta name="keywords" content="cfilelogroute, yii, yii~1.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/yii~1.1/cfilelogroute.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/yii~1.1.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/yii~1.1/" class="_nav-link" title="" style="margin-left:0;">Yii 1.1</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _yii">
				
				
<h1>CFileLogRoute</h1>  <table class="summaryTable docClass"> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr> <th>Package</th> <td><a href="index#system.logging">system.logging</a></td> </tr> <tr> <th>Inheritance</th> <td>class CFileLogRoute » <a href="clogroute">CLogRoute</a> » <a href="ccomponent">CComponent</a>
</td> </tr> <tr> <th>Since</th> <td>1.0</td> </tr> <tr> <th>Source Code</th> <td><a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/logging/CFileLogRoute.php">framework/logging/CFileLogRoute.php</a></td> </tr> </table> <div id="classDescription"> CFileLogRoute records log messages in files. <br><br> The log files are stored under <a href="cfilelogroute#setLogPath">logPath</a> and the file name is specified by <a href="cfilelogroute#setLogFile">logFile</a>. If the size of the log file is greater than <a href="cfilelogroute#setMaxFileSize">maxFileSize</a> (in kilo-bytes), a rotation is performed, which renames the current log file by suffixing the file name with '.1'. All existing log files are moved backwards one place, i.e., '.2' to '.3', '.1' to '.2'. The property <a href="cfilelogroute#setMaxLogFiles">maxLogFiles</a> specifies how many files to be kept. If the property <a href="cfilelogroute#rotateByCopy">rotateByCopy</a> is true, the primary log file will be rotated by a copy and truncated (to be more compatible with log tailers) otherwise it will be rotated by being renamed.</div>  <div class="summary docProperty"> <h2>Public Properties</h2>  <table class="summaryTable"> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr class="inherited" id="categories"> <td><a href="clogroute#categories-detail">categories</a></td> <td>mixed</td> <td>array of categories, or string list separated by comma or space.</td> <td><a href="clogroute">CLogRoute</a></td> </tr> <tr class="inherited" id="enabled"> <td><a href="clogroute#enabled-detail">enabled</a></td> <td>boolean</td> <td>whether to enable this log route.</td> <td><a href="clogroute">CLogRoute</a></td> </tr> <tr class="inherited" id="except"> <td><a href="clogroute#except-detail">except</a></td> <td>mixed</td> <td>array of categories, or string list separated by comma or space, to EXCLUDE from logs.</td> <td><a href="clogroute">CLogRoute</a></td> </tr> <tr class="inherited" id="filter"> <td><a href="clogroute#filter-detail">filter</a></td> <td>mixed</td> <td>the additional filter (eg <a href="clogfilter">CLogFilter</a>) that can be applied to the log messages.</td> <td><a href="clogroute">CLogRoute</a></td> </tr> <tr class="inherited" id="levels"> <td><a href="clogroute#levels-detail">levels</a></td> <td>string</td> <td>list of levels separated by comma or space.</td> <td><a href="clogroute">CLogRoute</a></td> </tr> <tr id="logFile"> <td><a href="cfilelogroute#logFile-detail">logFile</a></td> <td>string</td> <td>log file name.</td> <td>CFileLogRoute</td> </tr> <tr id="logPath"> <td><a href="cfilelogroute#logPath-detail">logPath</a></td> <td>string</td> <td>directory storing log files.</td> <td>CFileLogRoute</td> </tr> <tr class="inherited" id="logs"> <td><a href="clogroute#logs-detail">logs</a></td> <td>array</td> <td>the logs that are collected so far by this log route.</td> <td><a href="clogroute">CLogRoute</a></td> </tr> <tr id="maxFileSize"> <td><a href="cfilelogroute#maxFileSize-detail">maxFileSize</a></td> <td>integer</td> <td>maximum log file size in kilo-bytes (KB).</td> <td>CFileLogRoute</td> </tr> <tr id="maxLogFiles"> <td><a href="cfilelogroute#maxLogFiles-detail">maxLogFiles</a></td> <td>integer</td> <td>number of files used for rotation.</td> <td>CFileLogRoute</td> </tr> <tr id="rotateByCopy"> <td><a href="cfilelogroute#rotateByCopy-detail">rotateByCopy</a></td> <td>boolean</td> <td>Whether to rotate primary log by copy and truncate which is more compatible with log tailers.</td> <td>CFileLogRoute</td> </tr> </table> </div>  <div class="summary docMethod"> <h2>Public Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr class="inherited" id="__call"> <td><a href="ccomponent#__call-detail">__call()</a></td> <td>Calls the named method which is not a class method.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__get"> <td><a href="ccomponent#__get-detail">__get()</a></td> <td>Returns a property value, an event handler list or a behavior based on its name.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__isset"> <td><a href="ccomponent#__isset-detail">__isset()</a></td> <td>Checks if a property value is null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__set"> <td><a href="ccomponent#__set-detail">__set()</a></td> <td>Sets value of a component property.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__unset"> <td><a href="ccomponent#__unset-detail">__unset()</a></td> <td>Sets a component property to be null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="asa"> <td><a href="ccomponent#asa-detail">asa()</a></td> <td>Returns the named behavior object.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehavior"> <td><a href="ccomponent#attachBehavior-detail">attachBehavior()</a></td> <td>Attaches a behavior to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehaviors"> <td><a href="ccomponent#attachBehaviors-detail">attachBehaviors()</a></td> <td>Attaches a list of behaviors to the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachEventHandler"> <td><a href="ccomponent#attachEventHandler-detail">attachEventHandler()</a></td> <td>Attaches an event handler to an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="canGetProperty"> <td><a href="ccomponent#canGetProperty-detail">canGetProperty()</a></td> <td>Determines whether a property can be read.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="canSetProperty"> <td><a href="ccomponent#canSetProperty-detail">canSetProperty()</a></td> <td>Determines whether a property can be set.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="collectLogs"> <td><a href="clogroute#collectLogs-detail">collectLogs()</a></td> <td>Retrieves filtered log messages from logger for further processing.</td> <td><a href="clogroute">CLogRoute</a></td> </tr> <tr class="inherited" id="detachBehavior"> <td><a href="ccomponent#detachBehavior-detail">detachBehavior()</a></td> <td>Detaches a behavior from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachBehaviors"> <td><a href="ccomponent#detachBehaviors-detail">detachBehaviors()</a></td> <td>Detaches all behaviors from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachEventHandler"> <td><a href="ccomponent#detachEventHandler-detail">detachEventHandler()</a></td> <td>Detaches an existing event handler.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehavior"> <td><a href="ccomponent#disableBehavior-detail">disableBehavior()</a></td> <td>Disables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehaviors"> <td><a href="ccomponent#disableBehaviors-detail">disableBehaviors()</a></td> <td>Disables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehavior"> <td><a href="ccomponent#enableBehavior-detail">enableBehavior()</a></td> <td>Enables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehaviors"> <td><a href="ccomponent#enableBehaviors-detail">enableBehaviors()</a></td> <td>Enables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="evaluateExpression"> <td><a href="ccomponent#evaluateExpression-detail">evaluateExpression()</a></td> <td>Evaluates a PHP expression or callback under the context of this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="getEventHandlers"> <td><a href="ccomponent#getEventHandlers-detail">getEventHandlers()</a></td> <td>Returns the list of attached event handlers for an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="getLogFile"> <td><a href="cfilelogroute#getLogFile-detail">getLogFile()</a></td> <td>Returns log file name. Defaults to 'application.log'.</td> <td>CFileLogRoute</td> </tr> <tr id="getLogPath"> <td><a href="cfilelogroute#getLogPath-detail">getLogPath()</a></td> <td>Returns directory storing log files. Defaults to application runtime path.</td> <td>CFileLogRoute</td> </tr> <tr id="getMaxFileSize"> <td><a href="cfilelogroute#getMaxFileSize-detail">getMaxFileSize()</a></td> <td>Returns maximum log file size in kilo-bytes (KB). Defaults to 1024 (1MB).</td> <td>CFileLogRoute</td> </tr> <tr id="getMaxLogFiles"> <td><a href="cfilelogroute#getMaxLogFiles-detail">getMaxLogFiles()</a></td> <td>Returns number of files used for rotation. Defaults to 5.</td> <td>CFileLogRoute</td> </tr> <tr class="inherited" id="hasEvent"> <td><a href="ccomponent#hasEvent-detail">hasEvent()</a></td> <td>Determines whether an event is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasEventHandler"> <td><a href="ccomponent#hasEventHandler-detail">hasEventHandler()</a></td> <td>Checks whether the named event has attached handlers.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasProperty"> <td><a href="ccomponent#hasProperty-detail">hasProperty()</a></td> <td>Determines whether a property is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="init"> <td><a href="cfilelogroute#init-detail">init()</a></td> <td>Initializes the route.</td> <td>CFileLogRoute</td> </tr> <tr class="inherited" id="raiseEvent"> <td><a href="ccomponent#raiseEvent-detail">raiseEvent()</a></td> <td>Raises an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="setLogFile"> <td><a href="cfilelogroute#setLogFile-detail">setLogFile()</a></td> <td>Sets log file name</td> <td>CFileLogRoute</td> </tr> <tr id="setLogPath"> <td><a href="cfilelogroute#setLogPath-detail">setLogPath()</a></td> <td>Sets directory for storing log files.</td> <td>CFileLogRoute</td> </tr> <tr id="setMaxFileSize"> <td><a href="cfilelogroute#setMaxFileSize-detail">setMaxFileSize()</a></td> <td>Sets maximum log file size in kilo-bytes (KB).</td> <td>CFileLogRoute</td> </tr> <tr id="setMaxLogFiles"> <td><a href="cfilelogroute#setMaxLogFiles-detail">setMaxLogFiles()</a></td> <td>Sets number of files used for rotation.</td> <td>CFileLogRoute</td> </tr> </table> </div> <div class="summary docMethod"> <h2>Protected Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr class="inherited" id="formatLogMessage"> <td><a href="clogroute#formatLogMessage-detail">formatLogMessage()</a></td> <td>Formats a log message given different fields.</td> <td><a href="clogroute">CLogRoute</a></td> </tr> <tr id="processLogs"> <td><a href="cfilelogroute#processLogs-detail">processLogs()</a></td> <td>Saves log messages in files.</td> <td>CFileLogRoute</td> </tr> <tr id="rotateFiles"> <td><a href="cfilelogroute#rotateFiles-detail">rotateFiles()</a></td> <td>Rotates log files.</td> <td>CFileLogRoute</td> </tr> </table> </div>  <h2>Property Details</h2> <h3 class="detailHeader" id="logFile-detail"> logFile<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <a href="cfilelogroute#getLogFile"><b>getLogFile</b></a>()<br>public void <a href="cfilelogroute#setLogFile"><b>setLogFile</b></a>(string $value)</pre> <p>log file name. Defaults to 'application.log'.</p> <h3 class="detailHeader" id="logPath-detail"> logPath<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <a href="cfilelogroute#getLogPath"><b>getLogPath</b></a>()<br>public void <a href="cfilelogroute#setLogPath"><b>setLogPath</b></a>(string $value)</pre> <p>directory storing log files. Defaults to application runtime path.</p> <h3 class="detailHeader" id="maxFileSize-detail"> maxFileSize<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public integer <a href="cfilelogroute#getMaxFileSize"><b>getMaxFileSize</b></a>()<br>public void <a href="cfilelogroute#setMaxFileSize"><b>setMaxFileSize</b></a>(integer $value)</pre> <p>maximum log file size in kilo-bytes (KB). Defaults to 1024 (1MB).</p> <h3 class="detailHeader" id="maxLogFiles-detail"> maxLogFiles<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public integer <a href="cfilelogroute#getMaxLogFiles"><b>getMaxLogFiles</b></a>()<br>public void <a href="cfilelogroute#setMaxLogFiles"><b>setMaxLogFiles</b></a>(integer $value)</pre> <p>number of files used for rotation. Defaults to 5.</p> <h3 class="detailHeader" id="rotateByCopy-detail"> rotateByCopy<span class="detailHeaderTag"> property (available since v1.1.14) </span> </h3> <pre class="signature">public boolean <b>$rotateByCopy</b>;</pre> <p>Whether to rotate primary log by copy and truncate which is more compatible with log tailers. Defaults to false.</p> <h2>Method Details</h2> <h3 class="detailHeader" id="getLogFile-detail"> getLogFile() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getLogFile</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">log file name. Defaults to 'application.log'.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/logging/CFileLogRoute.php#L93">framework/logging/CFileLogRoute.php#93</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getLogFile</span><span style="color: #007700">()<br>{<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_logFile</span><span style="color: #007700">;<br>}</span></pre> </div>  <h3 class="detailHeader" id="getLogPath-detail"> getLogPath() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getLogPath</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">directory storing log files. Defaults to application runtime path.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/logging/CFileLogRoute.php#L73">framework/logging/CFileLogRoute.php#73</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getLogPath</span><span style="color: #007700">()<br>{<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_logPath</span><span style="color: #007700">;<br>}</span></pre> </div>  <h3 class="detailHeader" id="getMaxFileSize-detail"> getMaxFileSize() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public integer <b>getMaxFileSize</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">maximum log file size in kilo-bytes (KB). Defaults to 1024 (1MB).</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/logging/CFileLogRoute.php#L109">framework/logging/CFileLogRoute.php#109</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getMaxFileSize</span><span style="color: #007700">()<br>{<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_maxFileSize</span><span style="color: #007700">;<br>}</span></pre> </div>  <h3 class="detailHeader" id="getMaxLogFiles-detail"> getMaxLogFiles() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public integer <b>getMaxLogFiles</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">number of files used for rotation. Defaults to 5.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/logging/CFileLogRoute.php#L126">framework/logging/CFileLogRoute.php#126</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getMaxLogFiles</span><span style="color: #007700">()<br>{<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_maxLogFiles</span><span style="color: #007700">;<br>}</span></pre> </div>  <h3 class="detailHeader" id="init-detail"> init() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>init</b>()</pre> </td></tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/logging/CFileLogRoute.php#L63">framework/logging/CFileLogRoute.php#63</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">init</span><span style="color: #007700">()<br>{<br>    </span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">init</span><span style="color: #007700">();<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getLogPath</span><span style="color: #007700">()===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setLogPath</span><span style="color: #007700">(</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getRuntimePath</span><span style="color: #007700">());<br>}</span></pre> </div> <p>Initializes the route. This method is invoked after the route is created by the route manager.</p> <h3 class="detailHeader" id="processLogs-detail"> processLogs() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected void <b>processLogs</b>(array $logs)</pre> </td></tr> <tr> <td class="paramNameCol">$logs</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">list of log messages</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/logging/CFileLogRoute.php#L144">framework/logging/CFileLogRoute.php#144</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">processLogs</span><span style="color: #007700">(</span><span style="color: #0000BB">$logs</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$text</span><span style="color: #007700">=</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br>    foreach(</span><span style="color: #0000BB">$logs </span><span style="color: #007700">as </span><span style="color: #0000BB">$log</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$text</span><span style="color: #007700">.=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">formatLogMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">$log</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">],</span><span style="color: #0000BB">$log</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">],</span><span style="color: #0000BB">$log</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">],</span><span style="color: #0000BB">$log</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">]);<br><br>    </span><span style="color: #0000BB">$logFile</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getLogPath</span><span style="color: #007700">().</span><span style="color: #0000BB">DIRECTORY_SEPARATOR</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getLogFile</span><span style="color: #007700">();<br>    </span><span style="color: #0000BB">$fp</span><span style="color: #007700">=@</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #0000BB">$logFile</span><span style="color: #007700">,</span><span style="color: #DD0000">'a'</span><span style="color: #007700">);<br>    @</span><span style="color: #0000BB">flock</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,</span><span style="color: #0000BB">LOCK_EX</span><span style="color: #007700">);<br>    if(@</span><span style="color: #0000BB">filesize</span><span style="color: #007700">(</span><span style="color: #0000BB">$logFile</span><span style="color: #007700">)&gt;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMaxFileSize</span><span style="color: #007700">()*</span><span style="color: #0000BB">1024</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">rotateFiles</span><span style="color: #007700">();<br>        @</span><span style="color: #0000BB">flock</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,</span><span style="color: #0000BB">LOCK_UN</span><span style="color: #007700">);<br>        @</span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">);<br>        @</span><span style="color: #0000BB">file_put_contents</span><span style="color: #007700">(</span><span style="color: #0000BB">$logFile</span><span style="color: #007700">,</span><span style="color: #0000BB">$text</span><span style="color: #007700">,</span><span style="color: #0000BB">FILE_APPEND</span><span style="color: #007700">|</span><span style="color: #0000BB">LOCK_EX</span><span style="color: #007700">);<br>    }<br>    else<br>    {<br>        @</span><span style="color: #0000BB">fwrite</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,</span><span style="color: #0000BB">$text</span><span style="color: #007700">);<br>        @</span><span style="color: #0000BB">flock</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,</span><span style="color: #0000BB">LOCK_UN</span><span style="color: #007700">);<br>        @</span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">);<br>    }<br>}</span></pre> </div> <p>Saves log messages in files.</p> <h3 class="detailHeader" id="rotateFiles-detail"> rotateFiles() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected void <b>rotateFiles</b>()</pre> </td></tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/logging/CFileLogRoute.php#L171">framework/logging/CFileLogRoute.php#171</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">rotateFiles</span><span style="color: #007700">()<br>{<br>    </span><span style="color: #0000BB">$file</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getLogPath</span><span style="color: #007700">().</span><span style="color: #0000BB">DIRECTORY_SEPARATOR</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getLogFile</span><span style="color: #007700">();<br>    </span><span style="color: #0000BB">$max</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMaxLogFiles</span><span style="color: #007700">();<br>    for(</span><span style="color: #0000BB">$i</span><span style="color: #007700">=</span><span style="color: #0000BB">$max</span><span style="color: #007700">;</span><span style="color: #0000BB">$i</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">0</span><span style="color: #007700">;--</span><span style="color: #0000BB">$i</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$rotateFile</span><span style="color: #007700">=</span><span style="color: #0000BB">$file</span><span style="color: #007700">.</span><span style="color: #DD0000">'.'</span><span style="color: #007700">.</span><span style="color: #0000BB">$i</span><span style="color: #007700">;<br>        if(</span><span style="color: #0000BB">is_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$rotateFile</span><span style="color: #007700">))<br>        {<br>            </span><span style="color: #FF8000">// suppress errors because it's possible multiple processes enter into this section<br>            </span><span style="color: #007700">if(</span><span style="color: #0000BB">$i</span><span style="color: #007700">===</span><span style="color: #0000BB">$max</span><span style="color: #007700">)<br>                @</span><span style="color: #0000BB">unlink</span><span style="color: #007700">(</span><span style="color: #0000BB">$rotateFile</span><span style="color: #007700">);<br>            else<br>                @</span><span style="color: #0000BB">rename</span><span style="color: #007700">(</span><span style="color: #0000BB">$rotateFile</span><span style="color: #007700">,</span><span style="color: #0000BB">$file</span><span style="color: #007700">.</span><span style="color: #DD0000">'.'</span><span style="color: #007700">.(</span><span style="color: #0000BB">$i</span><span style="color: #007700">+</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br>        }<br>    }<br>    if(</span><span style="color: #0000BB">is_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">))<br>    {<br>        </span><span style="color: #FF8000">// suppress errors because it's possible multiple processes enter into this section<br>        </span><span style="color: #007700">if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">rotateByCopy</span><span style="color: #007700">)<br>        {<br>            @</span><span style="color: #0000BB">copy</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">,</span><span style="color: #0000BB">$file</span><span style="color: #007700">.</span><span style="color: #DD0000">'.1'</span><span style="color: #007700">);<br>            if(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">=@</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">,</span><span style="color: #DD0000">'a'</span><span style="color: #007700">))<br>            {<br>                @</span><span style="color: #0000BB">ftruncate</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br>                @</span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">);<br>            }<br>        }<br>        else<br>            @</span><span style="color: #0000BB">rename</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">,</span><span style="color: #0000BB">$file</span><span style="color: #007700">.</span><span style="color: #DD0000">'.1'</span><span style="color: #007700">);<br>    }<br>    </span><span style="color: #FF8000">// clear stat cache after moving files so later file size check is not cached<br>    </span><span style="color: #0000BB">clearstatcache</span><span style="color: #007700">();<br>}</span></pre> </div> <p>Rotates log files.</p> <h3 class="detailHeader" id="setLogFile-detail"> setLogFile() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>setLogFile</b>(string $value)</pre> </td></tr> <tr> <td class="paramNameCol">$value</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">log file name</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/logging/CFileLogRoute.php#L101">framework/logging/CFileLogRoute.php#101</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">setLogFile</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_logFile</span><span style="color: #007700">=</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br>}</span></pre> </div>  <h3 class="detailHeader" id="setLogPath-detail"> setLogPath() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>setLogPath</b>(string $value)</pre> </td></tr> <tr> <td class="paramNameCol">$value</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">directory for storing log files.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/logging/CFileLogRoute.php#L82">framework/logging/CFileLogRoute.php#82</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">setLogPath</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_logPath</span><span style="color: #007700">=</span><span style="color: #0000BB">realpath</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">);<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_logPath</span><span style="color: #007700">===</span><span style="color: #0000BB">false </span><span style="color: #007700">|| !</span><span style="color: #0000BB">is_dir</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_logPath</span><span style="color: #007700">) || !</span><span style="color: #0000BB">is_writable</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_logPath</span><span style="color: #007700">))<br>        throw new </span><span style="color: #0000BB">CException</span><span style="color: #007700">(</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">t</span><span style="color: #007700">(</span><span style="color: #DD0000">'yii'</span><span style="color: #007700">,</span><span style="color: #DD0000">'CFileLogRoute.logPath "{path}" does not point to a valid directory. Make sure the directory exists and is writable by the Web server process.'</span><span style="color: #007700">,<br>            array(</span><span style="color: #DD0000">'{path}'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)));<br>}</span></pre> </div>  <h3 class="detailHeader" id="setMaxFileSize-detail"> setMaxFileSize() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>setMaxFileSize</b>(integer $value)</pre> </td></tr> <tr> <td class="paramNameCol">$value</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">maximum log file size in kilo-bytes (KB).</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/logging/CFileLogRoute.php#L117">framework/logging/CFileLogRoute.php#117</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">setMaxFileSize</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>{<br>    if((</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_maxFileSize</span><span style="color: #007700">=(int)</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&lt;</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_maxFileSize</span><span style="color: #007700">=</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br>}</span></pre> </div>  <h3 class="detailHeader" id="setMaxLogFiles-detail"> setMaxLogFiles() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>setMaxLogFiles</b>(integer $value)</pre> </td></tr> <tr> <td class="paramNameCol">$value</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">number of files used for rotation.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/logging/CFileLogRoute.php#L134">framework/logging/CFileLogRoute.php#134</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">setMaxLogFiles</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>{<br>    if((</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_maxLogFiles</span><span style="color: #007700">=(int)</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&lt;</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_maxLogFiles</span><span style="color: #007700">=</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br>}</span></pre> </div> <div class="_attribution">
  <p class="_attribution-p">
    © 2008–2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc/api/1.1/CFileLogRoute" class="_attribution-link">http://www.yiiframework.com/doc/api/1.1/CFileLogRoute</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
