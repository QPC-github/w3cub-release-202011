
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>CErrorHandler - Yii 1.1 - W3cubDocs</title>
  
  <meta name="description" content="the application administrator information (could be a name or email link). It is displayed in error pages to end users. Defaults to &#39;the &hellip;">
  <meta name="keywords" content="cerrorhandler, yii, yii~1.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/yii~1.1/cerrorhandler.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/yii~1.1.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/yii~1.1/" class="_nav-link" title="" style="margin-left:0;">Yii 1.1</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _yii">
				
				
<h1>CErrorHandler</h1>  <table class="summaryTable docClass"> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr> <th>Package</th> <td><a href="index#system.base">system.base</a></td> </tr> <tr> <th>Inheritance</th> <td>class CErrorHandler » <a href="capplicationcomponent">CApplicationComponent</a> » <a href="ccomponent">CComponent</a>
</td> </tr> <tr> <th>Implements</th> <td><a href="iapplicationcomponent">IApplicationComponent</a></td> </tr> <tr> <th>Since</th> <td>1.0</td> </tr> <tr> <th>Source Code</th> <td><a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/base/CErrorHandler.php">framework/base/CErrorHandler.php</a></td> </tr> </table> <div id="classDescription"> CErrorHandler handles uncaught PHP errors and exceptions. <br><br> It displays these errors using appropriate views based on the nature of the error and the mode the application runs at. It also chooses the most preferred language for displaying the error. <br><br> CErrorHandler uses two sets of views: <ul> <li>development views, named as <code>exception.php</code>; </li>
<li>production views, named as <code>error&lt;StatusCode&gt;.php</code>; </li>
</ul> where &lt;StatusCode&gt; stands for the HTTP error code (e.g. error500.php). Localized views are named similarly but located under a subdirectory whose name is the language code (e.g. zh_cn/error500.php). <br><br> Development views are displayed when the application is in debug mode (i.e. YII_DEBUG is defined as true). Detailed error information with source code are displayed in these views. Production views are meant to be shown to end-users and are used when the application is in production mode. For security reasons, they only display the error message without any sensitive information. <br><br> CErrorHandler looks for the view templates from the following locations in order: <ol> <li>
<code>themes/ThemeName/views/system</code>: when a theme is active.</li> <li><code>protected/views/system</code></li> <li><code>framework/views</code></li> </ol> If the view is not found in a directory, it will be looked for in the next directory. <br><br> The property <a href="cerrorhandler#maxSourceLines">maxSourceLines</a> can be changed to specify the number of source code lines to be displayed in development views. <br><br> CErrorHandler is a core application component that can be accessed via <a href="capplication#getErrorHandler">CApplication::getErrorHandler()</a>.</div>  <div class="summary docProperty"> <h2>Public Properties</h2>  <table class="summaryTable"> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="adminInfo"> <td><a href="cerrorhandler#adminInfo-detail">adminInfo</a></td> <td>string</td> <td>the application administrator information (could be a name or email link).</td> <td>CErrorHandler</td> </tr> <tr class="inherited" id="behaviors"> <td><a href="capplicationcomponent#behaviors-detail">behaviors</a></td> <td>array</td> <td>the behaviors that should be attached to this component.</td> <td><a href="capplicationcomponent">CApplicationComponent</a></td> </tr> <tr id="discardOutput"> <td><a href="cerrorhandler#discardOutput-detail">discardOutput</a></td> <td>boolean</td> <td>whether to discard any existing page output before error display.</td> <td>CErrorHandler</td> </tr> <tr id="error"> <td><a href="cerrorhandler#error-detail">error</a></td> <td>array</td> <td>Returns the details about the error that is currently being handled.</td> <td>CErrorHandler</td> </tr> <tr id="errorAction"> <td><a href="cerrorhandler#errorAction-detail">errorAction</a></td> <td>string</td> <td>the route (eg 'site/error') to the controller action that will be used to display external errors.</td> <td>CErrorHandler</td> </tr> <tr id="exception"> <td><a href="cerrorhandler#exception-detail">exception</a></td> <td>Exception|null</td> <td>Returns the instance of the exception that is currently being handled.</td> <td>CErrorHandler</td> </tr> <tr class="inherited" id="isInitialized"> <td><a href="capplicationcomponent#isInitialized-detail">isInitialized</a></td> <td>boolean</td> <td>Checks if this application component has been initialized.</td> <td><a href="capplicationcomponent">CApplicationComponent</a></td> </tr> <tr id="maxSourceLines"> <td><a href="cerrorhandler#maxSourceLines-detail">maxSourceLines</a></td> <td>integer</td> <td>maximum number of source code lines to be displayed.</td> <td>CErrorHandler</td> </tr> <tr id="maxTraceSourceLines"> <td><a href="cerrorhandler#maxTraceSourceLines-detail">maxTraceSourceLines</a></td> <td>integer</td> <td>maximum number of trace source code lines to be displayed.</td> <td>CErrorHandler</td> </tr> </table> </div> <div class="summary docProperty"> <h2>Protected Properties</h2>  <table class="summaryTable"> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="versionInfo"> <td><a href="cerrorhandler#versionInfo-detail">versionInfo</a></td> <td>string</td> <td>Returns server version information.</td> <td>CErrorHandler</td> </tr> </table> </div>  <div class="summary docMethod"> <h2>Public Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr class="inherited" id="__call"> <td><a href="ccomponent#__call-detail">__call()</a></td> <td>Calls the named method which is not a class method.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__get"> <td><a href="ccomponent#__get-detail">__get()</a></td> <td>Returns a property value, an event handler list or a behavior based on its name.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__isset"> <td><a href="ccomponent#__isset-detail">__isset()</a></td> <td>Checks if a property value is null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__set"> <td><a href="ccomponent#__set-detail">__set()</a></td> <td>Sets value of a component property.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__unset"> <td><a href="ccomponent#__unset-detail">__unset()</a></td> <td>Sets a component property to be null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="asa"> <td><a href="ccomponent#asa-detail">asa()</a></td> <td>Returns the named behavior object.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehavior"> <td><a href="ccomponent#attachBehavior-detail">attachBehavior()</a></td> <td>Attaches a behavior to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehaviors"> <td><a href="ccomponent#attachBehaviors-detail">attachBehaviors()</a></td> <td>Attaches a list of behaviors to the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachEventHandler"> <td><a href="ccomponent#attachEventHandler-detail">attachEventHandler()</a></td> <td>Attaches an event handler to an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="canGetProperty"> <td><a href="ccomponent#canGetProperty-detail">canGetProperty()</a></td> <td>Determines whether a property can be read.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="canSetProperty"> <td><a href="ccomponent#canSetProperty-detail">canSetProperty()</a></td> <td>Determines whether a property can be set.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachBehavior"> <td><a href="ccomponent#detachBehavior-detail">detachBehavior()</a></td> <td>Detaches a behavior from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachBehaviors"> <td><a href="ccomponent#detachBehaviors-detail">detachBehaviors()</a></td> <td>Detaches all behaviors from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachEventHandler"> <td><a href="ccomponent#detachEventHandler-detail">detachEventHandler()</a></td> <td>Detaches an existing event handler.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehavior"> <td><a href="ccomponent#disableBehavior-detail">disableBehavior()</a></td> <td>Disables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehaviors"> <td><a href="ccomponent#disableBehaviors-detail">disableBehaviors()</a></td> <td>Disables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehavior"> <td><a href="ccomponent#enableBehavior-detail">enableBehavior()</a></td> <td>Enables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehaviors"> <td><a href="ccomponent#enableBehaviors-detail">enableBehaviors()</a></td> <td>Enables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="evaluateExpression"> <td><a href="ccomponent#evaluateExpression-detail">evaluateExpression()</a></td> <td>Evaluates a PHP expression or callback under the context of this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="getError"> <td><a href="cerrorhandler#getError-detail">getError()</a></td> <td>Returns the details about the error that is currently being handled.</td> <td>CErrorHandler</td> </tr> <tr class="inherited" id="getEventHandlers"> <td><a href="ccomponent#getEventHandlers-detail">getEventHandlers()</a></td> <td>Returns the list of attached event handlers for an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="getException"> <td><a href="cerrorhandler#getException-detail">getException()</a></td> <td>Returns the instance of the exception that is currently being handled.</td> <td>CErrorHandler</td> </tr> <tr class="inherited" id="getIsInitialized"> <td><a href="capplicationcomponent#getIsInitialized-detail">getIsInitialized()</a></td> <td>Checks if this application component has been initialized.</td> <td><a href="capplicationcomponent">CApplicationComponent</a></td> </tr> <tr id="handle"> <td><a href="cerrorhandler#handle-detail">handle()</a></td> <td>Handles the exception/error event.</td> <td>CErrorHandler</td> </tr> <tr class="inherited" id="hasEvent"> <td><a href="ccomponent#hasEvent-detail">hasEvent()</a></td> <td>Determines whether an event is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasEventHandler"> <td><a href="ccomponent#hasEventHandler-detail">hasEventHandler()</a></td> <td>Checks whether the named event has attached handlers.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasProperty"> <td><a href="ccomponent#hasProperty-detail">hasProperty()</a></td> <td>Determines whether a property is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="init"> <td><a href="capplicationcomponent#init-detail">init()</a></td> <td>Initializes the application component.</td> <td><a href="capplicationcomponent">CApplicationComponent</a></td> </tr> <tr class="inherited" id="raiseEvent"> <td><a href="ccomponent#raiseEvent-detail">raiseEvent()</a></td> <td>Raises an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> </table> </div> <div class="summary docMethod"> <h2>Protected Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="argumentsToString"> <td><a href="cerrorhandler#argumentsToString-detail">argumentsToString()</a></td> <td>Converts arguments array to its string representation</td> <td>CErrorHandler</td> </tr> <tr id="getExactTrace"> <td><a href="cerrorhandler#getExactTrace-detail">getExactTrace()</a></td> <td>Returns the exact trace where the problem occurs.</td> <td>CErrorHandler</td> </tr> <tr id="getHttpHeader"> <td><a href="cerrorhandler#getHttpHeader-detail">getHttpHeader()</a></td> <td>Return correct message for each known http error code</td> <td>CErrorHandler</td> </tr> <tr id="getVersionInfo"> <td><a href="cerrorhandler#getVersionInfo-detail">getVersionInfo()</a></td> <td>Returns server version information.</td> <td>CErrorHandler</td> </tr> <tr id="getViewFile"> <td><a href="cerrorhandler#getViewFile-detail">getViewFile()</a></td> <td>Determines which view file should be used.</td> <td>CErrorHandler</td> </tr> <tr id="getViewFileInternal"> <td><a href="cerrorhandler#getViewFileInternal-detail">getViewFileInternal()</a></td> <td>Looks for the view under the specified directory.</td> <td>CErrorHandler</td> </tr> <tr id="handleError"> <td><a href="cerrorhandler#handleError-detail">handleError()</a></td> <td>Handles the PHP error.</td> <td>CErrorHandler</td> </tr> <tr id="handleException"> <td><a href="cerrorhandler#handleException-detail">handleException()</a></td> <td>Handles the exception.</td> <td>CErrorHandler</td> </tr> <tr id="isAjaxRequest"> <td><a href="cerrorhandler#isAjaxRequest-detail">isAjaxRequest()</a></td> <td>whether the current request is an AJAX (XMLHttpRequest) request.</td> <td>CErrorHandler</td> </tr> <tr id="isCoreCode"> <td><a href="cerrorhandler#isCoreCode-detail">isCoreCode()</a></td> <td>Returns a value indicating whether the call stack is from application code.</td> <td>CErrorHandler</td> </tr> <tr id="render"> <td><a href="cerrorhandler#render-detail">render()</a></td> <td>Renders the view.</td> <td>CErrorHandler</td> </tr> <tr id="renderError"> <td><a href="cerrorhandler#renderError-detail">renderError()</a></td> <td>Renders the current error information.</td> <td>CErrorHandler</td> </tr> <tr id="renderException"> <td><a href="cerrorhandler#renderException-detail">renderException()</a></td> <td>Renders the exception information.</td> <td>CErrorHandler</td> </tr> <tr id="renderSourceCode"> <td><a href="cerrorhandler#renderSourceCode-detail">renderSourceCode()</a></td> <td>Renders the source code around the error line.</td> <td>CErrorHandler</td> </tr> </table> </div>  <h2>Property Details</h2> <h3 class="detailHeader" id="adminInfo-detail"> adminInfo<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <b>$adminInfo</b>;</pre> <p>the application administrator information (could be a name or email link). It is displayed in error pages to end users. Defaults to 'the webmaster'.</p> <h3 class="detailHeader" id="discardOutput-detail"> discardOutput<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public boolean <b>$discardOutput</b>;</pre> <p>whether to discard any existing page output before error display. Defaults to true.</p> <h3 class="detailHeader" id="error-detail"> error<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public array <a href="cerrorhandler#getError"><b>getError</b></a>()</pre> <p>Returns the details about the error that is currently being handled. The error is returned in terms of an array, with the following information: </p>
<ul> <li>code - the HTTP status code (e.g. 403, 500)</li> <li>type - the error type (e.g. 'CHttpException', 'PHP Error')</li> <li>message - the error message</li> <li>file - the name of the PHP script file where the error occurs</li> <li>line - the line number of the code where the error occurs</li> <li>trace - the call stack of the error</li> <li>source - the context source code where the error occurs</li> </ul> <h3 class="detailHeader" id="errorAction-detail"> errorAction<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <b>$errorAction</b>;</pre> <p>the route (eg 'site/error') to the controller action that will be used to display external errors. Inside the action, it can retrieve the error information by Yii::app()-&gt;errorHandler-&gt;error. This property defaults to null, meaning CErrorHandler will handle the error display.</p> <h3 class="detailHeader" id="exception-detail"> exception<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public Exception|null <a href="cerrorhandler#getException"><b>getException</b></a>()</pre> <p>Returns the instance of the exception that is currently being handled.</p> <h3 class="detailHeader" id="maxSourceLines-detail"> maxSourceLines<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public integer <b>$maxSourceLines</b>;</pre> <p>maximum number of source code lines to be displayed. Defaults to 25.</p> <h3 class="detailHeader" id="maxTraceSourceLines-detail"> maxTraceSourceLines<span class="detailHeaderTag"> property (available since v1.1.6) </span> </h3> <pre class="signature">public integer <b>$maxTraceSourceLines</b>;</pre> <p>maximum number of trace source code lines to be displayed. Defaults to 10.</p> <h3 class="detailHeader" id="versionInfo-detail"> versionInfo<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">protected string <a href="cerrorhandler#getVersionInfo"><b>getVersionInfo</b></a>()</pre> <p>Returns server version information. If the application is in production mode, empty string is returned.</p> <h2>Method Details</h2> <h3 class="detailHeader" id="argumentsToString-detail"> argumentsToString() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected string <b>argumentsToString</b>(array $args)</pre> </td></tr> <tr> <td class="paramNameCol">$args</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">arguments array to be converted</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">string representation of the arguments array</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/base/CErrorHandler.php#L452">framework/base/CErrorHandler.php#452</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">argumentsToString</span><span style="color: #007700">(</span><span style="color: #0000BB">$args</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$count</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br><br>    </span><span style="color: #0000BB">$isAssoc</span><span style="color: #007700">=</span><span style="color: #0000BB">$args</span><span style="color: #007700">!==</span><span style="color: #0000BB">array_values</span><span style="color: #007700">(</span><span style="color: #0000BB">$args</span><span style="color: #007700">);<br><br>    foreach(</span><span style="color: #0000BB">$args </span><span style="color: #007700">as </span><span style="color: #0000BB">$key </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$count</span><span style="color: #007700">++;<br>        if(</span><span style="color: #0000BB">$count</span><span style="color: #007700">&gt;=</span><span style="color: #0000BB">5</span><span style="color: #007700">)<br>        {<br>            if(</span><span style="color: #0000BB">$count</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">5</span><span style="color: #007700">)<br>                unset(</span><span style="color: #0000BB">$args</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">]);<br>            else<br>                </span><span style="color: #0000BB">$args</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">]=</span><span style="color: #DD0000">'...'</span><span style="color: #007700">;<br>            continue;<br>        }<br><br>        if(</span><span style="color: #0000BB">is_object</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">))<br>            </span><span style="color: #0000BB">$args</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">] = </span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">);<br>        elseif(</span><span style="color: #0000BB">is_bool</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">))<br>            </span><span style="color: #0000BB">$args</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">] = </span><span style="color: #0000BB">$value </span><span style="color: #007700">? </span><span style="color: #DD0000">'true' </span><span style="color: #007700">: </span><span style="color: #DD0000">'false'</span><span style="color: #007700">;<br>        elseif(</span><span style="color: #0000BB">is_string</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">))<br>        {<br>            if(</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&gt;</span><span style="color: #0000BB">64</span><span style="color: #007700">)<br>                </span><span style="color: #0000BB">$args</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">] = </span><span style="color: #DD0000">'"'</span><span style="color: #007700">.</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">64</span><span style="color: #007700">).</span><span style="color: #DD0000">'..."'</span><span style="color: #007700">;<br>            else<br>                </span><span style="color: #0000BB">$args</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">] = </span><span style="color: #DD0000">'"'</span><span style="color: #007700">.</span><span style="color: #0000BB">$value</span><span style="color: #007700">.</span><span style="color: #DD0000">'"'</span><span style="color: #007700">;<br>        }<br>        elseif(</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">))<br>            </span><span style="color: #0000BB">$args</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">] = </span><span style="color: #DD0000">'array('</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">argumentsToString</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">).</span><span style="color: #DD0000">')'</span><span style="color: #007700">;<br>        elseif(</span><span style="color: #0000BB">$value</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$args</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">] = </span><span style="color: #DD0000">'null'</span><span style="color: #007700">;<br>        elseif(</span><span style="color: #0000BB">is_resource</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">))<br>            </span><span style="color: #0000BB">$args</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">] = </span><span style="color: #DD0000">'resource'</span><span style="color: #007700">;<br><br>        if(</span><span style="color: #0000BB">is_string</span><span style="color: #007700">(</span><span style="color: #0000BB">$key</span><span style="color: #007700">))<br>        {<br>            </span><span style="color: #0000BB">$args</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">] = </span><span style="color: #DD0000">'"'</span><span style="color: #007700">.</span><span style="color: #0000BB">$key</span><span style="color: #007700">.</span><span style="color: #DD0000">'" =&gt; '</span><span style="color: #007700">.</span><span style="color: #0000BB">$args</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">];<br>        }<br>        elseif(</span><span style="color: #0000BB">$isAssoc</span><span style="color: #007700">)<br>        {<br>            </span><span style="color: #0000BB">$args</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">] = </span><span style="color: #0000BB">$key</span><span style="color: #007700">.</span><span style="color: #DD0000">' =&gt; '</span><span style="color: #007700">.</span><span style="color: #0000BB">$args</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">];<br>        }<br>    }<br>    </span><span style="color: #0000BB">$out </span><span style="color: #007700">= </span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">", "</span><span style="color: #007700">, </span><span style="color: #0000BB">$args</span><span style="color: #007700">);<br><br>    return </span><span style="color: #0000BB">$out</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Converts arguments array to its string representation</p> <h3 class="detailHeader" id="getError-detail"> getError() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public array <b>getError</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">the error details. Null if there is no error.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/base/CErrorHandler.php#L150">framework/base/CErrorHandler.php#150</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getError</span><span style="color: #007700">()<br>{<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_error</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the details about the error that is currently being handled. The error is returned in terms of an array, with the following information: </p>
<ul> <li>code - the HTTP status code (e.g. 403, 500)</li> <li>type - the error type (e.g. 'CHttpException', 'PHP Error')</li> <li>message - the error message</li> <li>file - the name of the PHP script file where the error occurs</li> <li>line - the line number of the code where the error occurs</li> <li>trace - the call stack of the error</li> <li>source - the context source code where the error occurs</li> </ul> <h3 class="detailHeader" id="getExactTrace-detail"> getExactTrace() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected array <b>getExactTrace</b>(Exception $exception)</pre> </td></tr> <tr> <td class="paramNameCol">$exception</td> <td class="paramTypeCol">Exception</td> <td class="paramDescCol">the uncaught exception</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">the exact trace where the problem occurs</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/base/CErrorHandler.php#L316">framework/base/CErrorHandler.php#316</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">getExactTrace</span><span style="color: #007700">(</span><span style="color: #0000BB">$exception</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$traces</span><span style="color: #007700">=</span><span style="color: #0000BB">$exception</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getTrace</span><span style="color: #007700">();<br><br>    foreach(</span><span style="color: #0000BB">$traces </span><span style="color: #007700">as </span><span style="color: #0000BB">$trace</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #FF8000">// property access exception<br>        </span><span style="color: #007700">if(isset(</span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #DD0000">'function'</span><span style="color: #007700">]) &amp;&amp; (</span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #DD0000">'function'</span><span style="color: #007700">]===</span><span style="color: #DD0000">'__get' </span><span style="color: #007700">|| </span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #DD0000">'function'</span><span style="color: #007700">]===</span><span style="color: #DD0000">'__set'</span><span style="color: #007700">))<br>            return </span><span style="color: #0000BB">$trace</span><span style="color: #007700">;<br>    }<br>    return </span><span style="color: #0000BB">null</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the exact trace where the problem occurs.</p> <h3 class="detailHeader" id="getException-detail"> getException() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public Exception|null <b>getException</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">Exception|null</td> <td class="paramDescCol">exception instance. Null if there is no exception.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/base/CErrorHandler.php#L159">framework/base/CErrorHandler.php#159</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getException</span><span style="color: #007700">()<br>{<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_exception</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the instance of the exception that is currently being handled.</p> <h3 class="detailHeader" id="getHttpHeader-detail"> getHttpHeader() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected string <b>getHttpHeader</b>(integer $httpCode, string $replacement='')</pre> </td></tr> <tr> <td class="paramNameCol">$httpCode</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">error code to map</td> </tr> <tr> <td class="paramNameCol">$replacement</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">replacement error string that is returned if code is unknown</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the textual representation of the given error code or the replacement string if the error code is unknown</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/base/CErrorHandler.php#L553">framework/base/CErrorHandler.php#553</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">getHttpHeader</span><span style="color: #007700">(</span><span style="color: #0000BB">$httpCode</span><span style="color: #007700">, </span><span style="color: #0000BB">$replacement</span><span style="color: #007700">=</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$httpCodes </span><span style="color: #007700">= array(<br>        </span><span style="color: #0000BB">100 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Continue'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">101 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Switching Protocols'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">102 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Processing'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">118 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Connection Timed Out'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">200 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'OK'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">201 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Created'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">202 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Accepted'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">203 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Non-Authoritative'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">204 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'No Content'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">205 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Reset Content'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">206 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Partial Content'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">207 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Multi-Status'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">210 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Content Different'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">300 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Multiple Choices'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">301 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Moved Permanently'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">302 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Found'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">303 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'See Other'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">304 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Not Modified'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">305 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Use Proxy'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">307 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Temporary Redirect'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">310 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Too Many Redirect'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">400 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Bad Request'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">401 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Unauthorized'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">402 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Payment Required'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">403 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Forbidden'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">404 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Not Found'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">405 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Method Not Allowed'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">406 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Not Acceptable'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">407 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Proxy Authentication Required'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">408 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Request Timeout'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">409 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Conflict'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">410 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Gone'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">411 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Length Required'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">412 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Precondition Failed'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">413 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Request Entity Too Large'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">414 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Request-URI Too Long'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">415 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Unsupported Media Type'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">416 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Requested Range Not Satisfiable'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">417 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Expectation Failed'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">418 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'I’m a teapot'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">422 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Unprocessable entity'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">423 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Locked'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">424 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Method failure'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">425 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Unordered Collection'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">426 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Upgrade Required'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">428 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Precondition Required'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">429 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Too Many Requests'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">431 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Request Header Fields Too Large'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">449 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Retry With'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">450 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Blocked by Windows Parental Controls'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">451 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Unavailable For Legal Reasons'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">500 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Internal Server Error'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">501 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Not Implemented'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">502 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Bad Gateway'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">503 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Service Unavailable'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">504 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Gateway Timeout'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">505 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'HTTP Version Not Supported'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">507 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Insufficient Storage'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">509 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Bandwidth Limit Exceeded'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">510 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Not Extended'</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">511 </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Network Authentication Required'</span><span style="color: #007700">,<br>    );<br>    if(isset(</span><span style="color: #0000BB">$httpCodes</span><span style="color: #007700">[</span><span style="color: #0000BB">$httpCode</span><span style="color: #007700">]))<br>        return </span><span style="color: #0000BB">$httpCodes</span><span style="color: #007700">[</span><span style="color: #0000BB">$httpCode</span><span style="color: #007700">];<br>    else<br>        return </span><span style="color: #0000BB">$replacement</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Return correct message for each known http error code</p> <h3 class="detailHeader" id="getVersionInfo-detail"> getVersionInfo() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected string <b>getVersionInfo</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">server version information. Empty if in production mode.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/base/CErrorHandler.php#L433">framework/base/CErrorHandler.php#433</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">getVersionInfo</span><span style="color: #007700">()<br>{<br>    if(</span><span style="color: #0000BB">YII_DEBUG</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$version</span><span style="color: #007700">=</span><span style="color: #DD0000">'&lt;a href="http://www.yiiframework.com/"&gt;Yii Framework&lt;/a&gt;/'</span><span style="color: #007700">.</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">getVersion</span><span style="color: #007700">();<br>        if(isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'SERVER_SOFTWARE'</span><span style="color: #007700">]))<br>            </span><span style="color: #0000BB">$version</span><span style="color: #007700">=</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'SERVER_SOFTWARE'</span><span style="color: #007700">].</span><span style="color: #DD0000">' '</span><span style="color: #007700">.</span><span style="color: #0000BB">$version</span><span style="color: #007700">;<br>    }<br>    else<br>        </span><span style="color: #0000BB">$version</span><span style="color: #007700">=</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br>    return </span><span style="color: #0000BB">$version</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns server version information. If the application is in production mode, empty string is returned.</p> <h3 class="detailHeader" id="getViewFile-detail"> getViewFile() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected string <b>getViewFile</b>(string $view, integer $code)</pre> </td></tr> <tr> <td class="paramNameCol">$view</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">view name (either 'exception' or 'error')</td> </tr> <tr> <td class="paramNameCol">$code</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">HTTP status code</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">view file path</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/base/CErrorHandler.php#L387">framework/base/CErrorHandler.php#387</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">getViewFile</span><span style="color: #007700">(</span><span style="color: #0000BB">$view</span><span style="color: #007700">,</span><span style="color: #0000BB">$code</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$viewPaths</span><span style="color: #007700">=array(<br>        </span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getTheme</span><span style="color: #007700">()===</span><span style="color: #0000BB">null </span><span style="color: #007700">? </span><span style="color: #0000BB">null </span><span style="color: #007700">:  </span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getTheme</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getSystemViewPath</span><span style="color: #007700">(),<br>        </span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">() instanceof </span><span style="color: #0000BB">CWebApplication </span><span style="color: #007700">? </span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getSystemViewPath</span><span style="color: #007700">() : </span><span style="color: #0000BB">null</span><span style="color: #007700">,<br>        </span><span style="color: #0000BB">YII_PATH</span><span style="color: #007700">.</span><span style="color: #0000BB">DIRECTORY_SEPARATOR</span><span style="color: #007700">.</span><span style="color: #DD0000">'views'</span><span style="color: #007700">,<br>    );<br><br>    foreach(</span><span style="color: #0000BB">$viewPaths </span><span style="color: #007700">as </span><span style="color: #0000BB">$i</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$viewPath</span><span style="color: #007700">)<br>    {<br>        if(</span><span style="color: #0000BB">$viewPath</span><span style="color: #007700">!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        {<br>             </span><span style="color: #0000BB">$viewFile</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getViewFileInternal</span><span style="color: #007700">(</span><span style="color: #0000BB">$viewPath</span><span style="color: #007700">,</span><span style="color: #0000BB">$view</span><span style="color: #007700">,</span><span style="color: #0000BB">$code</span><span style="color: #007700">,</span><span style="color: #0000BB">$i</span><span style="color: #007700">===</span><span style="color: #0000BB">2</span><span style="color: #007700">?</span><span style="color: #DD0000">'en_us'</span><span style="color: #007700">:</span><span style="color: #0000BB">null</span><span style="color: #007700">);<br>             if(</span><span style="color: #0000BB">is_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$viewFile</span><span style="color: #007700">))<br>                  return </span><span style="color: #0000BB">$viewFile</span><span style="color: #007700">;<br>        }<br>    }<br>}</span></pre> </div> <p>Determines which view file should be used.</p> <h3 class="detailHeader" id="getViewFileInternal-detail"> getViewFileInternal() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected string <b>getViewFileInternal</b>(string $viewPath, string $view, integer $code, string $srcLanguage=NULL)</pre> </td></tr> <tr> <td class="paramNameCol">$viewPath</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the directory containing the views</td> </tr> <tr> <td class="paramNameCol">$view</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">view name (either 'exception' or 'error')</td> </tr> <tr> <td class="paramNameCol">$code</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">HTTP status code</td> </tr> <tr> <td class="paramNameCol">$srcLanguage</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the language that the view file is in</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">view file path</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/base/CErrorHandler.php#L414">framework/base/CErrorHandler.php#414</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">getViewFileInternal</span><span style="color: #007700">(</span><span style="color: #0000BB">$viewPath</span><span style="color: #007700">,</span><span style="color: #0000BB">$view</span><span style="color: #007700">,</span><span style="color: #0000BB">$code</span><span style="color: #007700">,</span><span style="color: #0000BB">$srcLanguage</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$app</span><span style="color: #007700">=</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">();<br>    if(</span><span style="color: #0000BB">$view</span><span style="color: #007700">===</span><span style="color: #DD0000">'error'</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$viewFile</span><span style="color: #007700">=</span><span style="color: #0000BB">$app</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">findLocalizedFile</span><span style="color: #007700">(</span><span style="color: #0000BB">$viewPath</span><span style="color: #007700">.</span><span style="color: #0000BB">DIRECTORY_SEPARATOR</span><span style="color: #007700">.</span><span style="color: #DD0000">"error</span><span style="color: #007700">{</span><span style="color: #0000BB">$code</span><span style="color: #007700">}</span><span style="color: #DD0000">.php"</span><span style="color: #007700">,</span><span style="color: #0000BB">$srcLanguage</span><span style="color: #007700">);<br>        if(!</span><span style="color: #0000BB">is_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$viewFile</span><span style="color: #007700">))<br>            </span><span style="color: #0000BB">$viewFile</span><span style="color: #007700">=</span><span style="color: #0000BB">$app</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">findLocalizedFile</span><span style="color: #007700">(</span><span style="color: #0000BB">$viewPath</span><span style="color: #007700">.</span><span style="color: #0000BB">DIRECTORY_SEPARATOR</span><span style="color: #007700">.</span><span style="color: #DD0000">'error.php'</span><span style="color: #007700">,</span><span style="color: #0000BB">$srcLanguage</span><span style="color: #007700">);<br>    }<br>    else<br>        </span><span style="color: #0000BB">$viewFile</span><span style="color: #007700">=</span><span style="color: #0000BB">$viewPath</span><span style="color: #007700">.</span><span style="color: #0000BB">DIRECTORY_SEPARATOR</span><span style="color: #007700">.</span><span style="color: #DD0000">"exception.php"</span><span style="color: #007700">;<br>    return </span><span style="color: #0000BB">$viewFile</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Looks for the view under the specified directory.</p> <h3 class="detailHeader" id="handle-detail"> handle() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>handle</b>(<a href="cevent">CEvent</a> $event)</pre> </td></tr> <tr> <td class="paramNameCol">$event</td> <td class="paramTypeCol"><a href="cevent">CEvent</a></td> <td class="paramDescCol">the event containing the exception/error information</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/base/CErrorHandler.php#L94">framework/base/CErrorHandler.php#94</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">handle</span><span style="color: #007700">(</span><span style="color: #0000BB">$event</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #FF8000">// set event as handled to prevent it from being handled by other event handlers<br>    </span><span style="color: #0000BB">$event</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">handled</span><span style="color: #007700">=</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br><br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">discardOutput</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$gzHandler</span><span style="color: #007700">=</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>        foreach(</span><span style="color: #0000BB">ob_list_handlers</span><span style="color: #007700">() as </span><span style="color: #0000BB">$h</span><span style="color: #007700">)<br>        {<br>            if(</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$h</span><span style="color: #007700">,</span><span style="color: #DD0000">'gzhandler'</span><span style="color: #007700">)!==</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>                </span><span style="color: #0000BB">$gzHandler</span><span style="color: #007700">=</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br>        }<br>        </span><span style="color: #FF8000">// the following manual level counting is to deal with zlib.output_compression set to On<br>        // for an output buffer created by zlib.output_compression set to On ob_end_clean will fail<br>        </span><span style="color: #007700">for(</span><span style="color: #0000BB">$level</span><span style="color: #007700">=</span><span style="color: #0000BB">ob_get_level</span><span style="color: #007700">();</span><span style="color: #0000BB">$level</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">0</span><span style="color: #007700">;--</span><span style="color: #0000BB">$level</span><span style="color: #007700">)<br>        {<br>            if(!@</span><span style="color: #0000BB">ob_end_clean</span><span style="color: #007700">())<br>                </span><span style="color: #0000BB">ob_clean</span><span style="color: #007700">();<br>        }<br>        </span><span style="color: #FF8000">// reset headers in case there was an ob_start("ob_gzhandler") before<br>        </span><span style="color: #007700">if(</span><span style="color: #0000BB">$gzHandler </span><span style="color: #007700">&amp;&amp; !</span><span style="color: #0000BB">headers_sent</span><span style="color: #007700">() &amp;&amp; </span><span style="color: #0000BB">ob_list_handlers</span><span style="color: #007700">()===array())<br>        {<br>            if(</span><span style="color: #0000BB">function_exists</span><span style="color: #007700">(</span><span style="color: #DD0000">'header_remove'</span><span style="color: #007700">)) </span><span style="color: #FF8000">// php &gt;= 5.3<br>            </span><span style="color: #007700">{<br>                </span><span style="color: #0000BB">header_remove</span><span style="color: #007700">(</span><span style="color: #DD0000">'Vary'</span><span style="color: #007700">);<br>                </span><span style="color: #0000BB">header_remove</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-Encoding'</span><span style="color: #007700">);<br>            }<br>            else<br>            {<br>                </span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Vary:'</span><span style="color: #007700">);<br>                </span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-Encoding:'</span><span style="color: #007700">);<br>            }<br>        }<br>    }<br><br>    if(</span><span style="color: #0000BB">$event </span><span style="color: #007700">instanceof </span><span style="color: #0000BB">CExceptionEvent</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">handleException</span><span style="color: #007700">(</span><span style="color: #0000BB">$event</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exception</span><span style="color: #007700">);<br>    else </span><span style="color: #FF8000">// CErrorEvent<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">handleError</span><span style="color: #007700">(</span><span style="color: #0000BB">$event</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Handles the exception/error event. This method is invoked by the application whenever it captures an exception or PHP error.</p> <h3 class="detailHeader" id="handleError-detail"> handleError() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected void <b>handleError</b>(<a href="cerrorevent">CErrorEvent</a> $event)</pre> </td></tr> <tr> <td class="paramNameCol">$event</td> <td class="paramTypeCol"><a href="cerrorevent">CErrorEvent</a></td> <td class="paramDescCol">the PHP error event</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/base/CErrorHandler.php#L228">framework/base/CErrorHandler.php#228</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">handleError</span><span style="color: #007700">(</span><span style="color: #0000BB">$event</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$trace</span><span style="color: #007700">=</span><span style="color: #0000BB">debug_backtrace</span><span style="color: #007700">();<br>    </span><span style="color: #FF8000">// skip the first 3 stacks as they do not tell the error position<br>    </span><span style="color: #007700">if(</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$trace</span><span style="color: #007700">)&gt;</span><span style="color: #0000BB">3</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$trace</span><span style="color: #007700">=</span><span style="color: #0000BB">array_slice</span><span style="color: #007700">(</span><span style="color: #0000BB">$trace</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$traceString</span><span style="color: #007700">=</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br>    foreach(</span><span style="color: #0000BB">$trace </span><span style="color: #007700">as </span><span style="color: #0000BB">$i</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$t</span><span style="color: #007700">)<br>    {<br>        if(!isset(</span><span style="color: #0000BB">$t</span><span style="color: #007700">[</span><span style="color: #DD0000">'file'</span><span style="color: #007700">]))<br>            </span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">][</span><span style="color: #DD0000">'file'</span><span style="color: #007700">]=</span><span style="color: #DD0000">'unknown'</span><span style="color: #007700">;<br><br>        if(!isset(</span><span style="color: #0000BB">$t</span><span style="color: #007700">[</span><span style="color: #DD0000">'line'</span><span style="color: #007700">]))<br>            </span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">][</span><span style="color: #DD0000">'line'</span><span style="color: #007700">]=</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br><br>        if(!isset(</span><span style="color: #0000BB">$t</span><span style="color: #007700">[</span><span style="color: #DD0000">'function'</span><span style="color: #007700">]))<br>            </span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">][</span><span style="color: #DD0000">'function'</span><span style="color: #007700">]=</span><span style="color: #DD0000">'unknown'</span><span style="color: #007700">;<br><br>        </span><span style="color: #0000BB">$traceString</span><span style="color: #007700">.=</span><span style="color: #DD0000">"#</span><span style="color: #0000BB">$i</span><span style="color: #007700">{</span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">][</span><span style="color: #DD0000">'file'</span><span style="color: #007700">]}</span><span style="color: #DD0000">(</span><span style="color: #007700">{</span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">][</span><span style="color: #DD0000">'line'</span><span style="color: #007700">]}</span><span style="color: #DD0000">): "</span><span style="color: #007700">;<br>        if(isset(</span><span style="color: #0000BB">$t</span><span style="color: #007700">[</span><span style="color: #DD0000">'object'</span><span style="color: #007700">]) &amp;&amp; </span><span style="color: #0000BB">is_object</span><span style="color: #007700">(</span><span style="color: #0000BB">$t</span><span style="color: #007700">[</span><span style="color: #DD0000">'object'</span><span style="color: #007700">]))<br>            </span><span style="color: #0000BB">$traceString</span><span style="color: #007700">.=</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$t</span><span style="color: #007700">[</span><span style="color: #DD0000">'object'</span><span style="color: #007700">]).</span><span style="color: #DD0000">'-&gt;'</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$traceString</span><span style="color: #007700">.=</span><span style="color: #DD0000">"</span><span style="color: #007700">{</span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">][</span><span style="color: #DD0000">'function'</span><span style="color: #007700">]}</span><span style="color: #DD0000">()\n"</span><span style="color: #007700">;<br><br>        unset(</span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">][</span><span style="color: #DD0000">'object'</span><span style="color: #007700">]);<br>    }<br><br>    </span><span style="color: #0000BB">$app</span><span style="color: #007700">=</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">();<br>    if(</span><span style="color: #0000BB">$app </span><span style="color: #007700">instanceof </span><span style="color: #0000BB">CWebApplication</span><span style="color: #007700">)<br>    {<br>        switch(</span><span style="color: #0000BB">$event</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">code</span><span style="color: #007700">)<br>        {<br>            case </span><span style="color: #0000BB">E_WARNING</span><span style="color: #007700">:<br>                </span><span style="color: #0000BB">$type </span><span style="color: #007700">= </span><span style="color: #DD0000">'PHP warning'</span><span style="color: #007700">;<br>                break;<br>            case </span><span style="color: #0000BB">E_NOTICE</span><span style="color: #007700">:<br>                </span><span style="color: #0000BB">$type </span><span style="color: #007700">= </span><span style="color: #DD0000">'PHP notice'</span><span style="color: #007700">;<br>                break;<br>            case </span><span style="color: #0000BB">E_USER_ERROR</span><span style="color: #007700">:<br>                </span><span style="color: #0000BB">$type </span><span style="color: #007700">= </span><span style="color: #DD0000">'User error'</span><span style="color: #007700">;<br>                break;<br>            case </span><span style="color: #0000BB">E_USER_WARNING</span><span style="color: #007700">:<br>                </span><span style="color: #0000BB">$type </span><span style="color: #007700">= </span><span style="color: #DD0000">'User warning'</span><span style="color: #007700">;<br>                break;<br>            case </span><span style="color: #0000BB">E_USER_NOTICE</span><span style="color: #007700">:<br>                </span><span style="color: #0000BB">$type </span><span style="color: #007700">= </span><span style="color: #DD0000">'User notice'</span><span style="color: #007700">;<br>                break;<br>            case </span><span style="color: #0000BB">E_RECOVERABLE_ERROR</span><span style="color: #007700">:<br>                </span><span style="color: #0000BB">$type </span><span style="color: #007700">= </span><span style="color: #DD0000">'Recoverable error'</span><span style="color: #007700">;<br>                break;<br>            default:<br>                </span><span style="color: #0000BB">$type </span><span style="color: #007700">= </span><span style="color: #DD0000">'PHP error'</span><span style="color: #007700">;<br>        }<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_exception</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_error</span><span style="color: #007700">=array(<br>            </span><span style="color: #DD0000">'code'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">500</span><span style="color: #007700">,<br>            </span><span style="color: #DD0000">'type'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$type</span><span style="color: #007700">,<br>            </span><span style="color: #DD0000">'message'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$event</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">message</span><span style="color: #007700">,<br>            </span><span style="color: #DD0000">'file'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$event</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">file</span><span style="color: #007700">,<br>            </span><span style="color: #DD0000">'line'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$event</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">line</span><span style="color: #007700">,<br>            </span><span style="color: #DD0000">'trace'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$traceString</span><span style="color: #007700">,<br>            </span><span style="color: #DD0000">'traces'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$trace</span><span style="color: #007700">,<br>        );<br>        if(!</span><span style="color: #0000BB">headers_sent</span><span style="color: #007700">())<br>        {<br>            </span><span style="color: #0000BB">$httpVersion</span><span style="color: #007700">=</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">request</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getHttpVersion</span><span style="color: #007700">();<br>            </span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"HTTP/</span><span style="color: #0000BB">$httpVersion</span><span style="color: #DD0000"> 500 Internal Server Error"</span><span style="color: #007700">);<br>        }<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">renderError</span><span style="color: #007700">();<br>    }<br>    else<br>        </span><span style="color: #0000BB">$app</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">displayError</span><span style="color: #007700">(</span><span style="color: #0000BB">$event</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">code</span><span style="color: #007700">,</span><span style="color: #0000BB">$event</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">message</span><span style="color: #007700">,</span><span style="color: #0000BB">$event</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">file</span><span style="color: #007700">,</span><span style="color: #0000BB">$event</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">line</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Handles the PHP error.</p> <h3 class="detailHeader" id="handleException-detail"> handleException() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected void <b>handleException</b>(Exception $exception)</pre> </td></tr> <tr> <td class="paramNameCol">$exception</td> <td class="paramTypeCol">Exception</td> <td class="paramDescCol">the exception captured</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/base/CErrorHandler.php#L168">framework/base/CErrorHandler.php#168</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">handleException</span><span style="color: #007700">(</span><span style="color: #0000BB">$exception</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$app</span><span style="color: #007700">=</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">();<br>    if(</span><span style="color: #0000BB">$app </span><span style="color: #007700">instanceof </span><span style="color: #0000BB">CWebApplication</span><span style="color: #007700">)<br>    {<br>        if((</span><span style="color: #0000BB">$trace</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getExactTrace</span><span style="color: #007700">(</span><span style="color: #0000BB">$exception</span><span style="color: #007700">))===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        {<br>            </span><span style="color: #0000BB">$fileName</span><span style="color: #007700">=</span><span style="color: #0000BB">$exception</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getFile</span><span style="color: #007700">();<br>            </span><span style="color: #0000BB">$errorLine</span><span style="color: #007700">=</span><span style="color: #0000BB">$exception</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getLine</span><span style="color: #007700">();<br>        }<br>        else<br>        {<br>            </span><span style="color: #0000BB">$fileName</span><span style="color: #007700">=</span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #DD0000">'file'</span><span style="color: #007700">];<br>            </span><span style="color: #0000BB">$errorLine</span><span style="color: #007700">=</span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #DD0000">'line'</span><span style="color: #007700">];<br>        }<br><br>        </span><span style="color: #0000BB">$trace </span><span style="color: #007700">= </span><span style="color: #0000BB">$exception</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getTrace</span><span style="color: #007700">();<br><br>        foreach(</span><span style="color: #0000BB">$trace </span><span style="color: #007700">as </span><span style="color: #0000BB">$i</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$t</span><span style="color: #007700">)<br>        {<br>            if(!isset(</span><span style="color: #0000BB">$t</span><span style="color: #007700">[</span><span style="color: #DD0000">'file'</span><span style="color: #007700">]))<br>                </span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">][</span><span style="color: #DD0000">'file'</span><span style="color: #007700">]=</span><span style="color: #DD0000">'unknown'</span><span style="color: #007700">;<br><br>            if(!isset(</span><span style="color: #0000BB">$t</span><span style="color: #007700">[</span><span style="color: #DD0000">'line'</span><span style="color: #007700">]))<br>                </span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">][</span><span style="color: #DD0000">'line'</span><span style="color: #007700">]=</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br><br>            if(!isset(</span><span style="color: #0000BB">$t</span><span style="color: #007700">[</span><span style="color: #DD0000">'function'</span><span style="color: #007700">]))<br>                </span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">][</span><span style="color: #DD0000">'function'</span><span style="color: #007700">]=</span><span style="color: #DD0000">'unknown'</span><span style="color: #007700">;<br><br>            unset(</span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">][</span><span style="color: #DD0000">'object'</span><span style="color: #007700">]);<br>        }<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_exception</span><span style="color: #007700">=</span><span style="color: #0000BB">$exception</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_error</span><span style="color: #007700">=</span><span style="color: #0000BB">$data</span><span style="color: #007700">=array(<br>            </span><span style="color: #DD0000">'code'</span><span style="color: #007700">=&gt;(</span><span style="color: #0000BB">$exception </span><span style="color: #007700">instanceof </span><span style="color: #0000BB">CHttpException</span><span style="color: #007700">)?</span><span style="color: #0000BB">$exception</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">statusCode</span><span style="color: #007700">:</span><span style="color: #0000BB">500</span><span style="color: #007700">,<br>            </span><span style="color: #DD0000">'type'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$exception</span><span style="color: #007700">),<br>            </span><span style="color: #DD0000">'errorCode'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$exception</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getCode</span><span style="color: #007700">(),<br>            </span><span style="color: #DD0000">'message'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$exception</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">(),<br>            </span><span style="color: #DD0000">'file'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$fileName</span><span style="color: #007700">,<br>            </span><span style="color: #DD0000">'line'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$errorLine</span><span style="color: #007700">,<br>            </span><span style="color: #DD0000">'trace'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$exception</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getTraceAsString</span><span style="color: #007700">(),<br>            </span><span style="color: #DD0000">'traces'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$trace</span><span style="color: #007700">,<br>        );<br><br>        if(!</span><span style="color: #0000BB">headers_sent</span><span style="color: #007700">())<br>        {<br>            </span><span style="color: #0000BB">$httpVersion</span><span style="color: #007700">=</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">request</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getHttpVersion</span><span style="color: #007700">();<br>            </span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"HTTP/</span><span style="color: #0000BB">$httpVersion</span><span style="color: #007700">{</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #DD0000">'code'</span><span style="color: #007700">]}</span><span style="color: #DD0000"> "</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getHttpHeader</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #DD0000">'code'</span><span style="color: #007700">], </span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$exception</span><span style="color: #007700">)));<br>        }<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">renderException</span><span style="color: #007700">();<br>    }<br>    else<br>        </span><span style="color: #0000BB">$app</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">displayException</span><span style="color: #007700">(</span><span style="color: #0000BB">$exception</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Handles the exception.</p> <h3 class="detailHeader" id="isAjaxRequest-detail"> isAjaxRequest() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected boolean <b>isAjaxRequest</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether the current request is an AJAX request.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/base/CErrorHandler.php#L306">framework/base/CErrorHandler.php#306</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">isAjaxRequest</span><span style="color: #007700">()<br>{<br>    return isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_X_REQUESTED_WITH'</span><span style="color: #007700">]) &amp;&amp; </span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_X_REQUESTED_WITH'</span><span style="color: #007700">]===</span><span style="color: #DD0000">'XMLHttpRequest'</span><span style="color: #007700">;<br>}</span></pre> </div> <p>whether the current request is an AJAX (XMLHttpRequest) request.</p> <h3 class="detailHeader" id="isCoreCode-detail"> isCoreCode() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected boolean <b>isCoreCode</b>(array $trace)</pre> </td></tr> <tr> <td class="paramNameCol">$trace</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">the trace data</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether the call stack is from application code.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/base/CErrorHandler.php#L507">framework/base/CErrorHandler.php#507</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">isCoreCode</span><span style="color: #007700">(</span><span style="color: #0000BB">$trace</span><span style="color: #007700">)<br>{<br>    if(isset(</span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #DD0000">'file'</span><span style="color: #007700">]))<br>    {<br>        </span><span style="color: #0000BB">$systemPath</span><span style="color: #007700">=</span><span style="color: #0000BB">realpath</span><span style="color: #007700">(</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">__FILE__</span><span style="color: #007700">).</span><span style="color: #DD0000">'/..'</span><span style="color: #007700">);<br>        return </span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #DD0000">'file'</span><span style="color: #007700">]===</span><span style="color: #DD0000">'unknown' </span><span style="color: #007700">|| </span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">realpath</span><span style="color: #007700">(</span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #DD0000">'file'</span><span style="color: #007700">]),</span><span style="color: #0000BB">$systemPath</span><span style="color: #007700">.</span><span style="color: #0000BB">DIRECTORY_SEPARATOR</span><span style="color: #007700">)===</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br>    }<br>    return </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns a value indicating whether the call stack is from application code.</p> <h3 class="detailHeader" id="render-detail"> render() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected void <b>render</b>(string $view, array $data)</pre> </td></tr> <tr> <td class="paramNameCol">$view</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the view name (file name without extension). See <a href="cerrorhandler#getViewFile">getViewFile</a> for how a view file is located given its name.</td> </tr> <tr> <td class="paramNameCol">$data</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">data to be passed to the view</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/base/CErrorHandler.php#L335">framework/base/CErrorHandler.php#335</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">render</span><span style="color: #007700">(</span><span style="color: #0000BB">$view</span><span style="color: #007700">,</span><span style="color: #0000BB">$data</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #DD0000">'version'</span><span style="color: #007700">]=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getVersionInfo</span><span style="color: #007700">();<br>    </span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #DD0000">'time'</span><span style="color: #007700">]=</span><span style="color: #0000BB">time</span><span style="color: #007700">();<br>    </span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #DD0000">'admin'</span><span style="color: #007700">]=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">adminInfo</span><span style="color: #007700">;<br>    include(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getViewFile</span><span style="color: #007700">(</span><span style="color: #0000BB">$view</span><span style="color: #007700">,</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #DD0000">'code'</span><span style="color: #007700">]));<br>}</span></pre> </div> <p>Renders the view.</p> <h3 class="detailHeader" id="renderError-detail"> renderError() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected void <b>renderError</b>()</pre> </td></tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/base/CErrorHandler.php#L365">framework/base/CErrorHandler.php#365</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">renderError</span><span style="color: #007700">()<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">errorAction</span><span style="color: #007700">!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">runController</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">errorAction</span><span style="color: #007700">);<br>    else<br>    {<br>        </span><span style="color: #0000BB">$data</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getError</span><span style="color: #007700">();<br>        if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isAjaxRequest</span><span style="color: #007700">())<br>            </span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">displayError</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #DD0000">'code'</span><span style="color: #007700">],</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #DD0000">'message'</span><span style="color: #007700">],</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #DD0000">'file'</span><span style="color: #007700">],</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #DD0000">'line'</span><span style="color: #007700">]);<br>        elseif(</span><span style="color: #0000BB">YII_DEBUG</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">render</span><span style="color: #007700">(</span><span style="color: #DD0000">'exception'</span><span style="color: #007700">,</span><span style="color: #0000BB">$data</span><span style="color: #007700">);<br>        else<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">render</span><span style="color: #007700">(</span><span style="color: #DD0000">'error'</span><span style="color: #007700">,</span><span style="color: #0000BB">$data</span><span style="color: #007700">);<br>    }<br>}</span></pre> </div> <p>Renders the current error information. This method will display information from current <a href="cerrorhandler#error">error</a> value.</p> <h3 class="detailHeader" id="renderException-detail"> renderException() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected void <b>renderException</b>()</pre> </td></tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/base/CErrorHandler.php#L347">framework/base/CErrorHandler.php#347</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">renderException</span><span style="color: #007700">()<br>{<br>    </span><span style="color: #0000BB">$exception</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getException</span><span style="color: #007700">();<br>    if(</span><span style="color: #0000BB">$exception </span><span style="color: #007700">instanceof </span><span style="color: #0000BB">CHttpException </span><span style="color: #007700">|| !</span><span style="color: #0000BB">YII_DEBUG</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">renderError</span><span style="color: #007700">();<br>    else<br>    {<br>        if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isAjaxRequest</span><span style="color: #007700">())<br>            </span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">displayException</span><span style="color: #007700">(</span><span style="color: #0000BB">$exception</span><span style="color: #007700">);<br>        else<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">render</span><span style="color: #007700">(</span><span style="color: #DD0000">'exception'</span><span style="color: #007700">,</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getError</span><span style="color: #007700">());<br>    }<br>}</span></pre> </div> <p>Renders the exception information. This method will display information from current <a href="cerrorhandler#error">error</a> value.</p> <h3 class="detailHeader" id="renderSourceCode-detail"> renderSourceCode() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected string <b>renderSourceCode</b>(string $file, integer $errorLine, integer $maxLines)</pre> </td></tr> <tr> <td class="paramNameCol">$file</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">source file path</td> </tr> <tr> <td class="paramNameCol">$errorLine</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">the error line number</td> </tr> <tr> <td class="paramNameCol">$maxLines</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">maximum number of lines to display</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the rendering result</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/base/CErrorHandler.php#L524">framework/base/CErrorHandler.php#524</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">renderSourceCode</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">,</span><span style="color: #0000BB">$errorLine</span><span style="color: #007700">,</span><span style="color: #0000BB">$maxLines</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$errorLine</span><span style="color: #007700">--;    </span><span style="color: #FF8000">// adjust line number to 0-based from 1-based<br>    </span><span style="color: #007700">if(</span><span style="color: #0000BB">$errorLine</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">0 </span><span style="color: #007700">|| (</span><span style="color: #0000BB">$lines</span><span style="color: #007700">=@</span><span style="color: #0000BB">file</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">))===</span><span style="color: #0000BB">false </span><span style="color: #007700">|| (</span><span style="color: #0000BB">$lineCount</span><span style="color: #007700">=</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$lines</span><span style="color: #007700">))&lt;=</span><span style="color: #0000BB">$errorLine</span><span style="color: #007700">)<br>        return </span><span style="color: #DD0000">''</span><span style="color: #007700">;<br><br>    </span><span style="color: #0000BB">$halfLines</span><span style="color: #007700">=(int)(</span><span style="color: #0000BB">$maxLines</span><span style="color: #007700">/</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$beginLine</span><span style="color: #007700">=</span><span style="color: #0000BB">$errorLine</span><span style="color: #007700">-</span><span style="color: #0000BB">$halfLines</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">0 </span><span style="color: #007700">? </span><span style="color: #0000BB">$errorLine</span><span style="color: #007700">-</span><span style="color: #0000BB">$halfLines</span><span style="color: #007700">:</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$endLine</span><span style="color: #007700">=</span><span style="color: #0000BB">$errorLine</span><span style="color: #007700">+</span><span style="color: #0000BB">$halfLines</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">$lineCount</span><span style="color: #007700">?</span><span style="color: #0000BB">$errorLine</span><span style="color: #007700">+</span><span style="color: #0000BB">$halfLines</span><span style="color: #007700">:</span><span style="color: #0000BB">$lineCount</span><span style="color: #007700">-</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$lineNumberWidth</span><span style="color: #007700">=</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$endLine</span><span style="color: #007700">+</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br><br>    </span><span style="color: #0000BB">$output</span><span style="color: #007700">=</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br>    for(</span><span style="color: #0000BB">$i</span><span style="color: #007700">=</span><span style="color: #0000BB">$beginLine</span><span style="color: #007700">;</span><span style="color: #0000BB">$i</span><span style="color: #007700">&lt;=</span><span style="color: #0000BB">$endLine</span><span style="color: #007700">;++</span><span style="color: #0000BB">$i</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$isErrorLine </span><span style="color: #007700">= </span><span style="color: #0000BB">$i</span><span style="color: #007700">===</span><span style="color: #0000BB">$errorLine</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$code</span><span style="color: #007700">=</span><span style="color: #0000BB">sprintf</span><span style="color: #007700">(</span><span style="color: #DD0000">"&lt;span class=\"ln"</span><span style="color: #007700">.(</span><span style="color: #0000BB">$isErrorLine</span><span style="color: #007700">?</span><span style="color: #DD0000">' error-ln'</span><span style="color: #007700">:</span><span style="color: #DD0000">''</span><span style="color: #007700">).</span><span style="color: #DD0000">"\"&gt;%0</span><span style="color: #007700">{</span><span style="color: #0000BB">$lineNumberWidth</span><span style="color: #007700">}</span><span style="color: #DD0000">d&lt;/span&gt; %s"</span><span style="color: #007700">,</span><span style="color: #0000BB">$i</span><span style="color: #007700">+</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">CHtml</span><span style="color: #007700">::</span><span style="color: #0000BB">encode</span><span style="color: #007700">(</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">"\t"</span><span style="color: #007700">,</span><span style="color: #DD0000">'    '</span><span style="color: #007700">,</span><span style="color: #0000BB">$lines</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">])));<br>        if(!</span><span style="color: #0000BB">$isErrorLine</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$output</span><span style="color: #007700">.=</span><span style="color: #0000BB">$code</span><span style="color: #007700">;<br>        else<br>            </span><span style="color: #0000BB">$output</span><span style="color: #007700">.=</span><span style="color: #DD0000">'&lt;span class="error"&gt;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$code</span><span style="color: #007700">.</span><span style="color: #DD0000">'&lt;/span&gt;'</span><span style="color: #007700">;<br>    }<br>    return </span><span style="color: #DD0000">'&lt;div class="code"&gt;&lt;pre&gt;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$output</span><span style="color: #007700">.</span><span style="color: #DD0000">'&lt;/pre&gt;&lt;/div&gt;'</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Renders the source code around the error line.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2008–2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc/api/1.1/CErrorHandler" class="_attribution-link">http://www.yiiframework.com/doc/api/1.1/CErrorHandler</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
