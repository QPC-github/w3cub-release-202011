
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>COutputCache - Yii 1.1 - W3cubDocs</title>
  
  <meta name="description" content="Caclulates the base cache key. The calculated key will be further variated in getCacheKey. Derived classes may override this method if more &hellip;">
  <meta name="keywords" content="coutputcache, yii, yii~1.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/yii~1.1/coutputcache.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/yii~1.1.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/yii~1.1/" class="_nav-link" title="" style="margin-left:0;">Yii 1.1</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _yii">
				
				
<h1>COutputCache</h1>  <table class="summaryTable docClass"> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr> <th>Package</th> <td><a href="index#system.web.widgets">system.web.widgets</a></td> </tr> <tr> <th>Inheritance</th> <td>class COutputCache » <a href="cfilterwidget">CFilterWidget</a> » <a href="cwidget">CWidget</a> » <a href="cbasecontroller">CBaseController</a> » <a href="ccomponent">CComponent</a>
</td> </tr> <tr> <th>Implements</th> <td><a href="ifilter">IFilter</a></td> </tr> <tr> <th>Since</th> <td>1.0</td> </tr> <tr> <th>Source Code</th> <td><a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/widgets/COutputCache.php">framework/web/widgets/COutputCache.php</a></td> </tr> </table> <div id="classDescription"> COutputCache enables caching the output generated by an action or a view fragment. <br><br> If the output to be displayed is found valid in cache, the cached version will be displayed instead, which saves the time for generating the original output. <br><br> Since COutputCache extends from <a href="cfilterwidget">CFilterWidget</a>, it can be used as either a filter (for action caching) or a widget (for fragment caching). For the latter, the shortcuts <a href="cbasecontroller#beginCache">CBaseController::beginCache()</a> and <a href="cbasecontroller#endCache">CBaseController::endCache()</a> are often used instead, like the following in a view file: <pre>
if($this-&gt;beginCache('cacheName',array('property1'=&gt;'value1',...))
{
    // ... display the content to be cached here
   $this-&gt;endCache();
}
</pre> <br><br> COutputCache must work with a cache application component specified via <a href="coutputcache#cacheID">cacheID</a>. If the cache application component is not available, COutputCache will be disabled. <br><br> The validity of the cached content is determined based on two factors: the <a href="coutputcache#duration">duration</a> and the cache <a href="coutputcache#dependency">dependency</a>. The former specifies the number of seconds that the data can remain valid in cache (defaults to 60s), while the latter specifies conditions that the cached data depends on. If a dependency changes, (e.g. relevant data in DB are updated), the cached data will be invalidated. For more details about cache dependency, see <a href="ccachedependency">CCacheDependency</a>. <br><br> Sometimes, it is necessary to turn off output caching only for certain request types. For example, we only want to cache a form when it is initially requested; any subsequent display of the form should not be cached because it contains user input. We can set <a href="coutputcache#requestTypes">requestTypes</a> to be <code>array('GET')</code> to accomplish this task. <br><br> The content fetched from cache may be variated with respect to some parameters. COutputCache supports four kinds of variations: <ul> <li>
<a href="coutputcache#varyByRoute">varyByRoute</a>: this specifies whether the cached content should be varied with the requested route (controller and action)</li> <li>
<a href="coutputcache#varyByParam">varyByParam</a>: this specifies a list of GET parameter names and uses the corresponding values to determine the version of the cached content.</li> <li>
<a href="coutputcache#varyBySession">varyBySession</a>: this specifies whether the cached content should be varied with the user session.</li> <li>
<a href="coutputcache#varyByExpression">varyByExpression</a>: this specifies whether the cached content should be varied with the result of the specified PHP expression.</li> <li>
<a href="coutputcache#varyByLanguage">varyByLanguage</a>: this specifies whether the cached content should by varied with the user's language. Available since 1.1.14.</li> </ul> For more advanced variation, override <a href="coutputcache#getBaseCacheKey">getBaseCacheKey()</a> method.</div>  <div class="summary docProperty"> <h2>Public Properties</h2>  <table class="summaryTable"> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr class="inherited" id="actionPrefix"> <td><a href="cwidget#actionPrefix-detail">actionPrefix</a></td> <td>string</td> <td>the prefix to the IDs of the <a href="coutputcache#actions">actions</a>.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr id="cacheID"> <td><a href="coutputcache#cacheID-detail">cacheID</a></td> <td>string</td> <td>the ID of the cache application component.</td> <td>COutputCache</td> </tr> <tr class="inherited" id="controller"> <td><a href="cwidget#controller-detail">controller</a></td> <td><a href="ccontroller">CController</a></td> <td>Returns the controller that this widget belongs to.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr id="dependency"> <td><a href="coutputcache#dependency-detail">dependency</a></td> <td>mixed</td> <td>the dependency that the cached content depends on.</td> <td>COutputCache</td> </tr> <tr id="duration"> <td><a href="coutputcache#duration-detail">duration</a></td> <td>integer</td> <td>number of seconds that the data can remain in cache.</td> <td>COutputCache</td> </tr> <tr class="inherited" id="id"> <td><a href="cwidget#id-detail">id</a></td> <td>string</td> <td>Returns the ID of the widget or generates a new one if requested.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr id="isContentCached"> <td><a href="coutputcache#isContentCached-detail">isContentCached</a></td> <td>boolean</td> <td>whether the content can be found from cache</td> <td>COutputCache</td> </tr> <tr class="inherited" id="isFilter"> <td><a href="cfilterwidget#isFilter-detail">isFilter</a></td> <td>boolean</td> <td>whether this widget is used as a filter.</td> <td><a href="cfilterwidget">CFilterWidget</a></td> </tr> <tr class="inherited" id="owner"> <td><a href="cwidget#owner-detail">owner</a></td> <td><a href="cbasecontroller">CBaseController</a></td> <td>Returns the owner/creator of this widget.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr id="requestTypes"> <td><a href="coutputcache#requestTypes-detail">requestTypes</a></td> <td>array</td> <td>list of request types (e.g. GET, POST) for which the cache should be enabled only.</td> <td>COutputCache</td> </tr> <tr class="inherited" id="skin"> <td><a href="cwidget#skin-detail">skin</a></td> <td>mixed</td> <td>the name of the skin to be used by this widget.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr class="inherited" id="stopAction"> <td><a href="cfilterwidget#stopAction-detail">stopAction</a></td> <td>boolean</td> <td>whether to stop the action execution when this widget is used as a filter.</td> <td><a href="cfilterwidget">CFilterWidget</a></td> </tr> <tr id="varyByExpression"> <td><a href="coutputcache#varyByExpression-detail">varyByExpression</a></td> <td>string</td> <td>a PHP expression whose result is used in the cache key calculation.</td> <td>COutputCache</td> </tr> <tr id="varyByLanguage"> <td><a href="coutputcache#varyByLanguage-detail">varyByLanguage</a></td> <td>boolean</td> <td>whether the content being cached should be differentiated according to user's language.</td> <td>COutputCache</td> </tr> <tr id="varyByParam"> <td><a href="coutputcache#varyByParam-detail">varyByParam</a></td> <td>array</td> <td>list of GET parameters that should participate in cache key calculation.</td> <td>COutputCache</td> </tr> <tr id="varyByRoute"> <td><a href="coutputcache#varyByRoute-detail">varyByRoute</a></td> <td>boolean</td> <td>whether the content being cached should be differentiated according to route.</td> <td>COutputCache</td> </tr> <tr id="varyBySession"> <td><a href="coutputcache#varyBySession-detail">varyBySession</a></td> <td>boolean</td> <td>whether the content being cached should be differentiated according to user sessions.</td> <td>COutputCache</td> </tr> <tr class="inherited" id="viewPath"> <td><a href="cwidget#viewPath-detail">viewPath</a></td> <td>string</td> <td>Returns the directory containing the view files for this widget.</td> <td><a href="cwidget">CWidget</a></td> </tr> </table> </div> <div class="summary docProperty"> <h2>Protected Properties</h2>  <table class="summaryTable"> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="baseCacheKey"> <td><a href="coutputcache#baseCacheKey-detail">baseCacheKey</a></td> <td>string</td> <td>Caclulates the base cache key.</td> <td>COutputCache</td> </tr> <tr id="cache"> <td><a href="coutputcache#cache-detail">cache</a></td> <td><a href="icache">ICache</a></td> <td>the cache used for caching the content.</td> <td>COutputCache</td> </tr> <tr id="cacheKey"> <td><a href="coutputcache#cacheKey-detail">cacheKey</a></td> <td>string</td> <td>Calculates the cache key.</td> <td>COutputCache</td> </tr> </table> </div>  <div class="summary docMethod"> <h2>Public Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr class="inherited" id="__call"> <td><a href="ccomponent#__call-detail">__call()</a></td> <td>Calls the named method which is not a class method.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__construct"> <td><a href="cfilterwidget#__construct-detail">__construct()</a></td> <td>Constructor.</td> <td><a href="cfilterwidget">CFilterWidget</a></td> </tr> <tr class="inherited" id="__get"> <td><a href="ccomponent#__get-detail">__get()</a></td> <td>Returns a property value, an event handler list or a behavior based on its name.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__isset"> <td><a href="ccomponent#__isset-detail">__isset()</a></td> <td>Checks if a property value is null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__set"> <td><a href="ccomponent#__set-detail">__set()</a></td> <td>Sets value of a component property.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__unset"> <td><a href="ccomponent#__unset-detail">__unset()</a></td> <td>Sets a component property to be null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="actions"> <td><a href="cwidget#actions-detail">actions()</a></td> <td>Returns a list of actions that are used by this widget.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr class="inherited" id="asa"> <td><a href="ccomponent#asa-detail">asa()</a></td> <td>Returns the named behavior object.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehavior"> <td><a href="ccomponent#attachBehavior-detail">attachBehavior()</a></td> <td>Attaches a behavior to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehaviors"> <td><a href="ccomponent#attachBehaviors-detail">attachBehaviors()</a></td> <td>Attaches a list of behaviors to the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachEventHandler"> <td><a href="ccomponent#attachEventHandler-detail">attachEventHandler()</a></td> <td>Attaches an event handler to an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="beginCache"> <td><a href="cbasecontroller#beginCache-detail">beginCache()</a></td> <td>Begins fragment caching.</td> <td><a href="cbasecontroller">CBaseController</a></td> </tr> <tr class="inherited" id="beginClip"> <td><a href="cbasecontroller#beginClip-detail">beginClip()</a></td> <td>Begins recording a clip.</td> <td><a href="cbasecontroller">CBaseController</a></td> </tr> <tr class="inherited" id="beginContent"> <td><a href="cbasecontroller#beginContent-detail">beginContent()</a></td> <td>Begins the rendering of content that is to be decorated by the specified view.</td> <td><a href="cbasecontroller">CBaseController</a></td> </tr> <tr class="inherited" id="beginWidget"> <td><a href="cbasecontroller#beginWidget-detail">beginWidget()</a></td> <td>Creates a widget and executes it.</td> <td><a href="cbasecontroller">CBaseController</a></td> </tr> <tr class="inherited" id="canGetProperty"> <td><a href="ccomponent#canGetProperty-detail">canGetProperty()</a></td> <td>Determines whether a property can be read.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="canSetProperty"> <td><a href="ccomponent#canSetProperty-detail">canSetProperty()</a></td> <td>Determines whether a property can be set.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="createWidget"> <td><a href="cbasecontroller#createWidget-detail">createWidget()</a></td> <td>Creates a widget and initializes it.</td> <td><a href="cbasecontroller">CBaseController</a></td> </tr> <tr class="inherited" id="detachBehavior"> <td><a href="ccomponent#detachBehavior-detail">detachBehavior()</a></td> <td>Detaches a behavior from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachBehaviors"> <td><a href="ccomponent#detachBehaviors-detail">detachBehaviors()</a></td> <td>Detaches all behaviors from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachEventHandler"> <td><a href="ccomponent#detachEventHandler-detail">detachEventHandler()</a></td> <td>Detaches an existing event handler.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehavior"> <td><a href="ccomponent#disableBehavior-detail">disableBehavior()</a></td> <td>Disables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehaviors"> <td><a href="ccomponent#disableBehaviors-detail">disableBehaviors()</a></td> <td>Disables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehavior"> <td><a href="ccomponent#enableBehavior-detail">enableBehavior()</a></td> <td>Enables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehaviors"> <td><a href="ccomponent#enableBehaviors-detail">enableBehaviors()</a></td> <td>Enables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="endCache"> <td><a href="cbasecontroller#endCache-detail">endCache()</a></td> <td>Ends fragment caching.</td> <td><a href="cbasecontroller">CBaseController</a></td> </tr> <tr class="inherited" id="endClip"> <td><a href="cbasecontroller#endClip-detail">endClip()</a></td> <td>Ends recording a clip.</td> <td><a href="cbasecontroller">CBaseController</a></td> </tr> <tr class="inherited" id="endContent"> <td><a href="cbasecontroller#endContent-detail">endContent()</a></td> <td>Ends the rendering of content.</td> <td><a href="cbasecontroller">CBaseController</a></td> </tr> <tr class="inherited" id="endWidget"> <td><a href="cbasecontroller#endWidget-detail">endWidget()</a></td> <td>Ends the execution of the named widget.</td> <td><a href="cbasecontroller">CBaseController</a></td> </tr> <tr class="inherited" id="evaluateExpression"> <td><a href="ccomponent#evaluateExpression-detail">evaluateExpression()</a></td> <td>Evaluates a PHP expression or callback under the context of this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="filter"> <td><a href="coutputcache#filter-detail">filter()</a></td> <td>Performs filtering before the action is executed.</td> <td>COutputCache</td> </tr> <tr class="inherited" id="getController"> <td><a href="cwidget#getController-detail">getController()</a></td> <td>Returns the controller that this widget belongs to.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr class="inherited" id="getEventHandlers"> <td><a href="ccomponent#getEventHandlers-detail">getEventHandlers()</a></td> <td>Returns the list of attached event handlers for an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="getId"> <td><a href="cwidget#getId-detail">getId()</a></td> <td>Returns the ID of the widget or generates a new one if requested.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr id="getIsContentCached"> <td><a href="coutputcache#getIsContentCached-detail">getIsContentCached()</a></td> <td>Checks whether the content can be found from cache</td> <td>COutputCache</td> </tr> <tr class="inherited" id="getIsFilter"> <td><a href="cfilterwidget#getIsFilter-detail">getIsFilter()</a></td> <td>Checks whether this widget is used as a filter.</td> <td><a href="cfilterwidget">CFilterWidget</a></td> </tr> <tr class="inherited" id="getOwner"> <td><a href="cwidget#getOwner-detail">getOwner()</a></td> <td>Returns the owner/creator of this widget.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr class="inherited" id="getViewFile"> <td><a href="cwidget#getViewFile-detail">getViewFile()</a></td> <td>Looks for the view script file according to the view name.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr class="inherited" id="getViewPath"> <td><a href="cwidget#getViewPath-detail">getViewPath()</a></td> <td>Returns the directory containing the view files for this widget.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr class="inherited" id="hasEvent"> <td><a href="ccomponent#hasEvent-detail">hasEvent()</a></td> <td>Determines whether an event is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasEventHandler"> <td><a href="ccomponent#hasEventHandler-detail">hasEventHandler()</a></td> <td>Checks whether the named event has attached handlers.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasProperty"> <td><a href="ccomponent#hasProperty-detail">hasProperty()</a></td> <td>Determines whether a property is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="init"> <td><a href="coutputcache#init-detail">init()</a></td> <td>Marks the start of content to be cached.</td> <td>COutputCache</td> </tr> <tr class="inherited" id="raiseEvent"> <td><a href="ccomponent#raiseEvent-detail">raiseEvent()</a></td> <td>Raises an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="recordAction"> <td><a href="coutputcache#recordAction-detail">recordAction()</a></td> <td>Records a method call when this output cache is in effect.</td> <td>COutputCache</td> </tr> <tr class="inherited" id="render"> <td><a href="cwidget#render-detail">render()</a></td> <td>Renders a view.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr class="inherited" id="renderFile"> <td><a href="cbasecontroller#renderFile-detail">renderFile()</a></td> <td>Renders a view file.</td> <td><a href="cbasecontroller">CBaseController</a></td> </tr> <tr class="inherited" id="renderInternal"> <td><a href="cbasecontroller#renderInternal-detail">renderInternal()</a></td> <td>Renders a view file.</td> <td><a href="cbasecontroller">CBaseController</a></td> </tr> <tr id="run"> <td><a href="coutputcache#run-detail">run()</a></td> <td>Marks the end of content to be cached.</td> <td>COutputCache</td> </tr> <tr class="inherited" id="setId"> <td><a href="cwidget#setId-detail">setId()</a></td> <td>Sets the ID of the widget.</td> <td><a href="cwidget">CWidget</a></td> </tr> <tr class="inherited" id="widget"> <td><a href="cbasecontroller#widget-detail">widget()</a></td> <td>Creates a widget and executes it.</td> <td><a href="cbasecontroller">CBaseController</a></td> </tr> </table> </div> <div class="summary docMethod"> <h2>Protected Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="checkContentCache"> <td><a href="coutputcache#checkContentCache-detail">checkContentCache()</a></td> <td>Looks for content in cache.</td> <td>COutputCache</td> </tr> <tr id="getBaseCacheKey"> <td><a href="coutputcache#getBaseCacheKey-detail">getBaseCacheKey()</a></td> <td>Caclulates the base cache key.</td> <td>COutputCache</td> </tr> <tr id="getCache"> <td><a href="coutputcache#getCache-detail">getCache()</a></td> <td>Returns the cache used for caching the content.</td> <td>COutputCache</td> </tr> <tr id="getCacheKey"> <td><a href="coutputcache#getCacheKey-detail">getCacheKey()</a></td> <td>Calculates the cache key.</td> <td>COutputCache</td> </tr> <tr id="replayActions"> <td><a href="coutputcache#replayActions-detail">replayActions()</a></td> <td>Replays the recorded method calls.</td> <td>COutputCache</td> </tr> </table> </div>  <h2>Property Details</h2> <h3 class="detailHeader" id="baseCacheKey-detail"> baseCacheKey<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">protected string <a href="coutputcache#getBaseCacheKey"><b>getBaseCacheKey</b></a>()</pre> <p>Caclulates the base cache key. The calculated key will be further variated in <a href="coutputcache#getCacheKey">getCacheKey</a>. Derived classes may override this method if more variations are needed.</p> <h3 class="detailHeader" id="cache-detail"> cache<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">protected <a href="icache">ICache</a> <a href="coutputcache#getCache"><b>getCache</b></a>()</pre> <p>the cache used for caching the content.</p> <h3 class="detailHeader" id="cacheID-detail"> cacheID<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <b>$cacheID</b>;</pre> <p>the ID of the cache application component. Defaults to 'cache' (the primary cache application component.)</p> <h3 class="detailHeader" id="cacheKey-detail"> cacheKey<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">protected string <a href="coutputcache#getCacheKey"><b>getCacheKey</b></a>()</pre> <p>Calculates the cache key. The key is calculated based on <a href="coutputcache#getBaseCacheKey">getBaseCacheKey</a> and other factors, including <a href="coutputcache#varyByRoute">varyByRoute</a>, <a href="coutputcache#varyByParam">varyByParam</a>, <a href="coutputcache#varyBySession">varyBySession</a> and <a href="coutputcache#varyByLanguage">varyByLanguage</a>.</p> <h3 class="detailHeader" id="dependency-detail"> dependency<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public mixed <b>$dependency</b>;</pre> <p>the dependency that the cached content depends on. This can be either an object implementing <a href="icachedependency">ICacheDependency</a> interface or an array specifying the configuration of the dependency object. For example, </p>
<pre>
array(
    'class'=&gt;'CDbCacheDependency',
    'sql'=&gt;'SELECT MAX(lastModified) FROM Post',
)
</pre> would make the output cache depends on the last modified time of all posts. If any post has its modification time changed, the cached content would be invalidated. <h3 class="detailHeader" id="duration-detail"> duration<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public integer <b>$duration</b>;</pre> <p>number of seconds that the data can remain in cache. Defaults to 60 seconds. If it is 0, existing cached content would be removed from the cache. If it is a negative value, the cache will be disabled (any existing cached content will remain in the cache.) <br><br> Note, if cache dependency changes or cache space is limited, the data may be purged out of cache earlier.</p> <h3 class="detailHeader" id="isContentCached-detail"> isContentCached<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public boolean <a href="coutputcache#getIsContentCached"><b>getIsContentCached</b></a>()</pre> <p>whether the content can be found from cache</p> <h3 class="detailHeader" id="requestTypes-detail"> requestTypes<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public array <b>$requestTypes</b>;</pre> <p>list of request types (e.g. GET, POST) for which the cache should be enabled only. Defaults to null, meaning all request types.</p> <h3 class="detailHeader" id="varyByExpression-detail"> varyByExpression<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <b>$varyByExpression</b>;</pre> <p>a PHP expression whose result is used in the cache key calculation. By setting this property, the output cache will use different cached data for each different expression result. The expression can also be a valid PHP callback, including class method name (array(ClassName/Object, MethodName)), or anonymous function (PHP 5.3.0+). The function/method signature should be as follows: </p>
<pre>
function foo($cache) { ... }
</pre> where $cache refers to the output cache component. <br><br> The PHP expression will be evaluated using <a href="coutputcache#evaluateExpression">evaluateExpression</a>. <br><br> A PHP expression can be any PHP code that has a value. To learn more about what an expression is, please refer to the <a href="http://www.php.net/manual/en/language.expressions.php">php manual</a>. <h3 class="detailHeader" id="varyByLanguage-detail"> varyByLanguage<span class="detailHeaderTag"> property (available since v1.1.14) </span> </h3> <pre class="signature">public boolean <b>$varyByLanguage</b>;</pre> <p>whether the content being cached should be differentiated according to user's language. A language is retrieved via Yii::app()-&gt;language. Defaults to false.</p> <h3 class="detailHeader" id="varyByParam-detail"> varyByParam<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public array <b>$varyByParam</b>;</pre> <p>list of GET parameters that should participate in cache key calculation. By setting this property, the output cache will use different cached data for each different set of GET parameter values.</p> <h3 class="detailHeader" id="varyByRoute-detail"> varyByRoute<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public boolean <b>$varyByRoute</b>;</pre> <p>whether the content being cached should be differentiated according to route. A route consists of the requested controller ID and action ID. Defaults to true.</p> <h3 class="detailHeader" id="varyBySession-detail"> varyBySession<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public boolean <b>$varyBySession</b>;</pre> <p>whether the content being cached should be differentiated according to user sessions. Defaults to false.</p> <h2>Method Details</h2> <h3 class="detailHeader" id="checkContentCache-detail"> checkContentCache() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected boolean <b>checkContentCache</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether the content is found in cache.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/widgets/COutputCache.php#L233">framework/web/widgets/COutputCache.php#233</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">checkContentCache</span><span style="color: #007700">()<br>{<br>    if((empty(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">requestTypes</span><span style="color: #007700">) || </span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getRequest</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getRequestType</span><span style="color: #007700">(),</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">requestTypes</span><span style="color: #007700">))<br>        &amp;&amp; (</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_cache</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getCache</span><span style="color: #007700">())!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>    {<br>        if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">duration</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">0 </span><span style="color: #007700">&amp;&amp; (</span><span style="color: #0000BB">$data</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_cache</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getCacheKey</span><span style="color: #007700">()))!==</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>        {<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_content</span><span style="color: #007700">=</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_actions</span><span style="color: #007700">=</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br>            return </span><span style="color: #0000BB">true</span><span style="color: #007700">;<br>        }<br>        if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">duration</span><span style="color: #007700">==</span><span style="color: #0000BB">0</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_cache</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">delete</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getCacheKey</span><span style="color: #007700">());<br>        if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">duration</span><span style="color: #007700">&lt;=</span><span style="color: #0000BB">0</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_cache</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br>    }<br>    return </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Looks for content in cache.</p> <h3 class="detailHeader" id="filter-detail"> filter() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public boolean <b>filter</b>(<a href="cfilterchain">CFilterChain</a> $filterChain)</pre> </td></tr> <tr> <td class="paramNameCol">$filterChain</td> <td class="paramTypeCol"><a href="cfilterchain">CFilterChain</a></td> <td class="paramDescCol">list of filters being applied to an action</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether the filtering process should stop after this filter. Defaults to false.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/widgets/COutputCache.php#L162">framework/web/widgets/COutputCache.php#162</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">filter</span><span style="color: #007700">(</span><span style="color: #0000BB">$filterChain</span><span style="color: #007700">)<br>{<br>    if(!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getIsContentCached</span><span style="color: #007700">())<br>        </span><span style="color: #0000BB">$filterChain</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">run</span><span style="color: #007700">();<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">run</span><span style="color: #007700">();<br>}</span></pre> </div> <p>Performs filtering before the action is executed. This method is meant to be overridden by child classes if begin-filtering is needed.</p> <h3 class="detailHeader" id="getBaseCacheKey-detail"> getBaseCacheKey() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected string <b>getBaseCacheKey</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">basic cache key without variations</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/widgets/COutputCache.php#L266">framework/web/widgets/COutputCache.php#266</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">getBaseCacheKey</span><span style="color: #007700">()<br>{<br>    return </span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">CACHE_KEY_PREFIX</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getId</span><span style="color: #007700">().</span><span style="color: #DD0000">'.'</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Caclulates the base cache key. The calculated key will be further variated in <a href="coutputcache#getCacheKey">getCacheKey</a>. Derived classes may override this method if more variations are needed.</p> <h3 class="detailHeader" id="getCache-detail"> getCache() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected <a href="icache">ICache</a> <b>getCache</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol"><a href="icache">ICache</a></td> <td class="paramDescCol">the cache used for caching the content.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/widgets/COutputCache.php#L255">framework/web/widgets/COutputCache.php#255</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">getCache</span><span style="color: #007700">()<br>{<br>    return </span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getComponent</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cacheID</span><span style="color: #007700">);<br>}</span></pre> </div>  <h3 class="detailHeader" id="getCacheKey-detail"> getCacheKey() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected string <b>getCacheKey</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">cache key</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/widgets/COutputCache.php#L277">framework/web/widgets/COutputCache.php#277</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">getCacheKey</span><span style="color: #007700">()<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_key</span><span style="color: #007700">!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_key</span><span style="color: #007700">;<br>    else<br>    {<br>        </span><span style="color: #0000BB">$key</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getBaseCacheKey</span><span style="color: #007700">().</span><span style="color: #DD0000">'.'</span><span style="color: #007700">;<br>        if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">varyByRoute</span><span style="color: #007700">)<br>        {<br>            </span><span style="color: #0000BB">$controller</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getController</span><span style="color: #007700">();<br>            </span><span style="color: #0000BB">$key</span><span style="color: #007700">.=</span><span style="color: #0000BB">$controller</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getUniqueId</span><span style="color: #007700">().</span><span style="color: #DD0000">'/'</span><span style="color: #007700">;<br>            if((</span><span style="color: #0000BB">$action</span><span style="color: #007700">=</span><span style="color: #0000BB">$controller</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getAction</span><span style="color: #007700">())!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>                </span><span style="color: #0000BB">$key</span><span style="color: #007700">.=</span><span style="color: #0000BB">$action</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getId</span><span style="color: #007700">();<br>        }<br>        </span><span style="color: #0000BB">$key</span><span style="color: #007700">.=</span><span style="color: #DD0000">'.'</span><span style="color: #007700">;<br><br>        if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">varyBySession</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$key</span><span style="color: #007700">.=</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getSession</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getSessionID</span><span style="color: #007700">();<br>        </span><span style="color: #0000BB">$key</span><span style="color: #007700">.=</span><span style="color: #DD0000">'.'</span><span style="color: #007700">;<br><br>        if(</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">varyByParam</span><span style="color: #007700">) &amp;&amp; isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">varyByParam</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]))<br>        {<br>            </span><span style="color: #0000BB">$params</span><span style="color: #007700">=array();<br>            foreach(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">varyByParam </span><span style="color: #007700">as </span><span style="color: #0000BB">$name</span><span style="color: #007700">)<br>            {<br>                if(isset(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]))<br>                    </span><span style="color: #0000BB">$params</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]=</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">];<br>                else<br>                    </span><span style="color: #0000BB">$params</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]=</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br>            }<br>            </span><span style="color: #0000BB">$key</span><span style="color: #007700">.=</span><span style="color: #0000BB">serialize</span><span style="color: #007700">(</span><span style="color: #0000BB">$params</span><span style="color: #007700">);<br>        }<br>        </span><span style="color: #0000BB">$key</span><span style="color: #007700">.=</span><span style="color: #DD0000">'.'</span><span style="color: #007700">;<br><br>        if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">varyByExpression</span><span style="color: #007700">!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$key</span><span style="color: #007700">.=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">evaluateExpression</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">varyByExpression</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">$key</span><span style="color: #007700">.=</span><span style="color: #DD0000">'.'</span><span style="color: #007700">;<br><br>        if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">varyByLanguage</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$key</span><span style="color: #007700">.=</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">language</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$key</span><span style="color: #007700">.=</span><span style="color: #DD0000">'.'</span><span style="color: #007700">;<br><br>        return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_key</span><span style="color: #007700">=</span><span style="color: #0000BB">$key</span><span style="color: #007700">;<br>    }<br>}</span></pre> </div> <p>Calculates the cache key. The key is calculated based on <a href="coutputcache#getBaseCacheKey">getBaseCacheKey</a> and other factors, including <a href="coutputcache#varyByRoute">varyByRoute</a>, <a href="coutputcache#varyByParam">varyByParam</a>, <a href="coutputcache#varyBySession">varyBySession</a> and <a href="coutputcache#varyByLanguage">varyByLanguage</a>.</p> <h3 class="detailHeader" id="getIsContentCached-detail"> getIsContentCached() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public boolean <b>getIsContentCached</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether the content can be found from cache</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/widgets/COutputCache.php#L221">framework/web/widgets/COutputCache.php#221</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getIsContentCached</span><span style="color: #007700">()<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_contentCached</span><span style="color: #007700">!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_contentCached</span><span style="color: #007700">;<br>    else<br>        return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_contentCached</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">checkContentCache</span><span style="color: #007700">();<br>}</span></pre> </div>  <h3 class="detailHeader" id="init-detail"> init() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>init</b>()</pre> </td></tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/widgets/COutputCache.php#L175">framework/web/widgets/COutputCache.php#175</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">init</span><span style="color: #007700">()<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getIsContentCached</span><span style="color: #007700">())<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">replayActions</span><span style="color: #007700">();<br>    elseif(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_cache</span><span style="color: #007700">!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getController</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getCachingStack</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">push</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">ob_start</span><span style="color: #007700">();<br>        </span><span style="color: #0000BB">ob_implicit_flush</span><span style="color: #007700">(</span><span style="color: #0000BB">false</span><span style="color: #007700">);<br>    }<br>}</span></pre> </div> <p>Marks the start of content to be cached. Content displayed after this method call and before <a href="coutputcache#endCache">endCache()</a> will be captured and saved in cache. This method does nothing if valid content is already found in cache.</p> <h3 class="detailHeader" id="recordAction-detail"> recordAction() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>recordAction</b>(string $context, string $method, array $params)</pre> </td></tr> <tr> <td class="paramNameCol">$context</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">a property name of the controller. The property should refer to an object whose method is being recorded. If empty it means the controller itself.</td> </tr> <tr> <td class="paramNameCol">$method</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the method name</td> </tr> <tr> <td class="paramNameCol">$params</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">parameters passed to the method</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/widgets/COutputCache.php#L332">framework/web/widgets/COutputCache.php#332</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">recordAction</span><span style="color: #007700">(</span><span style="color: #0000BB">$context</span><span style="color: #007700">,</span><span style="color: #0000BB">$method</span><span style="color: #007700">,</span><span style="color: #0000BB">$params</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_actions</span><span style="color: #007700">[]=array(</span><span style="color: #0000BB">$context</span><span style="color: #007700">,</span><span style="color: #0000BB">$method</span><span style="color: #007700">,</span><span style="color: #0000BB">$params</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Records a method call when this output cache is in effect. When the content is served from the output cache, the recorded method will be re-invoked.</p> <h3 class="detailHeader" id="replayActions-detail"> replayActions() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected void <b>replayActions</b>()</pre> </td></tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/widgets/COutputCache.php#L340">framework/web/widgets/COutputCache.php#340</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">replayActions</span><span style="color: #007700">()<br>{<br>    if(empty(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_actions</span><span style="color: #007700">))<br>        return;<br>    </span><span style="color: #0000BB">$controller</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getController</span><span style="color: #007700">();<br>    </span><span style="color: #0000BB">$cs</span><span style="color: #007700">=</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getClientScript</span><span style="color: #007700">();<br>    foreach(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_actions </span><span style="color: #007700">as </span><span style="color: #0000BB">$action</span><span style="color: #007700">)<br>    {<br>        if(</span><span style="color: #0000BB">$action</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]===</span><span style="color: #DD0000">'clientScript'</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$object</span><span style="color: #007700">=</span><span style="color: #0000BB">$cs</span><span style="color: #007700">;<br>        elseif(</span><span style="color: #0000BB">$action</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]===</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$object</span><span style="color: #007700">=</span><span style="color: #0000BB">$controller</span><span style="color: #007700">;<br>        else<br>            </span><span style="color: #0000BB">$object</span><span style="color: #007700">=</span><span style="color: #0000BB">$controller</span><span style="color: #007700">-&gt;{</span><span style="color: #0000BB">$action</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]};<br>        if(</span><span style="color: #0000BB">method_exists</span><span style="color: #007700">(</span><span style="color: #0000BB">$object</span><span style="color: #007700">,</span><span style="color: #0000BB">$action</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]))<br>            </span><span style="color: #0000BB">call_user_func_array</span><span style="color: #007700">(array(</span><span style="color: #0000BB">$object</span><span style="color: #007700">,</span><span style="color: #0000BB">$action</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]),</span><span style="color: #0000BB">$action</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">]);<br>        elseif(</span><span style="color: #0000BB">$action</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]===</span><span style="color: #DD0000">'' </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">function_exists</span><span style="color: #007700">(</span><span style="color: #0000BB">$action</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]))<br>            </span><span style="color: #0000BB">call_user_func_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$action</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">],</span><span style="color: #0000BB">$action</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">]);<br>        else<br>            throw new </span><span style="color: #0000BB">CException</span><span style="color: #007700">(</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">t</span><span style="color: #007700">(</span><span style="color: #DD0000">'yii'</span><span style="color: #007700">,</span><span style="color: #DD0000">'Unable to replay the action "{object}.{method}". The method does not exist.'</span><span style="color: #007700">,<br>                array(</span><span style="color: #DD0000">'object'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$action</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">],<br>                    </span><span style="color: #DD0000">'method'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$action</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">])));<br>    }<br>}</span></pre> </div> <p>Replays the recorded method calls.</p> <h3 class="detailHeader" id="run-detail"> run() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>run</b>()</pre> </td></tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/widgets/COutputCache.php#L193">framework/web/widgets/COutputCache.php#193</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">run</span><span style="color: #007700">()<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getIsContentCached</span><span style="color: #007700">())<br>    {<br>        if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getController</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">isCachingStackEmpty</span><span style="color: #007700">())<br>            echo </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getController</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">processDynamicOutput</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_content</span><span style="color: #007700">);<br>        else<br>            echo </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_content</span><span style="color: #007700">;<br>    }<br>    elseif(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_cache</span><span style="color: #007700">!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_content</span><span style="color: #007700">=</span><span style="color: #0000BB">ob_get_clean</span><span style="color: #007700">();<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getController</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getCachingStack</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">pop</span><span style="color: #007700">();<br>        </span><span style="color: #0000BB">$data</span><span style="color: #007700">=array(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_content</span><span style="color: #007700">,</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_actions</span><span style="color: #007700">);<br>        if(</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dependency</span><span style="color: #007700">))<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dependency</span><span style="color: #007700">=</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">createComponent</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dependency</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_cache</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">set</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getCacheKey</span><span style="color: #007700">(),</span><span style="color: #0000BB">$data</span><span style="color: #007700">,</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">duration</span><span style="color: #007700">,</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dependency</span><span style="color: #007700">);<br><br>        if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getController</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">isCachingStackEmpty</span><span style="color: #007700">())<br>            echo </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getController</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">processDynamicOutput</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_content</span><span style="color: #007700">);<br>        else<br>            echo </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_content</span><span style="color: #007700">;<br>    }<br>}</span></pre> </div> <p>Marks the end of content to be cached. Content displayed before this method call and after <a href="coutputcache#init">init()</a> will be captured and saved in cache. This method does nothing if valid content is already found in cache.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2008–2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc/api/1.1/COutputCache" class="_attribution-link">http://www.yiiframework.com/doc/api/1.1/COutputCache</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
