
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>CCache - Yii 1.1 - W3cubDocs</title>
  
  <meta name="description" content="whether to md5-hash the cache key for normalization purposes. Defaults to true. Setting this property to false makes sure the cache key will not be &hellip;">
  <meta name="keywords" content="ccache, yii, yii~1.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/yii~1.1/ccache.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/yii~1.1.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/yii~1.1/" class="_nav-link" title="" style="margin-left:0;">Yii 1.1</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _yii">
				
				
<h1>CCache</h1>  <table class="summaryTable docClass"> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr> <th>Package</th> <td><a href="index#system.caching">system.caching</a></td> </tr> <tr> <th>Inheritance</th> <td>abstract class CCache » <a href="capplicationcomponent">CApplicationComponent</a> » <a href="ccomponent">CComponent</a>
</td> </tr> <tr> <th>Implements</th> <td>
<a href="iapplicationcomponent">IApplicationComponent</a>, <a href="icache">ICache</a>, ArrayAccess</td> </tr> <tr> <th>Subclasses</th> <td>
<a href="capccache">CApcCache</a>, <a href="cdbcache">CDbCache</a>, <a href="ceacceleratorcache">CEAcceleratorCache</a>, <a href="cfilecache">CFileCache</a>, <a href="cmemcache">CMemCache</a>, <a href="crediscache">CRedisCache</a>, <a href="cwincache">CWinCache</a>, <a href="cxcache">CXCache</a>, <a href="czenddatacache">CZendDataCache</a>
</td> </tr> <tr> <th>Since</th> <td>1.0</td> </tr> <tr> <th>Source Code</th> <td><a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/CCache.php">framework/caching/CCache.php</a></td> </tr> </table> <div id="classDescription"> CCache is the base class for cache classes with different cache storage implementation. <br><br> A data item can be stored in cache by calling <a href="ccache#set">set</a> and be retrieved back later by <a href="ccache#get">get</a>. In both operations, a key identifying the data item is required. An expiration time and/or a dependency can also be specified when calling <a href="ccache#set">set</a>. If the data item expires or the dependency changes, calling <a href="ccache#get">get</a> will not return back the data item. <br><br> Note, by definition, cache does not ensure the existence of a value even if it does not expire. Cache is not meant to be a persistent storage. <br><br> CCache implements the interface <a href="icache">ICache</a> with the following methods: <ul> <li>
<a href="ccache#get">get</a> : retrieve the value with a key (if any) from cache</li> <li>
<a href="ccache#set">set</a> : store the value with a key into cache</li> <li>
<a href="ccache#add">add</a> : store the value only if cache does not have this key</li> <li>
<a href="ccache#delete">delete</a> : delete the value with the specified key from cache</li> <li>
<a href="ccache#flush">flush</a> : delete all values from cache</li> </ul> <br><br> Child classes must implement the following methods: <ul> <li><a href="ccache#getValue">getValue</a></li> <li><a href="ccache#setValue">setValue</a></li> <li><a href="ccache#addValue">addValue</a></li> <li><a href="ccache#deleteValue">deleteValue</a></li> <li>
<a href="ccache#getValues">getValues</a> (optional)</li> <li>
<a href="ccache#flushValues">flushValues</a> (optional)</li> <li>
<a href="ccache#serializer">serializer</a> (optional)</li> </ul> <br><br> CCache also implements ArrayAccess so that it can be used like an array.</div>  <div class="summary docProperty"> <h2>Public Properties</h2>  <table class="summaryTable"> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr class="inherited" id="behaviors"> <td><a href="capplicationcomponent#behaviors-detail">behaviors</a></td> <td>array</td> <td>the behaviors that should be attached to this component.</td> <td><a href="capplicationcomponent">CApplicationComponent</a></td> </tr> <tr id="hashKey"> <td><a href="ccache#hashKey-detail">hashKey</a></td> <td>boolean</td> <td>whether to md5-hash the cache key for normalization purposes.</td> <td>CCache</td> </tr> <tr class="inherited" id="isInitialized"> <td><a href="capplicationcomponent#isInitialized-detail">isInitialized</a></td> <td>boolean</td> <td>Checks if this application component has been initialized.</td> <td><a href="capplicationcomponent">CApplicationComponent</a></td> </tr> <tr id="keyPrefix"> <td><a href="ccache#keyPrefix-detail">keyPrefix</a></td> <td>string</td> <td>a string prefixed to every cache key so that it is unique.</td> <td>CCache</td> </tr> <tr id="serializer"> <td><a href="ccache#serializer-detail">serializer</a></td> <td>array|boolean</td> <td>the functions used to serialize and unserialize cached data.</td> <td>CCache</td> </tr> </table> </div>  <div class="summary docMethod"> <h2>Public Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr class="inherited" id="__call"> <td><a href="ccomponent#__call-detail">__call()</a></td> <td>Calls the named method which is not a class method.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__get"> <td><a href="ccomponent#__get-detail">__get()</a></td> <td>Returns a property value, an event handler list or a behavior based on its name.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__isset"> <td><a href="ccomponent#__isset-detail">__isset()</a></td> <td>Checks if a property value is null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__set"> <td><a href="ccomponent#__set-detail">__set()</a></td> <td>Sets value of a component property.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__unset"> <td><a href="ccomponent#__unset-detail">__unset()</a></td> <td>Sets a component property to be null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="add"> <td><a href="ccache#add-detail">add()</a></td> <td>Stores a value identified by a key into cache if the cache does not contain this key.</td> <td>CCache</td> </tr> <tr class="inherited" id="asa"> <td><a href="ccomponent#asa-detail">asa()</a></td> <td>Returns the named behavior object.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehavior"> <td><a href="ccomponent#attachBehavior-detail">attachBehavior()</a></td> <td>Attaches a behavior to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehaviors"> <td><a href="ccomponent#attachBehaviors-detail">attachBehaviors()</a></td> <td>Attaches a list of behaviors to the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachEventHandler"> <td><a href="ccomponent#attachEventHandler-detail">attachEventHandler()</a></td> <td>Attaches an event handler to an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="canGetProperty"> <td><a href="ccomponent#canGetProperty-detail">canGetProperty()</a></td> <td>Determines whether a property can be read.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="canSetProperty"> <td><a href="ccomponent#canSetProperty-detail">canSetProperty()</a></td> <td>Determines whether a property can be set.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="delete"> <td><a href="ccache#delete-detail">delete()</a></td> <td>Deletes a value with the specified key from cache</td> <td>CCache</td> </tr> <tr class="inherited" id="detachBehavior"> <td><a href="ccomponent#detachBehavior-detail">detachBehavior()</a></td> <td>Detaches a behavior from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachBehaviors"> <td><a href="ccomponent#detachBehaviors-detail">detachBehaviors()</a></td> <td>Detaches all behaviors from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachEventHandler"> <td><a href="ccomponent#detachEventHandler-detail">detachEventHandler()</a></td> <td>Detaches an existing event handler.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehavior"> <td><a href="ccomponent#disableBehavior-detail">disableBehavior()</a></td> <td>Disables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehaviors"> <td><a href="ccomponent#disableBehaviors-detail">disableBehaviors()</a></td> <td>Disables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehavior"> <td><a href="ccomponent#enableBehavior-detail">enableBehavior()</a></td> <td>Enables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehaviors"> <td><a href="ccomponent#enableBehaviors-detail">enableBehaviors()</a></td> <td>Enables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="evaluateExpression"> <td><a href="ccomponent#evaluateExpression-detail">evaluateExpression()</a></td> <td>Evaluates a PHP expression or callback under the context of this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="flush"> <td><a href="ccache#flush-detail">flush()</a></td> <td>Deletes all values from cache.</td> <td>CCache</td> </tr> <tr id="get"> <td><a href="ccache#get-detail">get()</a></td> <td>Retrieves a value from cache with a specified key.</td> <td>CCache</td> </tr> <tr class="inherited" id="getEventHandlers"> <td><a href="ccomponent#getEventHandlers-detail">getEventHandlers()</a></td> <td>Returns the list of attached event handlers for an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="getIsInitialized"> <td><a href="capplicationcomponent#getIsInitialized-detail">getIsInitialized()</a></td> <td>Checks if this application component has been initialized.</td> <td><a href="capplicationcomponent">CApplicationComponent</a></td> </tr> <tr class="inherited" id="hasEvent"> <td><a href="ccomponent#hasEvent-detail">hasEvent()</a></td> <td>Determines whether an event is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasEventHandler"> <td><a href="ccomponent#hasEventHandler-detail">hasEventHandler()</a></td> <td>Checks whether the named event has attached handlers.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasProperty"> <td><a href="ccomponent#hasProperty-detail">hasProperty()</a></td> <td>Determines whether a property is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="init"> <td><a href="ccache#init-detail">init()</a></td> <td>Initializes the application component.</td> <td>CCache</td> </tr> <tr id="mget"> <td><a href="ccache#mget-detail">mget()</a></td> <td>Retrieves multiple values from cache with the specified keys.</td> <td>CCache</td> </tr> <tr id="offsetExists"> <td><a href="ccache#offsetExists-detail">offsetExists()</a></td> <td>Returns whether there is a cache entry with a specified key.</td> <td>CCache</td> </tr> <tr id="offsetGet"> <td><a href="ccache#offsetGet-detail">offsetGet()</a></td> <td>Retrieves the value from cache with a specified key.</td> <td>CCache</td> </tr> <tr id="offsetSet"> <td><a href="ccache#offsetSet-detail">offsetSet()</a></td> <td>Stores the value identified by a key into cache.</td> <td>CCache</td> </tr> <tr id="offsetUnset"> <td><a href="ccache#offsetUnset-detail">offsetUnset()</a></td> <td>Deletes the value with the specified key from cache</td> <td>CCache</td> </tr> <tr class="inherited" id="raiseEvent"> <td><a href="ccomponent#raiseEvent-detail">raiseEvent()</a></td> <td>Raises an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="set"> <td><a href="ccache#set-detail">set()</a></td> <td>Stores a value identified by a key into cache.</td> <td>CCache</td> </tr> </table> </div> <div class="summary docMethod"> <h2>Protected Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="addValue"> <td><a href="ccache#addValue-detail">addValue()</a></td> <td>Stores a value identified by a key into cache if the cache does not contain this key.</td> <td>CCache</td> </tr> <tr id="deleteValue"> <td><a href="ccache#deleteValue-detail">deleteValue()</a></td> <td>Deletes a value with the specified key from cache</td> <td>CCache</td> </tr> <tr id="flushValues"> <td><a href="ccache#flushValues-detail">flushValues()</a></td> <td>Deletes all values from cache.</td> <td>CCache</td> </tr> <tr id="generateUniqueKey"> <td><a href="ccache#generateUniqueKey-detail">generateUniqueKey()</a></td> <td></td> <td>CCache</td> </tr> <tr id="getValue"> <td><a href="ccache#getValue-detail">getValue()</a></td> <td>Retrieves a value from cache with a specified key.</td> <td>CCache</td> </tr> <tr id="getValues"> <td><a href="ccache#getValues-detail">getValues()</a></td> <td>Retrieves multiple values from cache with the specified keys.</td> <td>CCache</td> </tr> <tr id="setValue"> <td><a href="ccache#setValue-detail">setValue()</a></td> <td>Stores a value identified by a key in cache.</td> <td>CCache</td> </tr> </table> </div>  <h2>Property Details</h2> <h3 class="detailHeader" id="hashKey-detail"> hashKey<span class="detailHeaderTag"> property (available since v1.1.11) </span> </h3> <pre class="signature">public boolean <b>$hashKey</b>;</pre> <p>whether to md5-hash the cache key for normalization purposes. Defaults to true. Setting this property to false makes sure the cache key will not be tampered when calling the relevant methods <a href="ccache#get">get()</a>, <a href="ccache#set">set()</a>, <a href="ccache#add">add()</a> and <a href="ccache#delete">delete()</a>. This is useful if a Yii application as well as an external application need to access the same cache pool (also see description of <a href="ccache#keyPrefix">keyPrefix</a> regarding this use case). However, without normalization you should make sure the affected cache backend does support the structure (charset, length, etc.) of all the provided cache keys, otherwise there might be unexpected behavior.</p> <h3 class="detailHeader" id="keyPrefix-detail"> keyPrefix<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <b>$keyPrefix</b>;</pre> <p>a string prefixed to every cache key so that it is unique. Defaults to null which means to use the <a href="capplication#getId">application ID</a>. If different applications need to access the same pool of cached data, the same prefix should be set for each of the applications explicitly.</p> <h3 class="detailHeader" id="serializer-detail"> serializer<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public array|boolean <b>$serializer</b>;</pre> <p>the functions used to serialize and unserialize cached data. Defaults to null, meaning using the default PHP `serialize()` and `unserialize()` functions. If you want to use some more efficient serializer (e.g. <a href="http://pecl.php.net/package/igbinary">igbinary</a>), you may configure this property with a two-element array. The first element specifies the serialization function, and the second the deserialization function. If this property is set false, data will be directly sent to and retrieved from the underlying cache component without any serialization or deserialization. You should not turn off serialization if you are using <a href="ccachedependency">cache dependency</a>, because it relies on data serialization.</p> <h2>Method Details</h2> <h3 class="detailHeader" id="add-detail"> add() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public boolean <b>add</b>(string $id, mixed $value, integer $expire=0, <a href="icachedependency">ICacheDependency</a> $dependency=NULL)</pre> </td></tr> <tr> <td class="paramNameCol">$id</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the key identifying the value to be cached</td> </tr> <tr> <td class="paramNameCol">$value</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the value to be cached</td> </tr> <tr> <td class="paramNameCol">$expire</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">the number of seconds in which the cached value will expire. 0 means never expire.</td> </tr> <tr> <td class="paramNameCol">$dependency</td> <td class="paramTypeCol"><a href="icachedependency">ICacheDependency</a></td> <td class="paramDescCol">dependency of the cached item. If the dependency changes, the item is labeled invalid.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">true if the value is successfully stored into cache, false otherwise</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/CCache.php#L197">framework/caching/CCache.php#197</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">,</span><span style="color: #0000BB">$value</span><span style="color: #007700">,</span><span style="color: #0000BB">$expire</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">$dependency</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">trace</span><span style="color: #007700">(</span><span style="color: #DD0000">'Adding "'</span><span style="color: #007700">.</span><span style="color: #0000BB">$id</span><span style="color: #007700">.</span><span style="color: #DD0000">'" to cache'</span><span style="color: #007700">,</span><span style="color: #DD0000">'system.caching.'</span><span style="color: #007700">.</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">));<br><br>    if (</span><span style="color: #0000BB">$dependency </span><span style="color: #007700">!== </span><span style="color: #0000BB">null </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">serializer </span><span style="color: #007700">!== </span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$dependency</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">evaluateDependency</span><span style="color: #007700">();<br><br>    if (</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">serializer </span><span style="color: #007700">=== </span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$value </span><span style="color: #007700">= </span><span style="color: #0000BB">serialize</span><span style="color: #007700">(array(</span><span style="color: #0000BB">$value</span><span style="color: #007700">,</span><span style="color: #0000BB">$dependency</span><span style="color: #007700">));<br>    elseif (</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">serializer </span><span style="color: #007700">!== </span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$value </span><span style="color: #007700">= </span><span style="color: #0000BB">call_user_func</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">serializer</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">], array(</span><span style="color: #0000BB">$value</span><span style="color: #007700">,</span><span style="color: #0000BB">$dependency</span><span style="color: #007700">));<br><br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addValue</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">generateUniqueKey</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">), </span><span style="color: #0000BB">$value</span><span style="color: #007700">, </span><span style="color: #0000BB">$expire</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Stores a value identified by a key into cache if the cache does not contain this key. Nothing will be done if the cache already contains the key.</p> <h3 class="detailHeader" id="addValue-detail"> addValue() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected boolean <b>addValue</b>(string $key, string $value, integer $expire)</pre> </td></tr> <tr> <td class="paramNameCol">$key</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the key identifying the value to be cached</td> </tr> <tr> <td class="paramNameCol">$value</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the value to be cached</td> </tr> <tr> <td class="paramNameCol">$expire</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">the number of seconds in which the cached value will expire. 0 means never expire.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">true if the value is successfully stored into cache, false otherwise</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/CCache.php#L299">framework/caching/CCache.php#299</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">addValue</span><span style="color: #007700">(</span><span style="color: #0000BB">$key</span><span style="color: #007700">,</span><span style="color: #0000BB">$value</span><span style="color: #007700">,</span><span style="color: #0000BB">$expire</span><span style="color: #007700">)<br>{<br>    throw new </span><span style="color: #0000BB">CException</span><span style="color: #007700">(</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">t</span><span style="color: #007700">(</span><span style="color: #DD0000">'yii'</span><span style="color: #007700">,</span><span style="color: #DD0000">'{className} does not support add() functionality.'</span><span style="color: #007700">,<br>        array(</span><span style="color: #DD0000">'{className}'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">))));<br>}</span></pre> </div> <p>Stores a value identified by a key into cache if the cache does not contain this key. This method should be implemented by child classes to store the data in specific cache storage. The uniqueness and dependency are handled in <a href="ccache#add">add()</a> already. So only the implementation of data storage is needed.</p> <h3 class="detailHeader" id="delete-detail"> delete() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public boolean <b>delete</b>(string $id)</pre> </td></tr> <tr> <td class="paramNameCol">$id</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the key of the value to be deleted</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">if no error happens during deletion</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/CCache.php#L217">framework/caching/CCache.php#217</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">delete</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">trace</span><span style="color: #007700">(</span><span style="color: #DD0000">'Deleting "'</span><span style="color: #007700">.</span><span style="color: #0000BB">$id</span><span style="color: #007700">.</span><span style="color: #DD0000">'" from cache'</span><span style="color: #007700">,</span><span style="color: #DD0000">'system.caching.'</span><span style="color: #007700">.</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">));<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">deleteValue</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">generateUniqueKey</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">));<br>}</span></pre> </div> <p>Deletes a value with the specified key from cache</p> <h3 class="detailHeader" id="deleteValue-detail"> deleteValue() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected boolean <b>deleteValue</b>(string $key)</pre> </td></tr> <tr> <td class="paramNameCol">$key</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the key of the value to be deleted</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">if no error happens during deletion</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/CCache.php#L312">framework/caching/CCache.php#312</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">deleteValue</span><span style="color: #007700">(</span><span style="color: #0000BB">$key</span><span style="color: #007700">)<br>{<br>    throw new </span><span style="color: #0000BB">CException</span><span style="color: #007700">(</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">t</span><span style="color: #007700">(</span><span style="color: #DD0000">'yii'</span><span style="color: #007700">,</span><span style="color: #DD0000">'{className} does not support delete() functionality.'</span><span style="color: #007700">,<br>        array(</span><span style="color: #DD0000">'{className}'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">))));<br>}</span></pre> </div> <p>Deletes a value with the specified key from cache This method should be implemented by child classes to delete the data from actual cache storage.</p> <h3 class="detailHeader" id="flush-detail"> flush() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public boolean <b>flush</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether the flush operation was successful.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/CCache.php#L228">framework/caching/CCache.php#228</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">flush</span><span style="color: #007700">()<br>{<br>    </span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">trace</span><span style="color: #007700">(</span><span style="color: #DD0000">'Flushing cache'</span><span style="color: #007700">,</span><span style="color: #DD0000">'system.caching.'</span><span style="color: #007700">.</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">));<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">flushValues</span><span style="color: #007700">();<br>}</span></pre> </div> <p>Deletes all values from cache. Be careful of performing this operation if the cache is shared by multiple applications.</p> <h3 class="detailHeader" id="flushValues-detail"> flushValues() <span class="detailHeaderTag"> method (available since v1.1.5) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected boolean <b>flushValues</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether the flush operation was successful.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/CCache.php#L325">framework/caching/CCache.php#325</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">flushValues</span><span style="color: #007700">()<br>{<br>    throw new </span><span style="color: #0000BB">CException</span><span style="color: #007700">(</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">t</span><span style="color: #007700">(</span><span style="color: #DD0000">'yii'</span><span style="color: #007700">,</span><span style="color: #DD0000">'{className} does not support flushValues() functionality.'</span><span style="color: #007700">,<br>        array(</span><span style="color: #DD0000">'{className}'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">))));<br>}</span></pre> </div> <p>Deletes all values from cache. Child classes may implement this method to realize the flush operation.</p> <h3 class="detailHeader" id="generateUniqueKey-detail"> generateUniqueKey() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected string <b>generateUniqueKey</b>(string $key)</pre> </td></tr> <tr> <td class="paramNameCol">$key</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">a key identifying a value to be cached</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">a key generated from the provided key which ensures the uniqueness across applications</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/CCache.php#L92">framework/caching/CCache.php#92</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">generateUniqueKey</span><span style="color: #007700">(</span><span style="color: #0000BB">$key</span><span style="color: #007700">)<br>{<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">hashKey </span><span style="color: #007700">? </span><span style="color: #0000BB">md5</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">keyPrefix</span><span style="color: #007700">.</span><span style="color: #0000BB">$key</span><span style="color: #007700">) : </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">keyPrefix</span><span style="color: #007700">.</span><span style="color: #0000BB">$key</span><span style="color: #007700">;<br>}</span></pre> </div>  <h3 class="detailHeader" id="get-detail"> get() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public mixed <b>get</b>(string $id)</pre> </td></tr> <tr> <td class="paramNameCol">$id</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">a key identifying the cached value</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the value stored in cache, false if the value is not in the cache, expired or the dependency has changed.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/CCache.php#L102">framework/caching/CCache.php#102</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$value </span><span style="color: #007700">= </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getValue</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">generateUniqueKey</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">));<br>    if(</span><span style="color: #0000BB">$value</span><span style="color: #007700">===</span><span style="color: #0000BB">false </span><span style="color: #007700">|| </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">serializer</span><span style="color: #007700">===</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>        return </span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">serializer</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$value</span><span style="color: #007700">=</span><span style="color: #0000BB">unserialize</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">);<br>    else<br>        </span><span style="color: #0000BB">$value</span><span style="color: #007700">=</span><span style="color: #0000BB">call_user_func</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">serializer</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">], </span><span style="color: #0000BB">$value</span><span style="color: #007700">);<br>    if(</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">) &amp;&amp; (!</span><span style="color: #0000BB">$value</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">] instanceof </span><span style="color: #0000BB">ICacheDependency </span><span style="color: #007700">|| !</span><span style="color: #0000BB">$value</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">getHasChanged</span><span style="color: #007700">()))<br>    {<br>        </span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">trace</span><span style="color: #007700">(</span><span style="color: #DD0000">'Serving "'</span><span style="color: #007700">.</span><span style="color: #0000BB">$id</span><span style="color: #007700">.</span><span style="color: #DD0000">'" from cache'</span><span style="color: #007700">,</span><span style="color: #DD0000">'system.caching.'</span><span style="color: #007700">.</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">));<br>        return </span><span style="color: #0000BB">$value</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br>    }<br>    else<br>        return </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Retrieves a value from cache with a specified key.</p> <h3 class="detailHeader" id="getValue-detail"> getValue() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected string|boolean <b>getValue</b>(string $key)</pre> </td></tr> <tr> <td class="paramNameCol">$key</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">a unique key identifying the cached value</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string|boolean</td> <td class="paramDescCol">the value stored in cache, false if the value is not in the cache or expired.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/CCache.php#L244">framework/caching/CCache.php#244</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">getValue</span><span style="color: #007700">(</span><span style="color: #0000BB">$key</span><span style="color: #007700">)<br>{<br>    throw new </span><span style="color: #0000BB">CException</span><span style="color: #007700">(</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">t</span><span style="color: #007700">(</span><span style="color: #DD0000">'yii'</span><span style="color: #007700">,</span><span style="color: #DD0000">'{className} does not support get() functionality.'</span><span style="color: #007700">,<br>        array(</span><span style="color: #DD0000">'{className}'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">))));<br>}</span></pre> </div> <p>Retrieves a value from cache with a specified key. This method should be implemented by child classes to retrieve the data from specific cache storage. The uniqueness and dependency are handled in <a href="ccache#get">get()</a> already. So only the implementation of data retrieval is needed.</p> <h3 class="detailHeader" id="getValues-detail"> getValues() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected array <b>getValues</b>(array $keys)</pre> </td></tr> <tr> <td class="paramNameCol">$keys</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">a list of keys identifying the cached values</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">a list of cached values indexed by the keys</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/CCache.php#L259">framework/caching/CCache.php#259</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">getValues</span><span style="color: #007700">(</span><span style="color: #0000BB">$keys</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$results</span><span style="color: #007700">=array();<br>    foreach(</span><span style="color: #0000BB">$keys </span><span style="color: #007700">as </span><span style="color: #0000BB">$key</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$results</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">]=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getValue</span><span style="color: #007700">(</span><span style="color: #0000BB">$key</span><span style="color: #007700">);<br>    return </span><span style="color: #0000BB">$results</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Retrieves multiple values from cache with the specified keys. The default implementation simply calls <a href="ccache#getValue">getValue</a> multiple times to retrieve the cached values one by one. If the underlying cache storage supports multiget, this method should be overridden to exploit that feature.</p> <h3 class="detailHeader" id="init-detail"> init() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>init</b>()</pre> </td></tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/CCache.php#L81">framework/caching/CCache.php#81</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">init</span><span style="color: #007700">()<br>{<br>    </span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">init</span><span style="color: #007700">();<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">keyPrefix</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">keyPrefix</span><span style="color: #007700">=</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getId</span><span style="color: #007700">();<br>}</span></pre> </div> <p>Initializes the application component. This method overrides the parent implementation by setting default cache key prefix.</p> <h3 class="detailHeader" id="mget-detail"> mget() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public array <b>mget</b>(array $ids)</pre> </td></tr> <tr> <td class="paramNameCol">$ids</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">list of keys identifying the cached values</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">list of cached values corresponding to the specified keys. The array is returned in terms of (key,value) pairs. If a value is not cached or expired, the corresponding array value will be false.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/CCache.php#L130">framework/caching/CCache.php#130</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">mget</span><span style="color: #007700">(</span><span style="color: #0000BB">$ids</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$uids </span><span style="color: #007700">= array();<br>    foreach (</span><span style="color: #0000BB">$ids </span><span style="color: #007700">as </span><span style="color: #0000BB">$id</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$uids</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">] = </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">generateUniqueKey</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">);<br><br>    </span><span style="color: #0000BB">$values </span><span style="color: #007700">= </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getValues</span><span style="color: #007700">(</span><span style="color: #0000BB">$uids</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$results </span><span style="color: #007700">= array();<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">serializer </span><span style="color: #007700">=== </span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>    {<br>        foreach (</span><span style="color: #0000BB">$uids </span><span style="color: #007700">as </span><span style="color: #0000BB">$id </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$uid</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$results</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">] = isset(</span><span style="color: #0000BB">$values</span><span style="color: #007700">[</span><span style="color: #0000BB">$uid</span><span style="color: #007700">]) ? </span><span style="color: #0000BB">$values</span><span style="color: #007700">[</span><span style="color: #0000BB">$uid</span><span style="color: #007700">] : </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>    }<br>    else<br>    {<br>        foreach(</span><span style="color: #0000BB">$uids </span><span style="color: #007700">as </span><span style="color: #0000BB">$id </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$uid</span><span style="color: #007700">)<br>        {<br>            </span><span style="color: #0000BB">$results</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">] = </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>            if(isset(</span><span style="color: #0000BB">$values</span><span style="color: #007700">[</span><span style="color: #0000BB">$uid</span><span style="color: #007700">]))<br>            {<br>                </span><span style="color: #0000BB">$value </span><span style="color: #007700">= </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">serializer </span><span style="color: #007700">=== </span><span style="color: #0000BB">null </span><span style="color: #007700">? </span><span style="color: #0000BB">unserialize</span><span style="color: #007700">(</span><span style="color: #0000BB">$values</span><span style="color: #007700">[</span><span style="color: #0000BB">$uid</span><span style="color: #007700">]) : </span><span style="color: #0000BB">call_user_func</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">serializer</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">], </span><span style="color: #0000BB">$values</span><span style="color: #007700">[</span><span style="color: #0000BB">$uid</span><span style="color: #007700">]);<br>                if(</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">) &amp;&amp; (!</span><span style="color: #0000BB">$value</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">] instanceof </span><span style="color: #0000BB">ICacheDependency </span><span style="color: #007700">|| !</span><span style="color: #0000BB">$value</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">getHasChanged</span><span style="color: #007700">()))<br>                {<br>                    </span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">trace</span><span style="color: #007700">(</span><span style="color: #DD0000">'Serving "'</span><span style="color: #007700">.</span><span style="color: #0000BB">$id</span><span style="color: #007700">.</span><span style="color: #DD0000">'" from cache'</span><span style="color: #007700">,</span><span style="color: #DD0000">'system.caching.'</span><span style="color: #007700">.</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">));<br>                    </span><span style="color: #0000BB">$results</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">] = </span><span style="color: #0000BB">$value</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br>                }<br>            }<br>        }<br>    }<br>    return </span><span style="color: #0000BB">$results</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Retrieves multiple values from cache with the specified keys. Some caches (such as memcache, apc) allow retrieving multiple cached values at one time, which may improve the performance since it reduces the communication cost. In case a cache does not support this feature natively, it will be simulated by this method.</p> <h3 class="detailHeader" id="offsetExists-detail"> offsetExists() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public boolean <b>offsetExists</b>(string $id)</pre> </td></tr> <tr> <td class="paramNameCol">$id</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">a key identifying the cached value</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol"></td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/CCache.php#L337">framework/caching/CCache.php#337</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">offsetExists</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">)<br>{<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">)!==</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns whether there is a cache entry with a specified key. This method is required by the interface ArrayAccess.</p> <h3 class="detailHeader" id="offsetGet-detail"> offsetGet() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public mixed <b>offsetGet</b>(string $id)</pre> </td></tr> <tr> <td class="paramNameCol">$id</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">a key identifying the cached value</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the value stored in cache, false if the value is not in the cache or expired.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/CCache.php#L348">framework/caching/CCache.php#348</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">offsetGet</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">)<br>{<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Retrieves the value from cache with a specified key. This method is required by the interface ArrayAccess.</p> <h3 class="detailHeader" id="offsetSet-detail"> offsetSet() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>offsetSet</b>(string $id, mixed $value)</pre> </td></tr> <tr> <td class="paramNameCol">$id</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the key identifying the value to be cached</td> </tr> <tr> <td class="paramNameCol">$value</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the value to be cached</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/CCache.php#L361">framework/caching/CCache.php#361</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">offsetSet</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">set</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">, </span><span style="color: #0000BB">$value</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Stores the value identified by a key into cache. If the cache already contains such a key, the existing value will be replaced with the new ones. To add expiration and dependencies, use the set() method. This method is required by the interface ArrayAccess.</p> <h3 class="detailHeader" id="offsetUnset-detail"> offsetUnset() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public boolean <b>offsetUnset</b>(string $id)</pre> </td></tr> <tr> <td class="paramNameCol">$id</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the key of the value to be deleted</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">if no error happens during deletion</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/CCache.php#L372">framework/caching/CCache.php#372</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">offsetUnset</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">delete</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Deletes the value with the specified key from cache This method is required by the interface ArrayAccess.</p> <h3 class="detailHeader" id="set-detail"> set() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public boolean <b>set</b>(string $id, mixed $value, integer $expire=0, <a href="icachedependency">ICacheDependency</a> $dependency=NULL)</pre> </td></tr> <tr> <td class="paramNameCol">$id</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the key identifying the value to be cached</td> </tr> <tr> <td class="paramNameCol">$value</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the value to be cached</td> </tr> <tr> <td class="paramNameCol">$expire</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">the number of seconds in which the cached value will expire. 0 means never expire.</td> </tr> <tr> <td class="paramNameCol">$dependency</td> <td class="paramTypeCol"><a href="icachedependency">ICacheDependency</a></td> <td class="paramDescCol">dependency of the cached item. If the dependency changes, the item is labeled invalid.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">true if the value is successfully stored into cache, false otherwise</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/CCache.php#L173">framework/caching/CCache.php#173</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">set</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">,</span><span style="color: #0000BB">$value</span><span style="color: #007700">,</span><span style="color: #0000BB">$expire</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">$dependency</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">trace</span><span style="color: #007700">(</span><span style="color: #DD0000">'Saving "'</span><span style="color: #007700">.</span><span style="color: #0000BB">$id</span><span style="color: #007700">.</span><span style="color: #DD0000">'" to cache'</span><span style="color: #007700">,</span><span style="color: #DD0000">'system.caching.'</span><span style="color: #007700">.</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">));<br><br>    if (</span><span style="color: #0000BB">$dependency </span><span style="color: #007700">!== </span><span style="color: #0000BB">null </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">serializer </span><span style="color: #007700">!== </span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$dependency</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">evaluateDependency</span><span style="color: #007700">();<br><br>    if (</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">serializer </span><span style="color: #007700">=== </span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$value </span><span style="color: #007700">= </span><span style="color: #0000BB">serialize</span><span style="color: #007700">(array(</span><span style="color: #0000BB">$value</span><span style="color: #007700">,</span><span style="color: #0000BB">$dependency</span><span style="color: #007700">));<br>    elseif (</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">serializer </span><span style="color: #007700">!== </span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$value </span><span style="color: #007700">= </span><span style="color: #0000BB">call_user_func</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">serializer</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">], array(</span><span style="color: #0000BB">$value</span><span style="color: #007700">,</span><span style="color: #0000BB">$dependency</span><span style="color: #007700">));<br><br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setValue</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">generateUniqueKey</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">), </span><span style="color: #0000BB">$value</span><span style="color: #007700">, </span><span style="color: #0000BB">$expire</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Stores a value identified by a key into cache. If the cache already contains such a key, the existing value and expiration time will be replaced with the new ones.</p> <h3 class="detailHeader" id="setValue-detail"> setValue() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected boolean <b>setValue</b>(string $key, string $value, integer $expire)</pre> </td></tr> <tr> <td class="paramNameCol">$key</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the key identifying the value to be cached</td> </tr> <tr> <td class="paramNameCol">$value</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the value to be cached</td> </tr> <tr> <td class="paramNameCol">$expire</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">the number of seconds in which the cached value will expire. 0 means never expire.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">true if the value is successfully stored into cache, false otherwise</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/CCache.php#L280">framework/caching/CCache.php#280</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">setValue</span><span style="color: #007700">(</span><span style="color: #0000BB">$key</span><span style="color: #007700">,</span><span style="color: #0000BB">$value</span><span style="color: #007700">,</span><span style="color: #0000BB">$expire</span><span style="color: #007700">)<br>{<br>    throw new </span><span style="color: #0000BB">CException</span><span style="color: #007700">(</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">t</span><span style="color: #007700">(</span><span style="color: #DD0000">'yii'</span><span style="color: #007700">,</span><span style="color: #DD0000">'{className} does not support set() functionality.'</span><span style="color: #007700">,<br>        array(</span><span style="color: #DD0000">'{className}'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">))));<br>}</span></pre> </div> <p>Stores a value identified by a key in cache. This method should be implemented by child classes to store the data in specific cache storage. The uniqueness and dependency are handled in <a href="ccache#set">set()</a> already. So only the implementation of data storage is needed.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2008–2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc/api/1.1/CCache" class="_attribution-link">http://www.yiiframework.com/doc/api/1.1/CCache</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
