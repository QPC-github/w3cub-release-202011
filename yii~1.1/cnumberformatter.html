
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>CNumberFormatter - Yii 1.1 - W3cubDocs</title>
  
  <meta name="description" content=" Constructor. ">
  <meta name="keywords" content="cnumberformatter, yii, yii~1.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/yii~1.1/cnumberformatter.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/yii~1.1.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/yii~1.1/" class="_nav-link" title="" style="margin-left:0;">Yii 1.1</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _yii">
				
				
<h1>CNumberFormatter</h1>  <table class="summaryTable docClass"> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr> <th>Package</th> <td><a href="index#system.i18n">system.i18n</a></td> </tr> <tr> <th>Inheritance</th> <td>class CNumberFormatter » <a href="ccomponent">CComponent</a>
</td> </tr> <tr> <th>Since</th> <td>1.0</td> </tr> <tr> <th>Source Code</th> <td><a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/i18n/CNumberFormatter.php">framework/i18n/CNumberFormatter.php</a></td> </tr> </table> <div id="classDescription"> CNumberFormatter provides number localization functionalities. <br><br> CNumberFormatter formats a number (integer or float) and outputs a string based on the specified format. A CNumberFormatter instance is associated with a locale, and thus generates the string representation of the number in a locale-dependent fashion. <br><br> CNumberFormatter currently supports currency format, percentage format, decimal format, and custom format. The first three formats are specified in the locale data, while the custom format allows you to enter an arbitrary format string. <br><br> A format string may consist of the following special characters: <ul> <li>dot (.): the decimal point. It will be replaced with the localized decimal point.</li> <li>comma (,): the grouping separator. It will be replaced with the localized grouping separator.</li> <li>zero (0): required digit. This specifies the places where a digit must appear (will pad 0 if not).</li> <li>hash (#): optional digit. This is mainly used to specify the location of decimal point and grouping separators.</li> <li>currency (¤): the currency placeholder. It will be replaced with the localized currency symbol.</li> <li>percentage (%): the percentage mark. If appearing, the number will be multiplied by 100 before being formatted.</li> <li>permillage (‰): the permillage mark. If appearing, the number will be multiplied by 1000 before being formatted.</li> <li>semicolon (;): the character separating positive and negative number sub-patterns.</li> </ul> <br><br> Anything surrounding the pattern (or sub-patterns) will be kept. <br><br> The followings are some examples: <pre>
Pattern "#,##0.00" will format 12345.678 as "12,345.68".
Pattern "#,#,#0.00" will format 12345.6 as "1,2,3,45.60".
</pre> Note, in the first example, the number is rounded first before applying the formatting. And in the second example, the pattern specifies two grouping sizes. <br><br> CNumberFormatter attempts to implement number formatting according to the <a href="http://www.unicode.org/reports/tr35/">Unicode Technical Standard #35</a>. The following features are NOT implemented: <ul> <li>significant digit</li> <li>scientific format</li> <li>arbitrary literal characters</li> <li>arbitrary padding</li> </ul>
</div>   <div class="summary docMethod"> <h2>Public Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr class="inherited" id="__call"> <td><a href="ccomponent#__call-detail">__call()</a></td> <td>Calls the named method which is not a class method.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="__construct"> <td><a href="cnumberformatter#__construct-detail">__construct()</a></td> <td>Constructor.</td> <td>CNumberFormatter</td> </tr> <tr class="inherited" id="__get"> <td><a href="ccomponent#__get-detail">__get()</a></td> <td>Returns a property value, an event handler list or a behavior based on its name.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__isset"> <td><a href="ccomponent#__isset-detail">__isset()</a></td> <td>Checks if a property value is null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__set"> <td><a href="ccomponent#__set-detail">__set()</a></td> <td>Sets value of a component property.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__unset"> <td><a href="ccomponent#__unset-detail">__unset()</a></td> <td>Sets a component property to be null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="asa"> <td><a href="ccomponent#asa-detail">asa()</a></td> <td>Returns the named behavior object.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehavior"> <td><a href="ccomponent#attachBehavior-detail">attachBehavior()</a></td> <td>Attaches a behavior to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehaviors"> <td><a href="ccomponent#attachBehaviors-detail">attachBehaviors()</a></td> <td>Attaches a list of behaviors to the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachEventHandler"> <td><a href="ccomponent#attachEventHandler-detail">attachEventHandler()</a></td> <td>Attaches an event handler to an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="canGetProperty"> <td><a href="ccomponent#canGetProperty-detail">canGetProperty()</a></td> <td>Determines whether a property can be read.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="canSetProperty"> <td><a href="ccomponent#canSetProperty-detail">canSetProperty()</a></td> <td>Determines whether a property can be set.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachBehavior"> <td><a href="ccomponent#detachBehavior-detail">detachBehavior()</a></td> <td>Detaches a behavior from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachBehaviors"> <td><a href="ccomponent#detachBehaviors-detail">detachBehaviors()</a></td> <td>Detaches all behaviors from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachEventHandler"> <td><a href="ccomponent#detachEventHandler-detail">detachEventHandler()</a></td> <td>Detaches an existing event handler.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehavior"> <td><a href="ccomponent#disableBehavior-detail">disableBehavior()</a></td> <td>Disables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehaviors"> <td><a href="ccomponent#disableBehaviors-detail">disableBehaviors()</a></td> <td>Disables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehavior"> <td><a href="ccomponent#enableBehavior-detail">enableBehavior()</a></td> <td>Enables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehaviors"> <td><a href="ccomponent#enableBehaviors-detail">enableBehaviors()</a></td> <td>Enables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="evaluateExpression"> <td><a href="ccomponent#evaluateExpression-detail">evaluateExpression()</a></td> <td>Evaluates a PHP expression or callback under the context of this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="format"> <td><a href="cnumberformatter#format-detail">format()</a></td> <td>Formats a number based on the specified pattern.</td> <td>CNumberFormatter</td> </tr> <tr id="formatCurrency"> <td><a href="cnumberformatter#formatCurrency-detail">formatCurrency()</a></td> <td>Formats a number using the currency format defined in the locale.</td> <td>CNumberFormatter</td> </tr> <tr id="formatDecimal"> <td><a href="cnumberformatter#formatDecimal-detail">formatDecimal()</a></td> <td>Formats a number using the decimal format defined in the locale.</td> <td>CNumberFormatter</td> </tr> <tr id="formatPercentage"> <td><a href="cnumberformatter#formatPercentage-detail">formatPercentage()</a></td> <td>Formats a number using the percentage format defined in the locale.</td> <td>CNumberFormatter</td> </tr> <tr class="inherited" id="getEventHandlers"> <td><a href="ccomponent#getEventHandlers-detail">getEventHandlers()</a></td> <td>Returns the list of attached event handlers for an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasEvent"> <td><a href="ccomponent#hasEvent-detail">hasEvent()</a></td> <td>Determines whether an event is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasEventHandler"> <td><a href="ccomponent#hasEventHandler-detail">hasEventHandler()</a></td> <td>Checks whether the named event has attached handlers.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasProperty"> <td><a href="ccomponent#hasProperty-detail">hasProperty()</a></td> <td>Determines whether a property is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="raiseEvent"> <td><a href="ccomponent#raiseEvent-detail">raiseEvent()</a></td> <td>Raises an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> </table> </div> <div class="summary docMethod"> <h2>Protected Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="formatNumber"> <td><a href="cnumberformatter#formatNumber-detail">formatNumber()</a></td> <td>Formats a number based on a format.</td> <td>CNumberFormatter</td> </tr> <tr id="parseFormat"> <td><a href="cnumberformatter#parseFormat-detail">parseFormat()</a></td> <td>Parses a given string pattern.</td> <td>CNumberFormatter</td> </tr> </table> </div>  <h2>Method Details</h2> <h3 class="detailHeader" id="__construct-detail"> __construct() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>__construct</b>(mixed $locale)</pre> </td></tr> <tr> <td class="paramNameCol">$locale</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">locale ID (string) or CLocale instance</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/i18n/CNumberFormatter.php#L69">framework/i18n/CNumberFormatter.php#69</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$locale</span><span style="color: #007700">)<br>{<br>    if(</span><span style="color: #0000BB">is_string</span><span style="color: #007700">(</span><span style="color: #0000BB">$locale</span><span style="color: #007700">))<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_locale</span><span style="color: #007700">=</span><span style="color: #0000BB">CLocale</span><span style="color: #007700">::</span><span style="color: #0000BB">getInstance</span><span style="color: #007700">(</span><span style="color: #0000BB">$locale</span><span style="color: #007700">);<br>    else<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_locale</span><span style="color: #007700">=</span><span style="color: #0000BB">$locale</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Constructor.</p> <h3 class="detailHeader" id="format-detail"> format() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>format</b>(string $pattern, mixed $value, string $currency=NULL)</pre> </td></tr> <tr> <td class="paramNameCol">$pattern</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">format pattern</td> </tr> <tr> <td class="paramNameCol">$value</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the number to be formatted</td> </tr> <tr> <td class="paramNameCol">$currency</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">3-letter ISO 4217 code. For example, the code "USD" represents the US Dollar and "EUR" represents the Euro currency. The currency placeholder in the pattern will be replaced with the currency symbol. If null, no replacement will be done.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the formatting result.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/i18n/CNumberFormatter.php#L90">framework/i18n/CNumberFormatter.php#90</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #0000BB">$pattern</span><span style="color: #007700">,</span><span style="color: #0000BB">$value</span><span style="color: #007700">,</span><span style="color: #0000BB">$currency</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$format</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">parseFormat</span><span style="color: #007700">(</span><span style="color: #0000BB">$pattern</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$result</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">formatNumber</span><span style="color: #007700">(</span><span style="color: #0000BB">$format</span><span style="color: #007700">,</span><span style="color: #0000BB">$value</span><span style="color: #007700">);<br>    if(</span><span style="color: #0000BB">$currency</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        return </span><span style="color: #0000BB">$result</span><span style="color: #007700">;<br>    elseif((</span><span style="color: #0000BB">$symbol</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_locale</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getCurrencySymbol</span><span style="color: #007700">(</span><span style="color: #0000BB">$currency</span><span style="color: #007700">))===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$symbol</span><span style="color: #007700">=</span><span style="color: #0000BB">$currency</span><span style="color: #007700">;<br>    return </span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'¤'</span><span style="color: #007700">,</span><span style="color: #0000BB">$symbol</span><span style="color: #007700">,</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Formats a number based on the specified pattern. Note, if the format contains '%', the number will be multiplied by 100 first. If the format contains '‰', the number will be multiplied by 1000. If the format contains currency placeholder, it will be replaced by the specified localized currency symbol.</p> <h3 class="detailHeader" id="formatCurrency-detail"> formatCurrency() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>formatCurrency</b>(mixed $value, string $currency)</pre> </td></tr> <tr> <td class="paramNameCol">$value</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the number to be formatted</td> </tr> <tr> <td class="paramNameCol">$currency</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">3-letter ISO 4217 code. For example, the code "USD" represents the US Dollar and "EUR" represents the Euro currency. The currency placeholder in the pattern will be replaced with the currency symbol.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the formatting result.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/i18n/CNumberFormatter.php#L108">framework/i18n/CNumberFormatter.php#108</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">formatCurrency</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">,</span><span style="color: #0000BB">$currency</span><span style="color: #007700">)<br>{<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_locale</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getCurrencyFormat</span><span style="color: #007700">(),</span><span style="color: #0000BB">$value</span><span style="color: #007700">,</span><span style="color: #0000BB">$currency</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Formats a number using the currency format defined in the locale.</p> <h3 class="detailHeader" id="formatDecimal-detail"> formatDecimal() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>formatDecimal</b>(mixed $value)</pre> </td></tr> <tr> <td class="paramNameCol">$value</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the number to be formatted</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the formatting result.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/i18n/CNumberFormatter.php#L130">framework/i18n/CNumberFormatter.php#130</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">formatDecimal</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>{<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_locale</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDecimalFormat</span><span style="color: #007700">(),</span><span style="color: #0000BB">$value</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Formats a number using the decimal format defined in the locale.</p> <h3 class="detailHeader" id="formatNumber-detail"> formatNumber() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected string <b>formatNumber</b>(array $format, mixed $value)</pre> </td></tr> <tr> <td class="paramNameCol">$format</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">format with the following structure: <pre>
array(
	// number of required digits after the decimal point,
	// will be padded with 0 if not enough digits,
	// -1 means we should drop the decimal point
	'decimalDigits'=&gt;2,
	// maximum number of digits after the decimal point,
	// additional digits will be truncated.
	'maxDecimalDigits'=&gt;3,
	// number of required digits before the decimal point,
	// will be padded with 0 if not enough digits
	'integerDigits'=&gt;1,
	// the primary grouping size, 0 means no grouping
	'groupSize1'=&gt;3,
	// the secondary grouping size, 0 means no secondary grouping
	'groupSize2'=&gt;0,
	'positivePrefix'=&gt;'+',  // prefix to positive number
	'positiveSuffix'=&gt;'',   // suffix to positive number
	'negativePrefix'=&gt;'(',  // prefix to negative number
	'negativeSuffix'=&gt;')',  // suffix to negative number
	'multiplier'=&gt;1,        // 100 for percent, 1000 for per mille
);
</pre>
</td> </tr> <tr> <td class="paramNameCol">$value</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the number to be formatted</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the formatted result</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/i18n/CNumberFormatter.php#L165">framework/i18n/CNumberFormatter.php#165</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">formatNumber</span><span style="color: #007700">(</span><span style="color: #0000BB">$format</span><span style="color: #007700">,</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$negative</span><span style="color: #007700">=</span><span style="color: #0000BB">$value</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$value</span><span style="color: #007700">=</span><span style="color: #0000BB">abs</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">*</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'multiplier'</span><span style="color: #007700">]);<br>    if(</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'maxDecimalDigits'</span><span style="color: #007700">]&gt;=</span><span style="color: #0000BB">0</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$value</span><span style="color: #007700">=</span><span style="color: #0000BB">number_format</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">,</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'maxDecimalDigits'</span><span style="color: #007700">],</span><span style="color: #DD0000">'.'</span><span style="color: #007700">,</span><span style="color: #DD0000">''</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$value</span><span style="color: #007700">=</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$value</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br>    if(</span><span style="color: #0000BB">false </span><span style="color: #007700">!== </span><span style="color: #0000BB">$pos</span><span style="color: #007700">=</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">,</span><span style="color: #DD0000">'.'</span><span style="color: #007700">))<br>    {<br>        </span><span style="color: #0000BB">$integer</span><span style="color: #007700">=</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">$pos</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">$decimal</span><span style="color: #007700">=</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">,</span><span style="color: #0000BB">$pos</span><span style="color: #007700">+</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br>    }<br>    else<br>    {<br>        </span><span style="color: #0000BB">$integer</span><span style="color: #007700">=</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$decimal</span><span style="color: #007700">=</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br>    }<br>    if(</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'decimalDigits'</span><span style="color: #007700">]&gt;</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$decimal</span><span style="color: #007700">))<br>        </span><span style="color: #0000BB">$decimal</span><span style="color: #007700">=</span><span style="color: #0000BB">str_pad</span><span style="color: #007700">(</span><span style="color: #0000BB">$decimal</span><span style="color: #007700">,</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'decimalDigits'</span><span style="color: #007700">],</span><span style="color: #DD0000">'0'</span><span style="color: #007700">);<br>    elseif(</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'decimalDigits'</span><span style="color: #007700">]&lt;</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$decimal</span><span style="color: #007700">))<br>    {<br>        </span><span style="color: #0000BB">$decimal_temp</span><span style="color: #007700">=</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br>        for(</span><span style="color: #0000BB">$i</span><span style="color: #007700">=</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$decimal</span><span style="color: #007700">)-</span><span style="color: #0000BB">1</span><span style="color: #007700">;</span><span style="color: #0000BB">$i</span><span style="color: #007700">&gt;=</span><span style="color: #0000BB">0</span><span style="color: #007700">;</span><span style="color: #0000BB">$i</span><span style="color: #007700">--)<br>            if(</span><span style="color: #0000BB">$decimal</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">]!==</span><span style="color: #DD0000">'0' </span><span style="color: #007700">|| </span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$decimal_temp</span><span style="color: #007700">)&gt;</span><span style="color: #0000BB">0</span><span style="color: #007700">)<br>                </span><span style="color: #0000BB">$decimal_temp</span><span style="color: #007700">=</span><span style="color: #0000BB">$decimal</span><span style="color: #007700">[</span><span style="color: #0000BB">$i</span><span style="color: #007700">].</span><span style="color: #0000BB">$decimal_temp</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$decimal</span><span style="color: #007700">=</span><span style="color: #0000BB">$decimal_temp</span><span style="color: #007700">;<br>    }<br>    if(</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$decimal</span><span style="color: #007700">)&gt;</span><span style="color: #0000BB">0</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$decimal</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_locale</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getNumberSymbol</span><span style="color: #007700">(</span><span style="color: #DD0000">'decimal'</span><span style="color: #007700">).</span><span style="color: #0000BB">$decimal</span><span style="color: #007700">;<br><br>    </span><span style="color: #0000BB">$integer</span><span style="color: #007700">=</span><span style="color: #0000BB">str_pad</span><span style="color: #007700">(</span><span style="color: #0000BB">$integer</span><span style="color: #007700">,</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'integerDigits'</span><span style="color: #007700">],</span><span style="color: #DD0000">'0'</span><span style="color: #007700">,</span><span style="color: #0000BB">STR_PAD_LEFT</span><span style="color: #007700">);<br>    if(</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'groupSize1'</span><span style="color: #007700">]&gt;</span><span style="color: #0000BB">0 </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$integer</span><span style="color: #007700">)&gt;</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'groupSize1'</span><span style="color: #007700">])<br>    {<br>        </span><span style="color: #0000BB">$str1</span><span style="color: #007700">=</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$integer</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">,-</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'groupSize1'</span><span style="color: #007700">]);<br>        </span><span style="color: #0000BB">$str2</span><span style="color: #007700">=</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$integer</span><span style="color: #007700">,-</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'groupSize1'</span><span style="color: #007700">]);<br>        </span><span style="color: #0000BB">$size</span><span style="color: #007700">=</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'groupSize2'</span><span style="color: #007700">]&gt;</span><span style="color: #0000BB">0</span><span style="color: #007700">?</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'groupSize2'</span><span style="color: #007700">]:</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'groupSize1'</span><span style="color: #007700">];<br>        </span><span style="color: #0000BB">$str1</span><span style="color: #007700">=</span><span style="color: #0000BB">str_pad</span><span style="color: #007700">(</span><span style="color: #0000BB">$str1</span><span style="color: #007700">,(int)((</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$str1</span><span style="color: #007700">)+</span><span style="color: #0000BB">$size</span><span style="color: #007700">-</span><span style="color: #0000BB">1</span><span style="color: #007700">)/</span><span style="color: #0000BB">$size</span><span style="color: #007700">)*</span><span style="color: #0000BB">$size</span><span style="color: #007700">,</span><span style="color: #DD0000">' '</span><span style="color: #007700">,</span><span style="color: #0000BB">STR_PAD_LEFT</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">$integer</span><span style="color: #007700">=</span><span style="color: #0000BB">ltrim</span><span style="color: #007700">(</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_locale</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getNumberSymbol</span><span style="color: #007700">(</span><span style="color: #DD0000">'group'</span><span style="color: #007700">),</span><span style="color: #0000BB">str_split</span><span style="color: #007700">(</span><span style="color: #0000BB">$str1</span><span style="color: #007700">,</span><span style="color: #0000BB">$size</span><span style="color: #007700">))).</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_locale</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getNumberSymbol</span><span style="color: #007700">(</span><span style="color: #DD0000">'group'</span><span style="color: #007700">).</span><span style="color: #0000BB">$str2</span><span style="color: #007700">;<br>    }<br><br>    if(</span><span style="color: #0000BB">$negative</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$number</span><span style="color: #007700">=</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'negativePrefix'</span><span style="color: #007700">].</span><span style="color: #0000BB">$integer</span><span style="color: #007700">.</span><span style="color: #0000BB">$decimal</span><span style="color: #007700">.</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'negativeSuffix'</span><span style="color: #007700">];<br>    else<br>        </span><span style="color: #0000BB">$number</span><span style="color: #007700">=</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'positivePrefix'</span><span style="color: #007700">].</span><span style="color: #0000BB">$integer</span><span style="color: #007700">.</span><span style="color: #0000BB">$decimal</span><span style="color: #007700">.</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'positiveSuffix'</span><span style="color: #007700">];<br><br>    return </span><span style="color: #0000BB">strtr</span><span style="color: #007700">(</span><span style="color: #0000BB">$number</span><span style="color: #007700">,array(</span><span style="color: #DD0000">'%'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_locale</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getNumberSymbol</span><span style="color: #007700">(</span><span style="color: #DD0000">'percentSign'</span><span style="color: #007700">),</span><span style="color: #DD0000">'‰'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_locale</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getNumberSymbol</span><span style="color: #007700">(</span><span style="color: #DD0000">'perMille'</span><span style="color: #007700">)));<br>}</span></pre> </div> <p>Formats a number based on a format. This is the method that does actual number formatting.</p> <h3 class="detailHeader" id="formatPercentage-detail"> formatPercentage() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>formatPercentage</b>(mixed $value)</pre> </td></tr> <tr> <td class="paramNameCol">$value</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the number to be formatted</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the formatting result.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/i18n/CNumberFormatter.php#L120">framework/i18n/CNumberFormatter.php#120</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">formatPercentage</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>{<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_locale</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getPercentFormat</span><span style="color: #007700">(),</span><span style="color: #0000BB">$value</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Formats a number using the percentage format defined in the locale. Note, if the percentage format contains '%', the number will be multiplied by 100 first. If the percentage format contains '‰', the number will be multiplied by 1000.</p> <h3 class="detailHeader" id="parseFormat-detail"> parseFormat() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected array <b>parseFormat</b>(string $pattern)</pre> </td></tr> <tr> <td class="paramNameCol">$pattern</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the pattern to be parsed</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">the parsed pattern</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/i18n/CNumberFormatter.php#L219">framework/i18n/CNumberFormatter.php#219</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">parseFormat</span><span style="color: #007700">(</span><span style="color: #0000BB">$pattern</span><span style="color: #007700">)<br>{<br>    if(isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_formats</span><span style="color: #007700">[</span><span style="color: #0000BB">$pattern</span><span style="color: #007700">]))<br>        return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_formats</span><span style="color: #007700">[</span><span style="color: #0000BB">$pattern</span><span style="color: #007700">];<br><br>    </span><span style="color: #0000BB">$format</span><span style="color: #007700">=array();<br><br>    </span><span style="color: #FF8000">// find out prefix and suffix for positive and negative patterns<br>    </span><span style="color: #0000BB">$patterns</span><span style="color: #007700">=</span><span style="color: #0000BB">explode</span><span style="color: #007700">(</span><span style="color: #DD0000">';'</span><span style="color: #007700">,</span><span style="color: #0000BB">$pattern</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'positivePrefix'</span><span style="color: #007700">]=</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'positiveSuffix'</span><span style="color: #007700">]=</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'negativePrefix'</span><span style="color: #007700">]=</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'negativeSuffix'</span><span style="color: #007700">]=</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br>    if(</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/^(.*?)[#,\.0]+(.*?)$/'</span><span style="color: #007700">,</span><span style="color: #0000BB">$patterns</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">],</span><span style="color: #0000BB">$matches</span><span style="color: #007700">))<br>    {<br>        </span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'positivePrefix'</span><span style="color: #007700">]=</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br>        </span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'positiveSuffix'</span><span style="color: #007700">]=</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">];<br>    }<br><br>    if(isset(</span><span style="color: #0000BB">$patterns</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]) &amp;&amp; </span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/^(.*?)[#,\.0]+(.*?)$/'</span><span style="color: #007700">,</span><span style="color: #0000BB">$patterns</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">],</span><span style="color: #0000BB">$matches</span><span style="color: #007700">))  </span><span style="color: #FF8000">// with a negative pattern<br>    </span><span style="color: #007700">{<br>        </span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'negativePrefix'</span><span style="color: #007700">]=</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br>        </span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'negativeSuffix'</span><span style="color: #007700">]=</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">];<br>    }<br>    else<br>    {<br>        </span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'negativePrefix'</span><span style="color: #007700">]=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_locale</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getNumberSymbol</span><span style="color: #007700">(</span><span style="color: #DD0000">'minusSign'</span><span style="color: #007700">).</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'positivePrefix'</span><span style="color: #007700">];<br>        </span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'negativeSuffix'</span><span style="color: #007700">]=</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'positiveSuffix'</span><span style="color: #007700">];<br>    }<br>    </span><span style="color: #0000BB">$pat</span><span style="color: #007700">=</span><span style="color: #0000BB">$patterns</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br><br>    </span><span style="color: #FF8000">// find out multiplier<br>    </span><span style="color: #007700">if(</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$pat</span><span style="color: #007700">,</span><span style="color: #DD0000">'%'</span><span style="color: #007700">)!==</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'multiplier'</span><span style="color: #007700">]=</span><span style="color: #0000BB">100</span><span style="color: #007700">;<br>    elseif(</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$pat</span><span style="color: #007700">,</span><span style="color: #DD0000">'‰'</span><span style="color: #007700">)!==</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'multiplier'</span><span style="color: #007700">]=</span><span style="color: #0000BB">1000</span><span style="color: #007700">;<br>    else<br>        </span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'multiplier'</span><span style="color: #007700">]=</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br><br>    </span><span style="color: #FF8000">// find out things about decimal part<br>    </span><span style="color: #007700">if((</span><span style="color: #0000BB">$pos</span><span style="color: #007700">=</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$pat</span><span style="color: #007700">,</span><span style="color: #DD0000">'.'</span><span style="color: #007700">))!==</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>    {<br>        if((</span><span style="color: #0000BB">$pos2</span><span style="color: #007700">=</span><span style="color: #0000BB">strrpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$pat</span><span style="color: #007700">,</span><span style="color: #DD0000">'0'</span><span style="color: #007700">))&gt;</span><span style="color: #0000BB">$pos</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'decimalDigits'</span><span style="color: #007700">]=</span><span style="color: #0000BB">$pos2</span><span style="color: #007700">-</span><span style="color: #0000BB">$pos</span><span style="color: #007700">;<br>        else<br>            </span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'decimalDigits'</span><span style="color: #007700">]=</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br>        if((</span><span style="color: #0000BB">$pos3</span><span style="color: #007700">=</span><span style="color: #0000BB">strrpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$pat</span><span style="color: #007700">,</span><span style="color: #DD0000">'#'</span><span style="color: #007700">))&gt;=</span><span style="color: #0000BB">$pos2</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'maxDecimalDigits'</span><span style="color: #007700">]=</span><span style="color: #0000BB">$pos3</span><span style="color: #007700">-</span><span style="color: #0000BB">$pos</span><span style="color: #007700">;<br>        else<br>            </span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'maxDecimalDigits'</span><span style="color: #007700">]=</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'decimalDigits'</span><span style="color: #007700">];<br>        </span><span style="color: #0000BB">$pat</span><span style="color: #007700">=</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$pat</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">$pos</span><span style="color: #007700">);<br>    }<br>    else   </span><span style="color: #FF8000">// no decimal part<br>    </span><span style="color: #007700">{<br>        </span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'decimalDigits'</span><span style="color: #007700">]=</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'maxDecimalDigits'</span><span style="color: #007700">]=</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br>    }<br><br>    </span><span style="color: #FF8000">// find out things about integer part<br>    </span><span style="color: #0000BB">$p</span><span style="color: #007700">=</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">','</span><span style="color: #007700">,</span><span style="color: #DD0000">''</span><span style="color: #007700">,</span><span style="color: #0000BB">$pat</span><span style="color: #007700">);<br>    if((</span><span style="color: #0000BB">$pos</span><span style="color: #007700">=</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$p</span><span style="color: #007700">,</span><span style="color: #DD0000">'0'</span><span style="color: #007700">))!==</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'integerDigits'</span><span style="color: #007700">]=</span><span style="color: #0000BB">strrpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$p</span><span style="color: #007700">,</span><span style="color: #DD0000">'0'</span><span style="color: #007700">)-</span><span style="color: #0000BB">$pos</span><span style="color: #007700">+</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br>    else<br>        </span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'integerDigits'</span><span style="color: #007700">]=</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br>    </span><span style="color: #FF8000">// find out group sizes. some patterns may have two different group sizes<br>    </span><span style="color: #0000BB">$p</span><span style="color: #007700">=</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'#'</span><span style="color: #007700">,</span><span style="color: #DD0000">'0'</span><span style="color: #007700">,</span><span style="color: #0000BB">$pat</span><span style="color: #007700">);<br>    if((</span><span style="color: #0000BB">$pos</span><span style="color: #007700">=</span><span style="color: #0000BB">strrpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$pat</span><span style="color: #007700">,</span><span style="color: #DD0000">','</span><span style="color: #007700">))!==</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'groupSize1'</span><span style="color: #007700">]=</span><span style="color: #0000BB">strrpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$p</span><span style="color: #007700">,</span><span style="color: #DD0000">'0'</span><span style="color: #007700">)-</span><span style="color: #0000BB">$pos</span><span style="color: #007700">;<br>        if((</span><span style="color: #0000BB">$pos2</span><span style="color: #007700">=</span><span style="color: #0000BB">strrpos</span><span style="color: #007700">(</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$p</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">$pos</span><span style="color: #007700">),</span><span style="color: #DD0000">','</span><span style="color: #007700">))!==</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'groupSize2'</span><span style="color: #007700">]=</span><span style="color: #0000BB">$pos</span><span style="color: #007700">-</span><span style="color: #0000BB">$pos2</span><span style="color: #007700">-</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br>        else<br>            </span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'groupSize2'</span><span style="color: #007700">]=</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br>    }<br>    else<br>        </span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'groupSize1'</span><span style="color: #007700">]=</span><span style="color: #0000BB">$format</span><span style="color: #007700">[</span><span style="color: #DD0000">'groupSize2'</span><span style="color: #007700">]=</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br><br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_formats</span><span style="color: #007700">[</span><span style="color: #0000BB">$pattern</span><span style="color: #007700">]=</span><span style="color: #0000BB">$format</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Parses a given string pattern.</p> <div class="SeeAlso"> <h4>See Also</h4> <ul> <li><a href="cnumberformatter#formatNumber">formatNumber</a></li> </ul> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2008–2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc/api/1.1/CNumberFormatter" class="_attribution-link">http://www.yiiframework.com/doc/api/1.1/CNumberFormatter</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
