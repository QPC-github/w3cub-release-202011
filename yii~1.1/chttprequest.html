
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>CHttpRequest - Yii 1.1 - W3cubDocs</title>
  
  <meta name="description" content=" Returns user browser accept types, null if not present. ">
  <meta name="keywords" content="chttprequest, yii, yii~1.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/yii~1.1/chttprequest.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/yii~1.1.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/yii~1.1/" class="_nav-link" title="" style="margin-left:0;">Yii 1.1</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _yii">
				
				
<h1>CHttpRequest</h1>  <table class="summaryTable docClass"> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr> <th>Package</th> <td><a href="index#system.web">system.web</a></td> </tr> <tr> <th>Inheritance</th> <td>class CHttpRequest » <a href="capplicationcomponent">CApplicationComponent</a> » <a href="ccomponent">CComponent</a>
</td> </tr> <tr> <th>Implements</th> <td><a href="iapplicationcomponent">IApplicationComponent</a></td> </tr> <tr> <th>Since</th> <td>1.0</td> </tr> <tr> <th>Source Code</th> <td><a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php">framework/web/CHttpRequest.php</a></td> </tr> </table> <div id="classDescription"> CHttpRequest encapsulates the $_SERVER variable and resolves its inconsistency among different Web servers. <br><br> CHttpRequest also manages the cookies sent from and sent to the user. By setting <a href="chttprequest#enableCookieValidation">enableCookieValidation</a> to true, cookies sent from the user will be validated to see if they are tampered. The property <a href="chttprequest#getCookies">cookies</a> returns the collection of cookies. For more details, see <a href="ccookiecollection">CCookieCollection</a>. <br><br> CHttpRequest is a default application component loaded by <a href="cwebapplication">CWebApplication</a>. It can be accessed via <a href="cwebapplication#getRequest">CWebApplication::getRequest()</a>.</div>  <div class="summary docProperty"> <h2>Public Properties</h2>  <table class="summaryTable"> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="acceptTypes"> <td><a href="chttprequest#acceptTypes-detail">acceptTypes</a></td> <td>string</td> <td>Returns user browser accept types, null if not present.</td> <td>CHttpRequest</td> </tr> <tr id="baseUrl"> <td><a href="chttprequest#baseUrl-detail">baseUrl</a></td> <td>string</td> <td>Returns the relative URL for the application.</td> <td>CHttpRequest</td> </tr> <tr class="inherited" id="behaviors"> <td><a href="capplicationcomponent#behaviors-detail">behaviors</a></td> <td>array</td> <td>the behaviors that should be attached to this component.</td> <td><a href="capplicationcomponent">CApplicationComponent</a></td> </tr> <tr id="browser"> <td><a href="chttprequest#browser-detail">browser</a></td> <td>array</td> <td>Returns information about the capabilities of user browser.</td> <td>CHttpRequest</td> </tr> <tr id="contentType"> <td><a href="chttprequest#contentType-detail">contentType</a></td> <td>string</td> <td>Returns request content-type</td> <td>CHttpRequest</td> </tr> <tr id="cookies"> <td><a href="chttprequest#cookies-detail">cookies</a></td> <td><a href="ccookiecollection">CCookieCollection</a></td> <td>Returns the cookie collection.</td> <td>CHttpRequest</td> </tr> <tr id="csrfCookie"> <td><a href="chttprequest#csrfCookie-detail">csrfCookie</a></td> <td>array</td> <td>the property values (in name-value pairs) used to initialize the CSRF cookie.</td> <td>CHttpRequest</td> </tr> <tr id="csrfToken"> <td><a href="chttprequest#csrfToken-detail">csrfToken</a></td> <td>string</td> <td>Returns the random token used to perform CSRF validation.</td> <td>CHttpRequest</td> </tr> <tr id="csrfTokenName"> <td><a href="chttprequest#csrfTokenName-detail">csrfTokenName</a></td> <td>string</td> <td>the name of the token used to prevent CSRF.</td> <td>CHttpRequest</td> </tr> <tr id="enableCookieValidation"> <td><a href="chttprequest#enableCookieValidation-detail">enableCookieValidation</a></td> <td>boolean</td> <td>whether cookies should be validated to ensure they are not tampered.</td> <td>CHttpRequest</td> </tr> <tr id="enableCsrfValidation"> <td><a href="chttprequest#enableCsrfValidation-detail">enableCsrfValidation</a></td> <td>boolean</td> <td>whether to enable CSRF (Cross-Site Request Forgery) validation.</td> <td>CHttpRequest</td> </tr> <tr id="hostInfo"> <td><a href="chttprequest#hostInfo-detail">hostInfo</a></td> <td>string</td> <td>Returns the schema and host part of the application URL.</td> <td>CHttpRequest</td> </tr> <tr id="httpVersion"> <td><a href="chttprequest#httpVersion-detail">httpVersion</a></td> <td>string</td> <td>Returns the version of the HTTP protocol used by client.</td> <td>CHttpRequest</td> </tr> <tr id="isAjaxRequest"> <td><a href="chttprequest#isAjaxRequest-detail">isAjaxRequest</a></td> <td>boolean</td> <td>Returns whether this is an AJAX (XMLHttpRequest) request.</td> <td>CHttpRequest</td> </tr> <tr id="isDeleteRequest"> <td><a href="chttprequest#isDeleteRequest-detail">isDeleteRequest</a></td> <td>boolean</td> <td>Returns whether this is a DELETE request.</td> <td>CHttpRequest</td> </tr> <tr id="isFlashRequest"> <td><a href="chttprequest#isFlashRequest-detail">isFlashRequest</a></td> <td>boolean</td> <td>Returns whether this is an Adobe Flash or Adobe Flex request.</td> <td>CHttpRequest</td> </tr> <tr class="inherited" id="isInitialized"> <td><a href="capplicationcomponent#isInitialized-detail">isInitialized</a></td> <td>boolean</td> <td>Checks if this application component has been initialized.</td> <td><a href="capplicationcomponent">CApplicationComponent</a></td> </tr> <tr id="isPatchRequest"> <td><a href="chttprequest#isPatchRequest-detail">isPatchRequest</a></td> <td>boolean</td> <td>Returns whether this is a PATCH request.</td> <td>CHttpRequest</td> </tr> <tr id="isPostRequest"> <td><a href="chttprequest#isPostRequest-detail">isPostRequest</a></td> <td>boolean</td> <td>Returns whether this is a POST request.</td> <td>CHttpRequest</td> </tr> <tr id="isPutRequest"> <td><a href="chttprequest#isPutRequest-detail">isPutRequest</a></td> <td>boolean</td> <td>Returns whether this is a PUT request.</td> <td>CHttpRequest</td> </tr> <tr id="isSecureConnection"> <td><a href="chttprequest#isSecureConnection-detail">isSecureConnection</a></td> <td>boolean</td> <td>Return if the request is sent via secure channel (https).</td> <td>CHttpRequest</td> </tr> <tr id="jsonAsArray"> <td><a href="chttprequest#jsonAsArray-detail">jsonAsArray</a></td> <td>boolean</td> <td>whether the parsing of JSON REST requests should return associative arrays for object data.</td> <td>CHttpRequest</td> </tr> <tr id="pathInfo"> <td><a href="chttprequest#pathInfo-detail">pathInfo</a></td> <td>string</td> <td>Returns the path info of the currently requested URL.</td> <td>CHttpRequest</td> </tr> <tr id="port"> <td><a href="chttprequest#port-detail">port</a></td> <td>integer</td> <td>Returns the port to use for insecure requests.</td> <td>CHttpRequest</td> </tr> <tr id="preferredAcceptType"> <td><a href="chttprequest#preferredAcceptType-detail">preferredAcceptType</a></td> <td>array</td> <td>Returns the user preferred accept MIME type.</td> <td>CHttpRequest</td> </tr> <tr id="preferredAcceptTypes"> <td><a href="chttprequest#preferredAcceptTypes-detail">preferredAcceptTypes</a></td> <td>array</td> <td>Returns an array of user accepted MIME types in order of preference.</td> <td>CHttpRequest</td> </tr> <tr id="preferredLanguage"> <td><a href="chttprequest#preferredLanguage-detail">preferredLanguage</a></td> <td>string</td> <td>Returns the user-preferred language that should be used by this application.</td> <td>CHttpRequest</td> </tr> <tr id="preferredLanguages"> <td><a href="chttprequest#preferredLanguages-detail">preferredLanguages</a></td> <td>array</td> <td>Returns an array of user accepted languages in order of preference.</td> <td>CHttpRequest</td> </tr> <tr id="queryString"> <td><a href="chttprequest#queryString-detail">queryString</a></td> <td>string</td> <td>Returns part of the request URL that is after the question mark.</td> <td>CHttpRequest</td> </tr> <tr id="rawBody"> <td><a href="chttprequest#rawBody-detail">rawBody</a></td> <td>string</td> <td>Returns the raw HTTP request body.</td> <td>CHttpRequest</td> </tr> <tr id="requestType"> <td><a href="chttprequest#requestType-detail">requestType</a></td> <td>string</td> <td>Returns the request type, such as GET, POST, HEAD, PUT, PATCH, DELETE.</td> <td>CHttpRequest</td> </tr> <tr id="requestUri"> <td><a href="chttprequest#requestUri-detail">requestUri</a></td> <td>string</td> <td>Returns the request URI portion for the currently requested URL.</td> <td>CHttpRequest</td> </tr> <tr id="restParams"> <td><a href="chttprequest#restParams-detail">restParams</a></td> <td>array</td> <td>Returns request parameters. Typically PUT, PATCH or DELETE.</td> <td>CHttpRequest</td> </tr> <tr id="scriptFile"> <td><a href="chttprequest#scriptFile-detail">scriptFile</a></td> <td>string</td> <td>Returns entry script file path.</td> <td>CHttpRequest</td> </tr> <tr id="scriptUrl"> <td><a href="chttprequest#scriptUrl-detail">scriptUrl</a></td> <td>string</td> <td>Returns the relative URL of the entry script.</td> <td>CHttpRequest</td> </tr> <tr id="securePort"> <td><a href="chttprequest#securePort-detail">securePort</a></td> <td>integer</td> <td>Returns the port to use for secure requests.</td> <td>CHttpRequest</td> </tr> <tr id="serverName"> <td><a href="chttprequest#serverName-detail">serverName</a></td> <td>string</td> <td>Returns the server name.</td> <td>CHttpRequest</td> </tr> <tr id="serverPort"> <td><a href="chttprequest#serverPort-detail">serverPort</a></td> <td>integer</td> <td>Returns the server port number.</td> <td>CHttpRequest</td> </tr> <tr id="url"> <td><a href="chttprequest#url-detail">url</a></td> <td>string</td> <td>Returns the currently requested URL.</td> <td>CHttpRequest</td> </tr> <tr id="urlReferrer"> <td><a href="chttprequest#urlReferrer-detail">urlReferrer</a></td> <td>string</td> <td>Returns the URL referrer, null if not present</td> <td>CHttpRequest</td> </tr> <tr id="userAgent"> <td><a href="chttprequest#userAgent-detail">userAgent</a></td> <td>string</td> <td>Returns the user agent, null if not present.</td> <td>CHttpRequest</td> </tr> <tr id="userHost"> <td><a href="chttprequest#userHost-detail">userHost</a></td> <td>string</td> <td>Returns the user host name, null if it cannot be determined.</td> <td>CHttpRequest</td> </tr> <tr id="userHostAddress"> <td><a href="chttprequest#userHostAddress-detail">userHostAddress</a></td> <td>string</td> <td>Returns the user IP address.</td> <td>CHttpRequest</td> </tr> </table> </div> <div class="summary docProperty"> <h2>Protected Properties</h2>  <table class="summaryTable"> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="isDeleteViaPostRequest"> <td><a href="chttprequest#isDeleteViaPostRequest-detail">isDeleteViaPostRequest</a></td> <td>boolean</td> <td>Returns whether this is a DELETE request which was tunneled through POST.</td> <td>CHttpRequest</td> </tr> <tr id="isPatchViaPostRequest"> <td><a href="chttprequest#isPatchViaPostRequest-detail">isPatchViaPostRequest</a></td> <td>boolean</td> <td>Returns whether this is a PATCH request which was tunneled through POST.</td> <td>CHttpRequest</td> </tr> <tr id="isPutViaPostRequest"> <td><a href="chttprequest#isPutViaPostRequest-detail">isPutViaPostRequest</a></td> <td>boolean</td> <td>Returns whether this is a PUT request which was tunneled through POST.</td> <td>CHttpRequest</td> </tr> </table> </div>  <div class="summary docMethod"> <h2>Public Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr class="inherited" id="__call"> <td><a href="ccomponent#__call-detail">__call()</a></td> <td>Calls the named method which is not a class method.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__get"> <td><a href="ccomponent#__get-detail">__get()</a></td> <td>Returns a property value, an event handler list or a behavior based on its name.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__isset"> <td><a href="ccomponent#__isset-detail">__isset()</a></td> <td>Checks if a property value is null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__set"> <td><a href="ccomponent#__set-detail">__set()</a></td> <td>Sets value of a component property.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__unset"> <td><a href="ccomponent#__unset-detail">__unset()</a></td> <td>Sets a component property to be null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="asa"> <td><a href="ccomponent#asa-detail">asa()</a></td> <td>Returns the named behavior object.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehavior"> <td><a href="ccomponent#attachBehavior-detail">attachBehavior()</a></td> <td>Attaches a behavior to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehaviors"> <td><a href="ccomponent#attachBehaviors-detail">attachBehaviors()</a></td> <td>Attaches a list of behaviors to the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachEventHandler"> <td><a href="ccomponent#attachEventHandler-detail">attachEventHandler()</a></td> <td>Attaches an event handler to an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="canGetProperty"> <td><a href="ccomponent#canGetProperty-detail">canGetProperty()</a></td> <td>Determines whether a property can be read.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="canSetProperty"> <td><a href="ccomponent#canSetProperty-detail">canSetProperty()</a></td> <td>Determines whether a property can be set.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="compareAcceptTypes"> <td><a href="chttprequest#compareAcceptTypes-detail">compareAcceptTypes()</a></td> <td>Compare function for determining the preference of accepted MIME type array maps</td> <td>CHttpRequest</td> </tr> <tr class="inherited" id="detachBehavior"> <td><a href="ccomponent#detachBehavior-detail">detachBehavior()</a></td> <td>Detaches a behavior from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachBehaviors"> <td><a href="ccomponent#detachBehaviors-detail">detachBehaviors()</a></td> <td>Detaches all behaviors from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachEventHandler"> <td><a href="ccomponent#detachEventHandler-detail">detachEventHandler()</a></td> <td>Detaches an existing event handler.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehavior"> <td><a href="ccomponent#disableBehavior-detail">disableBehavior()</a></td> <td>Disables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehaviors"> <td><a href="ccomponent#disableBehaviors-detail">disableBehaviors()</a></td> <td>Disables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehavior"> <td><a href="ccomponent#enableBehavior-detail">enableBehavior()</a></td> <td>Enables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehaviors"> <td><a href="ccomponent#enableBehaviors-detail">enableBehaviors()</a></td> <td>Enables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="evaluateExpression"> <td><a href="ccomponent#evaluateExpression-detail">evaluateExpression()</a></td> <td>Evaluates a PHP expression or callback under the context of this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="getAcceptTypes"> <td><a href="chttprequest#getAcceptTypes-detail">getAcceptTypes()</a></td> <td>Returns user browser accept types, null if not present.</td> <td>CHttpRequest</td> </tr> <tr id="getBaseUrl"> <td><a href="chttprequest#getBaseUrl-detail">getBaseUrl()</a></td> <td>Returns the relative URL for the application.</td> <td>CHttpRequest</td> </tr> <tr id="getBrowser"> <td><a href="chttprequest#getBrowser-detail">getBrowser()</a></td> <td>Returns information about the capabilities of user browser.</td> <td>CHttpRequest</td> </tr> <tr id="getContentType"> <td><a href="chttprequest#getContentType-detail">getContentType()</a></td> <td>Returns request content-type</td> <td>CHttpRequest</td> </tr> <tr id="getCookies"> <td><a href="chttprequest#getCookies-detail">getCookies()</a></td> <td>Returns the cookie collection.</td> <td>CHttpRequest</td> </tr> <tr id="getCsrfToken"> <td><a href="chttprequest#getCsrfToken-detail">getCsrfToken()</a></td> <td>Returns the random token used to perform CSRF validation.</td> <td>CHttpRequest</td> </tr> <tr id="getDelete"> <td><a href="chttprequest#getDelete-detail">getDelete()</a></td> <td>Returns the named DELETE parameter value.</td> <td>CHttpRequest</td> </tr> <tr class="inherited" id="getEventHandlers"> <td><a href="ccomponent#getEventHandlers-detail">getEventHandlers()</a></td> <td>Returns the list of attached event handlers for an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="getHostInfo"> <td><a href="chttprequest#getHostInfo-detail">getHostInfo()</a></td> <td>Returns the schema and host part of the application URL.</td> <td>CHttpRequest</td> </tr> <tr id="getHttpVersion"> <td><a href="chttprequest#getHttpVersion-detail">getHttpVersion()</a></td> <td>Returns the version of the HTTP protocol used by client.</td> <td>CHttpRequest</td> </tr> <tr id="getIsAjaxRequest"> <td><a href="chttprequest#getIsAjaxRequest-detail">getIsAjaxRequest()</a></td> <td>Returns whether this is an AJAX (XMLHttpRequest) request.</td> <td>CHttpRequest</td> </tr> <tr id="getIsDeleteRequest"> <td><a href="chttprequest#getIsDeleteRequest-detail">getIsDeleteRequest()</a></td> <td>Returns whether this is a DELETE request.</td> <td>CHttpRequest</td> </tr> <tr id="getIsFlashRequest"> <td><a href="chttprequest#getIsFlashRequest-detail">getIsFlashRequest()</a></td> <td>Returns whether this is an Adobe Flash or Adobe Flex request.</td> <td>CHttpRequest</td> </tr> <tr class="inherited" id="getIsInitialized"> <td><a href="capplicationcomponent#getIsInitialized-detail">getIsInitialized()</a></td> <td>Checks if this application component has been initialized.</td> <td><a href="capplicationcomponent">CApplicationComponent</a></td> </tr> <tr id="getIsPatchRequest"> <td><a href="chttprequest#getIsPatchRequest-detail">getIsPatchRequest()</a></td> <td>Returns whether this is a PATCH request.</td> <td>CHttpRequest</td> </tr> <tr id="getIsPostRequest"> <td><a href="chttprequest#getIsPostRequest-detail">getIsPostRequest()</a></td> <td>Returns whether this is a POST request.</td> <td>CHttpRequest</td> </tr> <tr id="getIsPutRequest"> <td><a href="chttprequest#getIsPutRequest-detail">getIsPutRequest()</a></td> <td>Returns whether this is a PUT request.</td> <td>CHttpRequest</td> </tr> <tr id="getIsSecureConnection"> <td><a href="chttprequest#getIsSecureConnection-detail">getIsSecureConnection()</a></td> <td>Return if the request is sent via secure channel (https).</td> <td>CHttpRequest</td> </tr> <tr id="getParam"> <td><a href="chttprequest#getParam-detail">getParam()</a></td> <td>Returns the named GET or POST parameter value.</td> <td>CHttpRequest</td> </tr> <tr id="getPatch"> <td><a href="chttprequest#getPatch-detail">getPatch()</a></td> <td>Returns the named PATCH parameter value.</td> <td>CHttpRequest</td> </tr> <tr id="getPathInfo"> <td><a href="chttprequest#getPathInfo-detail">getPathInfo()</a></td> <td>Returns the path info of the currently requested URL.</td> <td>CHttpRequest</td> </tr> <tr id="getPort"> <td><a href="chttprequest#getPort-detail">getPort()</a></td> <td>Returns the port to use for insecure requests.</td> <td>CHttpRequest</td> </tr> <tr id="getPost"> <td><a href="chttprequest#getPost-detail">getPost()</a></td> <td>Returns the named POST parameter value.</td> <td>CHttpRequest</td> </tr> <tr id="getPreferredAcceptType"> <td><a href="chttprequest#getPreferredAcceptType-detail">getPreferredAcceptType()</a></td> <td>Returns the user preferred accept MIME type.</td> <td>CHttpRequest</td> </tr> <tr id="getPreferredAcceptTypes"> <td><a href="chttprequest#getPreferredAcceptTypes-detail">getPreferredAcceptTypes()</a></td> <td>Returns an array of user accepted MIME types in order of preference.</td> <td>CHttpRequest</td> </tr> <tr id="getPreferredLanguage"> <td><a href="chttprequest#getPreferredLanguage-detail">getPreferredLanguage()</a></td> <td>Returns the user-preferred language that should be used by this application.</td> <td>CHttpRequest</td> </tr> <tr id="getPreferredLanguages"> <td><a href="chttprequest#getPreferredLanguages-detail">getPreferredLanguages()</a></td> <td>Returns an array of user accepted languages in order of preference.</td> <td>CHttpRequest</td> </tr> <tr id="getPut"> <td><a href="chttprequest#getPut-detail">getPut()</a></td> <td>Returns the named PUT parameter value.</td> <td>CHttpRequest</td> </tr> <tr id="getQuery"> <td><a href="chttprequest#getQuery-detail">getQuery()</a></td> <td>Returns the named GET parameter value.</td> <td>CHttpRequest</td> </tr> <tr id="getQueryString"> <td><a href="chttprequest#getQueryString-detail">getQueryString()</a></td> <td>Returns part of the request URL that is after the question mark.</td> <td>CHttpRequest</td> </tr> <tr id="getRawBody"> <td><a href="chttprequest#getRawBody-detail">getRawBody()</a></td> <td>Returns the raw HTTP request body.</td> <td>CHttpRequest</td> </tr> <tr id="getRequestType"> <td><a href="chttprequest#getRequestType-detail">getRequestType()</a></td> <td>Returns the request type, such as GET, POST, HEAD, PUT, PATCH, DELETE.</td> <td>CHttpRequest</td> </tr> <tr id="getRequestUri"> <td><a href="chttprequest#getRequestUri-detail">getRequestUri()</a></td> <td>Returns the request URI portion for the currently requested URL.</td> <td>CHttpRequest</td> </tr> <tr id="getRestParams"> <td><a href="chttprequest#getRestParams-detail">getRestParams()</a></td> <td>Returns request parameters. Typically PUT, PATCH or DELETE.</td> <td>CHttpRequest</td> </tr> <tr id="getScriptFile"> <td><a href="chttprequest#getScriptFile-detail">getScriptFile()</a></td> <td>Returns entry script file path.</td> <td>CHttpRequest</td> </tr> <tr id="getScriptUrl"> <td><a href="chttprequest#getScriptUrl-detail">getScriptUrl()</a></td> <td>Returns the relative URL of the entry script.</td> <td>CHttpRequest</td> </tr> <tr id="getSecurePort"> <td><a href="chttprequest#getSecurePort-detail">getSecurePort()</a></td> <td>Returns the port to use for secure requests.</td> <td>CHttpRequest</td> </tr> <tr id="getServerName"> <td><a href="chttprequest#getServerName-detail">getServerName()</a></td> <td>Returns the server name.</td> <td>CHttpRequest</td> </tr> <tr id="getServerPort"> <td><a href="chttprequest#getServerPort-detail">getServerPort()</a></td> <td>Returns the server port number.</td> <td>CHttpRequest</td> </tr> <tr id="getUrl"> <td><a href="chttprequest#getUrl-detail">getUrl()</a></td> <td>Returns the currently requested URL.</td> <td>CHttpRequest</td> </tr> <tr id="getUrlReferrer"> <td><a href="chttprequest#getUrlReferrer-detail">getUrlReferrer()</a></td> <td>Returns the URL referrer, null if not present</td> <td>CHttpRequest</td> </tr> <tr id="getUserAgent"> <td><a href="chttprequest#getUserAgent-detail">getUserAgent()</a></td> <td>Returns the user agent, null if not present.</td> <td>CHttpRequest</td> </tr> <tr id="getUserHost"> <td><a href="chttprequest#getUserHost-detail">getUserHost()</a></td> <td>Returns the user host name, null if it cannot be determined.</td> <td>CHttpRequest</td> </tr> <tr id="getUserHostAddress"> <td><a href="chttprequest#getUserHostAddress-detail">getUserHostAddress()</a></td> <td>Returns the user IP address.</td> <td>CHttpRequest</td> </tr> <tr class="inherited" id="hasEvent"> <td><a href="ccomponent#hasEvent-detail">hasEvent()</a></td> <td>Determines whether an event is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasEventHandler"> <td><a href="ccomponent#hasEventHandler-detail">hasEventHandler()</a></td> <td>Checks whether the named event has attached handlers.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasProperty"> <td><a href="ccomponent#hasProperty-detail">hasProperty()</a></td> <td>Determines whether a property is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="init"> <td><a href="chttprequest#init-detail">init()</a></td> <td>Initializes the application component.</td> <td>CHttpRequest</td> </tr> <tr id="parseAcceptHeader"> <td><a href="chttprequest#parseAcceptHeader-detail">parseAcceptHeader()</a></td> <td>Parses an HTTP Accept header, returning an array map with all parts of each entry.</td> <td>CHttpRequest</td> </tr> <tr class="inherited" id="raiseEvent"> <td><a href="ccomponent#raiseEvent-detail">raiseEvent()</a></td> <td>Raises an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="redirect"> <td><a href="chttprequest#redirect-detail">redirect()</a></td> <td>Redirects the browser to the specified URL.</td> <td>CHttpRequest</td> </tr> <tr id="sendFile"> <td><a href="chttprequest#sendFile-detail">sendFile()</a></td> <td>Sends a file to user.</td> <td>CHttpRequest</td> </tr> <tr id="setBaseUrl"> <td><a href="chttprequest#setBaseUrl-detail">setBaseUrl()</a></td> <td>Sets the relative URL for the application.</td> <td>CHttpRequest</td> </tr> <tr id="setHostInfo"> <td><a href="chttprequest#setHostInfo-detail">setHostInfo()</a></td> <td>Sets the schema and host part of the application URL.</td> <td>CHttpRequest</td> </tr> <tr id="setPort"> <td><a href="chttprequest#setPort-detail">setPort()</a></td> <td>Sets the port to use for insecure requests.</td> <td>CHttpRequest</td> </tr> <tr id="setScriptUrl"> <td><a href="chttprequest#setScriptUrl-detail">setScriptUrl()</a></td> <td>Sets the relative URL for the application entry script.</td> <td>CHttpRequest</td> </tr> <tr id="setSecurePort"> <td><a href="chttprequest#setSecurePort-detail">setSecurePort()</a></td> <td>Sets the port to use for secure requests.</td> <td>CHttpRequest</td> </tr> <tr id="stripSlashes"> <td><a href="chttprequest#stripSlashes-detail">stripSlashes()</a></td> <td>Strips slashes from input data.</td> <td>CHttpRequest</td> </tr> <tr id="validateCsrfToken"> <td><a href="chttprequest#validateCsrfToken-detail">validateCsrfToken()</a></td> <td>Performs the CSRF validation.</td> <td>CHttpRequest</td> </tr> <tr id="xSendFile"> <td><a href="chttprequest#xSendFile-detail">xSendFile()</a></td> <td>Sends existing file to a browser as a download using x-sendfile.</td> <td>CHttpRequest</td> </tr> </table> </div> <div class="summary docMethod"> <h2>Protected Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="createCsrfCookie"> <td><a href="chttprequest#createCsrfCookie-detail">createCsrfCookie()</a></td> <td>Creates a cookie with a randomly generated CSRF token.</td> <td>CHttpRequest</td> </tr> <tr id="decodePathInfo"> <td><a href="chttprequest#decodePathInfo-detail">decodePathInfo()</a></td> <td>Decodes the path info.</td> <td>CHttpRequest</td> </tr> <tr id="getIsDeleteViaPostRequest"> <td><a href="chttprequest#getIsDeleteViaPostRequest-detail">getIsDeleteViaPostRequest()</a></td> <td>Returns whether this is a DELETE request which was tunneled through POST.</td> <td>CHttpRequest</td> </tr> <tr id="getIsPatchViaPostRequest"> <td><a href="chttprequest#getIsPatchViaPostRequest-detail">getIsPatchViaPostRequest()</a></td> <td>Returns whether this is a PATCH request which was tunneled through POST.</td> <td>CHttpRequest</td> </tr> <tr id="getIsPutViaPostRequest"> <td><a href="chttprequest#getIsPutViaPostRequest-detail">getIsPutViaPostRequest()</a></td> <td>Returns whether this is a PUT request which was tunneled through POST.</td> <td>CHttpRequest</td> </tr> <tr id="normalizeRequest"> <td><a href="chttprequest#normalizeRequest-detail">normalizeRequest()</a></td> <td>Normalizes the request data.</td> <td>CHttpRequest</td> </tr> </table> </div>  <h2>Property Details</h2> <h3 class="detailHeader" id="acceptTypes-detail"> acceptTypes<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public string <a href="chttprequest#getAcceptTypes"><b>getAcceptTypes</b></a>()</pre> <p>Returns user browser accept types, null if not present.</p> <h3 class="detailHeader" id="baseUrl-detail"> baseUrl<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <a href="chttprequest#getBaseUrl"><b>getBaseUrl</b></a>(boolean $absolute=false)<br>public void <a href="chttprequest#setBaseUrl"><b>setBaseUrl</b></a>(string $value)</pre> <p>Returns the relative URL for the application. This is similar to <a href="chttprequest#getScriptUrl">scriptUrl</a> except that it does not have the script file name, and the ending slashes are stripped off.</p> <div class="SeeAlso"> <h4>See Also</h4> <ul> <li><a href="chttprequest#setScriptUrl">setScriptUrl</a></li> </ul> </div> <h3 class="detailHeader" id="browser-detail"> browser<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public array <a href="chttprequest#getBrowser"><b>getBrowser</b></a>(string $userAgent=NULL)</pre> <p>Returns information about the capabilities of user browser.</p> <div class="SeeAlso"> <h4>See Also</h4> <ul> <li><a href="http://www.php.net/manual/en/function.get-browser.php">http://www.php.net/manual/en/function.get-browser.php</a></li> </ul> </div> <h3 class="detailHeader" id="contentType-detail"> contentType<span class="detailHeaderTag"> property <em>read-only</em> (available since v1.1.17) </span> </h3> <pre class="signature">public string <a href="chttprequest#getContentType"><b>getContentType</b></a>()</pre> <p>Returns request content-type The Content-Type header field indicates the MIME type of the data contained in <a href="chttprequest#getRawBody">getRawBody()</a> or, in the case of the HEAD method, the media type that would have been sent had the request been a GET.</p> <h3 class="detailHeader" id="cookies-detail"> cookies<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public <a href="ccookiecollection">CCookieCollection</a> <a href="chttprequest#getCookies"><b>getCookies</b></a>()</pre> <p>Returns the cookie collection. The result can be used like an associative array. Adding <a href="chttpcookie">CHttpCookie</a> objects to the collection will send the cookies to the client; and removing the objects from the collection will delete those cookies on the client.</p> <h3 class="detailHeader" id="csrfCookie-detail"> csrfCookie<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public array <b>$csrfCookie</b>;</pre> <p>the property values (in name-value pairs) used to initialize the CSRF cookie. Any property of <a href="chttpcookie">CHttpCookie</a> may be initialized. This property is effective only when <a href="chttprequest#enableCsrfValidation">enableCsrfValidation</a> is true.</p> <h3 class="detailHeader" id="csrfToken-detail"> csrfToken<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public string <a href="chttprequest#getCsrfToken"><b>getCsrfToken</b></a>()</pre> <p>Returns the random token used to perform CSRF validation. The token will be read from cookie first. If not found, a new token will be generated.</p> <div class="SeeAlso"> <h4>See Also</h4> <ul> <li><a href="chttprequest#enableCsrfValidation">enableCsrfValidation</a></li> </ul> </div> <h3 class="detailHeader" id="csrfTokenName-detail"> csrfTokenName<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <b>$csrfTokenName</b>;</pre> <p>the name of the token used to prevent CSRF. Defaults to 'YII_CSRF_TOKEN'. This property is effectively only when <a href="chttprequest#enableCsrfValidation">enableCsrfValidation</a> is true.</p> <h3 class="detailHeader" id="enableCookieValidation-detail"> enableCookieValidation<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public boolean <b>$enableCookieValidation</b>;</pre> <p>whether cookies should be validated to ensure they are not tampered. Defaults to false.</p> <h3 class="detailHeader" id="enableCsrfValidation-detail"> enableCsrfValidation<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public boolean <b>$enableCsrfValidation</b>;</pre> <p>whether to enable CSRF (Cross-Site Request Forgery) validation. Defaults to false. By setting this property to true, forms submitted to an Yii Web application must be originated from the same application. If not, a 400 HTTP exception will be raised. Note, this feature requires that the user client accepts cookie. You also need to use <a href="chtml#form">CHtml::form</a> or <a href="chtml#statefulForm">CHtml::statefulForm</a> to generate the needed HTML forms in your pages.</p> <div class="SeeAlso"> <h4>See Also</h4> <ul> <li><a href="http://seclab.stanford.edu/websec/csrf/csrf.pdf">http://seclab.stanford.edu/websec/csrf/csrf.pdf</a></li> </ul> </div> <h3 class="detailHeader" id="hostInfo-detail"> hostInfo<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <a href="chttprequest#getHostInfo"><b>getHostInfo</b></a>(string $schema='')<br>public void <a href="chttprequest#setHostInfo"><b>setHostInfo</b></a>(string $value)</pre> <p>Returns the schema and host part of the application URL. The returned URL does not have an ending slash. By default this is determined based on the user request information. You may explicitly specify it by setting the <a href="chttprequest#setHostInfo">hostInfo</a> property.</p> <div class="SeeAlso"> <h4>See Also</h4> <ul> <li><a href="chttprequest#setHostInfo">setHostInfo</a></li> </ul> </div> <h3 class="detailHeader" id="httpVersion-detail"> httpVersion<span class="detailHeaderTag"> property <em>read-only</em> (available since v1.1.16) </span> </h3> <pre class="signature">public string <a href="chttprequest#getHttpVersion"><b>getHttpVersion</b></a>()</pre> <p>Returns the version of the HTTP protocol used by client.</p> <h3 class="detailHeader" id="isAjaxRequest-detail"> isAjaxRequest<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public boolean <a href="chttprequest#getIsAjaxRequest"><b>getIsAjaxRequest</b></a>()</pre> <p>Returns whether this is an AJAX (XMLHttpRequest) request.</p> <h3 class="detailHeader" id="isDeleteRequest-detail"> isDeleteRequest<span class="detailHeaderTag"> property <em>read-only</em> (available since v1.1.7) </span> </h3> <pre class="signature">public boolean <a href="chttprequest#getIsDeleteRequest"><b>getIsDeleteRequest</b></a>()</pre> <p>Returns whether this is a DELETE request.</p> <h3 class="detailHeader" id="isDeleteViaPostRequest-detail"> isDeleteViaPostRequest<span class="detailHeaderTag"> property <em>read-only</em> (available since v1.1.11) </span> </h3> <pre class="signature">protected boolean <a href="chttprequest#getIsDeleteViaPostRequest"><b>getIsDeleteViaPostRequest</b></a>()</pre> <p>Returns whether this is a DELETE request which was tunneled through POST.</p> <h3 class="detailHeader" id="isFlashRequest-detail"> isFlashRequest<span class="detailHeaderTag"> property <em>read-only</em> (available since v1.1.11) </span> </h3> <pre class="signature">public boolean <a href="chttprequest#getIsFlashRequest"><b>getIsFlashRequest</b></a>()</pre> <p>Returns whether this is an Adobe Flash or Adobe Flex request.</p> <h3 class="detailHeader" id="isPatchRequest-detail"> isPatchRequest<span class="detailHeaderTag"> property <em>read-only</em> (available since v1.1.16) </span> </h3> <pre class="signature">public boolean <a href="chttprequest#getIsPatchRequest"><b>getIsPatchRequest</b></a>()</pre> <p>Returns whether this is a PATCH request.</p> <h3 class="detailHeader" id="isPatchViaPostRequest-detail"> isPatchViaPostRequest<span class="detailHeaderTag"> property <em>read-only</em> (available since v1.1.16) </span> </h3> <pre class="signature">protected boolean <a href="chttprequest#getIsPatchViaPostRequest"><b>getIsPatchViaPostRequest</b></a>()</pre> <p>Returns whether this is a PATCH request which was tunneled through POST.</p> <h3 class="detailHeader" id="isPostRequest-detail"> isPostRequest<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public boolean <a href="chttprequest#getIsPostRequest"><b>getIsPostRequest</b></a>()</pre> <p>Returns whether this is a POST request.</p> <h3 class="detailHeader" id="isPutRequest-detail"> isPutRequest<span class="detailHeaderTag"> property <em>read-only</em> (available since v1.1.7) </span> </h3> <pre class="signature">public boolean <a href="chttprequest#getIsPutRequest"><b>getIsPutRequest</b></a>()</pre> <p>Returns whether this is a PUT request.</p> <h3 class="detailHeader" id="isPutViaPostRequest-detail"> isPutViaPostRequest<span class="detailHeaderTag"> property <em>read-only</em> (available since v1.1.11) </span> </h3> <pre class="signature">protected boolean <a href="chttprequest#getIsPutViaPostRequest"><b>getIsPutViaPostRequest</b></a>()</pre> <p>Returns whether this is a PUT request which was tunneled through POST.</p> <h3 class="detailHeader" id="isSecureConnection-detail"> isSecureConnection<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public boolean <a href="chttprequest#getIsSecureConnection"><b>getIsSecureConnection</b></a>()</pre> <p>Return if the request is sent via secure channel (https).</p> <h3 class="detailHeader" id="jsonAsArray-detail"> jsonAsArray<span class="detailHeaderTag"> property (available since v1.1.17) </span> </h3> <pre class="signature">public boolean <b>$jsonAsArray</b>;</pre> <p>whether the parsing of JSON REST requests should return associative arrays for object data.</p> <div class="SeeAlso"> <h4>See Also</h4> <ul> <li><a href="chttprequest#getRestParams">getRestParams</a></li> </ul> </div> <h3 class="detailHeader" id="pathInfo-detail"> pathInfo<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public string <a href="chttprequest#getPathInfo"><b>getPathInfo</b></a>()</pre> <p>Returns the path info of the currently requested URL. This refers to the part that is after the entry script and before the question mark. The starting and ending slashes are stripped off.</p> <h3 class="detailHeader" id="port-detail"> port<span class="detailHeaderTag"> property (available since v1.1.3) </span> </h3> <pre class="signature">public integer <a href="chttprequest#getPort"><b>getPort</b></a>()<br>public void <a href="chttprequest#setPort"><b>setPort</b></a>(integer $value)</pre> <p>Returns the port to use for insecure requests. Defaults to 80, or the port specified by the server if the current request is insecure. You may explicitly specify it by setting the <a href="chttprequest#setPort">port</a> property.</p> <div class="SeeAlso"> <h4>See Also</h4> <ul> <li><a href="chttprequest#setPort">setPort</a></li> </ul> </div> <h3 class="detailHeader" id="preferredAcceptType-detail"> preferredAcceptType<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public array <a href="chttprequest#getPreferredAcceptType"><b>getPreferredAcceptType</b></a>()</pre> <p>Returns the user preferred accept MIME type. The MIME type is returned as an array map (see <a href="chttprequest#parseAcceptHeader">parseAcceptHeader()</a>).</p> <h3 class="detailHeader" id="preferredAcceptTypes-detail"> preferredAcceptTypes<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public array <a href="chttprequest#getPreferredAcceptTypes"><b>getPreferredAcceptTypes</b></a>()</pre> <p>Returns an array of user accepted MIME types in order of preference. Each array entry consists of a map with the type, subType, baseType and params, an array map of key-value parameters. See <a href="chttprequest#parseAcceptHeader">parseAcceptHeader()</a> for a description of the array map.</p> <h3 class="detailHeader" id="preferredLanguage-detail"> preferredLanguage<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public string <a href="chttprequest#getPreferredLanguage"><b>getPreferredLanguage</b></a>(array $languages=array ( ))</pre> <p>Returns the user-preferred language that should be used by this application. The language resolution is based on the user preferred languages and the languages supported by the application. The method will try to find the best match.</p> <h3 class="detailHeader" id="preferredLanguages-detail"> preferredLanguages<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public array <a href="chttprequest#getPreferredLanguages"><b>getPreferredLanguages</b></a>()</pre> <p>Returns an array of user accepted languages in order of preference. The returned language IDs will NOT be canonicalized using <a href="clocale#getCanonicalID">CLocale::getCanonicalID</a>.</p> <h3 class="detailHeader" id="queryString-detail"> queryString<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public string <a href="chttprequest#getQueryString"><b>getQueryString</b></a>()</pre> <p>Returns part of the request URL that is after the question mark.</p> <h3 class="detailHeader" id="rawBody-detail"> rawBody<span class="detailHeaderTag"> property <em>read-only</em> (available since v1.1.13) </span> </h3> <pre class="signature">public string <a href="chttprequest#getRawBody"><b>getRawBody</b></a>()</pre> <p>Returns the raw HTTP request body.</p> <h3 class="detailHeader" id="requestType-detail"> requestType<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public string <a href="chttprequest#getRequestType"><b>getRequestType</b></a>()</pre> <p>Returns the request type, such as GET, POST, HEAD, PUT, PATCH, DELETE. Request type can be manually set in POST requests with a parameter named _method. Useful for RESTful request from older browsers which do not support PUT, PATCH or DELETE natively (available since version 1.1.11).</p> <h3 class="detailHeader" id="requestUri-detail"> requestUri<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public string <a href="chttprequest#getRequestUri"><b>getRequestUri</b></a>()</pre> <p>Returns the request URI portion for the currently requested URL. This refers to the portion that is after the <a href="chttprequest#hostInfo">host info</a> part. It includes the <a href="chttprequest#queryString">query string</a> part if any. The implementation of this method referenced Zend_Controller_Request_Http in Zend Framework.</p> <h3 class="detailHeader" id="restParams-detail"> restParams<span class="detailHeaderTag"> property <em>read-only</em> (available since v1.1.13 method became public) </span> </h3> <pre class="signature">public array <a href="chttprequest#getRestParams"><b>getRestParams</b></a>()</pre> <p>Returns request parameters. Typically PUT, PATCH or DELETE.</p> <h3 class="detailHeader" id="scriptFile-detail"> scriptFile<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public string <a href="chttprequest#getScriptFile"><b>getScriptFile</b></a>()</pre> <p>Returns entry script file path.</p> <h3 class="detailHeader" id="scriptUrl-detail"> scriptUrl<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <a href="chttprequest#getScriptUrl"><b>getScriptUrl</b></a>()<br>public void <a href="chttprequest#setScriptUrl"><b>setScriptUrl</b></a>(string $value)</pre> <p>Returns the relative URL of the entry script. The implementation of this method referenced Zend_Controller_Request_Http in Zend Framework.</p> <h3 class="detailHeader" id="securePort-detail"> securePort<span class="detailHeaderTag"> property (available since v1.1.3) </span> </h3> <pre class="signature">public integer <a href="chttprequest#getSecurePort"><b>getSecurePort</b></a>()<br>public void <a href="chttprequest#setSecurePort"><b>setSecurePort</b></a>(integer $value)</pre> <p>Returns the port to use for secure requests. Defaults to 443, or the port specified by the server if the current request is secure. You may explicitly specify it by setting the <a href="chttprequest#setSecurePort">securePort</a> property.</p> <div class="SeeAlso"> <h4>See Also</h4> <ul> <li><a href="chttprequest#setSecurePort">setSecurePort</a></li> </ul> </div> <h3 class="detailHeader" id="serverName-detail"> serverName<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public string <a href="chttprequest#getServerName"><b>getServerName</b></a>()</pre> <p>Returns the server name.</p> <h3 class="detailHeader" id="serverPort-detail"> serverPort<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public integer <a href="chttprequest#getServerPort"><b>getServerPort</b></a>()</pre> <p>Returns the server port number.</p> <h3 class="detailHeader" id="url-detail"> url<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public string <a href="chttprequest#getUrl"><b>getUrl</b></a>()</pre> <p>Returns the currently requested URL. This is the same as <a href="chttprequest#getRequestUri">getRequestUri</a>.</p> <h3 class="detailHeader" id="urlReferrer-detail"> urlReferrer<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public string <a href="chttprequest#getUrlReferrer"><b>getUrlReferrer</b></a>()</pre> <p>Returns the URL referrer, null if not present</p> <h3 class="detailHeader" id="userAgent-detail"> userAgent<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public string <a href="chttprequest#getUserAgent"><b>getUserAgent</b></a>()</pre> <p>Returns the user agent, null if not present.</p> <h3 class="detailHeader" id="userHost-detail"> userHost<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public string <a href="chttprequest#getUserHost"><b>getUserHost</b></a>()</pre> <p>Returns the user host name, null if it cannot be determined.</p> <h3 class="detailHeader" id="userHostAddress-detail"> userHostAddress<span class="detailHeaderTag"> property <em>read-only</em> </span> </h3> <pre class="signature">public string <a href="chttprequest#getUserHostAddress"><b>getUserHostAddress</b></a>()</pre> <p>Returns the user IP address.</p> <h2>Method Details</h2> <h3 class="detailHeader" id="compareAcceptTypes-detail"> compareAcceptTypes() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public static integer <b>compareAcceptTypes</b>(array $a, array $b)</pre> </td></tr> <tr> <td class="paramNameCol">$a</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">user accepted MIME type as an array map</td> </tr> <tr> <td class="paramNameCol">$b</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">user accepted MIME type as an array map</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">-1, 0 or 1 if $a has respectively greater preference, equal preference or less preference than $b (higher preference comes first).</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L981">framework/web/CHttpRequest.php#981</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public static function </span><span style="color: #0000BB">compareAcceptTypes</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,</span><span style="color: #0000BB">$b</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #FF8000">// check for equal quality first<br>    </span><span style="color: #007700">if(</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'params'</span><span style="color: #007700">][</span><span style="color: #DD0000">'q'</span><span style="color: #007700">]===</span><span style="color: #0000BB">$b</span><span style="color: #007700">[</span><span style="color: #DD0000">'params'</span><span style="color: #007700">][</span><span style="color: #DD0000">'q'</span><span style="color: #007700">])<br>        if(!(</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'type'</span><span style="color: #007700">]===</span><span style="color: #DD0000">'*' </span><span style="color: #007700">xor </span><span style="color: #0000BB">$b</span><span style="color: #007700">[</span><span style="color: #DD0000">'type'</span><span style="color: #007700">]===</span><span style="color: #DD0000">'*'</span><span style="color: #007700">))<br>            if (!(</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'subType'</span><span style="color: #007700">]===</span><span style="color: #DD0000">'*' </span><span style="color: #007700">xor </span><span style="color: #0000BB">$b</span><span style="color: #007700">[</span><span style="color: #DD0000">'subType'</span><span style="color: #007700">]===</span><span style="color: #DD0000">'*'</span><span style="color: #007700">))<br>                </span><span style="color: #FF8000">// finally, higher number of parameters counts as greater precedence<br>                </span><span style="color: #007700">if(</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'params'</span><span style="color: #007700">])===</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$b</span><span style="color: #007700">[</span><span style="color: #DD0000">'params'</span><span style="color: #007700">]))<br>                    return </span><span style="color: #0000BB">0</span><span style="color: #007700">;<br>                else<br>                    return </span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'params'</span><span style="color: #007700">])&lt;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$b</span><span style="color: #007700">[</span><span style="color: #DD0000">'params'</span><span style="color: #007700">]) ? </span><span style="color: #0000BB">1 </span><span style="color: #007700">: -</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br>            </span><span style="color: #FF8000">// more specific takes precedence - whichever one doesn't have a * subType<br>            </span><span style="color: #007700">else<br>                return </span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'subType'</span><span style="color: #007700">]===</span><span style="color: #DD0000">'*' </span><span style="color: #007700">? </span><span style="color: #0000BB">1 </span><span style="color: #007700">: -</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br>        </span><span style="color: #FF8000">// more specific takes precedence - whichever one doesn't have a * type<br>        </span><span style="color: #007700">else<br>            return </span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'type'</span><span style="color: #007700">]===</span><span style="color: #DD0000">'*' </span><span style="color: #007700">? </span><span style="color: #0000BB">1 </span><span style="color: #007700">: -</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br>    else<br>        return (</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'params'</span><span style="color: #007700">][</span><span style="color: #DD0000">'q'</span><span style="color: #007700">]&lt;</span><span style="color: #0000BB">$b</span><span style="color: #007700">[</span><span style="color: #DD0000">'params'</span><span style="color: #007700">][</span><span style="color: #DD0000">'q'</span><span style="color: #007700">]) ? </span><span style="color: #0000BB">1 </span><span style="color: #007700">: -</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Compare function for determining the preference of accepted MIME type array maps See <a href="chttprequest#parseAcceptHeader">parseAcceptHeader()</a> for the format of $a and $b</p> <h3 class="detailHeader" id="createCsrfCookie-detail"> createCsrfCookie() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected <a href="chttpcookie">CHttpCookie</a> <b>createCsrfCookie</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol"><a href="chttpcookie">CHttpCookie</a></td> <td class="paramDescCol">the generated cookie</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L1304">framework/web/CHttpRequest.php#1304</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">createCsrfCookie</span><span style="color: #007700">()<br>{<br>    </span><span style="color: #0000BB">$securityManager</span><span style="color: #007700">=</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getSecurityManager</span><span style="color: #007700">();<br>    </span><span style="color: #0000BB">$token</span><span style="color: #007700">=</span><span style="color: #0000BB">$securityManager</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">generateRandomBytes</span><span style="color: #007700">(</span><span style="color: #0000BB">32</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$maskedToken</span><span style="color: #007700">=</span><span style="color: #0000BB">$securityManager</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">maskToken</span><span style="color: #007700">(</span><span style="color: #0000BB">$token</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$cookie</span><span style="color: #007700">=new </span><span style="color: #0000BB">CHttpCookie</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">csrfTokenName</span><span style="color: #007700">,</span><span style="color: #0000BB">$maskedToken</span><span style="color: #007700">);<br>    if(</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">csrfCookie</span><span style="color: #007700">))<br>    {<br>        foreach(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">csrfCookie </span><span style="color: #007700">as </span><span style="color: #0000BB">$name</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$cookie</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">$name</span><span style="color: #007700">=</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br>    }<br>    return </span><span style="color: #0000BB">$cookie</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Creates a cookie with a randomly generated CSRF token. Initial values specified in <a href="chttprequest#csrfCookie">csrfCookie</a> will be applied to the generated cookie.</p> <div class="SeeAlso"> <h4>See Also</h4> <ul> <li><a href="chttprequest#enableCsrfValidation">enableCsrfValidation</a></li> </ul> </div> <h3 class="detailHeader" id="decodePathInfo-detail"> decodePathInfo() <span class="detailHeaderTag"> method (available since v1.1.10) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected string <b>decodePathInfo</b>(string $pathInfo)</pre> </td></tr> <tr> <td class="paramNameCol">$pathInfo</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">encoded path info</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">decoded path info</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L505">framework/web/CHttpRequest.php#505</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">decodePathInfo</span><span style="color: #007700">(</span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$pathInfo </span><span style="color: #007700">= </span><span style="color: #0000BB">urldecode</span><span style="color: #007700">(</span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">);<br><br>    </span><span style="color: #FF8000">// is it UTF-8?<br>    // http://w3.org/International/questions/qa-forms-utf-8.html<br>    </span><span style="color: #007700">if(</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'%^(?:<br>       [\x09\x0A\x0D\x20-\x7E]            # ASCII<br>     | [\xC2-\xDF][\x80-\xBF]             # non-overlong 2-byte<br>     | \xE0[\xA0-\xBF][\x80-\xBF]         # excluding overlongs<br>     | [\xE1-\xEC\xEE\xEF][\x80-\xBF]{2}  # straight 3-byte<br>     | \xED[\x80-\x9F][\x80-\xBF]         # excluding surrogates<br>     | \xF0[\x90-\xBF][\x80-\xBF]{2}      # planes 1-3<br>     | [\xF1-\xF3][\x80-\xBF]{3}          # planes 4-15<br>     | \xF4[\x80-\x8F][\x80-\xBF]{2}      # plane 16<br>    )*$%xs'</span><span style="color: #007700">, </span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">))<br>    {<br>        return </span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">;<br>    }<br>    else<br>    {<br>        return </span><span style="color: #0000BB">utf8_encode</span><span style="color: #007700">(</span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">);<br>    }<br>}</span></pre> </div> <p>Decodes the path info. This method is an improved variant of the native urldecode() function and used in <a href="chttprequest#getPathInfo">getPathInfo()</a> to decode the path part of the request URI. You may override this method to change the way the path info is being decoded.</p> <h3 class="detailHeader" id="getAcceptTypes-detail"> getAcceptTypes() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getAcceptTypes</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">user browser accept types, null if not present</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L774">framework/web/CHttpRequest.php#774</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getAcceptTypes</span><span style="color: #007700">()<br>{<br>    return isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_ACCEPT'</span><span style="color: #007700">])?</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_ACCEPT'</span><span style="color: #007700">]:</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns user browser accept types, null if not present.</p> <h3 class="detailHeader" id="getBaseUrl-detail"> getBaseUrl() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getBaseUrl</b>(boolean $absolute=false)</pre> </td></tr> <tr> <td class="paramNameCol">$absolute</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether to return an absolute URL. Defaults to false, meaning returning a relative one.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the relative URL for the application</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L396">framework/web/CHttpRequest.php#396</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getBaseUrl</span><span style="color: #007700">(</span><span style="color: #0000BB">$absolute</span><span style="color: #007700">=</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_baseUrl</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_baseUrl</span><span style="color: #007700">=</span><span style="color: #0000BB">rtrim</span><span style="color: #007700">(</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getScriptUrl</span><span style="color: #007700">()),</span><span style="color: #DD0000">'\\/'</span><span style="color: #007700">);<br>    return </span><span style="color: #0000BB">$absolute </span><span style="color: #007700">? </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getHostInfo</span><span style="color: #007700">() . </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_baseUrl </span><span style="color: #007700">: </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_baseUrl</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the relative URL for the application. This is similar to <a href="chttprequest#getScriptUrl">scriptUrl</a> except that it does not have the script file name, and the ending slashes are stripped off.</p> <div class="SeeAlso"> <h4>See Also</h4> <ul> <li><a href="chttprequest#setScriptUrl">setScriptUrl</a></li> </ul> </div> <h3 class="detailHeader" id="getBrowser-detail"> getBrowser() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public array <b>getBrowser</b>(string $userAgent=NULL)</pre> </td></tr> <tr> <td class="paramNameCol">$userAgent</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the user agent to be analyzed. Defaults to null, meaning using the current User-Agent HTTP header information.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">user browser capabilities.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L765">framework/web/CHttpRequest.php#765</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getBrowser</span><span style="color: #007700">(</span><span style="color: #0000BB">$userAgent</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>{<br>    return </span><span style="color: #0000BB">get_browser</span><span style="color: #007700">(</span><span style="color: #0000BB">$userAgent</span><span style="color: #007700">,</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Returns information about the capabilities of user browser.</p> <div class="SeeAlso"> <h4>See Also</h4> <ul> <li><a href="http://www.php.net/manual/en/function.get-browser.php">http://www.php.net/manual/en/function.get-browser.php</a></li> </ul> </div> <h3 class="detailHeader" id="getContentType-detail"> getContentType() <span class="detailHeaderTag"> method (available since v1.1.17) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getContentType</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">request content-type. Null is returned if this information is not available.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L789">framework/web/CHttpRequest.php#789</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getContentType</span><span style="color: #007700">()<br>{<br>    if (isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">"CONTENT_TYPE"</span><span style="color: #007700">])) {<br>        return </span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">"CONTENT_TYPE"</span><span style="color: #007700">];<br>    } elseif (isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">"HTTP_CONTENT_TYPE"</span><span style="color: #007700">])) {<br>        </span><span style="color: #FF8000">//fix bug https://bugs.php.net/bug.php?id=66606<br>        </span><span style="color: #007700">return </span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">"HTTP_CONTENT_TYPE"</span><span style="color: #007700">];<br>    }<br>    return </span><span style="color: #0000BB">null</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns request content-type The Content-Type header field indicates the MIME type of the data contained in <a href="chttprequest#getRawBody">getRawBody()</a> or, in the case of the HEAD method, the media type that would have been sent had the request been a GET.</p> <h3 class="detailHeader" id="getCookies-detail"> getCookies() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public <a href="ccookiecollection">CCookieCollection</a> <b>getCookies</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol"><a href="ccookiecollection">CCookieCollection</a></td> <td class="paramDescCol">the cookie collection.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L869">framework/web/CHttpRequest.php#869</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getCookies</span><span style="color: #007700">()<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_cookies</span><span style="color: #007700">!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_cookies</span><span style="color: #007700">;<br>    else<br>        return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_cookies</span><span style="color: #007700">=new </span><span style="color: #0000BB">CCookieCollection</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Returns the cookie collection. The result can be used like an associative array. Adding <a href="chttpcookie">CHttpCookie</a> objects to the collection will send the cookies to the client; and removing the objects from the collection will delete those cookies on the client.</p> <h3 class="detailHeader" id="getCsrfToken-detail"> getCsrfToken() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getCsrfToken</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the random token for CSRF validation.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L1281">framework/web/CHttpRequest.php#1281</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getCsrfToken</span><span style="color: #007700">()<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_csrfToken</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$cookie</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getCookies</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">itemAt</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">csrfTokenName</span><span style="color: #007700">);<br>        if(!</span><span style="color: #0000BB">$cookie </span><span style="color: #007700">|| (</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_csrfToken</span><span style="color: #007700">=</span><span style="color: #0000BB">$cookie</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">value</span><span style="color: #007700">)==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        {<br>            </span><span style="color: #0000BB">$cookie</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">createCsrfCookie</span><span style="color: #007700">();<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_csrfToken</span><span style="color: #007700">=</span><span style="color: #0000BB">$cookie</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">value</span><span style="color: #007700">;<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getCookies</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #0000BB">$cookie</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">,</span><span style="color: #0000BB">$cookie</span><span style="color: #007700">);<br>        }<br>    }<br><br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_csrfToken</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the random token used to perform CSRF validation. The token will be read from cookie first. If not found, a new token will be generated.</p> <div class="SeeAlso"> <h4>See Also</h4> <ul> <li><a href="chttprequest#enableCsrfValidation">enableCsrfValidation</a></li> </ul> </div> <h3 class="detailHeader" id="getDelete-detail"> getDelete() <span class="detailHeaderTag"> method (available since v1.1.7) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public mixed <b>getDelete</b>(string $name, mixed $defaultValue=NULL)</pre> </td></tr> <tr> <td class="paramNameCol">$name</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the DELETE parameter name</td> </tr> <tr> <td class="paramNameCol">$defaultValue</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the default parameter value if the DELETE parameter does not exist.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the DELETE parameter value</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L221">framework/web/CHttpRequest.php#221</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getDelete</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,</span><span style="color: #0000BB">$defaultValue</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getIsDeleteViaPostRequest</span><span style="color: #007700">())<br>        return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getPost</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">, </span><span style="color: #0000BB">$defaultValue</span><span style="color: #007700">);<br><br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getIsDeleteRequest</span><span style="color: #007700">())<br>    {<br>        </span><span style="color: #0000BB">$restParams</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getRestParams</span><span style="color: #007700">();<br>        return isset(</span><span style="color: #0000BB">$restParams</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]) ? </span><span style="color: #0000BB">$restParams</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">] : </span><span style="color: #0000BB">$defaultValue</span><span style="color: #007700">;<br>    }<br>    else<br>        return </span><span style="color: #0000BB">$defaultValue</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the named DELETE parameter value. If the DELETE parameter does not exist or if the current request is not a DELETE request, the second parameter to this method will be returned. If the DELETE request was tunneled through POST via _method parameter, the POST parameter will be returned instead (available since version 1.1.11).</p> <h3 class="detailHeader" id="getHostInfo-detail"> getHostInfo() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getHostInfo</b>(string $schema='')</pre> </td></tr> <tr> <td class="paramNameCol">$schema</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">schema to use (e.g. http, https). If empty, the schema used for the current request will be used.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">schema and hostname part (with port number if needed) of the request URL (e.g. http://www.yiiframework.com)</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L340">framework/web/CHttpRequest.php#340</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getHostInfo</span><span style="color: #007700">(</span><span style="color: #0000BB">$schema</span><span style="color: #007700">=</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_hostInfo</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>    {<br>        if(</span><span style="color: #0000BB">$secure</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getIsSecureConnection</span><span style="color: #007700">())<br>            </span><span style="color: #0000BB">$http</span><span style="color: #007700">=</span><span style="color: #DD0000">'https'</span><span style="color: #007700">;<br>        else<br>            </span><span style="color: #0000BB">$http</span><span style="color: #007700">=</span><span style="color: #DD0000">'http'</span><span style="color: #007700">;<br>        if(isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_HOST'</span><span style="color: #007700">]))<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_hostInfo</span><span style="color: #007700">=</span><span style="color: #0000BB">$http</span><span style="color: #007700">.</span><span style="color: #DD0000">'://'</span><span style="color: #007700">.</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_HOST'</span><span style="color: #007700">];<br>        else<br>        {<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_hostInfo</span><span style="color: #007700">=</span><span style="color: #0000BB">$http</span><span style="color: #007700">.</span><span style="color: #DD0000">'://'</span><span style="color: #007700">.</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'SERVER_NAME'</span><span style="color: #007700">];<br>            </span><span style="color: #0000BB">$port</span><span style="color: #007700">=</span><span style="color: #0000BB">$secure </span><span style="color: #007700">? </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getSecurePort</span><span style="color: #007700">() : </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getPort</span><span style="color: #007700">();<br>            if((</span><span style="color: #0000BB">$port</span><span style="color: #007700">!==</span><span style="color: #0000BB">80 </span><span style="color: #007700">&amp;&amp; !</span><span style="color: #0000BB">$secure</span><span style="color: #007700">) || (</span><span style="color: #0000BB">$port</span><span style="color: #007700">!==</span><span style="color: #0000BB">443 </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">$secure</span><span style="color: #007700">))<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_hostInfo</span><span style="color: #007700">.=</span><span style="color: #DD0000">':'</span><span style="color: #007700">.</span><span style="color: #0000BB">$port</span><span style="color: #007700">;<br>        }<br>    }<br>    if(</span><span style="color: #0000BB">$schema</span><span style="color: #007700">!==</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$secure</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getIsSecureConnection</span><span style="color: #007700">();<br>        if(</span><span style="color: #0000BB">$secure </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">$schema</span><span style="color: #007700">===</span><span style="color: #DD0000">'https' </span><span style="color: #007700">|| !</span><span style="color: #0000BB">$secure </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">$schema</span><span style="color: #007700">===</span><span style="color: #DD0000">'http'</span><span style="color: #007700">)<br>            return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_hostInfo</span><span style="color: #007700">;<br><br>        </span><span style="color: #0000BB">$port</span><span style="color: #007700">=</span><span style="color: #0000BB">$schema</span><span style="color: #007700">===</span><span style="color: #DD0000">'https' </span><span style="color: #007700">? </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getSecurePort</span><span style="color: #007700">() : </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getPort</span><span style="color: #007700">();<br>        if(</span><span style="color: #0000BB">$port</span><span style="color: #007700">!==</span><span style="color: #0000BB">80 </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">$schema</span><span style="color: #007700">===</span><span style="color: #DD0000">'http' </span><span style="color: #007700">|| </span><span style="color: #0000BB">$port</span><span style="color: #007700">!==</span><span style="color: #0000BB">443 </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">$schema</span><span style="color: #007700">===</span><span style="color: #DD0000">'https'</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$port</span><span style="color: #007700">=</span><span style="color: #DD0000">':'</span><span style="color: #007700">.</span><span style="color: #0000BB">$port</span><span style="color: #007700">;<br>        else<br>            </span><span style="color: #0000BB">$port</span><span style="color: #007700">=</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br><br>        </span><span style="color: #0000BB">$pos</span><span style="color: #007700">=</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_hostInfo</span><span style="color: #007700">,</span><span style="color: #DD0000">':'</span><span style="color: #007700">);<br>        return </span><span style="color: #0000BB">$schema</span><span style="color: #007700">.</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_hostInfo</span><span style="color: #007700">,</span><span style="color: #0000BB">$pos</span><span style="color: #007700">,</span><span style="color: #0000BB">strcspn</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_hostInfo</span><span style="color: #007700">,</span><span style="color: #DD0000">':'</span><span style="color: #007700">,</span><span style="color: #0000BB">$pos</span><span style="color: #007700">+</span><span style="color: #0000BB">1</span><span style="color: #007700">)+</span><span style="color: #0000BB">1</span><span style="color: #007700">).</span><span style="color: #0000BB">$port</span><span style="color: #007700">;<br>    }<br>    else<br>        return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_hostInfo</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the schema and host part of the application URL. The returned URL does not have an ending slash. By default this is determined based on the user request information. You may explicitly specify it by setting the <a href="chttprequest#setHostInfo">hostInfo</a> property.</p> <div class="SeeAlso"> <h4>See Also</h4> <ul> <li><a href="chttprequest#setHostInfo">setHostInfo</a></li> </ul> </div> <h3 class="detailHeader" id="getHttpVersion-detail"> getHttpVersion() <span class="detailHeaderTag"> method (available since v1.1.16) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getHttpVersion</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the version of the HTTP protocol.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L1373">framework/web/CHttpRequest.php#1373</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getHttpVersion</span><span style="color: #007700">()<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_httpVersion</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>    {<br>        if(isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'SERVER_PROTOCOL'</span><span style="color: #007700">]) &amp;&amp; </span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'SERVER_PROTOCOL'</span><span style="color: #007700">]===</span><span style="color: #DD0000">'HTTP/1.0'</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_httpVersion</span><span style="color: #007700">=</span><span style="color: #DD0000">'1.0'</span><span style="color: #007700">;<br>        else<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_httpVersion</span><span style="color: #007700">=</span><span style="color: #DD0000">'1.1'</span><span style="color: #007700">;<br>    }<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_httpVersion</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the version of the HTTP protocol used by client.</p> <h3 class="detailHeader" id="getIsAjaxRequest-detail"> getIsAjaxRequest() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public boolean <b>getIsAjaxRequest</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether this is an AJAX (XMLHttpRequest) request.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L677">framework/web/CHttpRequest.php#677</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getIsAjaxRequest</span><span style="color: #007700">()<br>{<br>    return isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_X_REQUESTED_WITH'</span><span style="color: #007700">]) &amp;&amp; </span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_X_REQUESTED_WITH'</span><span style="color: #007700">]===</span><span style="color: #DD0000">'XMLHttpRequest'</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns whether this is an AJAX (XMLHttpRequest) request.</p> <h3 class="detailHeader" id="getIsDeleteRequest-detail"> getIsDeleteRequest() <span class="detailHeaderTag"> method (available since v1.1.7) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public boolean <b>getIsDeleteRequest</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether this is a DELETE request.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L618">framework/web/CHttpRequest.php#618</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getIsDeleteRequest</span><span style="color: #007700">()<br>{<br>    return (isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'REQUEST_METHOD'</span><span style="color: #007700">]) &amp;&amp; !</span><span style="color: #0000BB">strcasecmp</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'REQUEST_METHOD'</span><span style="color: #007700">],</span><span style="color: #DD0000">'DELETE'</span><span style="color: #007700">)) || </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getIsDeleteViaPostRequest</span><span style="color: #007700">();<br>}</span></pre> </div> <p>Returns whether this is a DELETE request.</p> <h3 class="detailHeader" id="getIsDeleteViaPostRequest-detail"> getIsDeleteViaPostRequest() <span class="detailHeaderTag"> method (available since v1.1.11) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected boolean <b>getIsDeleteViaPostRequest</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether this is a DELETE request tunneled through POST.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L628">framework/web/CHttpRequest.php#628</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">getIsDeleteViaPostRequest</span><span style="color: #007700">()<br>{<br>    return isset(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'_method'</span><span style="color: #007700">]) &amp;&amp; !</span><span style="color: #0000BB">strcasecmp</span><span style="color: #007700">(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'_method'</span><span style="color: #007700">],</span><span style="color: #DD0000">'DELETE'</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Returns whether this is a DELETE request which was tunneled through POST.</p> <h3 class="detailHeader" id="getIsFlashRequest-detail"> getIsFlashRequest() <span class="detailHeaderTag"> method (available since v1.1.11) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public boolean <b>getIsFlashRequest</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether this is an Adobe Flash or Adobe Flex request.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L687">framework/web/CHttpRequest.php#687</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getIsFlashRequest</span><span style="color: #007700">()<br>{<br>    return isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_USER_AGENT'</span><span style="color: #007700">]) &amp;&amp; (</span><span style="color: #0000BB">stripos</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_USER_AGENT'</span><span style="color: #007700">],</span><span style="color: #DD0000">'Shockwave'</span><span style="color: #007700">)!==</span><span style="color: #0000BB">false </span><span style="color: #007700">|| </span><span style="color: #0000BB">stripos</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_USER_AGENT'</span><span style="color: #007700">],</span><span style="color: #DD0000">'Flash'</span><span style="color: #007700">)!==</span><span style="color: #0000BB">false</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Returns whether this is an Adobe Flash or Adobe Flex request.</p> <h3 class="detailHeader" id="getIsPatchRequest-detail"> getIsPatchRequest() <span class="detailHeaderTag"> method (available since v1.1.16) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public boolean <b>getIsPatchRequest</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether this is a PATCH request.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L658">framework/web/CHttpRequest.php#658</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getIsPatchRequest</span><span style="color: #007700">()<br>{<br>    return (isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'REQUEST_METHOD'</span><span style="color: #007700">]) &amp;&amp; !</span><span style="color: #0000BB">strcasecmp</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'REQUEST_METHOD'</span><span style="color: #007700">],</span><span style="color: #DD0000">'PATCH'</span><span style="color: #007700">)) || </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getIsPatchViaPostRequest</span><span style="color: #007700">();<br>}</span></pre> </div> <p>Returns whether this is a PATCH request.</p> <h3 class="detailHeader" id="getIsPatchViaPostRequest-detail"> getIsPatchViaPostRequest() <span class="detailHeaderTag"> method (available since v1.1.16) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected boolean <b>getIsPatchViaPostRequest</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether this is a PATCH request tunneled through POST.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L668">framework/web/CHttpRequest.php#668</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">getIsPatchViaPostRequest</span><span style="color: #007700">()<br>{<br>    return isset(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'_method'</span><span style="color: #007700">]) &amp;&amp; !</span><span style="color: #0000BB">strcasecmp</span><span style="color: #007700">(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'_method'</span><span style="color: #007700">],</span><span style="color: #DD0000">'PATCH'</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Returns whether this is a PATCH request which was tunneled through POST.</p> <h3 class="detailHeader" id="getIsPostRequest-detail"> getIsPostRequest() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public boolean <b>getIsPostRequest</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether this is a POST request.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L608">framework/web/CHttpRequest.php#608</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getIsPostRequest</span><span style="color: #007700">()<br>{<br>    return isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'REQUEST_METHOD'</span><span style="color: #007700">]) &amp;&amp; !</span><span style="color: #0000BB">strcasecmp</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'REQUEST_METHOD'</span><span style="color: #007700">],</span><span style="color: #DD0000">'POST'</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Returns whether this is a POST request.</p> <h3 class="detailHeader" id="getIsPutRequest-detail"> getIsPutRequest() <span class="detailHeaderTag"> method (available since v1.1.7) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public boolean <b>getIsPutRequest</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether this is a PUT request.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L638">framework/web/CHttpRequest.php#638</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getIsPutRequest</span><span style="color: #007700">()<br>{<br>    return (isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'REQUEST_METHOD'</span><span style="color: #007700">]) &amp;&amp; !</span><span style="color: #0000BB">strcasecmp</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'REQUEST_METHOD'</span><span style="color: #007700">],</span><span style="color: #DD0000">'PUT'</span><span style="color: #007700">)) || </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getIsPutViaPostRequest</span><span style="color: #007700">();<br>}</span></pre> </div> <p>Returns whether this is a PUT request.</p> <h3 class="detailHeader" id="getIsPutViaPostRequest-detail"> getIsPutViaPostRequest() <span class="detailHeaderTag"> method (available since v1.1.11) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected boolean <b>getIsPutViaPostRequest</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether this is a PUT request tunneled through POST.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L648">framework/web/CHttpRequest.php#648</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">getIsPutViaPostRequest</span><span style="color: #007700">()<br>{<br>    return isset(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'_method'</span><span style="color: #007700">]) &amp;&amp; !</span><span style="color: #0000BB">strcasecmp</span><span style="color: #007700">(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'_method'</span><span style="color: #007700">],</span><span style="color: #DD0000">'PUT'</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Returns whether this is a PUT request which was tunneled through POST.</p> <h3 class="detailHeader" id="getIsSecureConnection-detail"> getIsSecureConnection() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public boolean <b>getIsSecureConnection</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">if the request is sent via secure channel (https)</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L581">framework/web/CHttpRequest.php#581</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getIsSecureConnection</span><span style="color: #007700">()<br>{<br>    return isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTPS'</span><span style="color: #007700">]) &amp;&amp; (</span><span style="color: #0000BB">strcasecmp</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTPS'</span><span style="color: #007700">],</span><span style="color: #DD0000">'on'</span><span style="color: #007700">)===</span><span style="color: #0000BB">0 </span><span style="color: #007700">|| </span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTPS'</span><span style="color: #007700">]==</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br>        || isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_X_FORWARDED_PROTO'</span><span style="color: #007700">]) &amp;&amp; </span><span style="color: #0000BB">strcasecmp</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_X_FORWARDED_PROTO'</span><span style="color: #007700">],</span><span style="color: #DD0000">'https'</span><span style="color: #007700">)===</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Return if the request is sent via secure channel (https).</p> <h3 class="detailHeader" id="getParam-detail"> getParam() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public mixed <b>getParam</b>(string $name, mixed $defaultValue=NULL)</pre> </td></tr> <tr> <td class="paramNameCol">$name</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the GET parameter name</td> </tr> <tr> <td class="paramNameCol">$defaultValue</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the default parameter value if the GET parameter does not exist.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the GET parameter value</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L177">framework/web/CHttpRequest.php#177</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getParam</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,</span><span style="color: #0000BB">$defaultValue</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>{<br>    return isset(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]) ? </span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">] : (isset(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]) ? </span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">] : </span><span style="color: #0000BB">$defaultValue</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Returns the named GET or POST parameter value. If the GET or POST parameter does not exist, the second parameter to this method will be returned. If both GET and POST contains such a named parameter, the GET parameter takes precedence.</p> <div class="SeeAlso"> <h4>See Also</h4> <ul> <li><a href="chttprequest#getQuery">getQuery</a></li> <li><a href="chttprequest#getPost">getPost</a></li> </ul> </div> <h3 class="detailHeader" id="getPatch-detail"> getPatch() <span class="detailHeaderTag"> method (available since v1.1.16) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public mixed <b>getPatch</b>(string $name, mixed $defaultValue=NULL)</pre> </td></tr> <tr> <td class="paramNameCol">$name</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the PATCH parameter name</td> </tr> <tr> <td class="paramNameCol">$defaultValue</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the default parameter value if the PATCH parameter does not exist.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the PATCH parameter value</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L271">framework/web/CHttpRequest.php#271</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getPatch</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,</span><span style="color: #0000BB">$defaultValue</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getIsPatchViaPostRequest</span><span style="color: #007700">())<br>        return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getPost</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">, </span><span style="color: #0000BB">$defaultValue</span><span style="color: #007700">);<br><br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getIsPatchRequest</span><span style="color: #007700">())<br>    {<br>        </span><span style="color: #0000BB">$restParams</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getRestParams</span><span style="color: #007700">();<br>        return isset(</span><span style="color: #0000BB">$restParams</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]) ? </span><span style="color: #0000BB">$restParams</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">] : </span><span style="color: #0000BB">$defaultValue</span><span style="color: #007700">;<br>    }<br>    else<br>        return </span><span style="color: #0000BB">$defaultValue</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the named PATCH parameter value. If the PATCH parameter does not exist or if the current request is not a PATCH request, the second parameter to this method will be returned. If the PATCH request was tunneled through POST via _method parameter, the POST parameter will be returned instead.</p> <h3 class="detailHeader" id="getPathInfo-detail"> getPathInfo() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getPathInfo</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">part of the request URL that is after the entry script and before the question mark. Note, the returned pathinfo is decoded starting from 1.1.4. Prior to 1.1.4, whether it is decoded or not depends on the server configuration (in most cases it is not decoded).</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L462">framework/web/CHttpRequest.php#462</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getPathInfo</span><span style="color: #007700">()<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_pathInfo</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getRequestUri</span><span style="color: #007700">();<br><br>        if((</span><span style="color: #0000BB">$pos</span><span style="color: #007700">=</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">,</span><span style="color: #DD0000">'?'</span><span style="color: #007700">))!==</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>           </span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">=</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">$pos</span><span style="color: #007700">);<br><br>        </span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">decodePathInfo</span><span style="color: #007700">(</span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">);<br><br>        </span><span style="color: #0000BB">$scriptUrl</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getScriptUrl</span><span style="color: #007700">();<br>        </span><span style="color: #0000BB">$baseUrl</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getBaseUrl</span><span style="color: #007700">();<br>        if(</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">,</span><span style="color: #0000BB">$scriptUrl</span><span style="color: #007700">)===</span><span style="color: #0000BB">0</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">=</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">,</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$scriptUrl</span><span style="color: #007700">));<br>        elseif(</span><span style="color: #0000BB">$baseUrl</span><span style="color: #007700">===</span><span style="color: #DD0000">'' </span><span style="color: #007700">|| </span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">,</span><span style="color: #0000BB">$baseUrl</span><span style="color: #007700">)===</span><span style="color: #0000BB">0</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">=</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">,</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$baseUrl</span><span style="color: #007700">));<br>        elseif(</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'PHP_SELF'</span><span style="color: #007700">],</span><span style="color: #0000BB">$scriptUrl</span><span style="color: #007700">)===</span><span style="color: #0000BB">0</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">=</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'PHP_SELF'</span><span style="color: #007700">],</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$scriptUrl</span><span style="color: #007700">));<br>        else<br>            throw new </span><span style="color: #0000BB">CException</span><span style="color: #007700">(</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">t</span><span style="color: #007700">(</span><span style="color: #DD0000">'yii'</span><span style="color: #007700">,</span><span style="color: #DD0000">'CHttpRequest is unable to determine the path info of the request.'</span><span style="color: #007700">));<br><br>        if(</span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">===</span><span style="color: #DD0000">'/' </span><span style="color: #007700">|| </span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">===</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">=</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br>        elseif(</span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">!==</span><span style="color: #DD0000">'' </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]===</span><span style="color: #DD0000">'/'</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">=</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">,</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br><br>        if((</span><span style="color: #0000BB">$posEnd</span><span style="color: #007700">=</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">)-</span><span style="color: #0000BB">1</span><span style="color: #007700">)&gt;</span><span style="color: #0000BB">0 </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">[</span><span style="color: #0000BB">$posEnd</span><span style="color: #007700">]===</span><span style="color: #DD0000">'/'</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">=</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">$posEnd</span><span style="color: #007700">);<br><br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_pathInfo</span><span style="color: #007700">=</span><span style="color: #0000BB">$pathInfo</span><span style="color: #007700">;<br>    }<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_pathInfo</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the path info of the currently requested URL. This refers to the part that is after the entry script and before the question mark. The starting and ending slashes are stripped off.</p> <h3 class="detailHeader" id="getPort-detail"> getPort() <span class="detailHeaderTag"> method (available since v1.1.3) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public integer <b>getPort</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">port number for insecure requests.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L811">framework/web/CHttpRequest.php#811</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getPort</span><span style="color: #007700">()<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_port</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_port</span><span style="color: #007700">=!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getIsSecureConnection</span><span style="color: #007700">() &amp;&amp; isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'SERVER_PORT'</span><span style="color: #007700">]) ? (int)</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'SERVER_PORT'</span><span style="color: #007700">] : </span><span style="color: #0000BB">80</span><span style="color: #007700">;<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_port</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the port to use for insecure requests. Defaults to 80, or the port specified by the server if the current request is insecure. You may explicitly specify it by setting the <a href="chttprequest#setPort">port</a> property.</p> <div class="SeeAlso"> <h4>See Also</h4> <ul> <li><a href="chttprequest#setPort">setPort</a></li> </ul> </div> <h3 class="detailHeader" id="getPost-detail"> getPost() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public mixed <b>getPost</b>(string $name, mixed $defaultValue=NULL)</pre> </td></tr> <tr> <td class="paramNameCol">$name</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the POST parameter name</td> </tr> <tr> <td class="paramNameCol">$defaultValue</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the default parameter value if the POST parameter does not exist.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the POST parameter value</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L205">framework/web/CHttpRequest.php#205</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getPost</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,</span><span style="color: #0000BB">$defaultValue</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>{<br>    return isset(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]) ? </span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">] : </span><span style="color: #0000BB">$defaultValue</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the named POST parameter value. If the POST parameter does not exist, the second parameter to this method will be returned.</p> <div class="SeeAlso"> <h4>See Also</h4> <ul> <li><a href="chttprequest#getParam">getParam</a></li> <li><a href="chttprequest#getQuery">getQuery</a></li> </ul> </div> <h3 class="detailHeader" id="getPreferredAcceptType-detail"> getPreferredAcceptType() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public array <b>getPreferredAcceptType</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">the user preferred accept MIME type or false if the user does not have any.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L1024">framework/web/CHttpRequest.php#1024</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getPreferredAcceptType</span><span style="color: #007700">()<br>{<br>    </span><span style="color: #0000BB">$preferredAcceptTypes</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getPreferredAcceptTypes</span><span style="color: #007700">();<br>    return empty(</span><span style="color: #0000BB">$preferredAcceptTypes</span><span style="color: #007700">) ? </span><span style="color: #0000BB">false </span><span style="color: #007700">: </span><span style="color: #0000BB">$preferredAcceptTypes</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br>}</span></pre> </div> <p>Returns the user preferred accept MIME type. The MIME type is returned as an array map (see <a href="chttprequest#parseAcceptHeader">parseAcceptHeader()</a>).</p> <h3 class="detailHeader" id="getPreferredAcceptTypes-detail"> getPreferredAcceptTypes() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public array <b>getPreferredAcceptTypes</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">the user accepted MIME types, as array maps, in the order of preference.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L1008">framework/web/CHttpRequest.php#1008</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getPreferredAcceptTypes</span><span style="color: #007700">()<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_preferredAcceptTypes</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$accepts</span><span style="color: #007700">=</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">parseAcceptHeader</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getAcceptTypes</span><span style="color: #007700">());<br>        </span><span style="color: #0000BB">usort</span><span style="color: #007700">(</span><span style="color: #0000BB">$accepts</span><span style="color: #007700">,array(</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">),</span><span style="color: #DD0000">'compareAcceptTypes'</span><span style="color: #007700">));<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_preferredAcceptTypes</span><span style="color: #007700">=</span><span style="color: #0000BB">$accepts</span><span style="color: #007700">;<br>    }<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_preferredAcceptTypes</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns an array of user accepted MIME types in order of preference. Each array entry consists of a map with the type, subType, baseType and params, an array map of key-value parameters. See <a href="chttprequest#parseAcceptHeader">parseAcceptHeader()</a> for a description of the array map.</p> <h3 class="detailHeader" id="getPreferredLanguage-detail"> getPreferredLanguage() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getPreferredLanguage</b>(array $languages=array ( ))</pre> </td></tr> <tr> <td class="paramNameCol">$languages</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">a list of the languages supported by the application. If empty, this method will return the first language returned by [[getPreferredLanguages()]].</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the language that the application should use. false is returned if both [[getPreferredLanguages()]] and `$languages` are empty.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L1072">framework/web/CHttpRequest.php#1072</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getPreferredLanguage</span><span style="color: #007700">(</span><span style="color: #0000BB">$languages</span><span style="color: #007700">=array())<br>{<br>    </span><span style="color: #0000BB">$preferredLanguages</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getPreferredLanguages</span><span style="color: #007700">();<br>    if(empty(</span><span style="color: #0000BB">$languages</span><span style="color: #007700">)) {<br>        return !empty(</span><span style="color: #0000BB">$preferredLanguages</span><span style="color: #007700">) ? </span><span style="color: #0000BB">CLocale</span><span style="color: #007700">::</span><span style="color: #0000BB">getCanonicalID</span><span style="color: #007700">(</span><span style="color: #0000BB">$preferredLanguages</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]) : </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>    }<br>    foreach (</span><span style="color: #0000BB">$preferredLanguages </span><span style="color: #007700">as </span><span style="color: #0000BB">$preferredLanguage</span><span style="color: #007700">) {<br>        </span><span style="color: #0000BB">$preferredLanguage</span><span style="color: #007700">=</span><span style="color: #0000BB">CLocale</span><span style="color: #007700">::</span><span style="color: #0000BB">getCanonicalID</span><span style="color: #007700">(</span><span style="color: #0000BB">$preferredLanguage</span><span style="color: #007700">);<br>        foreach (</span><span style="color: #0000BB">$languages </span><span style="color: #007700">as </span><span style="color: #0000BB">$language</span><span style="color: #007700">) {<br>            </span><span style="color: #0000BB">$language</span><span style="color: #007700">=</span><span style="color: #0000BB">CLocale</span><span style="color: #007700">::</span><span style="color: #0000BB">getCanonicalID</span><span style="color: #007700">(</span><span style="color: #0000BB">$language</span><span style="color: #007700">);<br>            </span><span style="color: #FF8000">// en_us==en_us, en==en_us, en_us==en<br>            </span><span style="color: #007700">if(</span><span style="color: #0000BB">$language</span><span style="color: #007700">===</span><span style="color: #0000BB">$preferredLanguage </span><span style="color: #007700">|| </span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$preferredLanguage</span><span style="color: #007700">,</span><span style="color: #0000BB">$language</span><span style="color: #007700">.</span><span style="color: #DD0000">'_'</span><span style="color: #007700">)===</span><span style="color: #0000BB">0 </span><span style="color: #007700">|| </span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$language</span><span style="color: #007700">,</span><span style="color: #0000BB">$preferredLanguage</span><span style="color: #007700">.</span><span style="color: #DD0000">'_'</span><span style="color: #007700">)===</span><span style="color: #0000BB">0</span><span style="color: #007700">) {<br>                return </span><span style="color: #0000BB">$language</span><span style="color: #007700">;<br>            }<br>        }<br>    }<br>    return </span><span style="color: #0000BB">reset</span><span style="color: #007700">(</span><span style="color: #0000BB">$languages</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Returns the user-preferred language that should be used by this application. The language resolution is based on the user preferred languages and the languages supported by the application. The method will try to find the best match.</p> <h3 class="detailHeader" id="getPreferredLanguages-detail"> getPreferredLanguages() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public array <b>getPreferredLanguages</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">the user accepted languages in the order of preference. See <a href="http://tools.ietf.org/html/rfc2616#section-14.4">http://tools.ietf.org/html/rfc2616#section-14.4</a>
</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L1036">framework/web/CHttpRequest.php#1036</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getPreferredLanguages</span><span style="color: #007700">()<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_preferredLanguages</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$sortedLanguages</span><span style="color: #007700">=array();<br>        if(isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_ACCEPT_LANGUAGE'</span><span style="color: #007700">]) &amp;&amp; </span><span style="color: #0000BB">$n</span><span style="color: #007700">=</span><span style="color: #0000BB">preg_match_all</span><span style="color: #007700">(</span><span style="color: #DD0000">'/([\w\-_]+)(?:\s*;\s*q\s*=\s*(\d*\.?\d*))?/'</span><span style="color: #007700">,</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_ACCEPT_LANGUAGE'</span><span style="color: #007700">],</span><span style="color: #0000BB">$matches</span><span style="color: #007700">))<br>        {<br>            </span><span style="color: #0000BB">$languages</span><span style="color: #007700">=array();<br><br>            for(</span><span style="color: #0000BB">$i</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;</span><span style="color: #0000BB">$i</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">$n</span><span style="color: #007700">;++</span><span style="color: #0000BB">$i</span><span style="color: #007700">)<br>            {<br>                </span><span style="color: #0000BB">$q</span><span style="color: #007700">=</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">][</span><span style="color: #0000BB">$i</span><span style="color: #007700">];<br>                if(</span><span style="color: #0000BB">$q</span><span style="color: #007700">===</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br>                    </span><span style="color: #0000BB">$q</span><span style="color: #007700">=</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br>                if(</span><span style="color: #0000BB">$q</span><span style="color: #007700">)<br>                    </span><span style="color: #0000BB">$languages</span><span style="color: #007700">[]=array((float)</span><span style="color: #0000BB">$q</span><span style="color: #007700">,</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">][</span><span style="color: #0000BB">$i</span><span style="color: #007700">]);<br>            }<br><br>            </span><span style="color: #0000BB">usort</span><span style="color: #007700">(</span><span style="color: #0000BB">$languages</span><span style="color: #007700">,</span><span style="color: #0000BB">create_function</span><span style="color: #007700">(</span><span style="color: #DD0000">'$a,$b'</span><span style="color: #007700">,</span><span style="color: #DD0000">'if($a[0]==$b[0]) {return 0;} return ($a[0]&lt;$b[0]) ? 1 : -1;'</span><span style="color: #007700">));<br>            foreach(</span><span style="color: #0000BB">$languages </span><span style="color: #007700">as </span><span style="color: #0000BB">$language</span><span style="color: #007700">)<br>                </span><span style="color: #0000BB">$sortedLanguages</span><span style="color: #007700">[]=</span><span style="color: #0000BB">$language</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br>        }<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_preferredLanguages</span><span style="color: #007700">=</span><span style="color: #0000BB">$sortedLanguages</span><span style="color: #007700">;<br>    }<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_preferredLanguages</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns an array of user accepted languages in order of preference. The returned language IDs will NOT be canonicalized using <a href="clocale#getCanonicalID">CLocale::getCanonicalID</a>.</p> <h3 class="detailHeader" id="getPut-detail"> getPut() <span class="detailHeaderTag"> method (available since v1.1.7) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public mixed <b>getPut</b>(string $name, mixed $defaultValue=NULL)</pre> </td></tr> <tr> <td class="paramNameCol">$name</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the PUT parameter name</td> </tr> <tr> <td class="paramNameCol">$defaultValue</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the default parameter value if the PUT parameter does not exist.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the PUT parameter value</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L246">framework/web/CHttpRequest.php#246</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getPut</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,</span><span style="color: #0000BB">$defaultValue</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getIsPutViaPostRequest</span><span style="color: #007700">())<br>        return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getPost</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">, </span><span style="color: #0000BB">$defaultValue</span><span style="color: #007700">);<br><br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getIsPutRequest</span><span style="color: #007700">())<br>    {<br>        </span><span style="color: #0000BB">$restParams</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getRestParams</span><span style="color: #007700">();<br>        return isset(</span><span style="color: #0000BB">$restParams</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]) ? </span><span style="color: #0000BB">$restParams</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">] : </span><span style="color: #0000BB">$defaultValue</span><span style="color: #007700">;<br>    }<br>    else<br>        return </span><span style="color: #0000BB">$defaultValue</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the named PUT parameter value. If the PUT parameter does not exist or if the current request is not a PUT request, the second parameter to this method will be returned. If the PUT request was tunneled through POST via _method parameter, the POST parameter will be returned instead (available since version 1.1.11).</p> <h3 class="detailHeader" id="getQuery-detail"> getQuery() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public mixed <b>getQuery</b>(string $name, mixed $defaultValue=NULL)</pre> </td></tr> <tr> <td class="paramNameCol">$name</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the GET parameter name</td> </tr> <tr> <td class="paramNameCol">$defaultValue</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the default parameter value if the GET parameter does not exist.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the GET parameter value</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L191">framework/web/CHttpRequest.php#191</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getQuery</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,</span><span style="color: #0000BB">$defaultValue</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>{<br>    return isset(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]) ? </span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">] : </span><span style="color: #0000BB">$defaultValue</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the named GET parameter value. If the GET parameter does not exist, the second parameter to this method will be returned.</p> <div class="SeeAlso"> <h4>See Also</h4> <ul> <li><a href="chttprequest#getPost">getPost</a></li> <li><a href="chttprequest#getParam">getParam</a></li> </ul> </div> <h3 class="detailHeader" id="getQueryString-detail"> getQueryString() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getQueryString</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">part of the request URL that is after the question mark</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L572">framework/web/CHttpRequest.php#572</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getQueryString</span><span style="color: #007700">()<br>{<br>    return isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'QUERY_STRING'</span><span style="color: #007700">])?</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'QUERY_STRING'</span><span style="color: #007700">]:</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns part of the request URL that is after the question mark.</p> <h3 class="detailHeader" id="getRawBody-detail"> getRawBody() <span class="detailHeaderTag"> method (available since v1.1.13) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getRawBody</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the request body</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L313">framework/web/CHttpRequest.php#313</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getRawBody</span><span style="color: #007700">()<br>{<br>    static </span><span style="color: #0000BB">$rawBody</span><span style="color: #007700">;<br>    if(</span><span style="color: #0000BB">$rawBody</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$rawBody</span><span style="color: #007700">=</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">'php://input'</span><span style="color: #007700">);<br>    return </span><span style="color: #0000BB">$rawBody</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the raw HTTP request body.</p> <h3 class="detailHeader" id="getRequestType-detail"> getRequestType() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getRequestType</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">request type, such as GET, POST, HEAD, PUT, PATCH, DELETE.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L594">framework/web/CHttpRequest.php#594</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getRequestType</span><span style="color: #007700">()<br>{<br>    if(isset(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'_method'</span><span style="color: #007700">]))<br>        return </span><span style="color: #0000BB">strtoupper</span><span style="color: #007700">(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'_method'</span><span style="color: #007700">]);<br>    elseif(isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_X_HTTP_METHOD_OVERRIDE'</span><span style="color: #007700">]))<br>        return </span><span style="color: #0000BB">strtoupper</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_X_HTTP_METHOD_OVERRIDE'</span><span style="color: #007700">]);<br><br>    return </span><span style="color: #0000BB">strtoupper</span><span style="color: #007700">(isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'REQUEST_METHOD'</span><span style="color: #007700">])?</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'REQUEST_METHOD'</span><span style="color: #007700">]:</span><span style="color: #DD0000">'GET'</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Returns the request type, such as GET, POST, HEAD, PUT, PATCH, DELETE. Request type can be manually set in POST requests with a parameter named _method. Useful for RESTful request from older browsers which do not support PUT, PATCH or DELETE natively (available since version 1.1.11).</p> <h3 class="detailHeader" id="getRequestUri-detail"> getRequestUri() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getRequestUri</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the request URI portion for the currently requested URL.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L538">framework/web/CHttpRequest.php#538</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getRequestUri</span><span style="color: #007700">()<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_requestUri</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>    {<br>        if(isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_X_REWRITE_URL'</span><span style="color: #007700">])) </span><span style="color: #FF8000">// IIS<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_requestUri</span><span style="color: #007700">=</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_X_REWRITE_URL'</span><span style="color: #007700">];<br>        elseif(isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'REQUEST_URI'</span><span style="color: #007700">]))<br>        {<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_requestUri</span><span style="color: #007700">=</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'REQUEST_URI'</span><span style="color: #007700">];<br>            if(!empty(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_HOST'</span><span style="color: #007700">]))<br>            {<br>                if(</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_requestUri</span><span style="color: #007700">,</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_HOST'</span><span style="color: #007700">])!==</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>                    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_requestUri</span><span style="color: #007700">=</span><span style="color: #0000BB">preg_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'/^\w+:\/\/[^\/]+/'</span><span style="color: #007700">,</span><span style="color: #DD0000">''</span><span style="color: #007700">,</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_requestUri</span><span style="color: #007700">);<br>            }<br>            else<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_requestUri</span><span style="color: #007700">=</span><span style="color: #0000BB">preg_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'/^(http|https):\/\/[^\/]+/i'</span><span style="color: #007700">,</span><span style="color: #DD0000">''</span><span style="color: #007700">,</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_requestUri</span><span style="color: #007700">);<br>        }<br>        elseif(isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'ORIG_PATH_INFO'</span><span style="color: #007700">]))  </span><span style="color: #FF8000">// IIS 5.0 CGI<br>        </span><span style="color: #007700">{<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_requestUri</span><span style="color: #007700">=</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'ORIG_PATH_INFO'</span><span style="color: #007700">];<br>            if(!empty(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'QUERY_STRING'</span><span style="color: #007700">]))<br>                </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_requestUri</span><span style="color: #007700">.=</span><span style="color: #DD0000">'?'</span><span style="color: #007700">.</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'QUERY_STRING'</span><span style="color: #007700">];<br>        }<br>        else<br>            throw new </span><span style="color: #0000BB">CException</span><span style="color: #007700">(</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">t</span><span style="color: #007700">(</span><span style="color: #DD0000">'yii'</span><span style="color: #007700">,</span><span style="color: #DD0000">'CHttpRequest is unable to determine the request URI.'</span><span style="color: #007700">));<br>    }<br><br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_requestUri</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the request URI portion for the currently requested URL. This refers to the portion that is after the <a href="chttprequest#hostInfo">host info</a> part. It includes the <a href="chttprequest#queryString">query string</a> part if any. The implementation of this method referenced Zend_Controller_Request_Http in Zend Framework.</p> <h3 class="detailHeader" id="getRestParams-detail"> getRestParams() <span class="detailHeaderTag"> method (available since v1.1.13 method became public) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public array <b>getRestParams</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">the request parameters</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L291">framework/web/CHttpRequest.php#291</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getRestParams</span><span style="color: #007700">()<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_restParams</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$result</span><span style="color: #007700">=array();<br>        if (</span><span style="color: #0000BB">strncmp</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getContentType</span><span style="color: #007700">(), </span><span style="color: #DD0000">'application/json'</span><span style="color: #007700">, </span><span style="color: #0000BB">16</span><span style="color: #007700">) === </span><span style="color: #0000BB">0</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$result </span><span style="color: #007700">= </span><span style="color: #0000BB">CJSON</span><span style="color: #007700">::</span><span style="color: #0000BB">decode</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getRawBody</span><span style="color: #007700">(), </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">jsonAsArray</span><span style="color: #007700">);<br>        elseif(</span><span style="color: #0000BB">function_exists</span><span style="color: #007700">(</span><span style="color: #DD0000">'mb_parse_str'</span><span style="color: #007700">))<br>            </span><span style="color: #0000BB">mb_parse_str</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getRawBody</span><span style="color: #007700">(), </span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br>        else<br>            </span><span style="color: #0000BB">parse_str</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getRawBody</span><span style="color: #007700">(), </span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_restParams</span><span style="color: #007700">=</span><span style="color: #0000BB">$result</span><span style="color: #007700">;<br>    }<br><br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_restParams</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns request parameters. Typically PUT, PATCH or DELETE.</p> <h3 class="detailHeader" id="getScriptFile-detail"> getScriptFile() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getScriptFile</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">entry script file path (processed w/ realpath())</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L750">framework/web/CHttpRequest.php#750</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getScriptFile</span><span style="color: #007700">()<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_scriptFile</span><span style="color: #007700">!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_scriptFile</span><span style="color: #007700">;<br>    else<br>        return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_scriptFile</span><span style="color: #007700">=</span><span style="color: #0000BB">realpath</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'SCRIPT_FILENAME'</span><span style="color: #007700">]);<br>}</span></pre> </div> <p>Returns entry script file path.</p> <h3 class="detailHeader" id="getScriptUrl-detail"> getScriptUrl() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getScriptUrl</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the relative URL of the entry script.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L420">framework/web/CHttpRequest.php#420</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getScriptUrl</span><span style="color: #007700">()<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_scriptUrl</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$scriptName</span><span style="color: #007700">=</span><span style="color: #0000BB">basename</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'SCRIPT_FILENAME'</span><span style="color: #007700">]);<br>        if(</span><span style="color: #0000BB">basename</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'SCRIPT_NAME'</span><span style="color: #007700">])===</span><span style="color: #0000BB">$scriptName</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_scriptUrl</span><span style="color: #007700">=</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'SCRIPT_NAME'</span><span style="color: #007700">];<br>        elseif(</span><span style="color: #0000BB">basename</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'PHP_SELF'</span><span style="color: #007700">])===</span><span style="color: #0000BB">$scriptName</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_scriptUrl</span><span style="color: #007700">=</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'PHP_SELF'</span><span style="color: #007700">];<br>        elseif(isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'ORIG_SCRIPT_NAME'</span><span style="color: #007700">]) &amp;&amp; </span><span style="color: #0000BB">basename</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'ORIG_SCRIPT_NAME'</span><span style="color: #007700">])===</span><span style="color: #0000BB">$scriptName</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_scriptUrl</span><span style="color: #007700">=</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'ORIG_SCRIPT_NAME'</span><span style="color: #007700">];<br>        elseif((</span><span style="color: #0000BB">$pos</span><span style="color: #007700">=</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'PHP_SELF'</span><span style="color: #007700">],</span><span style="color: #DD0000">'/'</span><span style="color: #007700">.</span><span style="color: #0000BB">$scriptName</span><span style="color: #007700">))!==</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_scriptUrl</span><span style="color: #007700">=</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'SCRIPT_NAME'</span><span style="color: #007700">],</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">$pos</span><span style="color: #007700">).</span><span style="color: #DD0000">'/'</span><span style="color: #007700">.</span><span style="color: #0000BB">$scriptName</span><span style="color: #007700">;<br>        elseif(isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'DOCUMENT_ROOT'</span><span style="color: #007700">]) &amp;&amp; </span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'SCRIPT_FILENAME'</span><span style="color: #007700">],</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'DOCUMENT_ROOT'</span><span style="color: #007700">])===</span><span style="color: #0000BB">0</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_scriptUrl</span><span style="color: #007700">=</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'\\'</span><span style="color: #007700">,</span><span style="color: #DD0000">'/'</span><span style="color: #007700">,</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'DOCUMENT_ROOT'</span><span style="color: #007700">],</span><span style="color: #DD0000">''</span><span style="color: #007700">,</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'SCRIPT_FILENAME'</span><span style="color: #007700">]));<br>        else<br>            throw new </span><span style="color: #0000BB">CException</span><span style="color: #007700">(</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">t</span><span style="color: #007700">(</span><span style="color: #DD0000">'yii'</span><span style="color: #007700">,</span><span style="color: #DD0000">'CHttpRequest is unable to determine the entry script URL.'</span><span style="color: #007700">));<br>    }<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_scriptUrl</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the relative URL of the entry script. The implementation of this method referenced Zend_Controller_Request_Http in Zend Framework.</p> <h3 class="detailHeader" id="getSecurePort-detail"> getSecurePort() <span class="detailHeaderTag"> method (available since v1.1.3) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public integer <b>getSecurePort</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">port number for secure requests.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L842">framework/web/CHttpRequest.php#842</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getSecurePort</span><span style="color: #007700">()<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_securePort</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_securePort</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getIsSecureConnection</span><span style="color: #007700">() &amp;&amp; isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'SERVER_PORT'</span><span style="color: #007700">]) ? (int)</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'SERVER_PORT'</span><span style="color: #007700">] : </span><span style="color: #0000BB">443</span><span style="color: #007700">;<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_securePort</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the port to use for secure requests. Defaults to 443, or the port specified by the server if the current request is secure. You may explicitly specify it by setting the <a href="chttprequest#setSecurePort">securePort</a> property.</p> <div class="SeeAlso"> <h4>See Also</h4> <ul> <li><a href="chttprequest#setSecurePort">setSecurePort</a></li> </ul> </div> <h3 class="detailHeader" id="getServerName-detail"> getServerName() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getServerName</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">server name</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L696">framework/web/CHttpRequest.php#696</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getServerName</span><span style="color: #007700">()<br>{<br>    return </span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'SERVER_NAME'</span><span style="color: #007700">];<br>}</span></pre> </div> <p>Returns the server name.</p> <h3 class="detailHeader" id="getServerPort-detail"> getServerPort() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public integer <b>getServerPort</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">server port number</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L705">framework/web/CHttpRequest.php#705</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getServerPort</span><span style="color: #007700">()<br>{<br>    return </span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'SERVER_PORT'</span><span style="color: #007700">];<br>}</span></pre> </div> <p>Returns the server port number.</p> <h3 class="detailHeader" id="getUrl-detail"> getUrl() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getUrl</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">part of the request URL after the host info.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L326">framework/web/CHttpRequest.php#326</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getUrl</span><span style="color: #007700">()<br>{<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getRequestUri</span><span style="color: #007700">();<br>}</span></pre> </div> <p>Returns the currently requested URL. This is the same as <a href="chttprequest#getRequestUri">getRequestUri</a>.</p> <h3 class="detailHeader" id="getUrlReferrer-detail"> getUrlReferrer() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getUrlReferrer</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">URL referrer, null if not present</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L714">framework/web/CHttpRequest.php#714</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getUrlReferrer</span><span style="color: #007700">()<br>{<br>    return isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_REFERER'</span><span style="color: #007700">])?</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_REFERER'</span><span style="color: #007700">]:</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the URL referrer, null if not present</p> <h3 class="detailHeader" id="getUserAgent-detail"> getUserAgent() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getUserAgent</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">user agent, null if not present</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L723">framework/web/CHttpRequest.php#723</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getUserAgent</span><span style="color: #007700">()<br>{<br>    return isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_USER_AGENT'</span><span style="color: #007700">])?</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_USER_AGENT'</span><span style="color: #007700">]:</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the user agent, null if not present.</p> <h3 class="detailHeader" id="getUserHost-detail"> getUserHost() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getUserHost</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">user host name, null if cannot be determined</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L741">framework/web/CHttpRequest.php#741</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getUserHost</span><span style="color: #007700">()<br>{<br>    return isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'REMOTE_HOST'</span><span style="color: #007700">])?</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'REMOTE_HOST'</span><span style="color: #007700">]:</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the user host name, null if it cannot be determined.</p> <h3 class="detailHeader" id="getUserHostAddress-detail"> getUserHostAddress() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getUserHostAddress</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">user IP address</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L732">framework/web/CHttpRequest.php#732</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getUserHostAddress</span><span style="color: #007700">()<br>{<br>    return isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'REMOTE_ADDR'</span><span style="color: #007700">])?</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'REMOTE_ADDR'</span><span style="color: #007700">]:</span><span style="color: #DD0000">'127.0.0.1'</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the user IP address.</p> <h3 class="detailHeader" id="init-detail"> init() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>init</b>()</pre> </td></tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L116">framework/web/CHttpRequest.php#116</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">init</span><span style="color: #007700">()<br>{<br>    </span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">init</span><span style="color: #007700">();<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">normalizeRequest</span><span style="color: #007700">();<br>}</span></pre> </div> <p>Initializes the application component. This method overrides the parent implementation by preprocessing the user request data.</p> <h3 class="detailHeader" id="normalizeRequest-detail"> normalizeRequest() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected void <b>normalizeRequest</b>()</pre> </td></tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L127">framework/web/CHttpRequest.php#127</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">normalizeRequest</span><span style="color: #007700">()<br>{<br>    </span><span style="color: #FF8000">// normalize request<br>    </span><span style="color: #007700">if(</span><span style="color: #0000BB">function_exists</span><span style="color: #007700">(</span><span style="color: #DD0000">'get_magic_quotes_gpc'</span><span style="color: #007700">) &amp;&amp; </span><span style="color: #0000BB">get_magic_quotes_gpc</span><span style="color: #007700">())<br>    {<br>        if(isset(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">))<br>            </span><span style="color: #0000BB">$_GET</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">stripSlashes</span><span style="color: #007700">(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">);<br>        if(isset(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">))<br>            </span><span style="color: #0000BB">$_POST</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">stripSlashes</span><span style="color: #007700">(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">);<br>        if(isset(</span><span style="color: #0000BB">$_REQUEST</span><span style="color: #007700">))<br>            </span><span style="color: #0000BB">$_REQUEST</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">stripSlashes</span><span style="color: #007700">(</span><span style="color: #0000BB">$_REQUEST</span><span style="color: #007700">);<br>        if(isset(</span><span style="color: #0000BB">$_COOKIE</span><span style="color: #007700">))<br>            </span><span style="color: #0000BB">$_COOKIE</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">stripSlashes</span><span style="color: #007700">(</span><span style="color: #0000BB">$_COOKIE</span><span style="color: #007700">);<br>    }<br><br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">enableCsrfValidation</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">attachEventHandler</span><span style="color: #007700">(</span><span style="color: #DD0000">'onBeginRequest'</span><span style="color: #007700">,array(</span><span style="color: #0000BB">$this</span><span style="color: #007700">,</span><span style="color: #DD0000">'validateCsrfToken'</span><span style="color: #007700">));<br>}</span></pre> </div> <p>Normalizes the request data. This method strips off slashes in request data if get_magic_quotes_gpc() returns true. It also performs CSRF validation if <a href="chttprequest#enableCsrfValidation">enableCsrfValidation</a> is true.</p> <h3 class="detailHeader" id="parseAcceptHeader-detail"> parseAcceptHeader() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public static array <b>parseAcceptHeader</b>(string $header)</pre> </td></tr> <tr> <td class="paramNameCol">$header</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the accept header value to parse</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">the user accepted MIME types.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L919">framework/web/CHttpRequest.php#919</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public static function </span><span style="color: #0000BB">parseAcceptHeader</span><span style="color: #007700">(</span><span style="color: #0000BB">$header</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$matches</span><span style="color: #007700">=array();<br>    </span><span style="color: #0000BB">$accepts</span><span style="color: #007700">=array();<br>    </span><span style="color: #FF8000">// get individual entries with their type, subtype, basetype and params<br>    </span><span style="color: #0000BB">preg_match_all</span><span style="color: #007700">(</span><span style="color: #DD0000">'/(?:\G\s?,\s?|^)(\w+|\*)\/(\w+|\*)(?:\+(\w+))?|(?&lt;!^)\G(?:\s?;\s?(\w+)=([\w\.]+))/'</span><span style="color: #007700">,</span><span style="color: #0000BB">$header</span><span style="color: #007700">,</span><span style="color: #0000BB">$matches</span><span style="color: #007700">);<br>    </span><span style="color: #FF8000">// the regexp should (in theory) always return an array of 6 arrays<br>    </span><span style="color: #007700">if(</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$matches</span><span style="color: #007700">)===</span><span style="color: #0000BB">6</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$i</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$itemLen</span><span style="color: #007700">=</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]);<br>        while(</span><span style="color: #0000BB">$i</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">$itemLen</span><span style="color: #007700">)<br>        {<br>            </span><span style="color: #FF8000">// fill out a content type<br>            </span><span style="color: #0000BB">$accept</span><span style="color: #007700">=array(<br>                </span><span style="color: #DD0000">'type'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">][</span><span style="color: #0000BB">$i</span><span style="color: #007700">],<br>                </span><span style="color: #DD0000">'subType'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">][</span><span style="color: #0000BB">$i</span><span style="color: #007700">],<br>                </span><span style="color: #DD0000">'baseType'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">null</span><span style="color: #007700">,<br>                </span><span style="color: #DD0000">'params'</span><span style="color: #007700">=&gt;array(),<br>            );<br>            </span><span style="color: #FF8000">// fill in the base type if it exists<br>            </span><span style="color: #007700">if(</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">][</span><span style="color: #0000BB">$i</span><span style="color: #007700">]!==</span><span style="color: #0000BB">null </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">][</span><span style="color: #0000BB">$i</span><span style="color: #007700">]!==</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br>                </span><span style="color: #0000BB">$accept</span><span style="color: #007700">[</span><span style="color: #DD0000">'baseType'</span><span style="color: #007700">]=</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">][</span><span style="color: #0000BB">$i</span><span style="color: #007700">];<br>            </span><span style="color: #FF8000">// continue looping while there is no new content type, to fill in all accompanying params<br>            </span><span style="color: #007700">for(</span><span style="color: #0000BB">$i</span><span style="color: #007700">++;</span><span style="color: #0000BB">$i</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">$itemLen</span><span style="color: #007700">;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++)<br>            {<br>                </span><span style="color: #FF8000">// if the next content type is null, then the item is a param for the current content type<br>                </span><span style="color: #007700">if(</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">][</span><span style="color: #0000BB">$i</span><span style="color: #007700">]===</span><span style="color: #0000BB">null </span><span style="color: #007700">|| </span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">][</span><span style="color: #0000BB">$i</span><span style="color: #007700">]===</span><span style="color: #DD0000">''</span><span style="color: #007700">)<br>                {<br>                    </span><span style="color: #FF8000">// if this is the quality param, convert it to a double<br>                    </span><span style="color: #007700">if(</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">4</span><span style="color: #007700">][</span><span style="color: #0000BB">$i</span><span style="color: #007700">]===</span><span style="color: #DD0000">'q'</span><span style="color: #007700">)<br>                    {<br>                        </span><span style="color: #FF8000">// sanity check on q value<br>                        </span><span style="color: #0000BB">$q</span><span style="color: #007700">=(double)</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">5</span><span style="color: #007700">][</span><span style="color: #0000BB">$i</span><span style="color: #007700">];<br>                        if(</span><span style="color: #0000BB">$q</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br>                            </span><span style="color: #0000BB">$q</span><span style="color: #007700">=(double)</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br>                        elseif(</span><span style="color: #0000BB">$q</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">0</span><span style="color: #007700">)<br>                            </span><span style="color: #0000BB">$q</span><span style="color: #007700">=(double)</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br>                        </span><span style="color: #0000BB">$accept</span><span style="color: #007700">[</span><span style="color: #DD0000">'params'</span><span style="color: #007700">][</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">4</span><span style="color: #007700">][</span><span style="color: #0000BB">$i</span><span style="color: #007700">]]=</span><span style="color: #0000BB">$q</span><span style="color: #007700">;<br>                    }<br>                    else<br>                        </span><span style="color: #0000BB">$accept</span><span style="color: #007700">[</span><span style="color: #DD0000">'params'</span><span style="color: #007700">][</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">4</span><span style="color: #007700">][</span><span style="color: #0000BB">$i</span><span style="color: #007700">]]=</span><span style="color: #0000BB">$matches</span><span style="color: #007700">[</span><span style="color: #0000BB">5</span><span style="color: #007700">][</span><span style="color: #0000BB">$i</span><span style="color: #007700">];<br>                }<br>                else<br>                    break;<br>            }<br>            </span><span style="color: #FF8000">// q defaults to 1 if not explicitly given<br>            </span><span style="color: #007700">if(!isset(</span><span style="color: #0000BB">$accept</span><span style="color: #007700">[</span><span style="color: #DD0000">'params'</span><span style="color: #007700">][</span><span style="color: #DD0000">'q'</span><span style="color: #007700">]))<br>                </span><span style="color: #0000BB">$accept</span><span style="color: #007700">[</span><span style="color: #DD0000">'params'</span><span style="color: #007700">][</span><span style="color: #DD0000">'q'</span><span style="color: #007700">]=(double)</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br>            </span><span style="color: #0000BB">$accepts</span><span style="color: #007700">[] = </span><span style="color: #0000BB">$accept</span><span style="color: #007700">;<br>        }<br>    }<br>    return </span><span style="color: #0000BB">$accepts</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Parses an HTTP Accept header, returning an array map with all parts of each entry. Each array entry consists of a map with the type, subType, baseType and params, an array map of key-value parameters, obligatorily including a `q` value (i.e. preference ranking) as a double. For example, an Accept header value of <code>'application/xhtml+xml;q=0.9;level=1'</code> would give an array entry of </p>
<pre>
array(
       'type' =&gt; 'application',
       'subType' =&gt; 'xhtml',
       'baseType' =&gt; 'xml',
       'params' =&gt; array(
           'q' =&gt; 0.9,
           'level' =&gt; '1',
       ),
)
</pre> <br><br> <b>Please note:</b> To avoid great complexity, there are no steps taken to ensure that quoted strings are treated properly. If the header text includes quoted strings containing space or the , or ; characters then the results may not be correct! <br><br> See also <a href="http://tools.ietf.org/html/rfc2616#section-14.1">http://tools.ietf.org/html/rfc2616#section-14.1</a> for details on Accept header. <h3 class="detailHeader" id="redirect-detail"> redirect() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>redirect</b>(string $url, boolean $terminate=true, integer $statusCode=302)</pre> </td></tr> <tr> <td class="paramNameCol">$url</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">URL to be redirected to. Note that when URL is not absolute (not starting with "/") it will be relative to current request URL.</td> </tr> <tr> <td class="paramNameCol">$terminate</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether to terminate the current application</td> </tr> <tr> <td class="paramNameCol">$statusCode</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">the HTTP status code. Defaults to 302. See <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html">http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html</a> for details about HTTP status code.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L885">framework/web/CHttpRequest.php#885</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">redirect</span><span style="color: #007700">(</span><span style="color: #0000BB">$url</span><span style="color: #007700">,</span><span style="color: #0000BB">$terminate</span><span style="color: #007700">=</span><span style="color: #0000BB">true</span><span style="color: #007700">,</span><span style="color: #0000BB">$statusCode</span><span style="color: #007700">=</span><span style="color: #0000BB">302</span><span style="color: #007700">)<br>{<br>    if(</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$url</span><span style="color: #007700">,</span><span style="color: #DD0000">'/'</span><span style="color: #007700">)===</span><span style="color: #0000BB">0 </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$url</span><span style="color: #007700">,</span><span style="color: #DD0000">'//'</span><span style="color: #007700">)!==</span><span style="color: #0000BB">0</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$url</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getHostInfo</span><span style="color: #007700">().</span><span style="color: #0000BB">$url</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Location: '</span><span style="color: #007700">.</span><span style="color: #0000BB">$url</span><span style="color: #007700">, </span><span style="color: #0000BB">true</span><span style="color: #007700">, </span><span style="color: #0000BB">$statusCode</span><span style="color: #007700">);<br>    if(</span><span style="color: #0000BB">$terminate</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">end</span><span style="color: #007700">();<br>}</span></pre> </div> <p>Redirects the browser to the specified URL.</p> <h3 class="detailHeader" id="sendFile-detail"> sendFile() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>sendFile</b>(string $fileName, string $content, string $mimeType=NULL, boolean $terminate=true)</pre> </td></tr> <tr> <td class="paramNameCol">$fileName</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">file name</td> </tr> <tr> <td class="paramNameCol">$content</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">content to be set.</td> </tr> <tr> <td class="paramNameCol">$mimeType</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">mime type of the content. If null, it will be guessed automatically based on the given file name.</td> </tr> <tr> <td class="paramNameCol">$terminate</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether to terminate the current application after calling this method</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L1099">framework/web/CHttpRequest.php#1099</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">sendFile</span><span style="color: #007700">(</span><span style="color: #0000BB">$fileName</span><span style="color: #007700">,</span><span style="color: #0000BB">$content</span><span style="color: #007700">,</span><span style="color: #0000BB">$mimeType</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">,</span><span style="color: #0000BB">$terminate</span><span style="color: #007700">=</span><span style="color: #0000BB">true</span><span style="color: #007700">)<br>{<br>    if(</span><span style="color: #0000BB">$mimeType</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>    {<br>        if((</span><span style="color: #0000BB">$mimeType</span><span style="color: #007700">=</span><span style="color: #0000BB">CFileHelper</span><span style="color: #007700">::</span><span style="color: #0000BB">getMimeTypeByExtension</span><span style="color: #007700">(</span><span style="color: #0000BB">$fileName</span><span style="color: #007700">))===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$mimeType</span><span style="color: #007700">=</span><span style="color: #DD0000">'text/plain'</span><span style="color: #007700">;<br>    }<br><br>    </span><span style="color: #0000BB">$fileSize</span><span style="color: #007700">=(</span><span style="color: #0000BB">function_exists</span><span style="color: #007700">(</span><span style="color: #DD0000">'mb_strlen'</span><span style="color: #007700">) ? </span><span style="color: #0000BB">mb_strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$content</span><span style="color: #007700">,</span><span style="color: #DD0000">'8bit'</span><span style="color: #007700">) : </span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$content</span><span style="color: #007700">));<br>    </span><span style="color: #0000BB">$contentStart</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$contentEnd</span><span style="color: #007700">=</span><span style="color: #0000BB">$fileSize</span><span style="color: #007700">-</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br><br>    </span><span style="color: #0000BB">$httpVersion</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getHttpVersion</span><span style="color: #007700">();<br>    if(isset(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_RANGE'</span><span style="color: #007700">]))<br>    {<br>        </span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Accept-Ranges: bytes'</span><span style="color: #007700">);<br><br>        </span><span style="color: #FF8000">//client sent us a multibyte range, can not hold this one for now<br>        </span><span style="color: #007700">if(</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_RANGE'</span><span style="color: #007700">],</span><span style="color: #DD0000">','</span><span style="color: #007700">)!==</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>        {<br>            </span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Range: bytes </span><span style="color: #0000BB">$contentStart</span><span style="color: #DD0000">-</span><span style="color: #0000BB">$contentEnd</span><span style="color: #DD0000">/</span><span style="color: #0000BB">$fileSize</span><span style="color: #DD0000">"</span><span style="color: #007700">);<br>            throw new </span><span style="color: #0000BB">CHttpException</span><span style="color: #007700">(</span><span style="color: #0000BB">416</span><span style="color: #007700">,</span><span style="color: #DD0000">'Requested Range Not Satisfiable'</span><span style="color: #007700">);<br>        }<br><br>        </span><span style="color: #0000BB">$range</span><span style="color: #007700">=</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'bytes='</span><span style="color: #007700">,</span><span style="color: #DD0000">''</span><span style="color: #007700">,</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_RANGE'</span><span style="color: #007700">]);<br><br>        </span><span style="color: #FF8000">//range requests starts from "-", so it means that data must be dumped the end point.<br>        </span><span style="color: #007700">if(</span><span style="color: #0000BB">$range</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]===</span><span style="color: #DD0000">'-'</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$contentStart</span><span style="color: #007700">=</span><span style="color: #0000BB">$fileSize</span><span style="color: #007700">-</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$range</span><span style="color: #007700">,</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br>        else<br>        {<br>            </span><span style="color: #0000BB">$range</span><span style="color: #007700">=</span><span style="color: #0000BB">explode</span><span style="color: #007700">(</span><span style="color: #DD0000">'-'</span><span style="color: #007700">,</span><span style="color: #0000BB">$range</span><span style="color: #007700">);<br>            </span><span style="color: #0000BB">$contentStart</span><span style="color: #007700">=</span><span style="color: #0000BB">$range</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br><br>            </span><span style="color: #FF8000">// check if the last-byte-pos presents in header<br>            </span><span style="color: #007700">if((isset(</span><span style="color: #0000BB">$range</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]) &amp;&amp; </span><span style="color: #0000BB">is_numeric</span><span style="color: #007700">(</span><span style="color: #0000BB">$range</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">])))<br>                </span><span style="color: #0000BB">$contentEnd</span><span style="color: #007700">=</span><span style="color: #0000BB">$range</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br>        }<br><br>        </span><span style="color: #FF8000">/* Check the range and make sure it's treated according to the specs.<br>         * http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html<br>         */<br>        // End bytes can not be larger than $end.<br>        </span><span style="color: #0000BB">$contentEnd</span><span style="color: #007700">=(</span><span style="color: #0000BB">$contentEnd </span><span style="color: #007700">&gt; </span><span style="color: #0000BB">$fileSize</span><span style="color: #007700">) ? </span><span style="color: #0000BB">$fileSize</span><span style="color: #007700">-</span><span style="color: #0000BB">1 </span><span style="color: #007700">: </span><span style="color: #0000BB">$contentEnd</span><span style="color: #007700">;<br><br>        </span><span style="color: #FF8000">// Validate the requested range and return an error if it's not correct.<br>        </span><span style="color: #0000BB">$wrongContentStart</span><span style="color: #007700">=(</span><span style="color: #0000BB">$contentStart</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">$contentEnd </span><span style="color: #007700">|| </span><span style="color: #0000BB">$contentStart</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">$fileSize</span><span style="color: #007700">-</span><span style="color: #0000BB">1 </span><span style="color: #007700">|| </span><span style="color: #0000BB">$contentStart</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br><br>        if(</span><span style="color: #0000BB">$wrongContentStart</span><span style="color: #007700">)<br>        {<br>            </span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Range: bytes </span><span style="color: #0000BB">$contentStart</span><span style="color: #DD0000">-</span><span style="color: #0000BB">$contentEnd</span><span style="color: #DD0000">/</span><span style="color: #0000BB">$fileSize</span><span style="color: #DD0000">"</span><span style="color: #007700">);<br>            throw new </span><span style="color: #0000BB">CHttpException</span><span style="color: #007700">(</span><span style="color: #0000BB">416</span><span style="color: #007700">,</span><span style="color: #DD0000">'Requested Range Not Satisfiable'</span><span style="color: #007700">);<br>        }<br><br>        </span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"HTTP/</span><span style="color: #0000BB">$httpVersion</span><span style="color: #DD0000"> 206 Partial Content"</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Range: bytes </span><span style="color: #0000BB">$contentStart</span><span style="color: #DD0000">-</span><span style="color: #0000BB">$contentEnd</span><span style="color: #DD0000">/</span><span style="color: #0000BB">$fileSize</span><span style="color: #DD0000">"</span><span style="color: #007700">);<br>    }<br>    else<br>        </span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"HTTP/</span><span style="color: #0000BB">$httpVersion</span><span style="color: #DD0000"> 200 OK"</span><span style="color: #007700">);<br><br>    </span><span style="color: #0000BB">$length</span><span style="color: #007700">=</span><span style="color: #0000BB">$contentEnd</span><span style="color: #007700">-</span><span style="color: #0000BB">$contentStart</span><span style="color: #007700">+</span><span style="color: #0000BB">1</span><span style="color: #007700">; </span><span style="color: #FF8000">// Calculate new content length<br><br>    </span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Pragma: public'</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Expires: 0'</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Cache-Control: must-revalidate, post-check=0, pre-check=0'</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type: </span><span style="color: #0000BB">$mimeType</span><span style="color: #DD0000">"</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-Length: '</span><span style="color: #007700">.</span><span style="color: #0000BB">$length</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Disposition: attachment; filename=\"</span><span style="color: #0000BB">$fileName</span><span style="color: #DD0000">\""</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-Transfer-Encoding: binary'</span><span style="color: #007700">);<br>    </span><span style="color: #0000BB">$content</span><span style="color: #007700">=</span><span style="color: #0000BB">function_exists</span><span style="color: #007700">(</span><span style="color: #DD0000">'mb_substr'</span><span style="color: #007700">) ? </span><span style="color: #0000BB">mb_substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$content</span><span style="color: #007700">,</span><span style="color: #0000BB">$contentStart</span><span style="color: #007700">,</span><span style="color: #0000BB">$length</span><span style="color: #007700">,</span><span style="color: #DD0000">'8bit'</span><span style="color: #007700">) : </span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">$content</span><span style="color: #007700">,</span><span style="color: #0000BB">$contentStart</span><span style="color: #007700">,</span><span style="color: #0000BB">$length</span><span style="color: #007700">);<br><br>    if(</span><span style="color: #0000BB">$terminate</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #FF8000">// clean up the application first because the file downloading could take long time<br>        // which may cause timeout of some resources (such as DB connection)<br>        </span><span style="color: #0000BB">ob_start</span><span style="color: #007700">();<br>        </span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">end</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">false</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">ob_end_clean</span><span style="color: #007700">();<br>        echo </span><span style="color: #0000BB">$content</span><span style="color: #007700">;<br>        exit(</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br>    }<br>    else<br>        echo </span><span style="color: #0000BB">$content</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Sends a file to user.</p> <h3 class="detailHeader" id="setBaseUrl-detail"> setBaseUrl() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>setBaseUrl</b>(string $value)</pre> </td></tr> <tr> <td class="paramNameCol">$value</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the relative URL for the application</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L409">framework/web/CHttpRequest.php#409</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">setBaseUrl</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_baseUrl</span><span style="color: #007700">=</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Sets the relative URL for the application. By default the URL is determined based on the entry script URL. This setter is provided in case you want to change this behavior.</p> <h3 class="detailHeader" id="setHostInfo-detail"> setHostInfo() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>setHostInfo</b>(string $value)</pre> </td></tr> <tr> <td class="paramNameCol">$value</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the schema and host part of the application URL.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L383">framework/web/CHttpRequest.php#383</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">setHostInfo</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_hostInfo</span><span style="color: #007700">=</span><span style="color: #0000BB">rtrim</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">,</span><span style="color: #DD0000">'/'</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Sets the schema and host part of the application URL. This setter is provided in case the schema and hostname cannot be determined on certain Web servers.</p> <h3 class="detailHeader" id="setPort-detail"> setPort() <span class="detailHeaderTag"> method (available since v1.1.3) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>setPort</b>(integer $value)</pre> </td></tr> <tr> <td class="paramNameCol">$value</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">port number.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L825">framework/web/CHttpRequest.php#825</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">setPort</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_port</span><span style="color: #007700">=(int)</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_hostInfo</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Sets the port to use for insecure requests. This setter is provided in case a custom port is necessary for certain server configurations.</p> <h3 class="detailHeader" id="setScriptUrl-detail"> setScriptUrl() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>setScriptUrl</b>(string $value)</pre> </td></tr> <tr> <td class="paramNameCol">$value</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the relative URL for the application entry script.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L447">framework/web/CHttpRequest.php#447</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">setScriptUrl</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_scriptUrl</span><span style="color: #007700">=</span><span style="color: #DD0000">'/'</span><span style="color: #007700">.</span><span style="color: #0000BB">trim</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">,</span><span style="color: #DD0000">'/'</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Sets the relative URL for the application entry script. This setter is provided in case the entry script URL cannot be determined on certain Web servers.</p> <h3 class="detailHeader" id="setSecurePort-detail"> setSecurePort() <span class="detailHeaderTag"> method (available since v1.1.3) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>setSecurePort</b>(integer $value)</pre> </td></tr> <tr> <td class="paramNameCol">$value</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">port number.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L856">framework/web/CHttpRequest.php#856</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">setSecurePort</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_securePort</span><span style="color: #007700">=(int)</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_hostInfo</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Sets the port to use for secure requests. This setter is provided in case a custom port is necessary for certain server configurations.</p> <h3 class="detailHeader" id="stripSlashes-detail"> stripSlashes() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public mixed <b>stripSlashes</b>(mixed &amp;$data)</pre> </td></tr> <tr> <td class="paramNameCol">$data</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">input data to be processed</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">processed data</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L153">framework/web/CHttpRequest.php#153</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">stripSlashes</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">)<br>{<br>    if(</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">))<br>    {<br>        if(</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">) == </span><span style="color: #0000BB">0</span><span style="color: #007700">)<br>            return </span><span style="color: #0000BB">$data</span><span style="color: #007700">;<br>        </span><span style="color: #0000BB">$keys</span><span style="color: #007700">=</span><span style="color: #0000BB">array_map</span><span style="color: #007700">(</span><span style="color: #DD0000">'stripslashes'</span><span style="color: #007700">,</span><span style="color: #0000BB">array_keys</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">));<br>        </span><span style="color: #0000BB">$data</span><span style="color: #007700">=</span><span style="color: #0000BB">array_combine</span><span style="color: #007700">(</span><span style="color: #0000BB">$keys</span><span style="color: #007700">,</span><span style="color: #0000BB">array_values</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">));<br>        return </span><span style="color: #0000BB">array_map</span><span style="color: #007700">(array(</span><span style="color: #0000BB">$this</span><span style="color: #007700">,</span><span style="color: #DD0000">'stripSlashes'</span><span style="color: #007700">),</span><span style="color: #0000BB">$data</span><span style="color: #007700">);<br>    }<br>    else<br>        return </span><span style="color: #0000BB">stripslashes</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Strips slashes from input data. This method is applied when magic quotes is enabled.</p> <h3 class="detailHeader" id="validateCsrfToken-detail"> validateCsrfToken() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>validateCsrfToken</b>(<a href="cevent">CEvent</a> $event)</pre> </td></tr> <tr> <td class="paramNameCol">$event</td> <td class="paramTypeCol"><a href="cevent">CEvent</a></td> <td class="paramDescCol">event parameter</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L1326">framework/web/CHttpRequest.php#1326</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">validateCsrfToken</span><span style="color: #007700">(</span><span style="color: #0000BB">$event</span><span style="color: #007700">)<br>{<br>    if (</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getIsPostRequest</span><span style="color: #007700">() ||<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getIsPutRequest</span><span style="color: #007700">() ||<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getIsPatchRequest</span><span style="color: #007700">() ||<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getIsDeleteRequest</span><span style="color: #007700">())<br>    {<br>        </span><span style="color: #0000BB">$cookies</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getCookies</span><span style="color: #007700">();<br><br>        </span><span style="color: #0000BB">$method</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getRequestType</span><span style="color: #007700">();<br>        switch(</span><span style="color: #0000BB">$method</span><span style="color: #007700">)<br>        {<br>            case </span><span style="color: #DD0000">'POST'</span><span style="color: #007700">:<br>                </span><span style="color: #0000BB">$maskedUserToken</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getPost</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">csrfTokenName</span><span style="color: #007700">);<br>            break;<br>            case </span><span style="color: #DD0000">'PUT'</span><span style="color: #007700">:<br>                </span><span style="color: #0000BB">$maskedUserToken</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getPut</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">csrfTokenName</span><span style="color: #007700">);<br>            break;<br>            case </span><span style="color: #DD0000">'PATCH'</span><span style="color: #007700">:<br>                </span><span style="color: #0000BB">$maskedUserToken</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getPatch</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">csrfTokenName</span><span style="color: #007700">);<br>            break;<br>            case </span><span style="color: #DD0000">'DELETE'</span><span style="color: #007700">:<br>                </span><span style="color: #0000BB">$maskedUserToken</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDelete</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">csrfTokenName</span><span style="color: #007700">);<br>        }<br><br>        if (!empty(</span><span style="color: #0000BB">$maskedUserToken</span><span style="color: #007700">) &amp;&amp; </span><span style="color: #0000BB">$cookies</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">contains</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">csrfTokenName</span><span style="color: #007700">))<br>        {<br>            </span><span style="color: #0000BB">$securityManager</span><span style="color: #007700">=</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getSecurityManager</span><span style="color: #007700">();<br>            </span><span style="color: #0000BB">$maskedCookieToken</span><span style="color: #007700">=</span><span style="color: #0000BB">$cookies</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">itemAt</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">csrfTokenName</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">value</span><span style="color: #007700">;<br>            </span><span style="color: #0000BB">$cookieToken</span><span style="color: #007700">=</span><span style="color: #0000BB">$securityManager</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">unmaskToken</span><span style="color: #007700">(</span><span style="color: #0000BB">$maskedCookieToken</span><span style="color: #007700">);<br>            </span><span style="color: #0000BB">$userToken</span><span style="color: #007700">=</span><span style="color: #0000BB">$securityManager</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">unmaskToken</span><span style="color: #007700">(</span><span style="color: #0000BB">$maskedUserToken</span><span style="color: #007700">);<br>            </span><span style="color: #0000BB">$valid</span><span style="color: #007700">=</span><span style="color: #0000BB">$cookieToken</span><span style="color: #007700">===</span><span style="color: #0000BB">$userToken</span><span style="color: #007700">;<br>        }<br>        else<br>            </span><span style="color: #0000BB">$valid </span><span style="color: #007700">= </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>        if (!</span><span style="color: #0000BB">$valid</span><span style="color: #007700">)<br>            throw new </span><span style="color: #0000BB">CHttpException</span><span style="color: #007700">(</span><span style="color: #0000BB">400</span><span style="color: #007700">,</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">t</span><span style="color: #007700">(</span><span style="color: #DD0000">'yii'</span><span style="color: #007700">,</span><span style="color: #DD0000">'The CSRF token could not be verified.'</span><span style="color: #007700">));<br>    }<br>}</span></pre> </div> <p>Performs the CSRF validation. This is the event handler responding to <a href="capplication#onBeginRequest">CApplication::onBeginRequest</a>. The default implementation will compare the CSRF token obtained from a cookie and from a POST field. If they are different, a CSRF attack is detected.</p> <h3 class="detailHeader" id="xSendFile-detail"> xSendFile() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>xSendFile</b>(string $filePath, array $options=array ( ))</pre> </td></tr> <tr> <td class="paramNameCol">$filePath</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">file name with full path</td> </tr> <tr> <td class="paramNameCol">$options</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">additional options: <ul> <li>saveName: file name shown to the user, if not set real file name will be used</li> <li>mimeType: mime type of the file, if not set it will be guessed automatically based on the file name, if set to null no content-type header will be sent.</li> <li>xHeader: appropriate x-sendfile header, defaults to "X-Sendfile"</li> <li>terminate: whether to terminate the current application after calling this method, defaults to true</li> <li>forceDownload: specifies whether the file will be downloaded or shown inline, defaults to true. (Since version 1.1.9.)</li> <li>addHeaders: an array of additional http headers in header-value pairs (available since version 1.1.10)</li> </ul>
</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CHttpRequest.php#L1241">framework/web/CHttpRequest.php#1241</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">xSendFile</span><span style="color: #007700">(</span><span style="color: #0000BB">$filePath</span><span style="color: #007700">, </span><span style="color: #0000BB">$options</span><span style="color: #007700">=array())<br>{<br>    if(!isset(</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">'forceDownload'</span><span style="color: #007700">]) || </span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">'forceDownload'</span><span style="color: #007700">])<br>        </span><span style="color: #0000BB">$disposition</span><span style="color: #007700">=</span><span style="color: #DD0000">'attachment'</span><span style="color: #007700">;<br>    else<br>        </span><span style="color: #0000BB">$disposition</span><span style="color: #007700">=</span><span style="color: #DD0000">'inline'</span><span style="color: #007700">;<br><br>    if(!isset(</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">'saveName'</span><span style="color: #007700">]))<br>        </span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">'saveName'</span><span style="color: #007700">]=</span><span style="color: #0000BB">basename</span><span style="color: #007700">(</span><span style="color: #0000BB">$filePath</span><span style="color: #007700">);<br><br>    if(!isset(</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">'mimeType'</span><span style="color: #007700">]))<br>    {<br>        if((</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">'mimeType'</span><span style="color: #007700">]=</span><span style="color: #0000BB">CFileHelper</span><span style="color: #007700">::</span><span style="color: #0000BB">getMimeTypeByExtension</span><span style="color: #007700">(</span><span style="color: #0000BB">$filePath</span><span style="color: #007700">))===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">'mimeType'</span><span style="color: #007700">]=</span><span style="color: #DD0000">'text/plain'</span><span style="color: #007700">;<br>    }<br><br>    if(!isset(</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">'xHeader'</span><span style="color: #007700">]))<br>        </span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">'xHeader'</span><span style="color: #007700">]=</span><span style="color: #DD0000">'X-Sendfile'</span><span style="color: #007700">;<br><br>    if(</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">'mimeType'</span><span style="color: #007700">]!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-Type: '</span><span style="color: #007700">.</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">'mimeType'</span><span style="color: #007700">]);<br>    </span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-Disposition: '</span><span style="color: #007700">.</span><span style="color: #0000BB">$disposition</span><span style="color: #007700">.</span><span style="color: #DD0000">'; filename="'</span><span style="color: #007700">.</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">'saveName'</span><span style="color: #007700">].</span><span style="color: #DD0000">'"'</span><span style="color: #007700">);<br>    if(isset(</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">'addHeaders'</span><span style="color: #007700">]))<br>    {<br>        foreach(</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">'addHeaders'</span><span style="color: #007700">] as </span><span style="color: #0000BB">$header</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>            </span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #0000BB">$header</span><span style="color: #007700">.</span><span style="color: #DD0000">': '</span><span style="color: #007700">.</span><span style="color: #0000BB">$value</span><span style="color: #007700">);<br>    }<br>    </span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #0000BB">trim</span><span style="color: #007700">(</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">'xHeader'</span><span style="color: #007700">]).</span><span style="color: #DD0000">': '</span><span style="color: #007700">.</span><span style="color: #0000BB">$filePath</span><span style="color: #007700">);<br><br>    if(!isset(</span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">'terminate'</span><span style="color: #007700">]) || </span><span style="color: #0000BB">$options</span><span style="color: #007700">[</span><span style="color: #DD0000">'terminate'</span><span style="color: #007700">])<br>        </span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">end</span><span style="color: #007700">();<br>}</span></pre> </div> <p>Sends existing file to a browser as a download using x-sendfile. <br><br> X-Sendfile is a feature allowing a web application to redirect the request for a file to the webserver that in turn processes the request, this way eliminating the need to perform tasks like reading the file and sending it to the user. When dealing with a lot of files (or very big files) this can lead to a great increase in performance as the web application is allowed to terminate earlier while the webserver is handling the request. <br><br> The request is sent to the server through a special non-standard HTTP-header. When the web server encounters the presence of such header it will discard all output and send the file specified by that header using web server internals including all optimizations like caching-headers. <br><br> As this header directive is non-standard different directives exists for different web servers applications: </p>
<ul> <li>Apache: <a href="http://tn123.org/mod_xsendfile">X-Sendfile</a>
</li> <li>Lighttpd v1.4: <a href="http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file">X-LIGHTTPD-send-file</a>
</li> <li>Lighttpd v1.5: <a href="http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file">X-Sendfile</a>
</li> <li>Nginx: <a href="http://wiki.nginx.org/XSendfile">X-Accel-Redirect</a>
</li> <li>Cherokee: <a href="http://www.cherokee-project.com/doc/other_goodies.html#x-sendfile">X-Sendfile and X-Accel-Redirect</a>
</li> </ul> So for this method to work the X-SENDFILE option/module should be enabled by the web server and a proper xHeader should be sent. <br><br> <b>Note:</b> This option allows to download files that are not under web folders, and even files that are otherwise protected (deny from all) like .htaccess <br><br> <b>Side effects</b>: If this option is disabled by the web server, when this method is called a download configuration dialog will open but the downloaded file will have 0 bytes. <br><br> <b>Known issues</b>: There is a Bug with Internet Explorer 6, 7 and 8 when X-SENDFILE is used over an SSL connection, it will show an error message like this: "Internet Explorer was not able to open this Internet site. The requested site is either unavailable or cannot be found.". You can work around this problem by removing the <code>Pragma</code>-header. <br><br> <b>Example</b>: <pre>
&lt;?php
   Yii::app()-&gt;request-&gt;xSendFile('/home/user/Pictures/picture1.jpg',array(
       'saveName'=&gt;'image1.jpg',
       'mimeType'=&gt;'image/jpeg',
       'terminate'=&gt;false,
   ));
?&gt;
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © 2008–2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc/api/1.1/CHttpRequest" class="_attribution-link">http://www.yiiframework.com/doc/api/1.1/CHttpRequest</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
