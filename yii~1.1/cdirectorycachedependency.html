
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>CDirectoryCacheDependency - Yii 1.1 - W3cubDocs</title>
  
  <meta name="description" content="the directory whose change is used to determine if the dependency has been changed. If any of the files under the directory is changed, the &hellip;">
  <meta name="keywords" content="cdirectorycachedependency, yii, yii~1.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/yii~1.1/cdirectorycachedependency.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/yii~1.1.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/yii~1.1/" class="_nav-link" title="" style="margin-left:0;">Yii 1.1</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _yii">
				
				
<h1>CDirectoryCacheDependency</h1>  <table class="summaryTable docClass"> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr> <th>Package</th> <td><a href="index#system.caching.dependencies">system.caching.dependencies</a></td> </tr> <tr> <th>Inheritance</th> <td>class CDirectoryCacheDependency » <a href="ccachedependency">CCacheDependency</a> » <a href="ccomponent">CComponent</a>
</td> </tr> <tr> <th>Implements</th> <td><a href="icachedependency">ICacheDependency</a></td> </tr> <tr> <th>Since</th> <td>1.0</td> </tr> <tr> <th>Source Code</th> <td><a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/dependencies/CDirectoryCacheDependency.php">framework/caching/dependencies/CDirectoryCacheDependency.php</a></td> </tr> </table> <div id="classDescription"> CDirectoryCacheDependency represents a dependency based on change of a directory. <br><br> CDirectoryCacheDependency performs dependency checking based on the modification time of the files contained in the specified directory. The directory being checked is specified via <a href="cdirectorycachedependency#directory">directory</a>. <br><br> By default, all files under the specified directory and subdirectories will be checked. If the last modification time of any of them is changed or if different number of files are contained in a directory, the dependency is reported as changed. By specifying <a href="cdirectorycachedependency#recursiveLevel">recursiveLevel</a>, one can limit the checking to a certain depth of the directory. <br><br> Note, dependency checking for a directory is expensive because it involves accessing modification time of multiple files under the directory.</div>  <div class="summary docProperty"> <h2>Public Properties</h2>  <table class="summaryTable"> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr class="inherited" id="dependentData"> <td><a href="ccachedependency#dependentData-detail">dependentData</a></td> <td>mixed</td> <td>the data used to determine if dependency has been changed.</td> <td><a href="ccachedependency">CCacheDependency</a></td> </tr> <tr id="directory"> <td><a href="cdirectorycachedependency#directory-detail">directory</a></td> <td>string</td> <td>the directory whose change is used to determine if the dependency has been changed.</td> <td>CDirectoryCacheDependency</td> </tr> <tr class="inherited" id="hasChanged"> <td><a href="ccachedependency#hasChanged-detail">hasChanged</a></td> <td>boolean</td> <td>whether the dependency has changed.</td> <td><a href="ccachedependency">CCacheDependency</a></td> </tr> <tr id="namePattern"> <td><a href="cdirectorycachedependency#namePattern-detail">namePattern</a></td> <td>string</td> <td>the regular expression matching valid file/directory names.</td> <td>CDirectoryCacheDependency</td> </tr> <tr id="recursiveLevel"> <td><a href="cdirectorycachedependency#recursiveLevel-detail">recursiveLevel</a></td> <td>integer</td> <td>the depth of the subdirectories to be recursively checked.</td> <td>CDirectoryCacheDependency</td> </tr> <tr class="inherited" id="reuseDependentData"> <td><a href="ccachedependency#reuseDependentData-detail">reuseDependentData</a></td> <td>boolean</td> <td>Whether this dependency is reusable or not.</td> <td><a href="ccachedependency">CCacheDependency</a></td> </tr> </table> </div>  <div class="summary docMethod"> <h2>Public Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr class="inherited" id="__call"> <td><a href="ccomponent#__call-detail">__call()</a></td> <td>Calls the named method which is not a class method.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="__construct"> <td><a href="cdirectorycachedependency#__construct-detail">__construct()</a></td> <td>Constructor.</td> <td>CDirectoryCacheDependency</td> </tr> <tr class="inherited" id="__get"> <td><a href="ccomponent#__get-detail">__get()</a></td> <td>Returns a property value, an event handler list or a behavior based on its name.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__isset"> <td><a href="ccomponent#__isset-detail">__isset()</a></td> <td>Checks if a property value is null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__set"> <td><a href="ccomponent#__set-detail">__set()</a></td> <td>Sets value of a component property.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__unset"> <td><a href="ccomponent#__unset-detail">__unset()</a></td> <td>Sets a component property to be null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="asa"> <td><a href="ccomponent#asa-detail">asa()</a></td> <td>Returns the named behavior object.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehavior"> <td><a href="ccomponent#attachBehavior-detail">attachBehavior()</a></td> <td>Attaches a behavior to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehaviors"> <td><a href="ccomponent#attachBehaviors-detail">attachBehaviors()</a></td> <td>Attaches a list of behaviors to the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachEventHandler"> <td><a href="ccomponent#attachEventHandler-detail">attachEventHandler()</a></td> <td>Attaches an event handler to an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="canGetProperty"> <td><a href="ccomponent#canGetProperty-detail">canGetProperty()</a></td> <td>Determines whether a property can be read.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="canSetProperty"> <td><a href="ccomponent#canSetProperty-detail">canSetProperty()</a></td> <td>Determines whether a property can be set.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachBehavior"> <td><a href="ccomponent#detachBehavior-detail">detachBehavior()</a></td> <td>Detaches a behavior from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachBehaviors"> <td><a href="ccomponent#detachBehaviors-detail">detachBehaviors()</a></td> <td>Detaches all behaviors from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachEventHandler"> <td><a href="ccomponent#detachEventHandler-detail">detachEventHandler()</a></td> <td>Detaches an existing event handler.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehavior"> <td><a href="ccomponent#disableBehavior-detail">disableBehavior()</a></td> <td>Disables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehaviors"> <td><a href="ccomponent#disableBehaviors-detail">disableBehaviors()</a></td> <td>Disables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehavior"> <td><a href="ccomponent#enableBehavior-detail">enableBehavior()</a></td> <td>Enables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehaviors"> <td><a href="ccomponent#enableBehaviors-detail">enableBehaviors()</a></td> <td>Enables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="evaluateDependency"> <td><a href="ccachedependency#evaluateDependency-detail">evaluateDependency()</a></td> <td>Evaluates the dependency by generating and saving the data related with dependency.</td> <td><a href="ccachedependency">CCacheDependency</a></td> </tr> <tr class="inherited" id="evaluateExpression"> <td><a href="ccomponent#evaluateExpression-detail">evaluateExpression()</a></td> <td>Evaluates a PHP expression or callback under the context of this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="getDependentData"> <td><a href="ccachedependency#getDependentData-detail">getDependentData()</a></td> <td>Returns the data used to determine if dependency has been changed. This data is available after <a href="cdirectorycachedependency#evaluateDependency">evaluateDependency</a> is called.</td> <td><a href="ccachedependency">CCacheDependency</a></td> </tr> <tr class="inherited" id="getEventHandlers"> <td><a href="ccomponent#getEventHandlers-detail">getEventHandlers()</a></td> <td>Returns the list of attached event handlers for an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="getHasChanged"> <td><a href="ccachedependency#getHasChanged-detail">getHasChanged()</a></td> <td>Returns whether the dependency has changed.</td> <td><a href="ccachedependency">CCacheDependency</a></td> </tr> <tr class="inherited" id="hasEvent"> <td><a href="ccomponent#hasEvent-detail">hasEvent()</a></td> <td>Determines whether an event is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasEventHandler"> <td><a href="ccomponent#hasEventHandler-detail">hasEventHandler()</a></td> <td>Checks whether the named event has attached handlers.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasProperty"> <td><a href="ccomponent#hasProperty-detail">hasProperty()</a></td> <td>Determines whether a property is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="raiseEvent"> <td><a href="ccomponent#raiseEvent-detail">raiseEvent()</a></td> <td>Raises an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="resetReusableData"> <td><a href="ccachedependency#resetReusableData-detail">resetReusableData()</a></td> <td>Resets cached data for reusable dependencies.</td> <td><a href="ccachedependency">CCacheDependency</a></td> </tr> </table> </div> <div class="summary docMethod"> <h2>Protected Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="generateDependentData"> <td><a href="cdirectorycachedependency#generateDependentData-detail">generateDependentData()</a></td> <td>Generates the data needed to determine if dependency has been changed.</td> <td>CDirectoryCacheDependency</td> </tr> <tr id="generateTimestamps"> <td><a href="cdirectorycachedependency#generateTimestamps-detail">generateTimestamps()</a></td> <td>Determines the last modification time for files under the directory.</td> <td>CDirectoryCacheDependency</td> </tr> <tr id="validateDirectory"> <td><a href="cdirectorycachedependency#validateDirectory-detail">validateDirectory()</a></td> <td>Checks to see if the specified subdirectory should be checked for dependency.</td> <td>CDirectoryCacheDependency</td> </tr> <tr id="validateFile"> <td><a href="cdirectorycachedependency#validateFile-detail">validateFile()</a></td> <td>Checks to see if the file should be checked for dependency.</td> <td>CDirectoryCacheDependency</td> </tr> </table> </div>  <h2>Property Details</h2> <h3 class="detailHeader" id="directory-detail"> directory<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <b>$directory</b>;</pre> <p>the directory whose change is used to determine if the dependency has been changed. If any of the files under the directory is changed, the dependency is considered as changed.</p> <h3 class="detailHeader" id="namePattern-detail"> namePattern<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <b>$namePattern</b>;</pre> <p>the regular expression matching valid file/directory names. Only the matching files or directories will be checked for changes. Defaults to null, meaning all files/directories will qualify.</p> <h3 class="detailHeader" id="recursiveLevel-detail"> recursiveLevel<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public integer <b>$recursiveLevel</b>;</pre> <p>the depth of the subdirectories to be recursively checked. If the value is less than 0, it means unlimited depth. If the value is 0, it means checking the files directly under the specified directory.</p> <h2>Method Details</h2> <h3 class="detailHeader" id="__construct-detail"> __construct() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>__construct</b>(string $directory=NULL)</pre> </td></tr> <tr> <td class="paramNameCol">$directory</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the directory to be checked</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/dependencies/CDirectoryCacheDependency.php#L55">framework/caching/dependencies/CDirectoryCacheDependency.php#55</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$directory</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">directory</span><span style="color: #007700">=</span><span style="color: #0000BB">$directory</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Constructor.</p> <h3 class="detailHeader" id="generateDependentData-detail"> generateDependentData() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected mixed <b>generateDependentData</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">mixed</td> <td class="paramDescCol">the data needed to determine if dependency has been changed.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/dependencies/CDirectoryCacheDependency.php#L66">framework/caching/dependencies/CDirectoryCacheDependency.php#66</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">generateDependentData</span><span style="color: #007700">()<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">directory</span><span style="color: #007700">!==</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">generateTimestamps</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">directory</span><span style="color: #007700">);<br>    else<br>        throw new </span><span style="color: #0000BB">CException</span><span style="color: #007700">(</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">t</span><span style="color: #007700">(</span><span style="color: #DD0000">'yii'</span><span style="color: #007700">,</span><span style="color: #DD0000">'CDirectoryCacheDependency.directory cannot be empty.'</span><span style="color: #007700">));<br>}</span></pre> </div> <p>Generates the data needed to determine if dependency has been changed. This method returns the modification timestamps for files under the directory.</p> <h3 class="detailHeader" id="generateTimestamps-detail"> generateTimestamps() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected array <b>generateTimestamps</b>(string $directory, integer $level=0)</pre> </td></tr> <tr> <td class="paramNameCol">$directory</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the directory name</td> </tr> <tr> <td class="paramNameCol">$level</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">level of the recursion</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">array</td> <td class="paramDescCol">list of file modification time indexed by the file path</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/dependencies/CDirectoryCacheDependency.php#L82">framework/caching/dependencies/CDirectoryCacheDependency.php#82</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">generateTimestamps</span><span style="color: #007700">(</span><span style="color: #0000BB">$directory</span><span style="color: #007700">,</span><span style="color: #0000BB">$level</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">)<br>{<br>    if((</span><span style="color: #0000BB">$dir</span><span style="color: #007700">=@</span><span style="color: #0000BB">opendir</span><span style="color: #007700">(</span><span style="color: #0000BB">$directory</span><span style="color: #007700">))===</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>        throw new </span><span style="color: #0000BB">CException</span><span style="color: #007700">(</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">t</span><span style="color: #007700">(</span><span style="color: #DD0000">'yii'</span><span style="color: #007700">,</span><span style="color: #DD0000">'"{path}" is not a valid directory.'</span><span style="color: #007700">,<br>            array(</span><span style="color: #DD0000">'{path}'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$directory</span><span style="color: #007700">)));<br>    </span><span style="color: #0000BB">$timestamps</span><span style="color: #007700">=array();<br>    while((</span><span style="color: #0000BB">$file</span><span style="color: #007700">=</span><span style="color: #0000BB">readdir</span><span style="color: #007700">(</span><span style="color: #0000BB">$dir</span><span style="color: #007700">))!==</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$path</span><span style="color: #007700">=</span><span style="color: #0000BB">$directory</span><span style="color: #007700">.</span><span style="color: #0000BB">DIRECTORY_SEPARATOR</span><span style="color: #007700">.</span><span style="color: #0000BB">$file</span><span style="color: #007700">;<br>        if(</span><span style="color: #0000BB">$file</span><span style="color: #007700">===</span><span style="color: #DD0000">'.' </span><span style="color: #007700">|| </span><span style="color: #0000BB">$file</span><span style="color: #007700">===</span><span style="color: #DD0000">'..'</span><span style="color: #007700">)<br>            continue;<br>        if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">namePattern</span><span style="color: #007700">!==</span><span style="color: #0000BB">null </span><span style="color: #007700">&amp;&amp; !</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">namePattern</span><span style="color: #007700">,</span><span style="color: #0000BB">$file</span><span style="color: #007700">))<br>            continue;<br>        if(</span><span style="color: #0000BB">is_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">))<br>        {<br>            if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">validateFile</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">))<br>                </span><span style="color: #0000BB">$timestamps</span><span style="color: #007700">[</span><span style="color: #0000BB">$path</span><span style="color: #007700">]=</span><span style="color: #0000BB">filemtime</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">);<br>        }<br>        else<br>        {<br>            if((</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">recursiveLevel</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">0 </span><span style="color: #007700">|| </span><span style="color: #0000BB">$level</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">recursiveLevel</span><span style="color: #007700">) &amp;&amp; </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">validateDirectory</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">))<br>                </span><span style="color: #0000BB">$timestamps</span><span style="color: #007700">=</span><span style="color: #0000BB">array_merge</span><span style="color: #007700">(</span><span style="color: #0000BB">$timestamps</span><span style="color: #007700">, </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">generateTimestamps</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">,</span><span style="color: #0000BB">$level</span><span style="color: #007700">+</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br>        }<br>    }<br>    </span><span style="color: #0000BB">closedir</span><span style="color: #007700">(</span><span style="color: #0000BB">$dir</span><span style="color: #007700">);<br>    return </span><span style="color: #0000BB">$timestamps</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Determines the last modification time for files under the directory. This method may go recursively into subdirectories if <a href="cdirectorycachedependency#recursiveLevel">recursiveLevel</a> is not 0.</p> <h3 class="detailHeader" id="validateDirectory-detail"> validateDirectory() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected boolean <b>validateDirectory</b>(string $directory)</pre> </td></tr> <tr> <td class="paramNameCol">$directory</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the name of the subdirectory that may be checked for dependency.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether this subdirectory should be checked.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/dependencies/CDirectoryCacheDependency.php#L131">framework/caching/dependencies/CDirectoryCacheDependency.php#131</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">validateDirectory</span><span style="color: #007700">(</span><span style="color: #0000BB">$directory</span><span style="color: #007700">)<br>{<br>    return </span><span style="color: #0000BB">true</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Checks to see if the specified subdirectory should be checked for dependency. This method is invoked when dependency of the whole directory is being checked. By default, it always returns true, meaning the subdirectory should be checked. You may override this method to check only certain subdirectories.</p> <h3 class="detailHeader" id="validateFile-detail"> validateFile() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected boolean <b>validateFile</b>(string $fileName)</pre> </td></tr> <tr> <td class="paramNameCol">$fileName</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the name of the file that may be checked for dependency.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether this file should be checked.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/caching/dependencies/CDirectoryCacheDependency.php#L118">framework/caching/dependencies/CDirectoryCacheDependency.php#118</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">validateFile</span><span style="color: #007700">(</span><span style="color: #0000BB">$fileName</span><span style="color: #007700">)<br>{<br>    return </span><span style="color: #0000BB">true</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Checks to see if the file should be checked for dependency. This method is invoked when dependency of the whole directory is being checked. By default, it always returns true, meaning the file should be checked. You may override this method to check only certain files.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2008–2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc/api/1.1/CDirectoryCacheDependency" class="_attribution-link">http://www.yiiframework.com/doc/api/1.1/CDirectoryCacheDependency</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
