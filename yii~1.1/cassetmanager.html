
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>CAssetManager - Yii 1.1 - W3cubDocs</title>
  
  <meta name="description" content=" the root directory storing the published asset files. Defaults to &#39;WebRoot&#47;assets&#39;. ">
  <meta name="keywords" content="cassetmanager, yii, yii~1.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/yii~1.1/cassetmanager.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/yii~1.1.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/yii~1.1/" class="_nav-link" title="" style="margin-left:0;">Yii 1.1</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _yii">
				
				
<h1>CAssetManager</h1>  <table class="summaryTable docClass"> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr> <th>Package</th> <td><a href="index#system.web">system.web</a></td> </tr> <tr> <th>Inheritance</th> <td>class CAssetManager » <a href="capplicationcomponent">CApplicationComponent</a> » <a href="ccomponent">CComponent</a>
</td> </tr> <tr> <th>Implements</th> <td><a href="iapplicationcomponent">IApplicationComponent</a></td> </tr> <tr> <th>Since</th> <td>1.0</td> </tr> <tr> <th>Source Code</th> <td><a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CAssetManager.php">framework/web/CAssetManager.php</a></td> </tr> </table> <div id="classDescription"> CAssetManager is a Web application component that manages private files (called assets) and makes them accessible by Web clients. <br><br> It achieves this goal by copying assets to a Web-accessible directory and returns the corresponding URL for accessing them. <br><br> To publish an asset, simply call <a href="cassetmanager#publish">publish()</a>. <br><br> The Web-accessible directory holding the published files is specified by <a href="cassetmanager#setBasePath">basePath</a>, which defaults to the "assets" directory under the directory containing the application entry script file. The property <a href="cassetmanager#setBaseUrl">baseUrl</a> refers to the URL for accessing the <a href="cassetmanager#setBasePath">basePath</a>.</div>  <div class="summary docProperty"> <h2>Public Properties</h2>  <table class="summaryTable"> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="basePath"> <td><a href="cassetmanager#basePath-detail">basePath</a></td> <td>string</td> <td>the root directory storing the published asset files.</td> <td>CAssetManager</td> </tr> <tr id="baseUrl"> <td><a href="cassetmanager#baseUrl-detail">baseUrl</a></td> <td>string</td> <td>the base url that the published asset files can be accessed.</td> <td>CAssetManager</td> </tr> <tr class="inherited" id="behaviors"> <td><a href="capplicationcomponent#behaviors-detail">behaviors</a></td> <td>array</td> <td>the behaviors that should be attached to this component.</td> <td><a href="capplicationcomponent">CApplicationComponent</a></td> </tr> <tr id="excludeFiles"> <td><a href="cassetmanager#excludeFiles-detail">excludeFiles</a></td> <td>array</td> <td>list of directories and files which should be excluded from the publishing process.</td> <td>CAssetManager</td> </tr> <tr id="forceCopy"> <td><a href="cassetmanager#forceCopy-detail">forceCopy</a></td> <td>boolean</td> <td>whether we should copy the asset files and directories even if they already published before.</td> <td>CAssetManager</td> </tr> <tr class="inherited" id="isInitialized"> <td><a href="capplicationcomponent#isInitialized-detail">isInitialized</a></td> <td>boolean</td> <td>Checks if this application component has been initialized.</td> <td><a href="capplicationcomponent">CApplicationComponent</a></td> </tr> <tr id="linkAssets"> <td><a href="cassetmanager#linkAssets-detail">linkAssets</a></td> <td>boolean</td> <td>whether to use symbolic link to publish asset files.</td> <td>CAssetManager</td> </tr> <tr id="newDirMode"> <td><a href="cassetmanager#newDirMode-detail">newDirMode</a></td> <td>integer</td> <td>the permission to be set for newly generated asset directories.</td> <td>CAssetManager</td> </tr> <tr id="newFileMode"> <td><a href="cassetmanager#newFileMode-detail">newFileMode</a></td> <td>integer</td> <td>the permission to be set for newly generated asset files.</td> <td>CAssetManager</td> </tr> </table> </div>  <div class="summary docMethod"> <h2>Public Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr class="inherited" id="__call"> <td><a href="ccomponent#__call-detail">__call()</a></td> <td>Calls the named method which is not a class method.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__get"> <td><a href="ccomponent#__get-detail">__get()</a></td> <td>Returns a property value, an event handler list or a behavior based on its name.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__isset"> <td><a href="ccomponent#__isset-detail">__isset()</a></td> <td>Checks if a property value is null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__set"> <td><a href="ccomponent#__set-detail">__set()</a></td> <td>Sets value of a component property.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="__unset"> <td><a href="ccomponent#__unset-detail">__unset()</a></td> <td>Sets a component property to be null.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="asa"> <td><a href="ccomponent#asa-detail">asa()</a></td> <td>Returns the named behavior object.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehavior"> <td><a href="ccomponent#attachBehavior-detail">attachBehavior()</a></td> <td>Attaches a behavior to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachBehaviors"> <td><a href="ccomponent#attachBehaviors-detail">attachBehaviors()</a></td> <td>Attaches a list of behaviors to the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="attachEventHandler"> <td><a href="ccomponent#attachEventHandler-detail">attachEventHandler()</a></td> <td>Attaches an event handler to an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="canGetProperty"> <td><a href="ccomponent#canGetProperty-detail">canGetProperty()</a></td> <td>Determines whether a property can be read.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="canSetProperty"> <td><a href="ccomponent#canSetProperty-detail">canSetProperty()</a></td> <td>Determines whether a property can be set.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachBehavior"> <td><a href="ccomponent#detachBehavior-detail">detachBehavior()</a></td> <td>Detaches a behavior from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachBehaviors"> <td><a href="ccomponent#detachBehaviors-detail">detachBehaviors()</a></td> <td>Detaches all behaviors from the component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="detachEventHandler"> <td><a href="ccomponent#detachEventHandler-detail">detachEventHandler()</a></td> <td>Detaches an existing event handler.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehavior"> <td><a href="ccomponent#disableBehavior-detail">disableBehavior()</a></td> <td>Disables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="disableBehaviors"> <td><a href="ccomponent#disableBehaviors-detail">disableBehaviors()</a></td> <td>Disables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehavior"> <td><a href="ccomponent#enableBehavior-detail">enableBehavior()</a></td> <td>Enables an attached behavior.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="enableBehaviors"> <td><a href="ccomponent#enableBehaviors-detail">enableBehaviors()</a></td> <td>Enables all behaviors attached to this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="evaluateExpression"> <td><a href="ccomponent#evaluateExpression-detail">evaluateExpression()</a></td> <td>Evaluates a PHP expression or callback under the context of this component.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="getBasePath"> <td><a href="cassetmanager#getBasePath-detail">getBasePath()</a></td> <td>Returns the root directory storing the published asset files. Defaults to 'WebRoot/assets'.</td> <td>CAssetManager</td> </tr> <tr id="getBaseUrl"> <td><a href="cassetmanager#getBaseUrl-detail">getBaseUrl()</a></td> <td>Returns the base url that the published asset files can be accessed. Note, the ending slashes are stripped off. Defaults to '/AppBaseUrl/assets'.</td> <td>CAssetManager</td> </tr> <tr class="inherited" id="getEventHandlers"> <td><a href="ccomponent#getEventHandlers-detail">getEventHandlers()</a></td> <td>Returns the list of attached event handlers for an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="getIsInitialized"> <td><a href="capplicationcomponent#getIsInitialized-detail">getIsInitialized()</a></td> <td>Checks if this application component has been initialized.</td> <td><a href="capplicationcomponent">CApplicationComponent</a></td> </tr> <tr id="getPublishedPath"> <td><a href="cassetmanager#getPublishedPath-detail">getPublishedPath()</a></td> <td>Returns the published path of a file path.</td> <td>CAssetManager</td> </tr> <tr id="getPublishedUrl"> <td><a href="cassetmanager#getPublishedUrl-detail">getPublishedUrl()</a></td> <td>Returns the URL of a published file path.</td> <td>CAssetManager</td> </tr> <tr class="inherited" id="hasEvent"> <td><a href="ccomponent#hasEvent-detail">hasEvent()</a></td> <td>Determines whether an event is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasEventHandler"> <td><a href="ccomponent#hasEventHandler-detail">hasEventHandler()</a></td> <td>Checks whether the named event has attached handlers.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="hasProperty"> <td><a href="ccomponent#hasProperty-detail">hasProperty()</a></td> <td>Determines whether a property is defined.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr class="inherited" id="init"> <td><a href="capplicationcomponent#init-detail">init()</a></td> <td>Initializes the application component.</td> <td><a href="capplicationcomponent">CApplicationComponent</a></td> </tr> <tr id="publish"> <td><a href="cassetmanager#publish-detail">publish()</a></td> <td>Publishes a file or a directory.</td> <td>CAssetManager</td> </tr> <tr class="inherited" id="raiseEvent"> <td><a href="ccomponent#raiseEvent-detail">raiseEvent()</a></td> <td>Raises an event.</td> <td><a href="ccomponent">CComponent</a></td> </tr> <tr id="setBasePath"> <td><a href="cassetmanager#setBasePath-detail">setBasePath()</a></td> <td>Sets the root directory storing published asset files.</td> <td>CAssetManager</td> </tr> <tr id="setBaseUrl"> <td><a href="cassetmanager#setBaseUrl-detail">setBaseUrl()</a></td> <td>Sets the base url that the published asset files can be accessed</td> <td>CAssetManager</td> </tr> </table> </div> <div class="summary docMethod"> <h2>Protected Methods</h2>  <table class="summaryTable"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="generatePath"> <td><a href="cassetmanager#generatePath-detail">generatePath()</a></td> <td>Generates path segments relative to basePath.</td> <td>CAssetManager</td> </tr> <tr id="hash"> <td><a href="cassetmanager#hash-detail">hash()</a></td> <td>Generate a CRC32 hash for the directory path. Collisions are higher</td> <td>CAssetManager</td> </tr> </table> </div>  <h2>Property Details</h2> <h3 class="detailHeader" id="basePath-detail"> basePath<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <a href="cassetmanager#getBasePath"><b>getBasePath</b></a>()<br>public void <a href="cassetmanager#setBasePath"><b>setBasePath</b></a>(string $value)</pre> <p>the root directory storing the published asset files. Defaults to 'WebRoot/assets'.</p> <h3 class="detailHeader" id="baseUrl-detail"> baseUrl<span class="detailHeaderTag"> property </span> </h3> <pre class="signature">public string <a href="cassetmanager#getBaseUrl"><b>getBaseUrl</b></a>()<br>public void <a href="cassetmanager#setBaseUrl"><b>setBaseUrl</b></a>(string $value)</pre> <p>the base url that the published asset files can be accessed. Note, the ending slashes are stripped off. Defaults to '/AppBaseUrl/assets'.</p> <h3 class="detailHeader" id="excludeFiles-detail"> excludeFiles<span class="detailHeaderTag"> property (available since v1.1.6) </span> </h3> <pre class="signature">public array <b>$excludeFiles</b>;</pre> <p>list of directories and files which should be excluded from the publishing process. Defaults to exclude '.svn' and '.gitignore' files only. This option has no effect if <a href="cassetmanager#linkAssets">linkAssets</a> is enabled.</p> <h3 class="detailHeader" id="forceCopy-detail"> forceCopy<span class="detailHeaderTag"> property (available since v1.1.11) </span> </h3> <pre class="signature">public boolean <b>$forceCopy</b>;</pre> <p>whether we should copy the asset files and directories even if they already published before. This property is used only during development stage. The main use case of this property is when you need to force the original assets always copied by changing only one value without searching needed <a href="cassetmanager#publish">publish</a> method calls across the application codebase. Also it is useful in operating systems which does not fully support symbolic links (therefore it is not possible to use $linkAssets) or we don't want to use them. This property sets the default value of the $forceCopy parameter in <a href="cassetmanager#publish">publish</a> method. Default value of this property is false meaning that the assets will be published only in case they don't exist in webroot assets directory. <br><br> Note that this property cannot be true when $linkAssets property has true value too. Otherwise an exception would be thrown. Using both properties at the same time is illogical because both of them are solving similar tasks but in a different ways. Please refer to the $linkAssets documentation for more details.</p> <h3 class="detailHeader" id="linkAssets-detail"> linkAssets<span class="detailHeaderTag"> property (available since v1.1.5) </span> </h3> <pre class="signature">public boolean <b>$linkAssets</b>;</pre> <p>whether to use symbolic link to publish asset files. Defaults to false, meaning asset files are copied to public folders. Using symbolic links has the benefit that the published assets will always be consistent with the source assets. This is especially useful during development. <br><br> However, there are special requirements for hosting environments in order to use symbolic links. In particular, symbolic links are supported only on Linux/Unix, and Windows Vista/2008 or greater. The latter requires PHP 5.3 or greater. <br><br> Moreover, some Web servers need to be properly configured so that the linked assets are accessible to Web users. For example, for Apache Web server, the following configuration directive should be added for the Web folder: </p>
<pre>
Options FollowSymLinks
</pre> <br><br> Note that this property cannot be true when $forceCopy property has true value too. Otherwise an exception would be thrown. Using both properties at the same time is illogical because both of them are solving similar tasks but in a different ways. Please refer to the $forceCopy documentation for more details. <h3 class="detailHeader" id="newDirMode-detail"> newDirMode<span class="detailHeaderTag"> property (available since v1.1.8) </span> </h3> <pre class="signature">public integer <b>$newDirMode</b>;</pre> <p>the permission to be set for newly generated asset directories. This value will be used by PHP chmod function. Defaults to 0777, meaning the directory can be read, written and executed by all users.</p> <h3 class="detailHeader" id="newFileMode-detail"> newFileMode<span class="detailHeaderTag"> property (available since v1.1.8) </span> </h3> <pre class="signature">public integer <b>$newFileMode</b>;</pre> <p>the permission to be set for newly generated asset files. This value will be used by PHP chmod function. Defaults to 0666, meaning the file is read-writable by all users.</p> <h2>Method Details</h2> <h3 class="detailHeader" id="generatePath-detail"> generatePath() <span class="detailHeaderTag"> method (available since v1.1.13) </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected string <b>generatePath</b>(string $file, bool $hashByName=false)</pre> </td></tr> <tr> <td class="paramNameCol">$file</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">for which public path will be created.</td> </tr> <tr> <td class="paramNameCol">$hashByName</td> <td class="paramTypeCol">bool</td> <td class="paramDescCol">whether the published directory should be named as the hashed basename.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">path segments without basePath.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CAssetManager.php#L325">framework/web/CAssetManager.php#325</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">generatePath</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">,</span><span style="color: #0000BB">$hashByName</span><span style="color: #007700">=</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>{<br>    if (</span><span style="color: #0000BB">is_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">))<br>        </span><span style="color: #0000BB">$pathForHashing</span><span style="color: #007700">=</span><span style="color: #0000BB">$hashByName </span><span style="color: #007700">? </span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">) : </span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">).</span><span style="color: #0000BB">filemtime</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">);<br>    else<br>        </span><span style="color: #0000BB">$pathForHashing</span><span style="color: #007700">=</span><span style="color: #0000BB">$hashByName </span><span style="color: #007700">? </span><span style="color: #0000BB">$file </span><span style="color: #007700">: </span><span style="color: #0000BB">$file</span><span style="color: #007700">.</span><span style="color: #0000BB">filemtime</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">);<br><br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">hash</span><span style="color: #007700">(</span><span style="color: #0000BB">$pathForHashing</span><span style="color: #007700">);<br>}</span></pre> </div> <p>Generates path segments relative to basePath.</p> <h3 class="detailHeader" id="getBasePath-detail"> getBasePath() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getBasePath</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the root directory storing the published asset files. Defaults to 'WebRoot/assets'.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CAssetManager.php#L118">framework/web/CAssetManager.php#118</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getBasePath</span><span style="color: #007700">()<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_basePath</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$request</span><span style="color: #007700">=</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getRequest</span><span style="color: #007700">();<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setBasePath</span><span style="color: #007700">(</span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #0000BB">$request</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getScriptFile</span><span style="color: #007700">()).</span><span style="color: #0000BB">DIRECTORY_SEPARATOR</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">DEFAULT_BASEPATH</span><span style="color: #007700">);<br>    }<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_basePath</span><span style="color: #007700">;<br>}</span></pre> </div>  <h3 class="detailHeader" id="getBaseUrl-detail"> getBaseUrl() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getBaseUrl</b>()</pre> </td></tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the base url that the published asset files can be accessed. Note, the ending slashes are stripped off. Defaults to '/AppBaseUrl/assets'.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CAssetManager.php#L146">framework/web/CAssetManager.php#146</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getBaseUrl</span><span style="color: #007700">()<br>{<br>    if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_baseUrl</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$request</span><span style="color: #007700">=</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">app</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getRequest</span><span style="color: #007700">();<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setBaseUrl</span><span style="color: #007700">(</span><span style="color: #0000BB">$request</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getBaseUrl</span><span style="color: #007700">().</span><span style="color: #DD0000">'/'</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">DEFAULT_BASEPATH</span><span style="color: #007700">);<br>    }<br>    return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_baseUrl</span><span style="color: #007700">;<br>}</span></pre> </div>  <h3 class="detailHeader" id="getPublishedPath-detail"> getPublishedPath() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getPublishedPath</b>(string $path, boolean $hashByName=false)</pre> </td></tr> <tr> <td class="paramNameCol">$path</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">directory or file path being published</td> </tr> <tr> <td class="paramNameCol">$hashByName</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether the published directory should be named as the hashed basename. If false, the name will be the hash taken from dirname of the path being published and path mtime. Defaults to false. Set true if the path being published is shared among different extensions.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the published file path. False if the file or directory does not exist</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CAssetManager.php#L272">framework/web/CAssetManager.php#272</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getPublishedPath</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">,</span><span style="color: #0000BB">$hashByName</span><span style="color: #007700">=</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>{<br>    if(</span><span style="color: #0000BB">is_string</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">) &amp;&amp; (</span><span style="color: #0000BB">$path</span><span style="color: #007700">=</span><span style="color: #0000BB">realpath</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">))!==</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$base</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getBasePath</span><span style="color: #007700">().</span><span style="color: #0000BB">DIRECTORY_SEPARATOR</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">generatePath</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">,</span><span style="color: #0000BB">$hashByName</span><span style="color: #007700">);<br>        return </span><span style="color: #0000BB">is_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">) ? </span><span style="color: #0000BB">$base</span><span style="color: #007700">.</span><span style="color: #0000BB">DIRECTORY_SEPARATOR</span><span style="color: #007700">.</span><span style="color: #0000BB">basename</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">) : </span><span style="color: #0000BB">$base </span><span style="color: #007700">;<br>    }<br>    else<br>        return </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the published path of a file path. This method does not perform any publishing. It merely tells you if the file or directory is published, where it will go.</p> <h3 class="detailHeader" id="getPublishedUrl-detail"> getPublishedUrl() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>getPublishedUrl</b>(string $path, boolean $hashByName=false)</pre> </td></tr> <tr> <td class="paramNameCol">$path</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">directory or file path being published</td> </tr> <tr> <td class="paramNameCol">$hashByName</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether the published directory should be named as the hashed basename. If false, the name will be the hash taken from dirname of the path being published and path mtime. Defaults to false. Set true if the path being published is shared among different extensions.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the published URL for the file or directory. False if the file or directory does not exist.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CAssetManager.php#L294">framework/web/CAssetManager.php#294</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">getPublishedUrl</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">,</span><span style="color: #0000BB">$hashByName</span><span style="color: #007700">=</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>{<br>    if(isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_published</span><span style="color: #007700">[</span><span style="color: #0000BB">$path</span><span style="color: #007700">]))<br>        return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_published</span><span style="color: #007700">[</span><span style="color: #0000BB">$path</span><span style="color: #007700">];<br>    if(</span><span style="color: #0000BB">is_string</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">) &amp;&amp; (</span><span style="color: #0000BB">$path</span><span style="color: #007700">=</span><span style="color: #0000BB">realpath</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">))!==</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$base</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getBaseUrl</span><span style="color: #007700">().</span><span style="color: #DD0000">'/'</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">generatePath</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">,</span><span style="color: #0000BB">$hashByName</span><span style="color: #007700">);<br>        return </span><span style="color: #0000BB">is_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">) ? </span><span style="color: #0000BB">$base</span><span style="color: #007700">.</span><span style="color: #DD0000">'/'</span><span style="color: #007700">.</span><span style="color: #0000BB">basename</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">) : </span><span style="color: #0000BB">$base</span><span style="color: #007700">;<br>    }<br>    else<br>        return </span><span style="color: #0000BB">false</span><span style="color: #007700">;<br>}</span></pre> </div> <p>Returns the URL of a published file path. This method does not perform any publishing. It merely tells you if the file path is published, what the URL will be to access it.</p> <h3 class="detailHeader" id="hash-detail"> hash() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">protected string <b>hash</b>(string $path)</pre> </td></tr> <tr> <td class="paramNameCol">$path</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">string to be hashed.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">hashed string.</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CAssetManager.php#L313">framework/web/CAssetManager.php#313</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">protected function </span><span style="color: #0000BB">hash</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">)<br>{<br>    return </span><span style="color: #0000BB">sprintf</span><span style="color: #007700">(</span><span style="color: #DD0000">'%x'</span><span style="color: #007700">,</span><span style="color: #0000BB">crc32</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">.</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">getVersion</span><span style="color: #007700">()));<br>}</span></pre> </div> <p>Generate a CRC32 hash for the directory path. Collisions are higher than MD5 but generates a much smaller hash string.</p> <h3 class="detailHeader" id="publish-detail"> publish() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public string <b>publish</b>(string $path, boolean $hashByName=false, integer $level=-1, boolean $forceCopy=NULL)</pre> </td></tr> <tr> <td class="paramNameCol">$path</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the asset (file or directory) to be published</td> </tr> <tr> <td class="paramNameCol">$hashByName</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether the published directory should be named as the hashed basename. If false, the name will be the hash taken from dirname of the path being published and path mtime. Defaults to false. Set true if the path being published is shared among different extensions.</td> </tr> <tr> <td class="paramNameCol">$level</td> <td class="paramTypeCol">integer</td> <td class="paramDescCol">level of recursive copying when the asset is a directory. Level -1 means publishing all subdirectories and files; Level 0 means publishing only the files DIRECTLY under the directory; level N means copying those directories that are within N levels.</td> </tr> <tr> <td class="paramNameCol">$forceCopy</td> <td class="paramTypeCol">boolean</td> <td class="paramDescCol">whether we should copy the asset file or directory even if it is already published before. In case of publishing a directory old files will not be removed. This parameter is set true mainly during development stage when the original assets are being constantly changed. The consequence is that the performance is degraded, which is not a concern during development, however. Default value of this parameter is null meaning that it's value is controlled by $forceCopy class property. This parameter has been available since version 1.1.2. Default value has been changed since 1.1.11. Note that this parameter cannot be true when $linkAssets property has true value too. Otherwise an exception would be thrown. Using this parameter with $linkAssets property at the same time is illogical because both of them are solving similar tasks but in a different ways. Please refer to the $linkAssets documentation for more details.</td> </tr> <tr> <td class="paramNameCol">{return}</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">an absolute URL to the published asset</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CAssetManager.php#L206">framework/web/CAssetManager.php#206</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">publish</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">,</span><span style="color: #0000BB">$hashByName</span><span style="color: #007700">=</span><span style="color: #0000BB">false</span><span style="color: #007700">,</span><span style="color: #0000BB">$level</span><span style="color: #007700">=-</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">$forceCopy</span><span style="color: #007700">=</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>{<br>    if(</span><span style="color: #0000BB">$forceCopy</span><span style="color: #007700">===</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br>        </span><span style="color: #0000BB">$forceCopy</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">forceCopy</span><span style="color: #007700">;<br>    if(</span><span style="color: #0000BB">$forceCopy </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">linkAssets</span><span style="color: #007700">)<br>        throw new </span><span style="color: #0000BB">CException</span><span style="color: #007700">(</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">t</span><span style="color: #007700">(</span><span style="color: #DD0000">'yii'</span><span style="color: #007700">,</span><span style="color: #DD0000">'The "forceCopy" and "linkAssets" cannot be both true.'</span><span style="color: #007700">));<br>    if(isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_published</span><span style="color: #007700">[</span><span style="color: #0000BB">$path</span><span style="color: #007700">]))<br>        return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_published</span><span style="color: #007700">[</span><span style="color: #0000BB">$path</span><span style="color: #007700">];<br>    elseif(</span><span style="color: #0000BB">is_string</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">) &amp;&amp; (</span><span style="color: #0000BB">$src</span><span style="color: #007700">=</span><span style="color: #0000BB">realpath</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">))!==</span><span style="color: #0000BB">false</span><span style="color: #007700">)<br>    {<br>        </span><span style="color: #0000BB">$dir</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">generatePath</span><span style="color: #007700">(</span><span style="color: #0000BB">$src</span><span style="color: #007700">,</span><span style="color: #0000BB">$hashByName</span><span style="color: #007700">);<br>        </span><span style="color: #0000BB">$dstDir</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getBasePath</span><span style="color: #007700">().</span><span style="color: #0000BB">DIRECTORY_SEPARATOR</span><span style="color: #007700">.</span><span style="color: #0000BB">$dir</span><span style="color: #007700">;<br>        if(</span><span style="color: #0000BB">is_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$src</span><span style="color: #007700">))<br>        {<br>            </span><span style="color: #0000BB">$fileName</span><span style="color: #007700">=</span><span style="color: #0000BB">basename</span><span style="color: #007700">(</span><span style="color: #0000BB">$src</span><span style="color: #007700">);<br>            </span><span style="color: #0000BB">$dstFile</span><span style="color: #007700">=</span><span style="color: #0000BB">$dstDir</span><span style="color: #007700">.</span><span style="color: #0000BB">DIRECTORY_SEPARATOR</span><span style="color: #007700">.</span><span style="color: #0000BB">$fileName</span><span style="color: #007700">;<br><br>            if(!</span><span style="color: #0000BB">is_dir</span><span style="color: #007700">(</span><span style="color: #0000BB">$dstDir</span><span style="color: #007700">))<br>            {<br>                </span><span style="color: #0000BB">mkdir</span><span style="color: #007700">(</span><span style="color: #0000BB">$dstDir</span><span style="color: #007700">,</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">newDirMode</span><span style="color: #007700">,</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br>                @</span><span style="color: #0000BB">chmod</span><span style="color: #007700">(</span><span style="color: #0000BB">$dstDir</span><span style="color: #007700">,</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">newDirMode</span><span style="color: #007700">);<br>            }<br><br>            if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">linkAssets </span><span style="color: #007700">&amp;&amp; !</span><span style="color: #0000BB">is_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$dstFile</span><span style="color: #007700">)) </span><span style="color: #0000BB">symlink</span><span style="color: #007700">(</span><span style="color: #0000BB">$src</span><span style="color: #007700">,</span><span style="color: #0000BB">$dstFile</span><span style="color: #007700">);<br>            elseif(@</span><span style="color: #0000BB">filemtime</span><span style="color: #007700">(</span><span style="color: #0000BB">$dstFile</span><span style="color: #007700">)&lt;@</span><span style="color: #0000BB">filemtime</span><span style="color: #007700">(</span><span style="color: #0000BB">$src</span><span style="color: #007700">))<br>            {<br>                </span><span style="color: #0000BB">copy</span><span style="color: #007700">(</span><span style="color: #0000BB">$src</span><span style="color: #007700">,</span><span style="color: #0000BB">$dstFile</span><span style="color: #007700">);<br>                @</span><span style="color: #0000BB">chmod</span><span style="color: #007700">(</span><span style="color: #0000BB">$dstFile</span><span style="color: #007700">,</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">newFileMode</span><span style="color: #007700">);<br>            }<br><br>            return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_published</span><span style="color: #007700">[</span><span style="color: #0000BB">$path</span><span style="color: #007700">]=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getBaseUrl</span><span style="color: #007700">().</span><span style="color: #DD0000">"/</span><span style="color: #0000BB">$dir</span><span style="color: #DD0000">/</span><span style="color: #0000BB">$fileName</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br>        }<br>        elseif(</span><span style="color: #0000BB">is_dir</span><span style="color: #007700">(</span><span style="color: #0000BB">$src</span><span style="color: #007700">))<br>        {<br>            if(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">linkAssets </span><span style="color: #007700">&amp;&amp; !</span><span style="color: #0000BB">is_dir</span><span style="color: #007700">(</span><span style="color: #0000BB">$dstDir</span><span style="color: #007700">))<br>            {<br>                </span><span style="color: #0000BB">symlink</span><span style="color: #007700">(</span><span style="color: #0000BB">$src</span><span style="color: #007700">,</span><span style="color: #0000BB">$dstDir</span><span style="color: #007700">);<br>            }<br>            elseif(!</span><span style="color: #0000BB">is_dir</span><span style="color: #007700">(</span><span style="color: #0000BB">$dstDir</span><span style="color: #007700">) || </span><span style="color: #0000BB">$forceCopy</span><span style="color: #007700">)<br>            {<br>                </span><span style="color: #0000BB">CFileHelper</span><span style="color: #007700">::</span><span style="color: #0000BB">copyDirectory</span><span style="color: #007700">(</span><span style="color: #0000BB">$src</span><span style="color: #007700">,</span><span style="color: #0000BB">$dstDir</span><span style="color: #007700">,array(<br>                    </span><span style="color: #DD0000">'exclude'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">excludeFiles</span><span style="color: #007700">,<br>                    </span><span style="color: #DD0000">'level'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$level</span><span style="color: #007700">,<br>                    </span><span style="color: #DD0000">'newDirMode'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">newDirMode</span><span style="color: #007700">,<br>                    </span><span style="color: #DD0000">'newFileMode'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">newFileMode</span><span style="color: #007700">,<br>                ));<br>            }<br><br>            return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_published</span><span style="color: #007700">[</span><span style="color: #0000BB">$path</span><span style="color: #007700">]=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getBaseUrl</span><span style="color: #007700">().</span><span style="color: #DD0000">'/'</span><span style="color: #007700">.</span><span style="color: #0000BB">$dir</span><span style="color: #007700">;<br>        }<br>    }<br>    throw new </span><span style="color: #0000BB">CException</span><span style="color: #007700">(</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">t</span><span style="color: #007700">(</span><span style="color: #DD0000">'yii'</span><span style="color: #007700">,</span><span style="color: #DD0000">'The asset "{asset}" to be published does not exist.'</span><span style="color: #007700">,<br>        array(</span><span style="color: #DD0000">'{asset}'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$path</span><span style="color: #007700">)));<br>}</span></pre> </div> <p>Publishes a file or a directory. This method will copy the specified asset to a web accessible directory and return the URL for accessing the published asset. </p>
<ul> <li>If the asset is a file, its file modification time will be checked to avoid unnecessary file copying;</li> <li>If the asset is a directory, all files and subdirectories under it will be published recursively. Note, in case $forceCopy is false the method only checks the existence of the target directory to avoid repetitive copying.</li> </ul> <br><br> Note: On rare scenario, a race condition can develop that will lead to a one-time-manifestation of a non-critical problem in the creation of the directory that holds the published assets. This problem can be avoided altogether by 'requesting' in advance all the resources that are supposed to trigger a 'publish()' call, and doing that in the application deployment phase, before system goes live. See more in the following discussion: http://code.google.com/p/yii/issues/detail?id=2579 <h3 class="detailHeader" id="setBasePath-detail"> setBasePath() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>setBasePath</b>(string $value)</pre> </td></tr> <tr> <td class="paramNameCol">$value</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the root directory storing published asset files</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CAssetManager.php#L133">framework/web/CAssetManager.php#133</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">setBasePath</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>{<br>    if((</span><span style="color: #0000BB">$basePath</span><span style="color: #007700">=</span><span style="color: #0000BB">realpath</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">))!==</span><span style="color: #0000BB">false </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">is_dir</span><span style="color: #007700">(</span><span style="color: #0000BB">$basePath</span><span style="color: #007700">) &amp;&amp; </span><span style="color: #0000BB">is_writable</span><span style="color: #007700">(</span><span style="color: #0000BB">$basePath</span><span style="color: #007700">))<br>        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_basePath</span><span style="color: #007700">=</span><span style="color: #0000BB">$basePath</span><span style="color: #007700">;<br>    else<br>        throw new </span><span style="color: #0000BB">CException</span><span style="color: #007700">(</span><span style="color: #0000BB">Yii</span><span style="color: #007700">::</span><span style="color: #0000BB">t</span><span style="color: #007700">(</span><span style="color: #DD0000">'yii'</span><span style="color: #007700">,</span><span style="color: #DD0000">'CAssetManager.basePath "{path}" is invalid. Please make sure the directory exists and is writable by the Web server process.'</span><span style="color: #007700">,<br>            array(</span><span style="color: #DD0000">'{path}'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)));<br>}</span></pre> </div> <p>Sets the root directory storing published asset files.</p> <h3 class="detailHeader" id="setBaseUrl-detail"> setBaseUrl() <span class="detailHeaderTag"> method </span> </h3> <table class="summaryTable"> <tr><td colspan="3"> <pre class="signature2">public void <b>setBaseUrl</b>(string $value)</pre> </td></tr> <tr> <td class="paramNameCol">$value</td> <td class="paramTypeCol">string</td> <td class="paramDescCol">the base url that the published asset files can be accessed</td> </tr> </table> <div class="sourceCode"> <b>Source Code:</b> <a class="sourceLink" href="https://github.com/yiisoft/yii/blob/1.1.19/framework/web/CAssetManager.php#L159">framework/web/CAssetManager.php#159</a> (<b><a href="#" class="show">show</a></b>) <pre class="code"><span style="color: #007700">public function </span><span style="color: #0000BB">setBaseUrl</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br>{<br>    </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_baseUrl</span><span style="color: #007700">=</span><span style="color: #0000BB">rtrim</span><span style="color: #007700">(</span><span style="color: #0000BB">$value</span><span style="color: #007700">,</span><span style="color: #DD0000">'/'</span><span style="color: #007700">);<br>}</span></pre> </div> <div class="_attribution">
  <p class="_attribution-p">
    © 2008–2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc/api/1.1/CAssetManager" class="_attribution-link">http://www.yiiframework.com/doc/api/1.1/CAssetManager</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
