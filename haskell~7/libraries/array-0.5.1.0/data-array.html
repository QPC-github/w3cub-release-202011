
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Data.Array - Haskell 7 - W3cubDocs</title>
  
  <meta name="description" content=" Basic non-strict arrays. ">
  <meta name="keywords" content="data, array, haskell, haskell~7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/haskell~7/libraries/array-0.5.1.0/data-array.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e498cd0ebe8746846fec95b1a53ab3bb0fb7f47f794f0a38f44c98a1f0d03b21d777ae2c583732e44a5a890f6eacb79a5333545db9d5f3616091ba21ca17d916.css">
  <script src="/assets/application-79c555f6b25481fffac2cac30a7f3e54e608ca09e9e8e42bb1790095ba6d0fcace47d6bc624ddce952c70370892f2d46864f89e6943d4f7f7ff16c8a3231a91a.js" type="text/javascript"></script>
  <script src="/json/haskell~7.js"></script>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3WC07G3GB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-R3WC07G3GB');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2572770204602497"
     crossorigin="anonymous"></script>
<script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/haskell~7/" class="_nav-link" title="" style="margin-left:0;">Haskell 7</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _haskell">
				
				
<h1 class="caption">Data.Array</h1>
<div class="_haskell-api">
<table class="info">
<tr>
<th>Copyright</th>
<td>(c) The University of Glasgow 2001</td>
</tr>
<tr>
<th>License</th>
<td>BSD-style (see the file libraries/base/LICENSE)</td>
</tr>
<tr>
<th>Maintainer</th>
<td>libraries@haskell.org</td>
</tr>
<tr>
<th>Stability</th>
<td>provisional</td>
</tr>
<tr>
<th>Portability</th>
<td>portable</td>
</tr>
<tr>
<th>Safe Haskell</th>
<td>Trustworthy</td>
</tr>
<tr>
<th>Language</th>
<td>Haskell2010</td>
</tr>
</table>
<div id="table-of-contents">
<h4 class="caption">Contents</h4>
<ul>
<li><a href="#g:1">Immutable non-strict arrays</a></li>
<li><a href="#g:2">Array construction</a></li>
<li><a href="#g:3">Accessing arrays</a></li>
<li><a href="#g:4">Incremental array updates</a></li>
<li><a href="#g:5">Derived arrays</a></li>
</ul>
</div>
<div id="description">
<h4 class="caption">Description</h4>
<p>Basic non-strict arrays.</p>
<p><em>Note:</em> The <a href="data-array-iarray">Data.Array.IArray</a> module provides a more general interface to immutable arrays: it defines operations with the same names as those defined below, but with more general types, and also defines <code><a href="data-array#t:Array">Array</a></code> instances of the relevant classes. To use that more general interface, import <a href="data-array-iarray">Data.Array.IArray</a> but not <a href="data-array">Data.Array</a>.</p>
</div>
<h2 id="g:1">Immutable non-strict arrays</h2>
<p>Haskell provides indexable <em>arrays</em>, which may be thought of as functions whose domains are isomorphic to contiguous subsets of the integers. Functions restricted in this way can be implemented efficiently; in particular, a programmer may reasonably expect rapid access to the components. To ensure the possibility of such an implementation, arrays are treated as data, not as general functions.</p>
<p>Since most array functions involve the class <code><a href="../base-4.8.2.0/data-ix#t:Ix">Ix</a></code>, this module is exported from <a href="data-array">Data.Array</a> so that modules need not import both <a href="data-array">Data.Array</a> and <a href="../base-4.8.2.0/data-ix">Data.Ix</a>.</p>
<p class="src">module <a href="../base-4.8.2.0/data-ix">Data.Ix</a></p>
<p class="src">data <a class="def" id="t:Array">Array</a> i e :: * -&gt; * -&gt; * <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-Arr.html#Array" class="link">Source</a></p>
<p>The type of immutable non-strict (boxed) arrays with indices in <code>i</code> and elements in <code>e</code>.</p>
<div class="subs instances">
<h4 id="control.i:Array" class="caption collapser" onclick="toggleSection('i:Array')">Instances</h4>
<div id="section.i:Array" class="show"><table>
<tr>
<td class="src clearfix">
<a href="data-array-iarray#t:IArray">IArray</a> <a href="data-array#t:Array">Array</a> e</td>
<td class="doc empty"> </td>
</tr>
<tr>
<td class="src clearfix">
<a href="../base-4.8.2.0/data-ix#t:Ix">Ix</a> i =&gt; <a href="../base-4.8.2.0/data-functor#t:Functor">Functor</a> (<a href="data-array#t:Array">Array</a> i)</td>
<td class="doc empty"> </td>
</tr>
<tr>
<td class="src clearfix">
<a href="../base-4.8.2.0/data-ix#t:Ix">Ix</a> i =&gt; <a href="../base-4.8.2.0/data-foldable#t:Foldable">Foldable</a> (<a href="data-array#t:Array">Array</a> i)</td>
<td class="doc empty"> </td>
</tr>
<tr>
<td class="src clearfix">
<a href="../base-4.8.2.0/data-ix#t:Ix">Ix</a> i =&gt; <a href="../base-4.8.2.0/data-traversable#t:Traversable">Traversable</a> (<a href="data-array#t:Array">Array</a> i)</td>
<td class="doc empty"> </td>
</tr>
<tr>
<td class="src clearfix">(<a href="../base-4.8.2.0/data-ix#t:Ix">Ix</a> i, <a href="../base-4.8.2.0/data-eq#t:Eq">Eq</a> e) =&gt; <a href="../base-4.8.2.0/data-eq#t:Eq">Eq</a> (<a href="data-array#t:Array">Array</a> i e)</td>
<td class="doc empty"> </td>
</tr>
<tr>
<td class="src clearfix">(<a href="../base-4.8.2.0/data-ix#t:Ix">Ix</a> i, <a href="../base-4.8.2.0/data-ord#t:Ord">Ord</a> e) =&gt; <a href="../base-4.8.2.0/data-ord#t:Ord">Ord</a> (<a href="data-array#t:Array">Array</a> i e)</td>
<td class="doc empty"> </td>
</tr>
<tr>
<td class="src clearfix">(<a href="../base-4.8.2.0/data-ix#t:Ix">Ix</a> a, <a href="../base-4.8.2.0/text-show#t:Show">Show</a> a, <a href="../base-4.8.2.0/text-show#t:Show">Show</a> b) =&gt; <a href="../base-4.8.2.0/text-show#t:Show">Show</a> (<a href="data-array#t:Array">Array</a> a b)</td>
<td class="doc empty"> </td>
</tr>
</table></div>
</div>
<h2 id="g:2">Array construction</h2>
<p class="src"><a class="def" id="v:array">array</a> <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-Arr.html#array" class="link">Source</a></p>
<div class="subs arguments">
<h4 class="caption">Arguments</h4>
<table>
<tr>
<td class="src">:: <a href="../base-4.8.2.0/data-ix#t:Ix">Ix</a> i</td>
<td class="doc empty"> </td>
</tr>
<tr>
<td class="src">=&gt; (i, i)</td>
<td class="doc"><p>a pair of <em>bounds</em>, each of the index type of the array. These bounds are the lowest and highest indices in the array, in that order. For example, a one-origin vector of length '10' has bounds '(1,10)', and a one-origin '10' by '10' matrix has bounds '((1,1),(10,10))'.</p></td>
</tr>
<tr>
<td class="src">-&gt; [(i, e)]</td>
<td class="doc"><p>a list of <em>associations</em> of the form (<em>index</em>, <em>value</em>). Typically, this list will be expressed as a comprehension. An association '(i, x)' defines the value of the array at index <code>i</code> to be <code>x</code>.</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="data-array#t:Array">Array</a> i e</td>
<td class="doc empty"> </td>
</tr>
</table>
</div>
<p>Construct an array with the specified bounds and containing values for given indices within these bounds.</p>
<p>The array is undefined (i.e. bottom) if any index in the list is out of bounds. The Haskell 2010 Report further specifies that if any two associations in the list have the same index, the value at that index is undefined (i.e. bottom). However in GHC's implementation, the value at such an index is the value part of the last association with that index in the list.</p>
<p>Because the indices must be checked for these errors, <code><a href="data-array#v:array">array</a></code> is strict in the bounds argument and in the indices of the association list, but non-strict in the values. Thus, recurrences such as the following are possible:</p>
<pre>a = array (1,100) ((1,1) : [(i, i * a!(i-1)) | i &lt;- [2..100]])</pre>
<p>Not every index within the bounds of the array need appear in the association list, but the values associated with indices that do not appear will be undefined (i.e. bottom).</p>
<p>If, in any dimension, the lower bound is greater than the upper bound, then the array is legal, but empty. Indexing an empty array always gives an array-bounds error, but <code><a href="data-array#v:bounds">bounds</a></code> still yields the bounds with which the array was constructed.</p>
<p class="src"><a class="def" id="v:listArray">listArray</a> :: <a href="../base-4.8.2.0/data-ix#t:Ix">Ix</a> i =&gt; (i, i) -&gt; [e] -&gt; <a href="data-array#t:Array">Array</a> i e <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-Arr.html#listArray" class="link">Source</a></p>
<p>Construct an array from a pair of bounds and a list of values in index order.</p>
<p class="src"><a class="def" id="v:accumArray">accumArray</a> <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-Arr.html#accumArray" class="link">Source</a></p>
<div class="subs arguments">
<h4 class="caption">Arguments</h4>
<table>
<tr>
<td class="src">:: <a href="../base-4.8.2.0/data-ix#t:Ix">Ix</a> i</td>
<td class="doc empty"> </td>
</tr>
<tr>
<td class="src">=&gt; (e -&gt; a -&gt; e)</td>
<td class="doc"><p>accumulating function</p></td>
</tr>
<tr>
<td class="src">-&gt; e</td>
<td class="doc"><p>initial value</p></td>
</tr>
<tr>
<td class="src">-&gt; (i, i)</td>
<td class="doc"><p>bounds of the array</p></td>
</tr>
<tr>
<td class="src">-&gt; [(i, a)]</td>
<td class="doc"><p>association list</p></td>
</tr>
<tr>
<td class="src">-&gt; <a href="data-array#t:Array">Array</a> i e</td>
<td class="doc empty"> </td>
</tr>
</table>
</div>
<p>The <code><a href="data-array#v:accumArray">accumArray</a></code> function deals with repeated indices in the association list using an <em>accumulating function</em> which combines the values of associations with the same index. For example, given a list of values of some index type, <code>hist</code> produces a histogram of the number of occurrences of each index within a specified range:</p>
<pre>hist :: (Ix a, Num b) =&gt; (a,a) -&gt; [a] -&gt; Array a b
hist bnds is = accumArray (+) 0 bnds [(i, 1) | i&lt;-is, inRange bnds i]</pre>
<p>If the accumulating function is strict, then <code><a href="data-array#v:accumArray">accumArray</a></code> is strict in the values, as well as the indices, in the association list. Thus, unlike ordinary arrays built with <code><a href="data-array#v:array">array</a></code>, accumulated arrays should not in general be recursive.</p>
<h2 id="g:3">Accessing arrays</h2>
<p class="src"><a class="def" id="v:-33-">(!)</a> :: <a href="../base-4.8.2.0/data-ix#t:Ix">Ix</a> i =&gt; <a href="data-array#t:Array">Array</a> i e -&gt; i -&gt; e <span class="fixity">infixl 9</span> <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-Arr.html#%21" class="link">Source</a></p>
<p>The value at the given index in an array.</p>
<p class="src"><a class="def" id="v:bounds">bounds</a> :: <a href="../base-4.8.2.0/data-ix#t:Ix">Ix</a> i =&gt; <a href="data-array#t:Array">Array</a> i e -&gt; (i, i) <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-Arr.html#bounds" class="link">Source</a></p>
<p>The bounds with which an array was constructed.</p>
<p class="src"><a class="def" id="v:indices">indices</a> :: <a href="../base-4.8.2.0/data-ix#t:Ix">Ix</a> i =&gt; <a href="data-array#t:Array">Array</a> i e -&gt; [i] <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-Arr.html#indices" class="link">Source</a></p>
<p>The list of indices of an array in ascending order.</p>
<p class="src"><a class="def" id="v:elems">elems</a> :: <a href="../base-4.8.2.0/data-ix#t:Ix">Ix</a> i =&gt; <a href="data-array#t:Array">Array</a> i e -&gt; [e] <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-Arr.html#elems" class="link">Source</a></p>
<p>The list of elements of an array in index order.</p>
<p class="src"><a class="def" id="v:assocs">assocs</a> :: <a href="../base-4.8.2.0/data-ix#t:Ix">Ix</a> i =&gt; <a href="data-array#t:Array">Array</a> i e -&gt; [(i, e)] <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-Arr.html#assocs" class="link">Source</a></p>
<p>The list of associations of an array in index order.</p>
<h2 id="g:4">Incremental array updates</h2>
<p class="src"><a class="def" id="v:-47--47-">(//)</a> :: <a href="../base-4.8.2.0/data-ix#t:Ix">Ix</a> i =&gt; <a href="data-array#t:Array">Array</a> i e -&gt; [(i, e)] -&gt; <a href="data-array#t:Array">Array</a> i e <span class="fixity">infixl 9</span> <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-Arr.html#%2F%2F" class="link">Source</a></p>
<p>Constructs an array identical to the first argument except that it has been updated by the associations in the right argument. For example, if <code>m</code> is a 1-origin, <code>n</code> by <code>n</code> matrix, then</p>
<pre>m//[((i,i), 0) | i &lt;- [1..n]]</pre>
<p>is the same matrix, except with the diagonal zeroed.</p>
<p>Repeated indices in the association list are handled as for <code><a href="data-array#v:array">array</a></code>: Haskell 2010 specifies that the resulting array is undefined (i.e. bottom), but GHC's implementation uses the last association for each index.</p>
<p class="src"><a class="def" id="v:accum">accum</a> :: <a href="../base-4.8.2.0/data-ix#t:Ix">Ix</a> i =&gt; (e -&gt; a -&gt; e) -&gt; <a href="data-array#t:Array">Array</a> i e -&gt; [(i, a)] -&gt; <a href="data-array#t:Array">Array</a> i e <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-Arr.html#accum" class="link">Source</a></p>
<p><code><a href="data-array#v:accum">accum</a> f</code> takes an array and an association list and accumulates pairs from the list into the array with the accumulating function <code>f</code>. Thus <code><a href="data-array#v:accumArray">accumArray</a></code> can be defined using <code><a href="data-array#v:accum">accum</a></code>:</p>
<pre>accumArray f z b = accum f (array b [(i, z) | i &lt;- range b])</pre>
<h2 id="g:5">Derived arrays</h2>
<p class="src"><a class="def" id="v:ixmap">ixmap</a> :: (<a href="../base-4.8.2.0/data-ix#t:Ix">Ix</a> i, <a href="../base-4.8.2.0/data-ix#t:Ix">Ix</a> j) =&gt; (i, i) -&gt; (i -&gt; j) -&gt; <a href="data-array#t:Array">Array</a> j e -&gt; <a href="data-array#t:Array">Array</a> i e <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-Arr.html#ixmap" class="link">Source</a></p>
<p><code><a href="data-array#v:ixmap">ixmap</a></code> allows for transformations on array indices. It may be thought of as providing function composition on the right with the mapping that the original array embodies.</p>
<p>A similar transformation of array values may be achieved using <code><a href="../base-4.8.2.0/data-functor#v:fmap">fmap</a></code> from the <code><a href="data-array#t:Array">Array</a></code> instance of the <code><a href="../base-4.8.2.0/data-functor#t:Functor">Functor</a></code> class.</p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    © The University of Glasgow and others<br>Licensed under a BSD-style license (see top of the page).<br>
    <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/array-0.5.1.0/Data-Array.html" class="_attribution-link">https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/array-0.5.1.0/Data-Array.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
