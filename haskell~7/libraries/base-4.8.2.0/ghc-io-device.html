
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>GHC.IO.Device - Haskell 7 - W3cubDocs</title>
  
  <meta name="description" content=" Type classes for I&#47;O providers. ">
  <meta name="keywords" content="ghc, io, device, haskell, haskell~7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/haskell~7/libraries/base-4.8.2.0/ghc-io-device.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/haskell~7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/haskell~7/" class="_nav-link" title="" style="margin-left:0;">Haskell 7</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _haskell">
				
				
<h1 class="caption">GHC.IO.Device</h1>
<div class="_haskell-api">
<table class="info">
<tr>
<th>Copyright</th>
<td>(c) The University of Glasgow, 1994-2008</td>
</tr>
<tr>
<th>License</th>
<td>see libraries/base/LICENSE</td>
</tr>
<tr>
<th>Maintainer</th>
<td>libraries@haskell.org</td>
</tr>
<tr>
<th>Stability</th>
<td>internal</td>
</tr>
<tr>
<th>Portability</th>
<td>non-portable</td>
</tr>
<tr>
<th>Safe Haskell</th>
<td>Trustworthy</td>
</tr>
<tr>
<th>Language</th>
<td>Haskell2010</td>
</tr>
</table>
<div id="description">
<h4 class="caption">Description</h4>
<p>Type classes for I/O providers.</p>
</div>
<p class="src">class <a class="def" id="t:RawIO">RawIO</a> a where <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-IO-Device.html#RawIO" class="link">Source</a></p>
<p>A low-level I/O provider where the data is bytes in memory.</p>
<div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a class="def" id="v:read">read</a> :: a -&gt; <a href="foreign-ptr#t:Ptr">Ptr</a> <a href="data-word#t:Word8">Word8</a> -&gt; <a href="data-int#t:Int">Int</a> -&gt; <a href="system-io#t:IO">IO</a> <a href="data-int#t:Int">Int</a> <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-IO-Device.html#read" class="link">Source</a></p>
<p>Read up to the specified number of bytes, returning the number of bytes actually read. This function should only block if there is no data available. If there is not enough data available, then the function should just return the available data. A return value of zero indicates that the end of the data stream (e.g. end of file) has been reached.</p>
<p class="src"><a class="def" id="v:readNonBlocking">readNonBlocking</a> :: a -&gt; <a href="foreign-ptr#t:Ptr">Ptr</a> <a href="data-word#t:Word8">Word8</a> -&gt; <a href="data-int#t:Int">Int</a> -&gt; <a href="system-io#t:IO">IO</a> (<a href="data-maybe#t:Maybe">Maybe</a> <a href="data-int#t:Int">Int</a>) <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-IO-Device.html#readNonBlocking" class="link">Source</a></p>
<p>Read up to the specified number of bytes, returning the number of bytes actually read, or <code><a href="data-maybe#v:Nothing">Nothing</a></code> if the end of the stream has been reached.</p>
<p class="src"><a class="def" id="v:write">write</a> :: a -&gt; <a href="foreign-ptr#t:Ptr">Ptr</a> <a href="data-word#t:Word8">Word8</a> -&gt; <a href="data-int#t:Int">Int</a> -&gt; <a href="system-io#t:IO">IO</a> () <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-IO-Device.html#write" class="link">Source</a></p>
<p>Write the specified number of bytes.</p>
<p class="src"><a class="def" id="v:writeNonBlocking">writeNonBlocking</a> :: a -&gt; <a href="foreign-ptr#t:Ptr">Ptr</a> <a href="data-word#t:Word8">Word8</a> -&gt; <a href="data-int#t:Int">Int</a> -&gt; <a href="system-io#t:IO">IO</a> <a href="data-int#t:Int">Int</a> <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-IO-Device.html#writeNonBlocking" class="link">Source</a></p>
<p>Write up to the specified number of bytes without blocking. Returns the actual number of bytes written.</p>
</div>
<p class="src">class <a class="def" id="t:IODevice">IODevice</a> a where <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-IO-Device.html#IODevice" class="link">Source</a></p>
<p>I/O operations required for implementing a <code>Handle</code>.</p>
<div class="subs minimal">
<h4 class="caption">Minimal complete definition</h4>
<p class="src"><a href="ghc-io-device#v:ready">ready</a>, <a href="ghc-io-device#v:close">close</a>, <a href="ghc-io-device#v:devType">devType</a></p>
</div>
<div class="subs methods">
<h4 class="caption">Methods</h4>
<p class="src"><a class="def" id="v:ready">ready</a> :: a -&gt; <a href="data-bool#t:Bool">Bool</a> -&gt; <a href="data-int#t:Int">Int</a> -&gt; <a href="system-io#t:IO">IO</a> <a href="data-bool#t:Bool">Bool</a> <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-IO-Device.html#ready" class="link">Source</a></p>
<p><code>ready dev write msecs</code> returns <code><a href="data-bool#v:True">True</a></code> if the device has data to read (if <code>write</code> is <code><a href="data-bool#v:False">False</a></code>) or space to write new data (if <code>write</code> is <code><a href="data-bool#v:True">True</a></code>). <code>msecs</code> specifies how long to wait, in milliseconds.</p>
<p class="src"><a class="def" id="v:close">close</a> :: a -&gt; <a href="system-io#t:IO">IO</a> () <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-IO-Device.html#close" class="link">Source</a></p>
<p>closes the device. Further operations on the device should produce exceptions.</p>
<p class="src"><a class="def" id="v:isTerminal">isTerminal</a> :: a -&gt; <a href="system-io#t:IO">IO</a> <a href="data-bool#t:Bool">Bool</a> <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-IO-Device.html#isTerminal" class="link">Source</a></p>
<p>returns <code><a href="data-bool#v:True">True</a></code> if the device is a terminal or console.</p>
<p class="src"><a class="def" id="v:isSeekable">isSeekable</a> :: a -&gt; <a href="system-io#t:IO">IO</a> <a href="data-bool#t:Bool">Bool</a> <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-IO-Device.html#isSeekable" class="link">Source</a></p>
<p>returns <code><a href="data-bool#v:True">True</a></code> if the device supports <code><a href="ghc-io-device#v:seek">seek</a></code> operations.</p>
<p class="src"><a class="def" id="v:seek">seek</a> :: a -&gt; <a href="ghc-io-device#t:SeekMode">SeekMode</a> -&gt; <a href="prelude#t:Integer">Integer</a> -&gt; <a href="system-io#t:IO">IO</a> () <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-IO-Device.html#seek" class="link">Source</a></p>
<p>seek to the specified position in the data.</p>
<p class="src"><a class="def" id="v:tell">tell</a> :: a -&gt; <a href="system-io#t:IO">IO</a> <a href="prelude#t:Integer">Integer</a> <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-IO-Device.html#tell" class="link">Source</a></p>
<p>return the current position in the data.</p>
<p class="src"><a class="def" id="v:getSize">getSize</a> :: a -&gt; <a href="system-io#t:IO">IO</a> <a href="prelude#t:Integer">Integer</a> <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-IO-Device.html#getSize" class="link">Source</a></p>
<p>return the size of the data.</p>
<p class="src"><a class="def" id="v:setSize">setSize</a> :: a -&gt; <a href="prelude#t:Integer">Integer</a> -&gt; <a href="system-io#t:IO">IO</a> () <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-IO-Device.html#setSize" class="link">Source</a></p>
<p>change the size of the data.</p>
<p class="src"><a class="def" id="v:setEcho">setEcho</a> :: a -&gt; <a href="data-bool#t:Bool">Bool</a> -&gt; <a href="system-io#t:IO">IO</a> () <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-IO-Device.html#setEcho" class="link">Source</a></p>
<p>for terminal devices, changes whether characters are echoed on the device.</p>
<p class="src"><a class="def" id="v:getEcho">getEcho</a> :: a -&gt; <a href="system-io#t:IO">IO</a> <a href="data-bool#t:Bool">Bool</a> <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-IO-Device.html#getEcho" class="link">Source</a></p>
<p>returns the current echoing status.</p>
<p class="src"><a class="def" id="v:setRaw">setRaw</a> :: a -&gt; <a href="data-bool#t:Bool">Bool</a> -&gt; <a href="system-io#t:IO">IO</a> () <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-IO-Device.html#setRaw" class="link">Source</a></p>
<p>some devices (e.g. terminals) support a "raw" mode where characters entered are immediately made available to the program. If available, this operations enables raw mode.</p>
<p class="src"><a class="def" id="v:devType">devType</a> :: a -&gt; <a href="system-io#t:IO">IO</a> <a href="ghc-io-device#t:IODeviceType">IODeviceType</a> <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-IO-Device.html#devType" class="link">Source</a></p>
<p>returns the <code><a href="ghc-io-device#t:IODeviceType">IODeviceType</a></code> corresponding to this device.</p>
<p class="src"><a class="def" id="v:dup">dup</a> :: a -&gt; <a href="system-io#t:IO">IO</a> a <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-IO-Device.html#dup" class="link">Source</a></p>
<p>duplicates the device, if possible. The new device is expected to share a file pointer with the original device (like Unix <code>dup</code>).</p>
<p class="src"><a class="def" id="v:dup2">dup2</a> :: a -&gt; a -&gt; <a href="system-io#t:IO">IO</a> a <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-IO-Device.html#dup2" class="link">Source</a></p>
<p><code>dup2 source target</code> replaces the target device with the source device. The target device is closed first, if necessary, and then it is made into a duplicate of the first device (like Unix <code>dup2</code>).</p>
</div>
<p class="src">data <a class="def" id="t:IODeviceType">IODeviceType</a> <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-IO-Device.html#IODeviceType" class="link">Source</a></p>
<p>Type of a device that can be used to back a <code><a href="ghc-io-handle#v:Handle">Handle</a></code> (see also <code><a href="ghc-io-handle#v:mkFileHandle">mkFileHandle</a></code>). The standard libraries provide creation of <code><a href="ghc-io-handle#v:Handle">Handle</a></code>s via Posix file operations with file descriptors (see <code><a href="ghc-io-handle-fd#v:mkHandleFromFD">mkHandleFromFD</a></code>) with FD being the underlying <code><a href="ghc-io-device#t:IODevice">IODevice</a></code> instance.</p>
<p>Users may provide custom instances of <code><a href="ghc-io-device#t:IODevice">IODevice</a></code> which are expected to conform the following rules:</p>
<div class="subs constructors">
<h4 class="caption">Constructors</h4>
<table>
<tr>
<td class="src"><a class="def" id="v:Directory">Directory</a></td>
<td class="doc"><p>The standard libraries do not have direct support for this device type, but a user implementation is expected to provide a list of file names in the directory, in any order, separated by <code>'\0'</code> characters, excluding the <code>"."</code> and <code>".."</code> names. See also <code><a href="system-directory#v:getDirectoryContents">getDirectoryContents</a></code>. Seek operations are not supported on directories (other than to the zero position).</p></td>
</tr>
<tr>
<td class="src"><a class="def" id="v:Stream">Stream</a></td>
<td class="doc"><p>A duplex communications channel (results in creation of a duplex <code><a href="ghc-io-handle#v:Handle">Handle</a></code>). The standard libraries use this device type when creating <code><a href="ghc-io-handle#v:Handle">Handle</a></code>s for open sockets.</p></td>
</tr>
<tr>
<td class="src"><a class="def" id="v:RegularFile">RegularFile</a></td>
<td class="doc"><p>A file that may be read or written, and also may be seekable.</p></td>
</tr>
<tr>
<td class="src"><a class="def" id="v:RawDevice">RawDevice</a></td>
<td class="doc"><p>A "raw" (disk) device which supports block binary read and write operations and may be seekable only to positions of certain granularity (block- aligned).</p></td>
</tr>
</table>
</div>
<div class="subs instances">
<h4 id="control.i:IODeviceType" class="caption collapser" onclick="toggleSection('i:IODeviceType')">Instances</h4>
<div id="section.i:IODeviceType" class="show"><table><tr>
<td class="src clearfix">
<a href="data-eq#t:Eq">Eq</a> <a href="ghc-io-device#t:IODeviceType">IODeviceType</a>
</td>
<td class="doc empty"> </td>
</tr></table></div>
</div>
<p class="src">data <a class="def" id="t:SeekMode">SeekMode</a> <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/src/GHC-IO-Device.html#SeekMode" class="link">Source</a></p>
<p>A mode that determines the effect of <code>hSeek</code> <code>hdl mode i</code>.</p>
<div class="subs constructors">
<h4 class="caption">Constructors</h4>
<table>
<tr>
<td class="src"><a class="def" id="v:AbsoluteSeek">AbsoluteSeek</a></td>
<td class="doc"><p>the position of <code>hdl</code> is set to <code>i</code>.</p></td>
</tr>
<tr>
<td class="src"><a class="def" id="v:RelativeSeek">RelativeSeek</a></td>
<td class="doc"><p>the position of <code>hdl</code> is set to offset <code>i</code> from the current position.</p></td>
</tr>
<tr>
<td class="src"><a class="def" id="v:SeekFromEnd">SeekFromEnd</a></td>
<td class="doc"><p>the position of <code>hdl</code> is set to offset <code>i</code> from the end of the file.</p></td>
</tr>
</table>
</div>
<div class="subs instances">
<h4 id="control.i:SeekMode" class="caption collapser" onclick="toggleSection('i:SeekMode')">Instances</h4>
<div id="section.i:SeekMode" class="show"><table>
<tr>
<td class="src clearfix">
<a href="prelude#t:Enum">Enum</a> <a href="ghc-io-device#t:SeekMode">SeekMode</a>
</td>
<td class="doc empty"> </td>
</tr>
<tr>
<td class="src clearfix">
<a href="data-eq#t:Eq">Eq</a> <a href="ghc-io-device#t:SeekMode">SeekMode</a>
</td>
<td class="doc empty"> </td>
</tr>
<tr>
<td class="src clearfix">
<a href="data-ord#t:Ord">Ord</a> <a href="ghc-io-device#t:SeekMode">SeekMode</a>
</td>
<td class="doc empty"> </td>
</tr>
<tr>
<td class="src clearfix">
<a href="text-read#t:Read">Read</a> <a href="ghc-io-device#t:SeekMode">SeekMode</a>
</td>
<td class="doc empty"> </td>
</tr>
<tr>
<td class="src clearfix">
<a href="text-show#t:Show">Show</a> <a href="ghc-io-device#t:SeekMode">SeekMode</a>
</td>
<td class="doc empty"> </td>
</tr>
<tr>
<td class="src clearfix">
<a href="data-ix#t:Ix">Ix</a> <a href="ghc-io-device#t:SeekMode">SeekMode</a>
</td>
<td class="doc empty"> </td>
</tr>
</table></div>
</div>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    © The University of Glasgow and others<br>Licensed under a BSD-style license (see top of the page).<br>
    <a href="https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/GHC-IO-Device.html" class="_attribution-link">https://downloads.haskell.org/~ghc/7.10.3/docs/html/libraries/base-4.8.2.0/GHC-IO-Device.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
