
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>tf.compat.v1.case - TensorFlow 2.4 - W3cubDocs</title>
  
  <meta name="description" content=" Create a case operation. ">
  <meta name="keywords" content="tf, compat, case, tensorflow, tensorflow~2.4">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/tensorflow~2.4/compat/v1/case.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-9352e6910fe51dd10a2c4166dc5a7847892ebc84c0bb52d7e40dcdccbf262592790483d09e6dbfd62c689609a706227727ca9acb967a718e944c111f43ca96a0.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/tensorflow~2.4.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/tensorflow~2.4/" class="_nav-link" title="" style="margin-left:0;">TensorFlow 2.4</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _tensorflow">
				
				
<h1 class="devsite-page-title">tf.compat.v1.case</h1>       <p>Create a case operation.</p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
tf.compat.v1.case(
    pred_fn_pairs, default=None, exclusive=False, strict=False,
    name='case'
)
</pre>  <p>See also <a href="../../switch_case"><code translate="no" dir="ltr">tf.switch_case</code></a>.</p> <p>The <code translate="no" dir="ltr">pred_fn_pairs</code> parameter is a dict or list of pairs of size N. Each pair contains a boolean scalar tensor and a python callable that creates the tensors to be returned if the boolean evaluates to True. <code translate="no" dir="ltr">default</code> is a callable generating a list of tensors. All the callables in <code translate="no" dir="ltr">pred_fn_pairs</code> as well as <code translate="no" dir="ltr">default</code> (if provided) should return the same number and types of tensors.</p> <p>If <code translate="no" dir="ltr">exclusive==True</code>, all predicates are evaluated, and an exception is thrown if more than one of the predicates evaluates to <code translate="no" dir="ltr">True</code>. If <code translate="no" dir="ltr">exclusive==False</code>, execution stops at the first predicate which evaluates to True, and the tensors generated by the corresponding function are returned immediately. If none of the predicates evaluate to True, this operation returns the tensors generated by <code translate="no" dir="ltr">default</code>.</p> <p><a href="../../case"><code translate="no" dir="ltr">tf.case</code></a> supports nested structures as implemented in <code translate="no" dir="ltr">tf.contrib.framework.nest</code>. All of the callables must return the same (possibly nested) value structure of lists, tuples, and/or named tuples. Singleton lists and tuples form the only exceptions to this: when returned by a callable, they are implicitly unpacked to single values. This behavior is disabled by passing <code translate="no" dir="ltr">strict=True</code>.</p> <p>If an unordered dictionary is used for <code translate="no" dir="ltr">pred_fn_pairs</code>, the order of the conditional tests is not guaranteed. However, the order is guaranteed to be deterministic, so that variables created in conditional branches are created in fixed order across runs.</p> <p><strong>Example 1:</strong></p> <h4 id="pseudocode" data-text="Pseudocode:">Pseudocode:</h4> <pre class="prettyprint" translate="no" dir="ltr" data-language="cpp">if (x &lt; y) return 17;
else return 23;
</pre> <h4 id="expressions" data-text="Expressions:">Expressions:</h4> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">f1 = lambda: tf.constant(17)
f2 = lambda: tf.constant(23)
r = tf.case([(tf.less(x, y), f1)], default=f2)
</pre> <p><strong>Example 2:</strong></p> <h4 id="pseudocode_2" data-text="Pseudocode:">Pseudocode:</h4> <pre class="prettyprint" translate="no" dir="ltr" data-language="cpp">if (x &lt; y &amp;&amp; x &gt; z) raise OpError("Only one predicate may evaluate to True");
if (x &lt; y) return 17;
else if (x &gt; z) return 23;
else return -1;
</pre> <h4 id="expressions_2" data-text="Expressions:">Expressions:</h4> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">def f1(): return tf.constant(17)
def f2(): return tf.constant(23)
def f3(): return tf.constant(-1)
r = tf.case({tf.less(x, y): f1, tf.greater(x, z): f2},
         default=f3, exclusive=True)
</pre>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">pred_fn_pairs</code> </td> <td> Dict or list of pairs of a boolean scalar tensor and a callable which returns a list of tensors. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">default</code> </td> <td> Optional callable that returns a list of tensors. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">exclusive</code> </td> <td> True iff at most one predicate is allowed to evaluate to <code translate="no" dir="ltr">True</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">strict</code> </td> <td> A boolean that enables/disables 'strict' mode; see above. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">name</code> </td> <td> A name for this operation (optional). </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> The tensors returned by the first pair whose predicate evaluated to True, or those returned by <code translate="no" dir="ltr">default</code> if none does. </td> </tr> 
</table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Raises</th></tr> 
<tr> <td> <code translate="no" dir="ltr">TypeError</code> </td> <td> If <code translate="no" dir="ltr">pred_fn_pairs</code> is not a list/dictionary. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">TypeError</code> </td> <td> If <code translate="no" dir="ltr">pred_fn_pairs</code> is a list but does not contain 2-tuples. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">TypeError</code> </td> <td> If <code translate="no" dir="ltr">fns[i]</code> is not callable for any i, or <code translate="no" dir="ltr">default</code> is not callable. </td> </tr> </table> <h4 id="eager_compatibility" data-text="Eager Compatibility">Eager Compatibility</h4> <p>Unordered dictionaries are not supported in eager mode when <code translate="no" dir="ltr">exclusive=False</code>. Use a list of tuples instead.</p>  <devsite-page-rating position="footer" selected-rating="0" hover-rating-star="0"> </devsite-page-rating><div class="_attribution">
  <p class="_attribution-p">
    Â© 2020 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 3.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r2.4/api_docs/python/tf/compat/v1/case" class="_attribution-link">https://www.tensorflow.org/versions/r2.4/api_docs/python/tf/compat/v1/case</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
