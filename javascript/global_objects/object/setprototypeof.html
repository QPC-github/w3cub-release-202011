
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Object.setPrototypeOf - JavaScript - W3cubDocs</title>
  
  <meta name="description" content=" The Object.setPrototypeOf() method sets the prototype (i.e., the internal [[Prototype]] property) of a specified object to another object or null. ">
  <meta name="keywords" content="object, setprototypeof, javascript">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/javascript/global_objects/object/setprototypeof.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-01fda2ddb8339756caccf7add5ad4cf849ab52d069bd799015c7f04f93164f64753bff0d15a49d8060b1e66e41002bb301ccadc2350937df079cea3cd52d3cca.css">
  <script src="/assets/application-d9be6f56a823612443fc15b2e027a630e02c4ad2685bb750d13fa4fae28d46c3e7f7ebb69bd4bafddf116f218f9372e9be44021d4247dc20424e2fd1ff8cef81.js" type="text/javascript"></script>
  <script src="/json/javascript.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body class="docs">
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">

  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/javascript/" class="_nav-link" title="" style="margin-left:0;">JavaScript</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		
		<form class="_search">
		  <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
		  <a class="_search-clear"></a>
		  <div class="_search-tag"></div>
		</form>
		
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<h1>Object.setPrototypeOf</h1> <p>The <code><strong>Object.setPrototypeOf()</strong></code> method sets the prototype (i.e., the internal <code>[[Prototype]]</code> property) of a specified object to another object or <a href="../null"><code>null</code></a>.</p> <div class="warning"> <p><strong>Warning:</strong> Changing the <code>[[Prototype]]</code> of an object is, by the nature of <a href="https://mathiasbynens.be/notes/prototypes">how modern JavaScript engines optimize property accesses</a>, currently a very slow operation in every browser and JavaScript engine. In addition, the effects of altering inheritance are subtle and far-flung, and are not limited to simply the time spent in the <code>Object.setPrototypeOf(...)</code> statement, but may extend to <strong><em>any</em></strong> code that has access to any object whose <code>[[Prototype]]</code> has been altered.</p> <p>Because this feature is a part of the language, it is still the burden on engine developers to implement that feature performantly (ideally). Until engine developers address this issue, if you are concerned about performance, you should avoid setting the <code>[[Prototype]]</code> of an object. Instead, create a new object with the desired <code>[[Prototype]]</code> using <a href="create"><code>Object.create()</code></a>.</p> </div> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox notranslate">Object.setPrototypeOf(<var>obj</var>, <var>prototype</var>)</pre> <h3 id="Parameters">Parameters</h3> <dl> <dt><code><var>obj</var></code></dt> <dd>The object which is to have its prototype set.</dd> <dt><code><var>prototype</var></code></dt> <dd>The object's new prototype (an object or <a href="../null"><code>null</code></a>).</dd> </dl> <h3 id="Return_value">Return value</h3> <p>The specified object.</p> <h2 id="Description">Description</h2> <p>Throws a <a href="../typeerror"><code>TypeError</code></a> exception if the object whose <code>[[Prototype]]</code> is to be modified is non-extensible according to <a href="isextensible"><code>Object.isExtensible()</code></a>. Does nothing if the <code>prototype</code> parameter isn't an object or <a href="../null"><code>null</code></a> (i.e., number, string, boolean, or <a href="../undefined"><code>undefined</code></a>). Otherwise, this method changes the <code>[[Prototype]]</code> of <code>obj</code> to the new value.</p> <p><code>Object.setPrototypeOf()</code> is in the ECMAScript 2015 specification. It is generally considered the proper way to set the prototype of an object, vs. the more controversial <a href="proto"><code>Object.prototype.__proto__</code></a> property.</p> <h2 id="Appending_Prototype_Chains">Appending Prototype Chains</h2> <p>A combination of <code>Object.getPrototypeOf()</code> and <a href="proto"><code>Object.prototype.__proto__</code></a> permits appending a whole prototype chain to a new prototype object:</p> <pre data-language="js">/**
*** Object.appendChain(@object, @prototype)
*
* Appends the first non-native prototype of a chain to a new prototype.
* Returns @object (if it was a primitive value it will transformed into an object).
*
*** Object.appendChain(@object [, "@arg_name_1", "@arg_name_2", "@arg_name_3", "..."], "@function_body")
*** Object.appendChain(@object [, "@arg_name_1, @arg_name_2, @arg_name_3, ..."], "@function_body")
*
* Appends the first non-native prototype of a chain to the native Function.prototype object, then appends a
* new Function(["@arg"(s)], "@function_body") to that chain.
* Returns the function.
*
**/

Object.appendChain = function(oChain, oProto) {
  if (arguments.length &lt; 2) { 
    throw new TypeError('Object.appendChain - Not enough arguments');
  }
  if (typeof oProto !== 'object' &amp;&amp; typeof oProto !== 'string') {
    throw new TypeError('second argument to Object.appendChain must be an object or a string');
  }

  var oNewProto = oProto,
      oReturn = o2nd = oLast = oChain instanceof this ? oChain : new oChain.constructor(oChain);

  for (var o1st = this.getPrototypeOf(o2nd);
    o1st !== Object.prototype &amp;&amp; o1st !== Function.prototype;
    o1st = this.getPrototypeOf(o2nd)
  ) {
    o2nd = o1st;
  }

  if (oProto.constructor === String) {
    oNewProto = Function.prototype;
    oReturn = Function.apply(null, Array.prototype.slice.call(arguments, 1));
    this.setPrototypeOf(oReturn, oLast);
  }

  this.setPrototypeOf(o2nd, oNewProto);
  return oReturn;
}
</pre> <h3 id="Usage">Usage</h3> <h4 id="First_example_Appending_a_chain_to_a_prototype">First example: Appending a chain to a prototype</h4> <pre data-language="js">function Mammal() {
  this.isMammal = 'yes';
}

function MammalSpecies(sMammalSpecies) {
  this.species = sMammalSpecies;
}

MammalSpecies.prototype = new Mammal();
MammalSpecies.prototype.constructor = MammalSpecies;

var oCat = new MammalSpecies('Felis');

console.log(oCat.isMammal); // 'yes'

function Animal() {
  this.breathing = 'yes';
}

Object.appendChain(oCat, new Animal());

console.log(oCat.breathing); // 'yes'
</pre> <h4 id="Second_example_Transforming_a_primitive_value_into_an_instance_of_its_constructor_and_append_its_chain_to_a_prototype">Second example: Transforming a primitive value into an instance of its constructor and append its chain to a prototype</h4> <pre data-language="js">function MySymbol() {
  this.isSymbol = 'yes';
}

var nPrime = 17;

console.log(typeof nPrime); // 'number'

var oPrime = Object.appendChain(nPrime, new MySymbol());

console.log(oPrime); // '17'
console.log(oPrime.isSymbol); // 'yes'
console.log(typeof oPrime); // 'object'
</pre> <h4 id="Third_example_Appending_a_chain_to_the_Function.prototype_object_and_appending_a_new_function_to_that_chain">Third example: Appending a chain to the Function.prototype object and appending a new function to that chain</h4> <pre data-language="js">function Person(sName) {
  this.identity = sName;
}

var george = Object.appendChain(new Person('George'),
                                'console.log("Hello guys!!");');

console.log(george.identity); // 'George'
george(); // 'Hello guys!!'
</pre> <h2 id="Examples">Examples</h2> <h3 id="Using_Object.setPrototypeOf">Using Object.setPrototypeOf</h3> <pre data-language="js">var dict = Object.setPrototypeOf({}, null);
</pre> <h2 id="Polyfill">Polyfill</h2> <p>Using the older <a href="proto"><code>Object.prototype.__proto__</code></a> property, we can easily define <code>Object.setPrototypeOf</code> if it isn't available already:</p> <pre data-language="js">if (!Object.setPrototypeOf) {
    // Only works in Chrome and FireFox, does not work in IE:
     Object.prototype.setPrototypeOf = function(obj, proto) {
         if(obj.__proto__) {
             obj.__proto__ = proto;
             return obj;
         } else {
             // If you want to return prototype of Object.create(null):
             var Fn = function() {
                 for (var key in obj) {
                     Object.defineProperty(this, key, {
                         value: obj[key],
                     });
                 }
             };
             Fn.prototype = proto;
             return new Fn();
         }
     }
}</pre> <h2 id="Specifications">Specifications</h2> <div class="_table"><table class="standard-table"> <thead> <tr> <th scope="col">Specification</th> </tr> </thead> <tbody> <tr> <td><a href="https://tc39.es/ecma262/#sec-object.setprototypeof" hreflang="en">ECMAScript (ECMA-262)<br><small>The definition of 'Object.setPrototypeOf' in that specification.</small></a></td> </tr> </tbody> </table></div> <h2 id="Browser_compatibility">Browser compatibility<a class="bc-github-link" href="https://github.com/mdn/browser-compat-data">Update compatibility data on GitHub</a>
</h2>   <div class="_table">
<table class="bc-table bc-table-js">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6"><span>Desktop</span></th>
</tr>
<tr class="bc-browsers">
<th></th>
<th><span class="bc-head-txt-label bc-head-icon-chrome">Chrome</span></th>
<th><span class="bc-head-txt-label bc-head-icon-edge">Edge</span></th>
<th><span class="bc-head-txt-label bc-head-icon-firefox">Firefox</span></th>
<th><span class="bc-head-txt-label bc-head-icon-ie">Internet Explorer</span></th>
<th><span class="bc-head-txt-label bc-head-icon-opera">Opera</span></th>
<th><span class="bc-head-txt-label bc-head-icon-safari">Safari</span></th>
</tr>
</thead>
<tbody><tr>
<th scope="row"><code>setPrototypeOf</code></th>
<td class="bc-supports-yes"> 34</td>
<td class="bc-supports-yes"> 12</td>
<td class="bc-supports-yes"> 31</td>
<td class="bc-supports-yes"> 11</td>
<td class="bc-supports-yes"> 21</td>
<td class="bc-supports-yes"> 9</td>
</tr></tbody>
</table>
<table class="bc-table bc-table-js">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6"><span>Mobile</span></th>
</tr>
<tr class="bc-browsers">
<th></th>
<th><span class="bc-head-txt-label bc-head-icon-webview_android">Android webview</span></th>
<th><span class="bc-head-txt-label bc-head-icon-chrome_android">Chrome for Android</span></th>
<th><span class="bc-head-txt-label bc-head-icon-firefox_android">Firefox for Android</span></th>
<th><span class="bc-head-txt-label bc-head-icon-opera_android">Opera for Android</span></th>
<th><span class="bc-head-txt-label bc-head-icon-safari_ios">Safari on iOS</span></th>
<th><span class="bc-head-txt-label bc-head-icon-samsunginternet_android">Samsung Internet</span></th>
</tr>
</thead>
<tbody><tr>
<th scope="row"><code>setPrototypeOf</code></th>
<td class="bc-supports-yes"> 37</td>
<td class="bc-supports-yes"> 34</td>
<td class="bc-supports-yes"> 31</td>
<td class="bc-supports-yes"> 21</td>
<td class="bc-supports-yes"> 9</td>
<td class="bc-supports-yes"> 2.0</td>
</tr></tbody>
</table>
<table class="bc-table bc-table-js">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="1"><span>Server</span></th>
</tr>
<tr class="bc-browsers">
<th></th>
<th><span class="bc-head-txt-label bc-head-icon-nodejs">Node.js</span></th>
</tr>
</thead>
<tbody><tr>
<th scope="row"><code>setPrototypeOf</code></th>
<td class="bc-supports-yes"> 0.12</td>
</tr></tbody>
</table>
</div>  <h2 id="See_also">See also</h2> <ul> <li><a href="../reflect/setprototypeof"><code>Reflect.setPrototypeOf()</code></a></li> <li><a href="isprototypeof"><code>Object.prototype.isPrototypeOf()</code></a></li> <li><a href="getprototypeof"><code>Object.getPrototypeOf()</code></a></li> <li><a href="proto"><code>Object.prototype.__proto__</code></a></li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2018 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://wiki.developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf" class="_attribution-link">https://wiki.developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
