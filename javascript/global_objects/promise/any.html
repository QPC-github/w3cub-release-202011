
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Promise.any - JavaScript - W3cubDocs</title>
  
  <meta name="description" content="Promise.any() takes an iterable of Promise objects and, as soon as one of the promises in the iterable fulfills, returns a single promise that &hellip;">
  <meta name="keywords" content="promise, any, javascript">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/javascript/global_objects/promise/any.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/javascript.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/javascript/" class="_nav-link" title="" style="margin-left:0;">JavaScript</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _mdn">
				
				
<h1>Promise.any</h1> <p><code>Promise.any()</code> takes an iterable of <a href="../promise"><code>Promise</code></a> objects and, as soon as one of the promises in the iterable fulfills, returns a single promise that resolves with the value from that promise. If no promises in the iterable fulfill (if all of the given promises are rejected), then the returned promise is rejected with an <a href="../aggregateerror"><code>AggregateError</code></a>, a new subclass of <a href="../error"><code>Error</code></a> that groups together individual errors. Essentially, this method is the opposite of <a href="all"><code>Promise.all()</code></a>.</p> <iframe class="interactive interactive-js" frameborder="0" height="250" src="https://interactive-examples.mdn.mozilla.net/pages/js/promise-any.html" title="MDN Web Docs Interactive Example" width="100%"></iframe> <h2 id="Syntax">Syntax</h2> <pre class="notranslate">Promise.any(<var>iterable</var>);</pre> <h3 id="Parameters">Parameters</h3> <dl> <dt><code><var>iterable</var></code></dt> <dd>An <a href="../../iteration_protocols#The_iterable_protocol">iterable</a> object, such as an <a href="../array"><code>Array</code></a>.</dd> </dl> <h3 id="Return_value">Return value</h3> <ul> <li>An <strong>already rejected</strong> <a href="../promise"><code>Promise</code></a> if the <var>iterable</var> passed is empty.</li> <li>An <strong>asynchronously resolved</strong> <a href="../promise"><code>Promise</code></a> if the <var>iterable</var> passed contains no promises.</li> <li>A <strong>pending</strong> <a href="../promise"><code>Promise</code></a> in all other cases. This returned promise is then resolved/rejected <strong>asynchronously</strong> (as soon as the stack is empty) when any of the promises in the given <var>iterable</var> resolve, or if all the promises have rejected.</li> </ul> <h2 id="Description">Description</h2> <p>This method is useful for returning the first promise that fulfills. It short-circuits after a promise fulfills, so it does not wait for the other promises to complete once it finds one. Unlike <a href="all"><code>Promise.all()</code></a>, which returns an <em>array</em> of fulfillment values, we only get one fulfillment value (assuming at least one promise fulfills). This can be beneficial if we need only one promise to fulfill but we do not care which one does. Note another difference: This method rejects upon receiving an <em>empty iterable</em>, since, truthfully, the iterable contains no items that fulfill.</p> <p>Also, unlike <a href="race"><code>Promise.race()</code></a>, which returns the first <em>settled</em> value (either fulfillment or rejection), this method returns the first <em>fulfilled</em> value. This method will ignore all rejected promises up until the first promise that fulfils.</p> <h3 id="Fulfillment">Fulfillment</h3> <p>The returned promise is fulfilled with <strong>the first</strong> resolved value (or non-promise value) in the <var>iterable</var> passed as the argument, whether or not the other promises have rejected.</p> <ul> <li>If a nonempty <em>iterable</em> is passed, and <strong>any</strong> of the promises fulfill, or are not promises, then the promise returned by this method is fulfilled asynchronously.</li> </ul> <h3 id="Rejection">Rejection</h3> <p>If all of the passed-in promises reject, <code>Promise.any</code> asynchronously rejects with an <a href="../aggregateerror"><code>AggregateError</code></a> object, which extends <a href="../error"><code>Error</code></a>, and contains an <code>errors</code> property with an array of rejection values.</p> <ul> <li>If an empty <var>iterable</var> is passed, then the promise returned by this method is rejected synchronously. The rejected reason is an <code>AggregateError</code> object whose <code>errors</code> property is an empty array.</li> </ul> <h2 id="Examples">Examples</h2> <h3 id="First_to_fulfil">First to fulfil</h3> <p><code>Promise.any()</code> resolves with the first promise to fulfil, even if a promise rejects first. This is in contrast to <a href="race"><code>Promise.race()</code></a>, which resolves or rejects with the first promise to settle.</p> <pre data-language="js">const pErr = new Promise((resolve, reject) =&gt; {
  reject("Always fails");
});

const pSlow = new Promise((resolve, reject) =&gt; {
  setTimeout(resolve, 500, "Done eventually");
});

const pFast = new Promise((resolve, reject) =&gt; {
  setTimeout(resolve, 100, "Done quick");
});

Promise.any([pErr, pSlow, pFast]).then((value) =&gt; {
  console.log(value);
  // pFast fulfils first
})
// expected output: "Done quick"
</pre> <h3 id="Rejections_with_AggregateError">Rejections with AggregateError</h3> <p><code>Promise.any()</code> rejects with an <a href="../aggregateerror"><code>AggregateError</code></a> if no promise fulfils.</p> <pre data-language="js">const pErr = new Promise((resolve, reject) =&gt; {
  reject('Always fails');
});

Promise.any([pErr]).catch((err) =&gt; {
  console.log(err);
})
// expected output: "AggregateError: No Promise in Promise.any was resolved"
</pre> <h3 id="Displaying_the_first_image_loaded">Displaying the first image loaded</h3> <p>In this example, we have a function that fetches an image and returns a blob. We use <code>Promise.any()</code> to fetch a couple of images and display the first one available (i.e. whose promise has resolved).</p> <pre data-language="js">function fetchAndDecode(url) {
  return fetch(url).then(response =&gt; {
    if(!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    } else {
      return response.blob();
    }
  })
}

let coffee = fetchAndDecode('coffee.jpg');
let tea = fetchAndDecode('tea.jpg');

Promise.any([coffee, tea]).then(value =&gt; {
  let objectURL = URL.createObjectURL(value);
  let image = document.createElement('img');
  image.src = objectURL;
  document.body.appendChild(image);
})
.catch(e =&gt; {
  console.log(e.message);
});</pre> <h2 id="Specifications">Specifications</h2> <div class="_table"><table class="standard-table"> <thead> <tr> <th scope="col">Specification</th> </tr> </thead> <tbody> <tr> <td><a href="https://tc39.es/proposal-promise-any/" hreflang="en">Promise.any</a></td> </tr> </tbody> </table></div> <h2 id="Browser_compatibility">Browser compatibility<a class="bc-github-link" href="https://github.com/mdn/browser-compat-data">Update compatibility data on GitHub</a>
</h2>  <div class="_table">
<table class="bc-table bc-table-js">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6"><span>Desktop</span></th>
</tr>
<tr class="bc-browsers">
<th></th>
<th><span class="bc-head-txt-label bc-head-icon-chrome">Chrome</span></th>
<th><span class="bc-head-txt-label bc-head-icon-edge">Edge</span></th>
<th><span class="bc-head-txt-label bc-head-icon-firefox">Firefox</span></th>
<th><span class="bc-head-txt-label bc-head-icon-ie">Internet Explorer</span></th>
<th><span class="bc-head-txt-label bc-head-icon-opera">Opera</span></th>
<th><span class="bc-head-txt-label bc-head-icon-safari">Safari</span></th>
</tr>
</thead>
<tbody><tr>
<th scope="row"><code>any</code></th>
<td class="bc-supports-yes"> 85</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-yes"> 79</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-yes"> 14</td>
</tr></tbody>
</table>
<table class="bc-table bc-table-js">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="6"><span>Mobile</span></th>
</tr>
<tr class="bc-browsers">
<th></th>
<th><span class="bc-head-txt-label bc-head-icon-webview_android">Android webview</span></th>
<th><span class="bc-head-txt-label bc-head-icon-chrome_android">Chrome for Android</span></th>
<th><span class="bc-head-txt-label bc-head-icon-firefox_android">Firefox for Android</span></th>
<th><span class="bc-head-txt-label bc-head-icon-opera_android">Opera for Android</span></th>
<th><span class="bc-head-txt-label bc-head-icon-safari_ios">Safari on iOS</span></th>
<th><span class="bc-head-txt-label bc-head-icon-samsunginternet_android">Samsung Internet</span></th>
</tr>
</thead>
<tbody><tr>
<th scope="row"><code>any</code></th>
<td class="bc-supports-yes"> 85</td>
<td class="bc-supports-yes"> 85</td>
<td class="bc-supports-yes"> 79</td>
<td class="bc-supports-no"> No</td>
<td class="bc-supports-yes"> 14</td>
<td class="bc-supports-no"> No</td>
</tr></tbody>
</table>
<table class="bc-table bc-table-js">
<thead>
<tr class="bc-platforms">
<th></th>
<th colspan="1"><span>Server</span></th>
</tr>
<tr class="bc-browsers">
<th></th>
<th><span class="bc-head-txt-label bc-head-icon-nodejs">Node.js</span></th>
</tr>
</thead>
<tbody><tr>
<th scope="row"><code>any</code></th>
<td class="bc-supports-yes"> 15.0.0</td>
</tr></tbody>
</table>
</div> <h2 id="See_also">See also</h2> <ul> <li><a href="../promise"><code>Promise</code></a></li> <li><a href="allsettled"><code>Promise.allSettled()</code></a></li> <li><a href="all"><code>Promise.all()</code></a></li> <li><a href="race"><code>Promise.race()</code></a></li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2018 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://wiki.developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/any" class="_attribution-link">https://wiki.developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/any</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
