
<!DOCTYPE HTML>

<html lang="en" class="_theme-default">

<head>
  <meta charset="utf-8">
  <title>Precompilation - Handlebars.js - W3cubDocs</title>
  
  <meta name="description" content=" © 2011–2017 by Yehuda KatzLicensed under the MIT License. https&#58;&#47;&#47;handlebarsjs.com&#47;precompilation.html ">
  <meta name="keywords" content="precompilation, handlebars, js">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="https://docs.w3cub.com/handlebars/precompilation.html">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-e4ebd3a2a5652ff55173659804c4390a004917f3bdd17b5bb3ba78ea5c9c46fe181cadaac34517ccd815f5bdc982bbfe67179d6f4ac2f084ef2265e2a3dc8dc5.css" integrity="sha512-5OvToqVlL/VRc2WYBMQ5CgBJF/O90Xtbs7p46lycRv4YHK2qw0UXzNgV9b3Jgrv+Zxedb0rC8ITvImXio9yNxQ==" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha512-EpkDeu98lN/jPKijllzVWdRg/dUSSMCaldYZNFz6bcNoBvpWRNz0HSTRQJ3ENmQc5Cuj1zDW1vHd7b0DzpOgyA==" crossorigin="anonymous" src="/assets/application-1299037aef7c94dfe33ca8a3965cd559d460fdd51248c09a95d619345cfa6dc36806fa5644dcf41d24d1409dc436641ce42ba3d730d6d6f1ddedbd03ce93a0c8.js"></script>
  <script src="/json/handlebars.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script data-ad-client="ca-pub-2572770204602497" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
	</amp-auto-ads>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/handlebars/" class="_nav-link" title="" style="margin-left:0;">Handlebars.js</a></span>
  
  <nav class="_nav">
    <a href="https://tools.w3cub.com/?_sp=docs" target="_blank" class="_nav-link ">W3cubTools</a>
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list-wrap">
			<div class="_list">
			
			</div>
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="6861657091"
     data-ad-format="link"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
			<div class="_page _simple">
				
				
<h1>Precompilation</h1>  <div id="intro"> Using the Handlebars precompiler, you can precompile your Handlebars templates to save time on the client and reduce the required runtime size of the handlebars library. </div> <h2 id="getting-started"> Getting Started </h2> <div> <div> <div> First, you will need to install node and npm. On OS X: </div> <pre class="sunburst" data-language="html">$ brew install node</pre> <div> This assumes you already have Homebrew installed. If not, <a href="http://brew.sh/">install it</a> first. </div> </div> <div> <div> Next, install the Handlebars npm package. </div> <pre class="sunburst" data-language="html">$ npm install handlebars -g</pre> <div> Using the <code>-g</code> flag installs the package globally, so it can be used in any project. </div> </div> <div> <div> Now, you're ready to use the precompiler: </div> <pre class="sunburst" data-language="html">$ handlebars &lt;input&gt; -f &lt;output&gt;
</pre> <div> The compiler will insert templates in <code>Handlebars.templates</code>. If your input file is <code>person.handlebars</code>, the compiler will insert it at <code>Handlebars.templates.person</code>. This template will be a function that may be directly executed in the same manner as templates compiled locally. I.e. </div> <pre class="sunburst" data-language="html">Handlebars.templates.person(context, options);
</pre> </div> <div> <div> If you're working with precompiled templates, you don't need to ship the compiler with your deployed application. Instead, you can use the smaller "runtime" build. </div> <pre class="sunburst" data-language="html">&lt;script src="/libs/handlebars.runtime.js"&gt;&lt;/script&gt;
</pre> <div> In addition to reducing the download size, eliminating client-side compilation will significantly speed up boot time, as compilation is the most expensive part of Handlebars. </div> </div> </div> <h2 id="optimizations"> Optimizations </h2> <div> <div> <div> Because you are precompiling templates, you can also apply several optimization to the compiler. The first allows you to specify a list of the known helpers to the compiler </div> <pre class="sunburst" data-language="html">handlebars &lt;input&gt; -f &lt;output&gt; -k each -k if -k unless</pre> <div> The Handlebars compiler will optimize accesses to those helpers for performance. </div> <div> When all helpers are known at compile time, the <code>--knownOnly</code> option provides the smallest generated code that also provides the fastest execution. </div> </div> </div> <h2 id="usage"> Usage </h2> <div> <div> <pre class="sunburst" style="overflow:auto" data-language="html">Usage: node ./bin/handlebars [template|directory]...

Options:
  -f, --output         Output File
  --map                Source Map File                                                    [string]  [default: undefined]
  -a, --amd            Exports amd style (require.js)
  -c, --commonjs       Exports CommonJS style, path to Handlebars module                                 [default: null]
  -h, --handlebarPath  Path to handlebar.js (only valid for amd-style)                                     [default: ""]
  -k, --known          Known helpers
  -o, --knownOnly      Known helpers only
  -m, --min            Minimize output
  -n, --namespace      Template namespace                                              [default: "Handlebars.templates"]
  -s, --simple         Output template function only.
  -N, --name           Name of passed string templates. Optional if running in a simple mode. Required when operating
                       on multiple templates.
  -i, --string         Generates a template from the passed CLI argument.
                       "-" is treated as a special value and causes stdin to be read for the template value.
  -r, --root           Template root. Base value that will be stripped from template names.
  -p, --partial        Compiling a partial template
  -d, --data           Include data when compiling
  -e, --extension      Template extension.                                                       [default: "handlebars"]
  -b, --bom            Removes the BOM (Byte Order Mark) from the beginning of the templates.
  -v, --version        Prints the current compiler version
  --help               Outputs this message</pre> <div> If using the precompiler's normal mode, the resulting templates will be stored to the <code>Handlebars.templates</code> object using the relative template name sans the extension. These templates may be executed in the same manner as templates. </div> <div> If using the simple mode the precompiler will generate a single javascript method. To execute this method it must be passed to the <code>Handlebars.template</code> method and the resulting object may be used as normal. </div> </div> </div> <h2 id="precompiling_templates_inside_nodejs"> Precompiling Templates Inside NodeJS </h2> <div> <div> <div> If you wish to precompile templates from inside NodeJS--without invoking "handlebars" from the command line--that can be done with Handlebars.precompile. Transmit the string result of this function to your clients, and they can in turn parse that with Handlebars.template. </div> <pre class="sunburst" data-language="html">var template = "&lt;div&gt;whatever {{ name }}&lt;/div&gt;";
var Handlebars = require("handlebars");
var compiled = Handlebars.precompile(template);
</pre> </div> <div> <div> On the client side you have Javascript along the lines of the following. </div> <pre class="sunburst" data-language="html">var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};

Handlebars.partials["test1"] = template({"compiler":[7,"&gt;= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
  var helper;

  return "&lt;div&gt;whatever "
  + container.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"name","hash":{},"data":data}) : helper)))
  + "&lt;/div&gt;";
},"useData":true});
</pre> </div> <div> <div> Finally, you can reference these templates dynamically in your Javascript. </div> <pre class="sunburst" data-language="html">var result = Handlebars.partials["test1"]({name : "yourname"});
//do whatever you want with the result
</pre> </div> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2011–2017 by Yehuda Katz<br>Licensed under the MIT License.<br>
    <a href="https://handlebarsjs.com/precompilation.html" class="_attribution-link">https://handlebarsjs.com/precompilation.html</a>
  </p>
</div>

				
			</div>
			<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="1992473792"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
